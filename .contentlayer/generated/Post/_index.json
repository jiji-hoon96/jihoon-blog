[
  {
    "title": "점핏에서 주최한 Front-end 개취콘을 다녀와서",
    "date": "2023-04-30T00:00:00.000Z",
    "categories": "대외활동",
    "draft": true,
    "body": {
      "raw": "\n![상단1.jpeg](상단1.jpeg)\n\n![상단2.jpeg](상단2.jpeg)\n\n점핏에서 진행하는 FE 북콘테스트가 강남역 모나코스페이스에서 개최되었습니다.\n\n4월 30일에 13:00~17:00 까지 200명의 오프라인 참여자와 2000여명의 온라인 참가자가 참가해 최신 FE 에 대해서 훑어보고, 방향성에 대해서 이야기 Q/A 하는 의미있는 시간이었습니다.\n\n오프라인 참가자에게는 도서와 문구류를 선물로 점핏에서 제공하셧습니다!\n\n## 강연 목록\n\n1. 13:30 ~ 15:00 #1. 센스있게 일하는 FE 개발자 되기\n   1. FE 개발자의 소프트 스킬과 하드 스킬 - 김태곤\n   2. 협업?! 이렇게 한번해봐(FE 개발자가 타 직군과 대화를 해야하는 이유) - 유동균\n2. 15:30 ~ 17:00 #2 Fit한 정보로 성장 부스트업\n   1. FE 개발 트렌드(리엑트 개발 생태계와 Next.js까지) - 이인제[소플]\n   2. 타입스크립트로 FE 개발 레벨업 - 장기효[캡틴판교]\n\n## 강연 요약\n\n1. FE 개발자의 소프트 스킬과 하드 스킬 - 김태곤\n   1. 코드는늙는다 ⇒ 좋은코드를 만든다? 유지보수를 잘한다? 기준이 어떻게 될까\n      1. 테스트가 용이해야한다\n         - 어떻게 테스트를 용이하게 할까? ⇒ 기능별, 동작방법으로 코드를 구분화\n      2. 읽기 쉬울 것\n         - 함수, 변수의 이름을 명확하게 하는 것이 중요하다\n         - 회사에서 프로젝트 내부에서 필요로 한다면 한국어로 하는것도 괜찮다. 어짜피 코드를 빌드하고 배포하는 과정에서는 변경되기 때문\n      3. 일관성\n   2. 테스트 코드는 가능한 부분부터 작성하다.\n\n      [마틴파울러 리팩토링 - Google Search](https://www.google.com/search?q=마틴파울러+리팩토링&rlz=1C5CHFA_enKR1055KR1055&oq=마틴파울러+리팩토링&aqs=chrome.0.0i355i512j46i512j0i512l2j0i30j0i30i625.3373j0j4&sourceid=chrome&ie=UTF-8#imgrc=J5-kGgONxIZFjM%3A)\n\n   3. 한 커밋에는 한 가지 문제만.\n      1. 추적 가능하게 유지해야함!\n      2. revert 할 때 돌아가야되기때문에\n   4. 실험은 한 번에 하나씩만.\n      1. 고생= (학습+프로젝트) x 2\n      2. 배우면서 진행하는 것은 목표를 뚜렷하게 하고 실험은 한번에 하나씩만 하는게 의미있다.\n   5. 나만의 학습 루틴을 만들어두자. (공부는 단기적 방향성이 아닌 장기적 방향성이기때문)\n   6. 가장 좋은 방법은 교육 ( 누군가에게 배운것, 알게된것을 전달하는 것이 필요하다)\n   7. 대체로, 옳은 기술은 없다. 상황에 따른 선택이 있을 뿐.\n      1. 명확한 원칙이라는 것은 없다.\n      2. 대체적으로 그 선택에 대한 있을뿐이라는 것을 생각해야함.\n   8. FE 개발자는 절반쯤은 UX 전문가가 되어야 한다.\n      1. 사용자의 불만, 요구사항에 대해서 알고 있어야됨.\n      2. 미리 알기위해서는 사용자의 마음에서 UX/UI 적으로 생각을 해야된다.\n      3. 그렇게 해야 추후에 작업에 대해서 2차, 3차적 반복적 행위가 생기지 않을 수 있다.\n   9. 풀스택 엔지니어링 지식은 익히되 풀스택 엔지니어를 지향하지는 말자.\n      1. 모든것을 포용적으로 잘할수없다.\n      2. 그렇기때문에 해당직무에 전문성을 키우자.\n      3. FE 개발에도 전문성이 점점 필요해져 가고있기때문에.\n   10. ‘안 된다’ 는 말은 그만\n   11. 거절의 3단계\n       1. 숙고하고 대안을 제시하고 이득을 보자\n   12. 이직은 늘 준비하는 것\n       1. 결과보다는 과정에서 배우는 것, 얻는 것이 있기때문에 항상 준비하고 대처하자\n   13. 이직할 때 볼 것 : 커리어, 연봉, 워라벨\n       1. 아직 신입의 단계에서는 워라벨 보다는 진취적인 미래를 생각해보자.\n   14. 커리어 = 시간 + 스토리\n       1. 연차보다는 내가 그 회사에서 어떤 일을 했고, 배웠는지 가 더중요하다\n       2. 의미없는 연차보다는 배울려고하고, 나만의 이야기를 기록하고 쌓아가자\n   15. 성과급/복지보다는 연봉\n   16. 가능하다면, 자신의 기술이 메인으로 사용되는 회사로 가는 게 좋다.\n   17. 뱀의 머리보다는 용의 꼬리가 낫다.\n       1. 배움이 될 수 있는 곳으로 가야한다.\n       2. 현실에 안도하지말고 계속 배울려고 하자.\n   18. 호인과 호구는 다르다.\n   19. 실무능력 = 프로그래밍 스킬(구현) + 도메인 지식(문제 정의) + 커뮤니케이션(협업)\n   20. 독서하듯 코드를 읽자.\n       1. 코드에 관한 지식이 많을 수록 더 많이 더 오래 기억할 수 있다.\n       2. 입력과 인출은 사용할수록 강화된다.\n   21. 문제는 시스템으로 예방하자.\n       1. Linter, Formatter, Typescript, SCM 등 쓰면서 시스템으로 문제를 쉽고 빠르게 파악하자.\n   22. 가능한 작게 시작하다.\n       1. **_YAGNI_**(You aren't gonna need it)는 프로그래머가 필요하다고 간주할 때까지 기능을 추가하지 않는 것이 좋다는 익스트림 프로그래밍(XP)의 원칙\n       2. **_Kiss_**(Keep It Simple Stupid!)는 SW 설계는 되도록 간단, 단순하게 만드는게 좋다는 원칙\n   23. Repeat Yourself (좋은 반복도 있다)\n   24. Divide and Conquer(작게 나누어 정복)\n   25. 질문에도 기술이 있다.\n   26. 시간은 금이다\n   27. 너무 열심히 안 살아도 된다\n       1. 너무빠르게 발전하기를 원하면 번아웃이 오기쉽다\n       2. 어제보다 하나라도 발전한 사람이 되어보자\n   28. 전문가 얘기 너무 많이 듣지 말자.\n       1. 시간이 지나면 전문가의 말을 자연스럽게 파악할 수 있다.\n       2. 내문제는 내가 제일 잘 알기 때문에 나에게 집중하고 고쳐보자.\n\n1. 협업?! 이렇게 한번해봐(FE 개발자가 타 직군과 대화를 해야하는 이유) - 유동균\n   1. 소통의 중요성\n      1. 프론트엔드의 역할은 중간다리 역할을 하고있다\n\n         ![본문2](본문2.png)\n\n   2. 소통을 잘 할려면??\n      1. 맥락(소통의 중점 주제) 과 의도(소통을 통해 얻고싶은 부분)를 알아야한다\n      2. 맥락+의도 = 불필요한 커뮤니케이션 비용이 절감됨\n   3. 맥락과 의도를 챙기는 방법은?\n      1. 목적지향적인 태도로 대화해보자(대화에서 이루고자하는 목적에 집중하자)\n      2. 광범위한 이해도, 지식을 가지자\n\n1. FE 개발 트렌드(리엑트 개발 생태계와 Next.js까지) - 이인제[소플]\n\n   ![본문1](본문1.png)\n   1. Next js\n      1. Vercel 에서 만든 SSR(Server Side Rendering) FrameWork\n      2. react 로 작업을 할때의 복잡한 설정을 쉽고 간편하게 사용할 수 있다.\n      3. FE 와 BE 에서 하나의 프로젝트로 개발 할 수 있다.\n   2. Q/A\n      1. 개발자로써 능력을 키우는 좋은 방법은 어떤걸까요?\n         - 나만의 프로젝트를 만들어서, 새로운 스킬을 연습해보자.\n      2. 다양한기술 vs 한가지 기술 중 어떤 방법으로 공부를 하는게 좋을까?\n         - 깊이있게 배워보는 것이 좋다는 것은 상태관리, 언어 등이 될 것 같다.\n         - 라이브러리는 종류도 많고 발전속도가 빠르니 필요 상황에 따라서 배워보는 것을 추천\n         - 결론적으로는 상황에 맞춰서 효율적으로 배우는게 좋아보임\n      3. Next js 를 공부할려고 하는데 어떤 방향으로 공부하면 될까요?\n         - Nextjs 를 공부해도 되는데 react 와 언어의 개념을 잘 구축한 다음에 넘어오는 것이 이해하고, 습득, 응용하는데 도움이 될것같다.\n      4. Nextjs 의 13 버전이 나왔는데 바로 사용해봐야되는지?\n         - 새로운 버전도 중요하지만 유행을 따라만 가다보면 혼동이 올수있으니, 프로젝트랑 회사의 상황을 보고 공부해야될 것같다.\n   3. 마지막 말\n      1. 지금은 어떤 도움이 있을까 생각을 하고 공부를 하겠지만, 그런 공부들이 누적이 되면 큰 값어치가 되어 돌아오니 꾸준히 오랫동안 해보는게 좋을거같다.\n\n1. 타입스크립트로 FE 개발 레벨업 - 장기효[캡틴판교]\n   1. 타입스크립트의 장점\n      1. 사용자를 보호해준다, 사용자의 경험을 향상시켜준다.\n   2. 타입스크립트 쉽게 접근하는 방법\n      1. JSDoc 을 사용\n         - 일정한 형식으로 코드에 설명을 추가하는 주석\n         - // @ts-check (JS 의 code level 에서 타입지정가능)\n      2. TS 를 당장 사용하기 어려우면 JSDoc 으로 시작해보는 걸 추천\n   3. TS 관련 핸드북\n\n      [Introduction | 타입스크립트 핸드북](https://joshua1988.github.io/ts/intro.html)\n\n   4. Q/A\n      1. 업무에서 방대한 기술스택을 요구하고 하면 어떻게 해야될까?\n         - 모든것을 한번에 할려고하면 혼동이 오니 필요순위에 따져서 배우는것을 추천\n      2. FE 개발자로서 ChatGPT 와 Compiler 를 사용하는 걸 어떻게 생각하나? 주니어 개발자로서\n         - 검증하는 작업이 필요하다.\n         - documents, mdn 등의 사이트로 옳바른 내용인지 확인해봐야함\n      3. FE 개발자의 학습 방향성?\n         - 재미있게 알려주는 학습, 나에게 적합하게 하는 방법에 대해서 생각해 스토리를 만들어라\n      4. ChatGPT 에게 옳바른 질문을 하는법\n         - 우리는 개발자이니 구체적으로 어떤 기술스택과 어떤 내용인지 등등을 명확히해서 요구해야함.\n      5. TS 의 새로운 버전을 공부해야 될까?\n         - 현재 내가 사용하는것과의 차이점을 파악\n         - 파악한 후에 적용해야되는 범위부터 시작해서 후에 공부하는 방법으로 해야할듯함\n\n## 결론\n\nFE 개발자로서 옳바른 방향성에 대해서 항상 궁금하고 물음표였는데 이번 행사를 참가하면서 다른 사람의 이야기를 들어볼 수 있어서 의미있는 시간이었습니다.\n\n앞으로 FE 개발자뿐 아닌 개발 컨퍼런스가 자주 열려서 의견을 공유하는 시간을 가지면 좋겠습니다\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/230430/%EC%83%81%EB%8B%A81.jpeg\" alt=\"상단1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230430/%EC%83%81%EB%8B%A82.jpeg\" alt=\"상단2.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>점핏에서 진행하는 FE 북콘테스트가 강남역 모나코스페이스에서 개최되었습니다.</p>\n<p>4월 30일에 13:00~17:00 까지 200명의 오프라인 참여자와 2000여명의 온라인 참가자가 참가해 최신 FE 에 대해서 훑어보고, 방향성에 대해서 이야기 Q/A 하는 의미있는 시간이었습니다.</p>\n<p>오프라인 참가자에게는 도서와 문구류를 선물로 점핏에서 제공하셧습니다!</p>\n<h2 id=\"강연-목록\"><a class=\"anchor\" href=\"#강연-목록\">강연 목록</a></h2>\n<ol>\n<li>13:30 ~ 15:00 #1. 센스있게 일하는 FE 개발자 되기\n<ol>\n<li>FE 개발자의 소프트 스킬과 하드 스킬 - 김태곤</li>\n<li>협업?! 이렇게 한번해봐(FE 개발자가 타 직군과 대화를 해야하는 이유) - 유동균</li>\n</ol>\n</li>\n<li>15:30 ~ 17:00 #2 Fit한 정보로 성장 부스트업\n<ol>\n<li>FE 개발 트렌드(리엑트 개발 생태계와 Next.js까지) - 이인제[소플]</li>\n<li>타입스크립트로 FE 개발 레벨업 - 장기효[캡틴판교]</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"강연-요약\"><a class=\"anchor\" href=\"#강연-요약\">강연 요약</a></h2>\n<ol>\n<li>\n<p>FE 개발자의 소프트 스킬과 하드 스킬 - 김태곤</p>\n<ol>\n<li>\n<p>코드는늙는다 ⇒ 좋은코드를 만든다? 유지보수를 잘한다? 기준이 어떻게 될까</p>\n<ol>\n<li>테스트가 용이해야한다\n<ul>\n<li>어떻게 테스트를 용이하게 할까? ⇒ 기능별, 동작방법으로 코드를 구분화</li>\n</ul>\n</li>\n<li>읽기 쉬울 것\n<ul>\n<li>함수, 변수의 이름을 명확하게 하는 것이 중요하다</li>\n<li>회사에서 프로젝트 내부에서 필요로 한다면 한국어로 하는것도 괜찮다. 어짜피 코드를 빌드하고 배포하는 과정에서는 변경되기 때문</li>\n</ul>\n</li>\n<li>일관성</li>\n</ol>\n</li>\n<li>\n<p>테스트 코드는 가능한 부분부터 작성하다.</p>\n<p><a href=\"https://www.google.com/search?q=%EB%A7%88%ED%8B%B4%ED%8C%8C%EC%9A%B8%EB%9F%AC+%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81&#x26;rlz=1C5CHFA_enKR1055KR1055&#x26;oq=%EB%A7%88%ED%8B%B4%ED%8C%8C%EC%9A%B8%EB%9F%AC+%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81&#x26;aqs=chrome.0.0i355i512j46i512j0i512l2j0i30j0i30i625.3373j0j4&#x26;sourceid=chrome&#x26;ie=UTF-8#imgrc=J5-kGgONxIZFjM%3A\">마틴파울러 리팩토링 - Google Search</a></p>\n</li>\n<li>\n<p>한 커밋에는 한 가지 문제만.</p>\n<ol>\n<li>추적 가능하게 유지해야함!</li>\n<li>revert 할 때 돌아가야되기때문에</li>\n</ol>\n</li>\n<li>\n<p>실험은 한 번에 하나씩만.</p>\n<ol>\n<li>고생= (학습+프로젝트) x 2</li>\n<li>배우면서 진행하는 것은 목표를 뚜렷하게 하고 실험은 한번에 하나씩만 하는게 의미있다.</li>\n</ol>\n</li>\n<li>\n<p>나만의 학습 루틴을 만들어두자. (공부는 단기적 방향성이 아닌 장기적 방향성이기때문)</p>\n</li>\n<li>\n<p>가장 좋은 방법은 교육 ( 누군가에게 배운것, 알게된것을 전달하는 것이 필요하다)</p>\n</li>\n<li>\n<p>대체로, 옳은 기술은 없다. 상황에 따른 선택이 있을 뿐.</p>\n<ol>\n<li>명확한 원칙이라는 것은 없다.</li>\n<li>대체적으로 그 선택에 대한 있을뿐이라는 것을 생각해야함.</li>\n</ol>\n</li>\n<li>\n<p>FE 개발자는 절반쯤은 UX 전문가가 되어야 한다.</p>\n<ol>\n<li>사용자의 불만, 요구사항에 대해서 알고 있어야됨.</li>\n<li>미리 알기위해서는 사용자의 마음에서 UX/UI 적으로 생각을 해야된다.</li>\n<li>그렇게 해야 추후에 작업에 대해서 2차, 3차적 반복적 행위가 생기지 않을 수 있다.</li>\n</ol>\n</li>\n<li>\n<p>풀스택 엔지니어링 지식은 익히되 풀스택 엔지니어를 지향하지는 말자.</p>\n<ol>\n<li>모든것을 포용적으로 잘할수없다.</li>\n<li>그렇기때문에 해당직무에 전문성을 키우자.</li>\n<li>FE 개발에도 전문성이 점점 필요해져 가고있기때문에.</li>\n</ol>\n</li>\n<li>\n<p>‘안 된다’ 는 말은 그만</p>\n</li>\n<li>\n<p>거절의 3단계</p>\n<ol>\n<li>숙고하고 대안을 제시하고 이득을 보자</li>\n</ol>\n</li>\n<li>\n<p>이직은 늘 준비하는 것</p>\n<ol>\n<li>결과보다는 과정에서 배우는 것, 얻는 것이 있기때문에 항상 준비하고 대처하자</li>\n</ol>\n</li>\n<li>\n<p>이직할 때 볼 것 : 커리어, 연봉, 워라벨</p>\n<ol>\n<li>아직 신입의 단계에서는 워라벨 보다는 진취적인 미래를 생각해보자.</li>\n</ol>\n</li>\n<li>\n<p>커리어 = 시간 + 스토리</p>\n<ol>\n<li>연차보다는 내가 그 회사에서 어떤 일을 했고, 배웠는지 가 더중요하다</li>\n<li>의미없는 연차보다는 배울려고하고, 나만의 이야기를 기록하고 쌓아가자</li>\n</ol>\n</li>\n<li>\n<p>성과급/복지보다는 연봉</p>\n</li>\n<li>\n<p>가능하다면, 자신의 기술이 메인으로 사용되는 회사로 가는 게 좋다.</p>\n</li>\n<li>\n<p>뱀의 머리보다는 용의 꼬리가 낫다.</p>\n<ol>\n<li>배움이 될 수 있는 곳으로 가야한다.</li>\n<li>현실에 안도하지말고 계속 배울려고 하자.</li>\n</ol>\n</li>\n<li>\n<p>호인과 호구는 다르다.</p>\n</li>\n<li>\n<p>실무능력 = 프로그래밍 스킬(구현) + 도메인 지식(문제 정의) + 커뮤니케이션(협업)</p>\n</li>\n<li>\n<p>독서하듯 코드를 읽자.</p>\n<ol>\n<li>코드에 관한 지식이 많을 수록 더 많이 더 오래 기억할 수 있다.</li>\n<li>입력과 인출은 사용할수록 강화된다.</li>\n</ol>\n</li>\n<li>\n<p>문제는 시스템으로 예방하자.</p>\n<ol>\n<li>Linter, Formatter, Typescript, SCM 등 쓰면서 시스템으로 문제를 쉽고 빠르게 파악하자.</li>\n</ol>\n</li>\n<li>\n<p>가능한 작게 시작하다.</p>\n<ol>\n<li><strong><em>YAGNI</em></strong>(You aren't gonna need it)는 프로그래머가 필요하다고 간주할 때까지 기능을 추가하지 않는 것이 좋다는 익스트림 프로그래밍(XP)의 원칙</li>\n<li><strong><em>Kiss</em></strong>(Keep It Simple Stupid!)는 SW 설계는 되도록 간단, 단순하게 만드는게 좋다는 원칙</li>\n</ol>\n</li>\n<li>\n<p>Repeat Yourself (좋은 반복도 있다)</p>\n</li>\n<li>\n<p>Divide and Conquer(작게 나누어 정복)</p>\n</li>\n<li>\n<p>질문에도 기술이 있다.</p>\n</li>\n<li>\n<p>시간은 금이다</p>\n</li>\n<li>\n<p>너무 열심히 안 살아도 된다</p>\n<ol>\n<li>너무빠르게 발전하기를 원하면 번아웃이 오기쉽다</li>\n<li>어제보다 하나라도 발전한 사람이 되어보자</li>\n</ol>\n</li>\n<li>\n<p>전문가 얘기 너무 많이 듣지 말자.</p>\n<ol>\n<li>시간이 지나면 전문가의 말을 자연스럽게 파악할 수 있다.</li>\n<li>내문제는 내가 제일 잘 알기 때문에 나에게 집중하고 고쳐보자.</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>협업?! 이렇게 한번해봐(FE 개발자가 타 직군과 대화를 해야하는 이유) - 유동균</p>\n<ol>\n<li>\n<p>소통의 중요성</p>\n<ol>\n<li>\n<p>프론트엔드의 역할은 중간다리 역할을 하고있다</p>\n<p><img src=\"/content/230430/%EB%B3%B8%EB%AC%B82.png\" alt=\"본문2\" loading=\"lazy\" decoding=\"async\"></p>\n</li>\n</ol>\n</li>\n<li>\n<p>소통을 잘 할려면??</p>\n<ol>\n<li>맥락(소통의 중점 주제) 과 의도(소통을 통해 얻고싶은 부분)를 알아야한다</li>\n<li>맥락+의도 = 불필요한 커뮤니케이션 비용이 절감됨</li>\n</ol>\n</li>\n<li>\n<p>맥락과 의도를 챙기는 방법은?</p>\n<ol>\n<li>목적지향적인 태도로 대화해보자(대화에서 이루고자하는 목적에 집중하자)</li>\n<li>광범위한 이해도, 지식을 가지자</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>FE 개발 트렌드(리엑트 개발 생태계와 Next.js까지) - 이인제[소플]</p>\n<p><img src=\"/content/230430/%EB%B3%B8%EB%AC%B81.png\" alt=\"본문1\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>Next js\n<ol>\n<li>Vercel 에서 만든 SSR(Server Side Rendering) FrameWork</li>\n<li>react 로 작업을 할때의 복잡한 설정을 쉽고 간편하게 사용할 수 있다.</li>\n<li>FE 와 BE 에서 하나의 프로젝트로 개발 할 수 있다.</li>\n</ol>\n</li>\n<li>Q/A\n<ol>\n<li>개발자로써 능력을 키우는 좋은 방법은 어떤걸까요?\n<ul>\n<li>나만의 프로젝트를 만들어서, 새로운 스킬을 연습해보자.</li>\n</ul>\n</li>\n<li>다양한기술 vs 한가지 기술 중 어떤 방법으로 공부를 하는게 좋을까?\n<ul>\n<li>깊이있게 배워보는 것이 좋다는 것은 상태관리, 언어 등이 될 것 같다.</li>\n<li>라이브러리는 종류도 많고 발전속도가 빠르니 필요 상황에 따라서 배워보는 것을 추천</li>\n<li>결론적으로는 상황에 맞춰서 효율적으로 배우는게 좋아보임</li>\n</ul>\n</li>\n<li>Next js 를 공부할려고 하는데 어떤 방향으로 공부하면 될까요?\n<ul>\n<li>Nextjs 를 공부해도 되는데 react 와 언어의 개념을 잘 구축한 다음에 넘어오는 것이 이해하고, 습득, 응용하는데 도움이 될것같다.</li>\n</ul>\n</li>\n<li>Nextjs 의 13 버전이 나왔는데 바로 사용해봐야되는지?\n<ul>\n<li>새로운 버전도 중요하지만 유행을 따라만 가다보면 혼동이 올수있으니, 프로젝트랑 회사의 상황을 보고 공부해야될 것같다.</li>\n</ul>\n</li>\n</ol>\n</li>\n<li>마지막 말\n<ol>\n<li>지금은 어떤 도움이 있을까 생각을 하고 공부를 하겠지만, 그런 공부들이 누적이 되면 큰 값어치가 되어 돌아오니 꾸준히 오랫동안 해보는게 좋을거같다.</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>\n<p>타입스크립트로 FE 개발 레벨업 - 장기효[캡틴판교]</p>\n<ol>\n<li>\n<p>타입스크립트의 장점</p>\n<ol>\n<li>사용자를 보호해준다, 사용자의 경험을 향상시켜준다.</li>\n</ol>\n</li>\n<li>\n<p>타입스크립트 쉽게 접근하는 방법</p>\n<ol>\n<li>JSDoc 을 사용\n<ul>\n<li>일정한 형식으로 코드에 설명을 추가하는 주석</li>\n<li>// @ts-check (JS 의 code level 에서 타입지정가능)</li>\n</ul>\n</li>\n<li>TS 를 당장 사용하기 어려우면 JSDoc 으로 시작해보는 걸 추천</li>\n</ol>\n</li>\n<li>\n<p>TS 관련 핸드북</p>\n<p><a href=\"https://joshua1988.github.io/ts/intro.html\">Introduction | 타입스크립트 핸드북</a></p>\n</li>\n<li>\n<p>Q/A</p>\n<ol>\n<li>업무에서 방대한 기술스택을 요구하고 하면 어떻게 해야될까?\n<ul>\n<li>모든것을 한번에 할려고하면 혼동이 오니 필요순위에 따져서 배우는것을 추천</li>\n</ul>\n</li>\n<li>FE 개발자로서 ChatGPT 와 Compiler 를 사용하는 걸 어떻게 생각하나? 주니어 개발자로서\n<ul>\n<li>검증하는 작업이 필요하다.</li>\n<li>documents, mdn 등의 사이트로 옳바른 내용인지 확인해봐야함</li>\n</ul>\n</li>\n<li>FE 개발자의 학습 방향성?\n<ul>\n<li>재미있게 알려주는 학습, 나에게 적합하게 하는 방법에 대해서 생각해 스토리를 만들어라</li>\n</ul>\n</li>\n<li>ChatGPT 에게 옳바른 질문을 하는법\n<ul>\n<li>우리는 개발자이니 구체적으로 어떤 기술스택과 어떤 내용인지 등등을 명확히해서 요구해야함.</li>\n</ul>\n</li>\n<li>TS 의 새로운 버전을 공부해야 될까?\n<ul>\n<li>현재 내가 사용하는것과의 차이점을 파악</li>\n<li>파악한 후에 적용해야되는 범위부터 시작해서 후에 공부하는 방법으로 해야할듯함</li>\n</ul>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"결론\"><a class=\"anchor\" href=\"#결론\">결론</a></h2>\n<p>FE 개발자로서 옳바른 방향성에 대해서 항상 궁금하고 물음표였는데 이번 행사를 참가하면서 다른 사람의 이야기를 들어볼 수 있어서 의미있는 시간이었습니다.</p>\n<p>앞으로 FE 개발자뿐 아닌 개발 컨퍼런스가 자주 열려서 의견을 공유하는 시간을 가지면 좋겠습니다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "230430/index.md",
    "_raw": {
      "sourceFilePath": "230430/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "230430",
      "contentType": "markdown",
      "flattenedPath": "230430"
    },
    "type": "Post",
    "slug": "/230430",
    "categoryArray": [
      "대외활동"
    ],
    "readingTime": "14 min read",
    "excerpt": "점핏에서 진행하는 FE 북콘테스트가 강남역 모나코스페이스에서 개최되었습니다. 4월 30일에 13:00~17:00 까지 200명의 오프라인 참여자와 2000여명의 온라인 참가자가 참가해 최신 FE 에 대해서 훑어보고, 방향성에 대해서 이야기 Q/A 하는 의미있는 시간이었습니다. 오프라인 참가자에게는 도서와 문구류를 선물로 점핏에서 제공하셧습니다! 강연 목록 ..."
  },
  {
    "title": "AWS Summit Seoul 2023 - Day1에 다녀와서",
    "date": "2023-05-03T00:00:00.000Z",
    "categories": "대외활동",
    "draft": true,
    "body": {
      "raw": "\n![1.jpeg](1.jpeg)\n\n안녕하세요!\n\n2023 AWS Summit 행사 1일차입니다\n\n1일차는 산업 업종별 강연이 주제로서 각 기업들이 어떻게 AWS 를 이용해서 업무를 진행하는지 강연을 진행하고있고, 1층 Hall B에서 EXPO 를 통해 각 기업들의 AWS 적용사례를 실제로 볼 수 있는 부스들로 이루어져 있습니다.\n\n저는 첫째날에 3개의 강연과 EXPO 에서 AWS 의 Cloud 를 다루는 기업들을 살펴보았습니다.\n\n![강연 시간표](2.png)\n\n강연 시간표\n\n![3.jpeg](3.jpeg)\n\n![4.jpeg](4.jpeg)\n\n![5.jpeg](5.jpeg)\n\n![6.jpeg](6.jpeg)\n\n![7.jpeg](7.jpeg)\n\n---\n\n---\n\n## 강연 내용\n\n### **기조연설 -** AWS 모니터링 담당 Nandini Ramani 부사장님, AWS Korea 함기호 대표이사님, 오순영 금융AI센터장님, 야놀자 엔지니어링 수석 이준영 부대표\n\n다양한 AWS의 기술들을 소개했는데 가장 기억에 남는 것은 아무래도 Bedrock 이었다. Bedrock은 AWS에서 제공하는 파운데이션모델이다.\n\n파운데이션모델은 쉽게말해 요즘 핫한 대규모 Generative AI, 즉 ChatGPT와 같은 모델을 뜻하는 듯하다. 요즘 하루가 다르게 오픈소스로 대규모 AI가 공개되고 있는데 이를 이용한 기능를 만들때 사용할 수 있는 서비스가 아닐까 싶다.\n\n첫날부터 많은 사람들이 현장에 있어서 신기했고 AWS 행사에 예상외로 많은 사람들이 있어 놀래고 웅장해지는 시간이었다. 그래서 정신없이 흘러가고, 기조연설 중간에는 다음 트랙에 대한 일정을 짜는시간도 가졌다.\n\n![IMG_1506.HEIC](8.heic)\n\n![9.jpeg](9.jpeg)\n\n![10.jpeg](10.jpeg)\n\n![11.jpeg](11.jpeg)\n\n---\n\n### **중앙 집중식 Observability 구축**\n\n첫번째 강연은 오디토리움에서 메가트렌드라는 분야로 강연으로 시작하였습니다.\n\n해당 강연은 정영민 (솔루션즈 아키텍트, AWS) , 정찬훈 (Software Engineer, SendBird) ,김아린 프로 (삼성전자) 총 3분께서 Global Scale Service의 중앙 집중식 Observability 구축하기 라는 주제로 이야기를 시작하셧습니다.\n\n### **정영민- AWS 솔류션즈 아키텍트**\n\n![12.jpeg](12.jpeg)\n\n![13.jpeg](13.jpeg)\n\n![14.jpeg](14.jpeg)\n\n1. 우리는 어떤시대를 살고있는가?\n   1. 글로벌 스케일시대\n      1. 수백만 명 이상의 사용자\n      2. 데이터 처리량 : TB , PB, EB\n      3. 시스템 요구성능 : Micro-second latency\n      4. 전 세계적 사용\n      5. 초당 수백만건의 요청건수\n      6. 사용기기: Mobile, IoT 기기\n2. Observability\n   1. Monitoring 이상의 개념\n   2. 시스템 내부의 현재 상태를 잘 이해할 수 있도록 시스템 외부로 효과적인 정보를 전달 하는 것\n   3. Monitoring 은 어디에 문제가 생겼는지 알수있지만 / Observability 는 무엇이 문제를 일으켯는지 파악하고, 시스템 상태가 최종 사용자에게 어떤 영향을 주는지 알고싶은것\n   4. 구성요소\n      1. log ; 사용자 정의 데이터, issue 에 대한 context 파악\n      2. metric: 수치화 데이터 graph 로 표현하여 데이터 트랜드이해\n      3. trace : 사용자 중심도구, 각 모듈간의 상관관게 파악\n   5. 구성의 어려움을 AWS 와 함께해 어려움을 해소\n      1. 연동이 뛰어남\n      2. 비용 해소\n3. key takeways\n   1. 복잡한 아키텍처를 효율적으로 관측하는 aws managed observability 도구\n   2. multi region / multi account 를 한곳에서 관측 가능\n   3. 비즈니스 의사결정에 적합한 데이터를 제공하는 observability\n\n### **Full-stack Observability 를 향한 여정 - 삼성전자 김아린 프로**\n\n![15.jpeg](15.jpeg)\n\n1. prometheus 도입의 한계점 (2019)\n   1. 장기보관의 어려움\n   2. read 가 많을 경우 cpu 사용량 증가\n   3. clustering을 지원하지 않아 ha 구서의 어려움이 있다.\n\n![16.jpeg](16.jpeg)\n\n1. Thanos & prometheus 도입 2020~2022\n   1. aws s3 에 저장\n   2. 자동으로 sacle-out 되지않음\n   3. 지속적인 관리필요\n\n![17.jpeg](17.jpeg)\n\n1. amazon managed service for prometheus 도입\n   1. prometheus & apm 아키텍처 2023\n   2. 전환효과\n      1. 운영 효율성 편의성증가\n         - 리소스 scale-out/in 에 따라 운영지표의 수집,저장,알림,쿼리 자동확장축소가능\n         - 관리할 리소스 감소\n      2. 운영 안정성 강화\n         - aws 보안 서비스와 통합되어 데이터에 빠르고 안전하게 접근\n         - alerting system이 독립적인 서버로 분리되어 업데이트 시 안정적\n\n![18.jpeg](18.jpeg)\n\n1. 향후 central managed observability 으로 발전하게 된다면 (adot & amp)\n   1. 분산된 데이터를 한곳으로 중앙화해 효율적인 관리 및 운영 비용감소\n   2. aws 보안기술로 안전하게 보호할수있엇 보안성 강화\n   3. 다양한 aws 서비스와 통합가능\n\n![19.jpeg](19.jpeg)\n\n### **Multi Accounts 를 관찰하는 단 하나의 Account - 정찬훈 (Software Engineer, SendBird)**\n\n![20.jpeg](20.jpeg)\n\n![21.jpeg](21.jpeg)\n\n![22.jpeg](22.jpeg)\n\n![23.jpeg](23.jpeg)\n\n1. sendbird\n   1. 디지털 커뮤니케이션 플랫폼\n   2. 채팅관련 api provider\n2. 상용 솔루션을 사용의 한게점\n   1. heavy cost 을 위해서 ⇒ less Metric , less Logs 을 통해 일어날 일 ⇒ less centralization, more context, engineering fragmentation\n   2. vendor 의존성\n\n3. 위 문제점을 해소하기위한 생각할 부분\n   1. less cost\n   2. easy to learn\n   3. less work\n   4. granular control\n   5. 등등\n\n![24.jpeg](24.jpeg)\n\n![25.jpeg](25.jpeg)\n\n---\n\n점심식사는 AWS 에서 제공해주셧습니다\n\n![26.jpeg](26.jpeg)\n\n![27.jpeg](27.jpeg)\n\n---\n\n### **클라우드 네이티브 데이터베이스**\n\n이커머스 기업 쿠팡은 폭발적인 성장에 대응하기 위하여 Amazon Aurora 기반의 선택과 집중을 통해 DBA가 보다 의미 있는 일에 투자할 수 있도록 하고 있습니다.\n\n삼성전자의 채팅플러스는 높은 수준의 가용성을 요구하는 통신 서비스의 특성에 맞게 적절한 AWS 데이터베이스를 활용하고 있습니다.\n\n이 세션에서는 쿠팡이 Amazon Aurora를 통하여 얻은 경험 기반의 혁신 사례를 소개하며, 삼성전자에서 수 천만 명의 트래픽을 다루기 위해 Amazon DynamoDB, Amazon ElastiCache for Redis를 활용했던 경험을 공유합니다.\n\n해당 강연은 김영진 (솔루션즈 아키텍트, AWS),김티나 (DBA, 쿠팡) , 권용석 프로 (삼성전자) 총 3분께서 삼성전자/쿠팡의 대규모 트래픽 처리를 위한 클라우드 네이티브 데이터베이스 활용 라는 주제로 이야기를 시작하셧습니다.\n\n### **김영진 - AWS 솔루션즈 아키텍트**\n\n![28.jpeg](28.jpeg)\n\n![29.jpeg](29.jpeg)\n\n1. 자체 db 관리 및 분석의 어려움\n   1. hw , sw 설치 구성 패치 백업\n   2. 성능 고가용성 문제\n   3. 스토리지를 위한 용량 계획및 확장 클러스터\n   4. 보안 및 규정 준수\n2. 개발자는 이제 특별히 구축된 다양한 db 를 사용하여 고도로 분산된 애플리케이션을 구축\n3. 고려사항\n   1. 어플리케이션 워크로드\n   2. 데이터의 형태\n   3. 어플리케이션 성능 요구사항\n   4. 운영부담\n\n### **shared repository architectrue style design strategy - 권용석 프로 (삼성전자)**\n\n![30.jpeg](30.jpeg)\n\n1. 2019 RCS 1.0 migration\n   1. 모놀리식 아키텍처\n   2. 클러스터당 1,000,000 명의 사용자\n   3. 각 사업자에 대해 10~20개의 클러스터\n   4. lift and shift 전환\n\n![31.jpeg](31.jpeg)\n\n1. rcs 2.0\n   1. 재설계/구현\n   2. 마이크로 서비스 아키텍처\n   3. 하위 도메인으로 분리\n   4. issue) 데이터 의존성에서 분리 ⇒ stateless 를 위해\n   5. **정합성 & 성능** 이 중요시\n   6. 효과\n      1. 성능 처리량 5~10배향상\n      2. 비용 30% 절감\n      3. 장애 rcs1.0 에 비해 13% 감소\n\n![32.jpeg](32.jpeg)\n\n![33.jpeg](33.jpeg)\n\n![34.jpeg](34.jpeg)\n\n![35.jpeg](35.jpeg)\n\n권용석 프로님의 마지막 말씀이 인상 깊어서 가져왔습니다.\n\n**목적에 맞는 managed service와 도메인특성을 반영한 전략이 결합되어 견고한 서비스를 만든다.**\n\n### **대용량 트래픽, 쿠팡의 db 엔지니어가 클라우드를 사용하는 방법 - 김티나 DBA (쿠팡)**\n\n![36.jpeg](36.jpeg)\n\n1. 쿠팡은 msa 를 이용해서 서비스간의 트패픽을 분리시킴\n2. 서비스내에서 서비스를 세부화 해 트래픽증가에 대한 문제 해결\n3. dml(데이터수정) ddl(테이블구조변경) acl(db접근권한요청) 작업이 계속적으로 증가\n\n**어떻게 반복되는 작업을줄일수있을가?**\n\n스마트 지원서비스\n\n1. 반복되어 요청되는 작업을 자동으로 수행해주는것으로 함\n2. 관리자와 사용자 모두에게 편해야 한다\n3. 신뢰 가능한 서비스여야한다.\n\n스마트 지원서비스 개발하기 위한 조건\n\n1. 신뢰가능한 메타정보 제공 - 최신 서버 구성 정보 제공\n2. 장애에 대한 즉각적인 대응\n   1. 예측가능한 장애에 대한 방어 프로세스\n   2. 모니터링,에러로그\n3. 커뮤티케이션 최소화 (쿠팡에서 스마트지원서비스 분야에서 가장많은 요청을 받음)\n   1. 데이터베이스 표준화\n   2. 쉬운 서비스 가이드 문서 및 Q&A\n   3. 에러패턴정리\n\n스마트지원서비스- dml 작업 수행\n\n![37.jpeg](37.jpeg)\n\n- 사용자가 직접적으로 관리하지못하고 스마트 지원 서비스를 통해서 작업 수행\n\n스마트 지원서비스 -ddl 작업 수행\n\n- 작업에 대한 오류도 많고 많은 모니터링을 요구함\n- 많은 작업을 요구해 한번에 한건만 처리가능하도록 되어있음\n- 스케줄러를 통해 ddl 작업을 할수있도록 함\n\n서비스 안정화를 위해서\n\n1. 세션관리\n2. 데이터 사이즈 관리\n3. 쿠팡의 블루/그린 서비스\n\n   ![38.jpeg](38.jpeg)\n\n   ![39.jpeg](39.jpeg)\n   1. 목적: db 가용성 확보\n   2. 사용성\n      1. 서버 버전 패치\n      2. db migration\n      3. 대용량 테이블 변경\n      4. 유지/보수\n\n쿠팡의 김티나님의 마지막 한말씀도 의미가 있어서 기록에 남겨봤습니다.\n\n**우리는 고객의 삶을 더 좋게 변화시키기 위해 존재한다. 고객은 언제나 우리가 내리는 모든 결정의 시작과 끝이다.**\n\n---\n\n### **EXPO 참여 - 첫번째 시간**\n\n두번째 강연이 끝나고 EXPO 에서 평소에 관심이 있는 기업들의 박스에 방문해, 기술들을 살펴보고 체험해보는 시간을 가졌습니다.\n\n![40.jpeg](40.jpeg)\n\n![41.jpeg](41.jpeg)\n\n### **SNOWFLAKE**\n\n[데이터 클라우드 | Snowflake KO](https://www.snowflake.com/ko/)\n\nsnowflake 는 클라우드 컴퓨팅 기반 데이터 웨어하우징 회사입니다.\n\n서비스로서의 데이터 웨어하우스(Saas) 를 제공해주며 복잡하게 구성된 웨어하우스를 안전관리 해주고 있습니다.\n\n빠르고 사용하기 쉬운 데이터 스토리지, 처리, 분석 솔루션을 제공하고있습니다\n\n![43.png](43.png)\n\nsnowflake 를 이용해 아래의 기능을 처리할 수 잇습니다.\n\n- 더 간단하고 빠른 데이터 탐색을 위해 noSQL 데이터 레이크 교체\n- 빠르고 확장 가능한 BI 및 분석을 제공하기 위해 데이터웨어 하우스 현대화\n- 데이터 사일로를 통합하여 비용 및 복잡성 감소\n\nCloud Data Warehouse 로서 계속된 발전을 이끌고 있는 기업으로서 기술을 살펴볼수있는 좋은 기회였습니다.\n\n### AWS 자격증 취득 센터\n\n1. aws 는 총 3종류 12개의 자격증으로 이루어져있습니다.\n\n   ![44.png](44.png)\n   1. 프렉티셔널 자격증 (기초)\n   2. Associate 자격증 (일반)\n   3. Pro 자격증(프로)\n   4. 스페셜 (특정분야 전문 자격증), Pro 와 같은 레벨\n\n2. 현재 FE개발자로서 취득에 적합한 자격증으로 Solutions Architect- Associate 를 권장받앗습니다\n\n---\n\nEXPO 를 방문한 이후에 3번째 강연에 참여했습니다.\n\n### 스타트업의 빠른 성장, 안정적인 서비스 운영 노하우는?\n\n빠른 성장과 안정적인 운영이라는 두 마리 토끼를 잡기 위해, Cloud Native를 통해 글로벌 서비스를 제공하는 두 스타트업의 이야기를 살펴봅니다.\n\n기계학습 (ML)을 위한 대규모 데이터의 효율적인 관리와 AI 서비스 개발을 도와주는 Superb AI의 클라우드 네이티브 노하우, 그리고 EKS Multi tenancy 기반으로 170개국 팬들에게 커뮤니티 및 이커머스 서비스를 안정적으로 제공하는 비마이프렌즈의 경험담을 전달드립니다.\n\n해당 강연은 강철 (어카운트 매니저, AWS) ,이정권 (CTO, Superb AI) ,하명진 (DevOps 팀장, Bemyfriends)총 3분께서 스타트업의 빠른 성장, 안정적인 서비스 운영 노하우는? 라는 주제로 이야기를 시작하셧습니다.\n\n### **강철 (어카운트 매니저, AWS) - Managed Service**\n\n스타트업이 managed service 를 써야하는 이유?\n\n- 반복적인 운영업무 감소\n- 민첩성 & 효율성 향상\n- 서비스의 가용성 & 신뢰성 향상\n\n스타트업의 어려운 점\n\n- money\n- Resource\n- time\n\n**advantage of cloud native**\n\n**초기 구축 비용 뿐만 아니라 인프라 운영 및 유지관리에 들어가는 시간들도 비용.**\n\n**생산성, 본질에 집중해 제품의 가치를 늘려보자**\n\n![45.jpeg](45.jpeg)\n\n![46.jpeg](46.jpeg)\n\n![47.jpeg](47.jpeg)\n\n### **Saas 로 팬덤 비즈니스를? 글로벌 팬덤 비즈니스 스타트업 비마이프렌즈 - 하명진**\n\n1. 비마이프렌즈\n   1. b.stage ⇒ 맞춤형 글로벌 팬덤 비즈니스를 위한 올인원 saas 솔루션 비스테이지\n   2. Saas Multi-Tenancy 아키텍처\n\n      ![48.jpeg](48.jpeg)\n      1. 비용절감\n      2. 확장성\n      3. 보안\n      4. 관리용의성\n\n**saas 는 Multi-Tenancy 를 사용하는 것이 효과적**\n\n**Multi-Tenancy에서 eks 는 필수**\n\n**spike trafffic 에 맞는 각 워크로드에 맞는 오픈소스를 적절히 활용**\n\n![49.jpeg](49.jpeg)\n\n![50.jpeg](50.jpeg)\n\n![51.jpeg](51.jpeg)\n\n---\n\n### **나에게 지금 필요한 데이터는 무엇일까? 더 똑똑하게 ai 개발하는 방법 - 이정권 superb ai**\n\n![52.jpeg](52.jpeg)\n\n![53.jpeg](53.jpeg)\n\n1. SuperbAi\n   1. 모든 단계의 ai 단계 조직을 지원해 ai 기술이 널리 보급될수있도록 기여하는것\n   2. 데이터문제를 집중적으로 해결하는 데이터플랫폼을 만드는것을 목표\n   3. Superb label\n      1. 다양한 데이터셋 가공기능\n      2. 다양한 참여자들의 협업\n      3. 작업과정제어와 모니터링\n      4. ai 도구를 통한 자동화\n   4. Superb Cura\n      1. data label metadata 관리\n      2. 강력한 qeury 기능\n      3. embedding 을 통한 분석\n      4. ai 도구분석\n\n![54.jpeg](54.jpeg)\n\n![55.jpeg](55.jpeg)\n\n1. Clould Native 로 문제해결방법\n   1. 대규모 데이터 처리의 문제점\n      1. 다양한 데이터 처리 파이프라인\n      2. 강력한 모니터링 기능의 요구\n      3. 안정적인 데이터 서빙\n      4. 전 세계 어디에서나 낮은 지연 시간 보장\n      5. 지속적으로 쌓이는 이미지들의 저장 비용\n   2. 해결\n      1. 다양한 크기와 종류의 데이터 처리 파이프라인 ⇒ aws step functions, aws lambda, fargate,serverless workflow orchestration\n      2. 강력한 모니터링 기능의 요구 ⇒ aws cloudwatch 를 통한 로그 수집/쿼리\n      3. 안정적인 데이터 서빙 , 전 세계 어디에서나 낮은 지연 시간 보장, 지속적으로 쌓이는 이미지들의 저장 비용 ⇒ s3 intelligent-tiering 을 이용한 비용 최적화\n   3. ai 모델 문제점과 해결방안\n      1. ai 학습 및 추론과정에서 요구되는 높은 gpu 사용량⇒ aws sagemaker 을 통한 gpu 활용(training, inference)\n   4. 유연한 워크플로우를 위한 Event-driven 구조\n      1. 실험적인 ai 기술을 보다 적극적으로 도입할 필요성\n      2. 다양하고 전문적인 알고리즘과 구현 방식의 요구\n      3. 유연성과 안정성, 부하의 분산\n\n      ⇒ aws eks 를 통한 containerized app serving , managed db 활용, cdc 를 통한 event-driven 구조\n\n   5. 빠른 배포주기\n      1. 빠르게 변하는 ai/ml 도메인\n\n이정권님의 마지막 말이 인상깊어 적어두었습니다.\n\n**ai 를 위한 현대적인 데이터 플랫폼을 만드는 기업, 다양한 데이터, 지역, 목적을 가진 사용자를 대상으로 다양한 알고리즘을 통해 제공하는 일을 하고있다.**\n\n---\n\n### **EXPO 참여 - 두번째 시간**\n\n많은 기업들의 부스가 있었지만 시간이 부족해서 몇개의 기업들을 선택적으로 참여할 수 밖에 없어 아쉬웠습니다.\n\n### **유데미**\n\n[온라인 강의 - 자신의 일정에 맞춰 뭐든지 배워 보세요 | Udemy](https://www.udemy.com/ko/)\n\n![56.png](56.png)\n\n유데미는 미국 온라인 아카데미 기업체인데 현재 웅진싱크빅을 통해 접근할수있습니다.\n\n프로그래밍, 디자인, 그래픽 등 다양한 분야를 접근 할 수 있는 유데미에서 행사부스를 통해 자신들이 AWS 를 어떻게 이용하는지와 유데미를 이용하는데 필요한 정보를 얻을수 있는 시간이었습니다.\n\n![57.jpeg](57.jpeg)\n\n---\n\n### **DATADOG**\n\n[Cloud Monitoring as a Service | Datadog](https://www.datadoghq.com/)\n\n![58.jpeg](58.jpeg)\n\n1. Datadog이란?\n   1. Datadog는 hybrid-cloud 환경에서의 서버, 컨테이너, 애플리케이션, 서비스 등에 대해 end-to-end 가시성을 제공하는 DevOps 환경을 위한 모니터링 및 분석 서비스 하는 기업입니다\n2. Datadog 를 이용해 어떻게 문제 해결을 할 수 있는가?\n   1. 주요 성능 메트릭 및 이벤트 모니터링. All in One Place\n   - 여러 소스의 데이터를 실시간으로 확인하여 host, device 또는 추가 메타데이터를 통해 태그 형태로 호스트 뷰를 분할 및 축소 가능\n   - 조식 전체와 외부에서 접근 제어가 가능하고 공유가 가능한 고해상도 대형 그래프 및 대시보드 생성\n   2. 모니터링 자동화 기능을 통해 인프라 관리 효율성 향상\n   - 긴밀하게 통합된 구성 관리 툴과 NAT의 강력한 API를 활용하여 Datadog 모니터링 자동화\n   - 이상 징후 탐지 기능을 통해 잠재적인 이슈를 자동으로 탐지\n   - 강력하고 사용자 지정 가능한 태그를 사용하여 동적 인프라 내에서 장치 및 서비스 자동으로 그룹화\n   3. 메트릭 및 시스템 이벤트를 오버레이하여 문제를 즉시 식별\n   - 상이한 IT 시스템 및 구성 요소 간에 메트릭과 이벤트를 상호 연계하여 시스템 변경 사항이 다른 시스템에 영향을 미치는지 평가 가능\n   - 올바른 코드 변경, 관련 구성 업데이트 관련 문제 식별\n   - 프로덕션 데이터와 함께 팀원들과 컨텍스트 내에서 문제 논의\n   4. 운영 서비스 관련 팀 및 팀원에게 중요한 문제에 대해 알림(Alert) 기능 사용\n   - 통합 서비스 또는 인프라의 모든 시스템에서 발생한 개별 장치에서 메트릭 및 이벤트에 대한 세밀한 경고 생성\n3. datadog 는 350 가지 이상의 integration 을 지원합니다\n\nDatadog 의 cto 님께서 AWS 을 이용한 회사의 기술을 보여주셧습니다.\n\n아직 기술력이 부족해 말씀하시는것을 다 이해하지는 못했지만, 직접 화면에 입출력을 통해 산출물을 보니 모니터링 분석 서비스에 대해서 새로운 경험을 해보는 시간이었습니다.\n\n### **MongoDB**\n\n![59.jpeg](59.jpeg)\n\n![60.jpeg](60.jpeg)\n\n[MongoDB: The Developer Data Platform](https://www.mongodb.com/)\n\n해당 인프라는 FE 개발자로 DB를 공부하는 과정에서 사용해본적 있어 흥미로운 감정을 가지고 부스에 참여했습니다.\n\n여러가지 정보를 살펴보며 제가 찾아보지 못한 부분을 볼 수 있어서 색다른 경험이었습니다.\n\nDay2 에 MongoDB 에서 강연이 있다고해서 해당 내용은 참여후에 따로 기록해둘 예정입니다\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/230503/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>안녕하세요!</p>\n<p>2023 AWS Summit 행사 1일차입니다</p>\n<p>1일차는 산업 업종별 강연이 주제로서 각 기업들이 어떻게 AWS 를 이용해서 업무를 진행하는지 강연을 진행하고있고, 1층 Hall B에서 EXPO 를 통해 각 기업들의 AWS 적용사례를 실제로 볼 수 있는 부스들로 이루어져 있습니다.</p>\n<p>저는 첫째날에 3개의 강연과 EXPO 에서 AWS 의 Cloud 를 다루는 기업들을 살펴보았습니다.</p>\n<p><img src=\"/content/230503/2.png\" alt=\"강연 시간표\" loading=\"lazy\" decoding=\"async\"></p>\n<p>강연 시간표</p>\n<p><img src=\"/content/230503/3.jpeg\" alt=\"3.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/4.jpeg\" alt=\"4.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/5.jpeg\" alt=\"5.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/6.jpeg\" alt=\"6.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/7.jpeg\" alt=\"7.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<hr>\n<hr>\n<h2 id=\"강연-내용\"><a class=\"anchor\" href=\"#강연-내용\">강연 내용</a></h2>\n<h3 id=\"기조연설---aws-모니터링-담당-nandini-ramani-부사장님-aws-korea-함기호-대표이사님-오순영-금융ai센터장님-야놀자-엔지니어링-수석-이준영-부대표\"><a class=\"anchor\" href=\"#기조연설---aws-모니터링-담당-nandini-ramani-부사장님-aws-korea-함기호-대표이사님-오순영-금융ai센터장님-야놀자-엔지니어링-수석-이준영-부대표\"><strong>기조연설 -</strong> AWS 모니터링 담당 Nandini Ramani 부사장님, AWS Korea 함기호 대표이사님, 오순영 금융AI센터장님, 야놀자 엔지니어링 수석 이준영 부대표</a></h3>\n<p>다양한 AWS의 기술들을 소개했는데 가장 기억에 남는 것은 아무래도 Bedrock 이었다. Bedrock은 AWS에서 제공하는 파운데이션모델이다.</p>\n<p>파운데이션모델은 쉽게말해 요즘 핫한 대규모 Generative AI, 즉 ChatGPT와 같은 모델을 뜻하는 듯하다. 요즘 하루가 다르게 오픈소스로 대규모 AI가 공개되고 있는데 이를 이용한 기능를 만들때 사용할 수 있는 서비스가 아닐까 싶다.</p>\n<p>첫날부터 많은 사람들이 현장에 있어서 신기했고 AWS 행사에 예상외로 많은 사람들이 있어 놀래고 웅장해지는 시간이었다. 그래서 정신없이 흘러가고, 기조연설 중간에는 다음 트랙에 대한 일정을 짜는시간도 가졌다.</p>\n<p><img src=\"/content/230503/8.heic\" alt=\"IMG_1506.HEIC\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/9.jpeg\" alt=\"9.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/10.jpeg\" alt=\"10.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/11.jpeg\" alt=\"11.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<hr>\n<h3 id=\"중앙-집중식-observability-구축\"><a class=\"anchor\" href=\"#중앙-집중식-observability-구축\"><strong>중앙 집중식 Observability 구축</strong></a></h3>\n<p>첫번째 강연은 오디토리움에서 메가트렌드라는 분야로 강연으로 시작하였습니다.</p>\n<p>해당 강연은 정영민 (솔루션즈 아키텍트, AWS) , 정찬훈 (Software Engineer, SendBird) ,김아린 프로 (삼성전자) 총 3분께서 Global Scale Service의 중앙 집중식 Observability 구축하기 라는 주제로 이야기를 시작하셧습니다.</p>\n<h3 id=\"정영민--aws-솔류션즈-아키텍트\"><a class=\"anchor\" href=\"#정영민--aws-솔류션즈-아키텍트\"><strong>정영민- AWS 솔류션즈 아키텍트</strong></a></h3>\n<p><img src=\"/content/230503/12.jpeg\" alt=\"12.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/13.jpeg\" alt=\"13.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/14.jpeg\" alt=\"14.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>우리는 어떤시대를 살고있는가?\n<ol>\n<li>글로벌 스케일시대\n<ol>\n<li>수백만 명 이상의 사용자</li>\n<li>데이터 처리량 : TB , PB, EB</li>\n<li>시스템 요구성능 : Micro-second latency</li>\n<li>전 세계적 사용</li>\n<li>초당 수백만건의 요청건수</li>\n<li>사용기기: Mobile, IoT 기기</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>Observability\n<ol>\n<li>Monitoring 이상의 개념</li>\n<li>시스템 내부의 현재 상태를 잘 이해할 수 있도록 시스템 외부로 효과적인 정보를 전달 하는 것</li>\n<li>Monitoring 은 어디에 문제가 생겼는지 알수있지만 / Observability 는 무엇이 문제를 일으켯는지 파악하고, 시스템 상태가 최종 사용자에게 어떤 영향을 주는지 알고싶은것</li>\n<li>구성요소\n<ol>\n<li>log ; 사용자 정의 데이터, issue 에 대한 context 파악</li>\n<li>metric: 수치화 데이터 graph 로 표현하여 데이터 트랜드이해</li>\n<li>trace : 사용자 중심도구, 각 모듈간의 상관관게 파악</li>\n</ol>\n</li>\n<li>구성의 어려움을 AWS 와 함께해 어려움을 해소\n<ol>\n<li>연동이 뛰어남</li>\n<li>비용 해소</li>\n</ol>\n</li>\n</ol>\n</li>\n<li>key takeways\n<ol>\n<li>복잡한 아키텍처를 효율적으로 관측하는 aws managed observability 도구</li>\n<li>multi region / multi account 를 한곳에서 관측 가능</li>\n<li>비즈니스 의사결정에 적합한 데이터를 제공하는 observability</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"full-stack-observability-를-향한-여정---삼성전자-김아린-프로\"><a class=\"anchor\" href=\"#full-stack-observability-를-향한-여정---삼성전자-김아린-프로\"><strong>Full-stack Observability 를 향한 여정 - 삼성전자 김아린 프로</strong></a></h3>\n<p><img src=\"/content/230503/15.jpeg\" alt=\"15.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>prometheus 도입의 한계점 (2019)\n<ol>\n<li>장기보관의 어려움</li>\n<li>read 가 많을 경우 cpu 사용량 증가</li>\n<li>clustering을 지원하지 않아 ha 구서의 어려움이 있다.</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"/content/230503/16.jpeg\" alt=\"16.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>Thanos &#x26; prometheus 도입 2020~2022\n<ol>\n<li>aws s3 에 저장</li>\n<li>자동으로 sacle-out 되지않음</li>\n<li>지속적인 관리필요</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"/content/230503/17.jpeg\" alt=\"17.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>amazon managed service for prometheus 도입\n<ol>\n<li>prometheus &#x26; apm 아키텍처 2023</li>\n<li>전환효과\n<ol>\n<li>운영 효율성 편의성증가\n<ul>\n<li>리소스 scale-out/in 에 따라 운영지표의 수집,저장,알림,쿼리 자동확장축소가능</li>\n<li>관리할 리소스 감소</li>\n</ul>\n</li>\n<li>운영 안정성 강화\n<ul>\n<li>aws 보안 서비스와 통합되어 데이터에 빠르고 안전하게 접근</li>\n<li>alerting system이 독립적인 서버로 분리되어 업데이트 시 안정적</li>\n</ul>\n</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"/content/230503/18.jpeg\" alt=\"18.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>향후 central managed observability 으로 발전하게 된다면 (adot &#x26; amp)\n<ol>\n<li>분산된 데이터를 한곳으로 중앙화해 효율적인 관리 및 운영 비용감소</li>\n<li>aws 보안기술로 안전하게 보호할수있엇 보안성 강화</li>\n<li>다양한 aws 서비스와 통합가능</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"/content/230503/19.jpeg\" alt=\"19.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"multi-accounts-를-관찰하는-단-하나의-account---정찬훈-software-engineer-sendbird\"><a class=\"anchor\" href=\"#multi-accounts-를-관찰하는-단-하나의-account---정찬훈-software-engineer-sendbird\"><strong>Multi Accounts 를 관찰하는 단 하나의 Account - 정찬훈 (Software Engineer, SendBird)</strong></a></h3>\n<p><img src=\"/content/230503/20.jpeg\" alt=\"20.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/21.jpeg\" alt=\"21.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/22.jpeg\" alt=\"22.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/23.jpeg\" alt=\"23.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>\n<p>sendbird</p>\n<ol>\n<li>디지털 커뮤니케이션 플랫폼</li>\n<li>채팅관련 api provider</li>\n</ol>\n</li>\n<li>\n<p>상용 솔루션을 사용의 한게점</p>\n<ol>\n<li>heavy cost 을 위해서 ⇒ less Metric , less Logs 을 통해 일어날 일 ⇒ less centralization, more context, engineering fragmentation</li>\n<li>vendor 의존성</li>\n</ol>\n</li>\n<li>\n<p>위 문제점을 해소하기위한 생각할 부분</p>\n<ol>\n<li>less cost</li>\n<li>easy to learn</li>\n<li>less work</li>\n<li>granular control</li>\n<li>등등</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"/content/230503/24.jpeg\" alt=\"24.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/25.jpeg\" alt=\"25.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<hr>\n<p>점심식사는 AWS 에서 제공해주셧습니다</p>\n<p><img src=\"/content/230503/26.jpeg\" alt=\"26.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/27.jpeg\" alt=\"27.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<hr>\n<h3 id=\"클라우드-네이티브-데이터베이스\"><a class=\"anchor\" href=\"#클라우드-네이티브-데이터베이스\"><strong>클라우드 네이티브 데이터베이스</strong></a></h3>\n<p>이커머스 기업 쿠팡은 폭발적인 성장에 대응하기 위하여 Amazon Aurora 기반의 선택과 집중을 통해 DBA가 보다 의미 있는 일에 투자할 수 있도록 하고 있습니다.</p>\n<p>삼성전자의 채팅플러스는 높은 수준의 가용성을 요구하는 통신 서비스의 특성에 맞게 적절한 AWS 데이터베이스를 활용하고 있습니다.</p>\n<p>이 세션에서는 쿠팡이 Amazon Aurora를 통하여 얻은 경험 기반의 혁신 사례를 소개하며, 삼성전자에서 수 천만 명의 트래픽을 다루기 위해 Amazon DynamoDB, Amazon ElastiCache for Redis를 활용했던 경험을 공유합니다.</p>\n<p>해당 강연은 김영진 (솔루션즈 아키텍트, AWS),김티나 (DBA, 쿠팡) , 권용석 프로 (삼성전자) 총 3분께서 삼성전자/쿠팡의 대규모 트래픽 처리를 위한 클라우드 네이티브 데이터베이스 활용 라는 주제로 이야기를 시작하셧습니다.</p>\n<h3 id=\"김영진---aws-솔루션즈-아키텍트\"><a class=\"anchor\" href=\"#김영진---aws-솔루션즈-아키텍트\"><strong>김영진 - AWS 솔루션즈 아키텍트</strong></a></h3>\n<p><img src=\"/content/230503/28.jpeg\" alt=\"28.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/29.jpeg\" alt=\"29.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>자체 db 관리 및 분석의 어려움\n<ol>\n<li>hw , sw 설치 구성 패치 백업</li>\n<li>성능 고가용성 문제</li>\n<li>스토리지를 위한 용량 계획및 확장 클러스터</li>\n<li>보안 및 규정 준수</li>\n</ol>\n</li>\n<li>개발자는 이제 특별히 구축된 다양한 db 를 사용하여 고도로 분산된 애플리케이션을 구축</li>\n<li>고려사항\n<ol>\n<li>어플리케이션 워크로드</li>\n<li>데이터의 형태</li>\n<li>어플리케이션 성능 요구사항</li>\n<li>운영부담</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"shared-repository-architectrue-style-design-strategy---권용석-프로-삼성전자\"><a class=\"anchor\" href=\"#shared-repository-architectrue-style-design-strategy---권용석-프로-삼성전자\"><strong>shared repository architectrue style design strategy - 권용석 프로 (삼성전자)</strong></a></h3>\n<p><img src=\"/content/230503/30.jpeg\" alt=\"30.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>2019 RCS 1.0 migration\n<ol>\n<li>모놀리식 아키텍처</li>\n<li>클러스터당 1,000,000 명의 사용자</li>\n<li>각 사업자에 대해 10~20개의 클러스터</li>\n<li>lift and shift 전환</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"/content/230503/31.jpeg\" alt=\"31.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>rcs 2.0\n<ol>\n<li>재설계/구현</li>\n<li>마이크로 서비스 아키텍처</li>\n<li>하위 도메인으로 분리</li>\n<li>issue) 데이터 의존성에서 분리 ⇒ stateless 를 위해</li>\n<li><strong>정합성 &#x26; 성능</strong> 이 중요시</li>\n<li>효과\n<ol>\n<li>성능 처리량 5~10배향상</li>\n<li>비용 30% 절감</li>\n<li>장애 rcs1.0 에 비해 13% 감소</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"/content/230503/32.jpeg\" alt=\"32.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/33.jpeg\" alt=\"33.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/34.jpeg\" alt=\"34.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/35.jpeg\" alt=\"35.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>권용석 프로님의 마지막 말씀이 인상 깊어서 가져왔습니다.</p>\n<p><strong>목적에 맞는 managed service와 도메인특성을 반영한 전략이 결합되어 견고한 서비스를 만든다.</strong></p>\n<h3 id=\"대용량-트래픽-쿠팡의-db-엔지니어가-클라우드를-사용하는-방법---김티나-dba-쿠팡\"><a class=\"anchor\" href=\"#대용량-트래픽-쿠팡의-db-엔지니어가-클라우드를-사용하는-방법---김티나-dba-쿠팡\"><strong>대용량 트래픽, 쿠팡의 db 엔지니어가 클라우드를 사용하는 방법 - 김티나 DBA (쿠팡)</strong></a></h3>\n<p><img src=\"/content/230503/36.jpeg\" alt=\"36.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>쿠팡은 msa 를 이용해서 서비스간의 트패픽을 분리시킴</li>\n<li>서비스내에서 서비스를 세부화 해 트래픽증가에 대한 문제 해결</li>\n<li>dml(데이터수정) ddl(테이블구조변경) acl(db접근권한요청) 작업이 계속적으로 증가</li>\n</ol>\n<p><strong>어떻게 반복되는 작업을줄일수있을가?</strong></p>\n<p>스마트 지원서비스</p>\n<ol>\n<li>반복되어 요청되는 작업을 자동으로 수행해주는것으로 함</li>\n<li>관리자와 사용자 모두에게 편해야 한다</li>\n<li>신뢰 가능한 서비스여야한다.</li>\n</ol>\n<p>스마트 지원서비스 개발하기 위한 조건</p>\n<ol>\n<li>신뢰가능한 메타정보 제공 - 최신 서버 구성 정보 제공</li>\n<li>장애에 대한 즉각적인 대응\n<ol>\n<li>예측가능한 장애에 대한 방어 프로세스</li>\n<li>모니터링,에러로그</li>\n</ol>\n</li>\n<li>커뮤티케이션 최소화 (쿠팡에서 스마트지원서비스 분야에서 가장많은 요청을 받음)\n<ol>\n<li>데이터베이스 표준화</li>\n<li>쉬운 서비스 가이드 문서 및 Q&#x26;A</li>\n<li>에러패턴정리</li>\n</ol>\n</li>\n</ol>\n<p>스마트지원서비스- dml 작업 수행</p>\n<p><img src=\"/content/230503/37.jpeg\" alt=\"37.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ul>\n<li>사용자가 직접적으로 관리하지못하고 스마트 지원 서비스를 통해서 작업 수행</li>\n</ul>\n<p>스마트 지원서비스 -ddl 작업 수행</p>\n<ul>\n<li>작업에 대한 오류도 많고 많은 모니터링을 요구함</li>\n<li>많은 작업을 요구해 한번에 한건만 처리가능하도록 되어있음</li>\n<li>스케줄러를 통해 ddl 작업을 할수있도록 함</li>\n</ul>\n<p>서비스 안정화를 위해서</p>\n<ol>\n<li>\n<p>세션관리</p>\n</li>\n<li>\n<p>데이터 사이즈 관리</p>\n</li>\n<li>\n<p>쿠팡의 블루/그린 서비스</p>\n<p><img src=\"/content/230503/38.jpeg\" alt=\"38.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/39.jpeg\" alt=\"39.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>목적: db 가용성 확보</li>\n<li>사용성\n<ol>\n<li>서버 버전 패치</li>\n<li>db migration</li>\n<li>대용량 테이블 변경</li>\n<li>유지/보수</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<p>쿠팡의 김티나님의 마지막 한말씀도 의미가 있어서 기록에 남겨봤습니다.</p>\n<p><strong>우리는 고객의 삶을 더 좋게 변화시키기 위해 존재한다. 고객은 언제나 우리가 내리는 모든 결정의 시작과 끝이다.</strong></p>\n<hr>\n<h3 id=\"expo-참여---첫번째-시간\"><a class=\"anchor\" href=\"#expo-참여---첫번째-시간\"><strong>EXPO 참여 - 첫번째 시간</strong></a></h3>\n<p>두번째 강연이 끝나고 EXPO 에서 평소에 관심이 있는 기업들의 박스에 방문해, 기술들을 살펴보고 체험해보는 시간을 가졌습니다.</p>\n<p><img src=\"/content/230503/40.jpeg\" alt=\"40.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/41.jpeg\" alt=\"41.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"snowflake\"><a class=\"anchor\" href=\"#snowflake\"><strong>SNOWFLAKE</strong></a></h3>\n<p><a href=\"https://www.snowflake.com/ko/\">데이터 클라우드 | Snowflake KO</a></p>\n<p>snowflake 는 클라우드 컴퓨팅 기반 데이터 웨어하우징 회사입니다.</p>\n<p>서비스로서의 데이터 웨어하우스(Saas) 를 제공해주며 복잡하게 구성된 웨어하우스를 안전관리 해주고 있습니다.</p>\n<p>빠르고 사용하기 쉬운 데이터 스토리지, 처리, 분석 솔루션을 제공하고있습니다</p>\n<p><img src=\"/content/230503/43.png\" alt=\"43.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>snowflake 를 이용해 아래의 기능을 처리할 수 잇습니다.</p>\n<ul>\n<li>더 간단하고 빠른 데이터 탐색을 위해 noSQL 데이터 레이크 교체</li>\n<li>빠르고 확장 가능한 BI 및 분석을 제공하기 위해 데이터웨어 하우스 현대화</li>\n<li>데이터 사일로를 통합하여 비용 및 복잡성 감소</li>\n</ul>\n<p>Cloud Data Warehouse 로서 계속된 발전을 이끌고 있는 기업으로서 기술을 살펴볼수있는 좋은 기회였습니다.</p>\n<h3 id=\"aws-자격증-취득-센터\"><a class=\"anchor\" href=\"#aws-자격증-취득-센터\">AWS 자격증 취득 센터</a></h3>\n<ol>\n<li>\n<p>aws 는 총 3종류 12개의 자격증으로 이루어져있습니다.</p>\n<p><img src=\"/content/230503/44.png\" alt=\"44.png\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>프렉티셔널 자격증 (기초)</li>\n<li>Associate 자격증 (일반)</li>\n<li>Pro 자격증(프로)</li>\n<li>스페셜 (특정분야 전문 자격증), Pro 와 같은 레벨</li>\n</ol>\n</li>\n<li>\n<p>현재 FE개발자로서 취득에 적합한 자격증으로 Solutions Architect- Associate 를 권장받앗습니다</p>\n</li>\n</ol>\n<hr>\n<p>EXPO 를 방문한 이후에 3번째 강연에 참여했습니다.</p>\n<h3 id=\"스타트업의-빠른-성장-안정적인-서비스-운영-노하우는\"><a class=\"anchor\" href=\"#스타트업의-빠른-성장-안정적인-서비스-운영-노하우는\">스타트업의 빠른 성장, 안정적인 서비스 운영 노하우는?</a></h3>\n<p>빠른 성장과 안정적인 운영이라는 두 마리 토끼를 잡기 위해, Cloud Native를 통해 글로벌 서비스를 제공하는 두 스타트업의 이야기를 살펴봅니다.</p>\n<p>기계학습 (ML)을 위한 대규모 데이터의 효율적인 관리와 AI 서비스 개발을 도와주는 Superb AI의 클라우드 네이티브 노하우, 그리고 EKS Multi tenancy 기반으로 170개국 팬들에게 커뮤니티 및 이커머스 서비스를 안정적으로 제공하는 비마이프렌즈의 경험담을 전달드립니다.</p>\n<p>해당 강연은 강철 (어카운트 매니저, AWS) ,이정권 (CTO, Superb AI) ,하명진 (DevOps 팀장, Bemyfriends)총 3분께서 스타트업의 빠른 성장, 안정적인 서비스 운영 노하우는? 라는 주제로 이야기를 시작하셧습니다.</p>\n<h3 id=\"강철-어카운트-매니저-aws---managed-service\"><a class=\"anchor\" href=\"#강철-어카운트-매니저-aws---managed-service\"><strong>강철 (어카운트 매니저, AWS) - Managed Service</strong></a></h3>\n<p>스타트업이 managed service 를 써야하는 이유?</p>\n<ul>\n<li>반복적인 운영업무 감소</li>\n<li>민첩성 &#x26; 효율성 향상</li>\n<li>서비스의 가용성 &#x26; 신뢰성 향상</li>\n</ul>\n<p>스타트업의 어려운 점</p>\n<ul>\n<li>money</li>\n<li>Resource</li>\n<li>time</li>\n</ul>\n<p><strong>advantage of cloud native</strong></p>\n<p><strong>초기 구축 비용 뿐만 아니라 인프라 운영 및 유지관리에 들어가는 시간들도 비용.</strong></p>\n<p><strong>생산성, 본질에 집중해 제품의 가치를 늘려보자</strong></p>\n<p><img src=\"/content/230503/45.jpeg\" alt=\"45.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/46.jpeg\" alt=\"46.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/47.jpeg\" alt=\"47.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"saas-로-팬덤-비즈니스를-글로벌-팬덤-비즈니스-스타트업-비마이프렌즈---하명진\"><a class=\"anchor\" href=\"#saas-로-팬덤-비즈니스를-글로벌-팬덤-비즈니스-스타트업-비마이프렌즈---하명진\"><strong>Saas 로 팬덤 비즈니스를? 글로벌 팬덤 비즈니스 스타트업 비마이프렌즈 - 하명진</strong></a></h3>\n<ol>\n<li>비마이프렌즈\n<ol>\n<li>\n<p>b.stage ⇒ 맞춤형 글로벌 팬덤 비즈니스를 위한 올인원 saas 솔루션 비스테이지</p>\n</li>\n<li>\n<p>Saas Multi-Tenancy 아키텍처</p>\n<p><img src=\"/content/230503/48.jpeg\" alt=\"48.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>비용절감</li>\n<li>확장성</li>\n<li>보안</li>\n<li>관리용의성</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<p><strong>saas 는 Multi-Tenancy 를 사용하는 것이 효과적</strong></p>\n<p><strong>Multi-Tenancy에서 eks 는 필수</strong></p>\n<p><strong>spike trafffic 에 맞는 각 워크로드에 맞는 오픈소스를 적절히 활용</strong></p>\n<p><img src=\"/content/230503/49.jpeg\" alt=\"49.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/50.jpeg\" alt=\"50.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/51.jpeg\" alt=\"51.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<hr>\n<h3 id=\"나에게-지금-필요한-데이터는-무엇일까-더-똑똑하게-ai-개발하는-방법---이정권-superb-ai\"><a class=\"anchor\" href=\"#나에게-지금-필요한-데이터는-무엇일까-더-똑똑하게-ai-개발하는-방법---이정권-superb-ai\"><strong>나에게 지금 필요한 데이터는 무엇일까? 더 똑똑하게 ai 개발하는 방법 - 이정권 superb ai</strong></a></h3>\n<p><img src=\"/content/230503/52.jpeg\" alt=\"52.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/53.jpeg\" alt=\"53.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>SuperbAi\n<ol>\n<li>모든 단계의 ai 단계 조직을 지원해 ai 기술이 널리 보급될수있도록 기여하는것</li>\n<li>데이터문제를 집중적으로 해결하는 데이터플랫폼을 만드는것을 목표</li>\n<li>Superb label\n<ol>\n<li>다양한 데이터셋 가공기능</li>\n<li>다양한 참여자들의 협업</li>\n<li>작업과정제어와 모니터링</li>\n<li>ai 도구를 통한 자동화</li>\n</ol>\n</li>\n<li>Superb Cura\n<ol>\n<li>data label metadata 관리</li>\n<li>강력한 qeury 기능</li>\n<li>embedding 을 통한 분석</li>\n<li>ai 도구분석</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<p><img src=\"/content/230503/54.jpeg\" alt=\"54.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/55.jpeg\" alt=\"55.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>Clould Native 로 문제해결방법\n<ol>\n<li>\n<p>대규모 데이터 처리의 문제점</p>\n<ol>\n<li>다양한 데이터 처리 파이프라인</li>\n<li>강력한 모니터링 기능의 요구</li>\n<li>안정적인 데이터 서빙</li>\n<li>전 세계 어디에서나 낮은 지연 시간 보장</li>\n<li>지속적으로 쌓이는 이미지들의 저장 비용</li>\n</ol>\n</li>\n<li>\n<p>해결</p>\n<ol>\n<li>다양한 크기와 종류의 데이터 처리 파이프라인 ⇒ aws step functions, aws lambda, fargate,serverless workflow orchestration</li>\n<li>강력한 모니터링 기능의 요구 ⇒ aws cloudwatch 를 통한 로그 수집/쿼리</li>\n<li>안정적인 데이터 서빙 , 전 세계 어디에서나 낮은 지연 시간 보장, 지속적으로 쌓이는 이미지들의 저장 비용 ⇒ s3 intelligent-tiering 을 이용한 비용 최적화</li>\n</ol>\n</li>\n<li>\n<p>ai 모델 문제점과 해결방안</p>\n<ol>\n<li>ai 학습 및 추론과정에서 요구되는 높은 gpu 사용량⇒ aws sagemaker 을 통한 gpu 활용(training, inference)</li>\n</ol>\n</li>\n<li>\n<p>유연한 워크플로우를 위한 Event-driven 구조</p>\n<ol>\n<li>실험적인 ai 기술을 보다 적극적으로 도입할 필요성</li>\n<li>다양하고 전문적인 알고리즘과 구현 방식의 요구</li>\n<li>유연성과 안정성, 부하의 분산</li>\n</ol>\n<p>⇒ aws eks 를 통한 containerized app serving , managed db 활용, cdc 를 통한 event-driven 구조</p>\n</li>\n<li>\n<p>빠른 배포주기</p>\n<ol>\n<li>빠르게 변하는 ai/ml 도메인</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<p>이정권님의 마지막 말이 인상깊어 적어두었습니다.</p>\n<p><strong>ai 를 위한 현대적인 데이터 플랫폼을 만드는 기업, 다양한 데이터, 지역, 목적을 가진 사용자를 대상으로 다양한 알고리즘을 통해 제공하는 일을 하고있다.</strong></p>\n<hr>\n<h3 id=\"expo-참여---두번째-시간\"><a class=\"anchor\" href=\"#expo-참여---두번째-시간\"><strong>EXPO 참여 - 두번째 시간</strong></a></h3>\n<p>많은 기업들의 부스가 있었지만 시간이 부족해서 몇개의 기업들을 선택적으로 참여할 수 밖에 없어 아쉬웠습니다.</p>\n<h3 id=\"유데미\"><a class=\"anchor\" href=\"#유데미\"><strong>유데미</strong></a></h3>\n<p><a href=\"https://www.udemy.com/ko/\">온라인 강의 - 자신의 일정에 맞춰 뭐든지 배워 보세요 | Udemy</a></p>\n<p><img src=\"/content/230503/56.png\" alt=\"56.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>유데미는 미국 온라인 아카데미 기업체인데 현재 웅진싱크빅을 통해 접근할수있습니다.</p>\n<p>프로그래밍, 디자인, 그래픽 등 다양한 분야를 접근 할 수 있는 유데미에서 행사부스를 통해 자신들이 AWS 를 어떻게 이용하는지와 유데미를 이용하는데 필요한 정보를 얻을수 있는 시간이었습니다.</p>\n<p><img src=\"/content/230503/57.jpeg\" alt=\"57.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<hr>\n<h3 id=\"datadog\"><a class=\"anchor\" href=\"#datadog\"><strong>DATADOG</strong></a></h3>\n<p><a href=\"https://www.datadoghq.com/\">Cloud Monitoring as a Service | Datadog</a></p>\n<p><img src=\"/content/230503/58.jpeg\" alt=\"58.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>Datadog이란?\n<ol>\n<li>Datadog는 hybrid-cloud 환경에서의 서버, 컨테이너, 애플리케이션, 서비스 등에 대해 end-to-end 가시성을 제공하는 DevOps 환경을 위한 모니터링 및 분석 서비스 하는 기업입니다</li>\n</ol>\n</li>\n<li>Datadog 를 이용해 어떻게 문제 해결을 할 수 있는가?\n<ol>\n<li>주요 성능 메트릭 및 이벤트 모니터링. All in One Place</li>\n</ol>\n<ul>\n<li>여러 소스의 데이터를 실시간으로 확인하여 host, device 또는 추가 메타데이터를 통해 태그 형태로 호스트 뷰를 분할 및 축소 가능</li>\n<li>조식 전체와 외부에서 접근 제어가 가능하고 공유가 가능한 고해상도 대형 그래프 및 대시보드 생성</li>\n</ul>\n<ol start=\"2\">\n<li>모니터링 자동화 기능을 통해 인프라 관리 효율성 향상</li>\n</ol>\n<ul>\n<li>긴밀하게 통합된 구성 관리 툴과 NAT의 강력한 API를 활용하여 Datadog 모니터링 자동화</li>\n<li>이상 징후 탐지 기능을 통해 잠재적인 이슈를 자동으로 탐지</li>\n<li>강력하고 사용자 지정 가능한 태그를 사용하여 동적 인프라 내에서 장치 및 서비스 자동으로 그룹화</li>\n</ul>\n<ol start=\"3\">\n<li>메트릭 및 시스템 이벤트를 오버레이하여 문제를 즉시 식별</li>\n</ol>\n<ul>\n<li>상이한 IT 시스템 및 구성 요소 간에 메트릭과 이벤트를 상호 연계하여 시스템 변경 사항이 다른 시스템에 영향을 미치는지 평가 가능</li>\n<li>올바른 코드 변경, 관련 구성 업데이트 관련 문제 식별</li>\n<li>프로덕션 데이터와 함께 팀원들과 컨텍스트 내에서 문제 논의</li>\n</ul>\n<ol start=\"4\">\n<li>운영 서비스 관련 팀 및 팀원에게 중요한 문제에 대해 알림(Alert) 기능 사용</li>\n</ol>\n<ul>\n<li>통합 서비스 또는 인프라의 모든 시스템에서 발생한 개별 장치에서 메트릭 및 이벤트에 대한 세밀한 경고 생성</li>\n</ul>\n</li>\n<li>datadog 는 350 가지 이상의 integration 을 지원합니다</li>\n</ol>\n<p>Datadog 의 cto 님께서 AWS 을 이용한 회사의 기술을 보여주셧습니다.</p>\n<p>아직 기술력이 부족해 말씀하시는것을 다 이해하지는 못했지만, 직접 화면에 입출력을 통해 산출물을 보니 모니터링 분석 서비스에 대해서 새로운 경험을 해보는 시간이었습니다.</p>\n<h3 id=\"mongodb\"><a class=\"anchor\" href=\"#mongodb\"><strong>MongoDB</strong></a></h3>\n<p><img src=\"/content/230503/59.jpeg\" alt=\"59.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230503/60.jpeg\" alt=\"60.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><a href=\"https://www.mongodb.com/\">MongoDB: The Developer Data Platform</a></p>\n<p>해당 인프라는 FE 개발자로 DB를 공부하는 과정에서 사용해본적 있어 흥미로운 감정을 가지고 부스에 참여했습니다.</p>\n<p>여러가지 정보를 살펴보며 제가 찾아보지 못한 부분을 볼 수 있어서 색다른 경험이었습니다.</p>\n<p>Day2 에 MongoDB 에서 강연이 있다고해서 해당 내용은 참여후에 따로 기록해둘 예정입니다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "230503/index.md",
    "_raw": {
      "sourceFilePath": "230503/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "230503",
      "contentType": "markdown",
      "flattenedPath": "230503"
    },
    "type": "Post",
    "slug": "/230503",
    "categoryArray": [
      "대외활동"
    ],
    "readingTime": "26 min read",
    "excerpt": "안녕하세요! 2023 AWS Summit 행사 1일차입니다 1일차는 산업 업종별 강연이 주제로서 각 기업들이 어떻게 AWS 를 이용해서 업무를 진행하는지 강연을 진행하고있고, 1층 Hall B에서 EXPO 를 통해 각 기업들의 AWS 적용사례를 실제로 볼 수 있는 부스들로 이루어져 있습니다. 저는 첫째날에 3개의 강연과 EXPO 에서 AWS 의 Cloud ..."
  },
  {
    "title": "AWS Summit Seoul 2023 - Day2에 다녀와서",
    "date": "2023-05-04T00:00:00.000Z",
    "categories": "대외활동",
    "draft": true,
    "body": {
      "raw": "\n> AWS Summit 2023 2일차입니다.\n> 1일차 행사에서는 AWS 의 기술들을 각 기업들이 어떻게 사용되고 발전되었는지가 주제였다면\n> 이번 2일차에서는 난이도 별로 AWS에 대해서 설명해주고, 발전된 기술을 보여주는 시간을 가졋습니다.\n> 저는 2일차에 참석해서 전문가들의 강연을 듣고 많은 것을 배우며 본 내용을 공유하고자 합니다.\n\n---\n\n<aside>\n🔖 AWS Summit 2023 Day2 - TimeLine\n\n</aside>\n\n---\n\n## 기조연설\n\n> 윤석찬 AWS 수석 테크 에반젤리스트, 강동한 Flitto CTO,\n> 송주영 LG U+ 연구위원, Holly Mescrobian AWS 서버리스 컴퓨팅 부사장\n\n![1.png](1.png)\n\n기조연설에서 윤석찬님과 송주영님, 강동한님의 인터뷰 형식 그리고 AWS Holly Mescrobian 님과 깜짝 출현하신 Werner Vogels AWS CTO 님의 사전 녹화영상으로 이루어졌습니다.\n\n많은 흥미로운 주제중 저는 **입문자들이 AWS 를 어떻게 이용해보고 구성해볼지 에 대해서 생각해보자**라는 주제가 가장 흥미로웠습니다.\n\n그것에 대해서 말씀하신 강연은 **AWS Application Composer**를 사용해 시각적으로 구성해보기와 **AWS Well-Architected** 활용해보기 입니다.\n\n위 주제는 하단에 상세하게 기록해두었으니 한번 확인해보시면 될 것 같습니다.\n\n### 보안과 데브옵스\n\n**a. 보안**\n\n- 보안이라는 것은 접근통제, 암호화, 마스킹, 감시, 추적, 적합한 인증과 권한 관리를 포함한 내용입니다.\n- 되도록 접근 통제로 모든 것을 해결하려 하지 않고 다른 것도 잘 활용 해야한다.\n- 보안그룹 ID, DB 패스워드를 평문으로 박지 않도록 주의 → AWS Secrets Manager, Parameter 등 활용 가능\n- 보안과 암호화에 평소 관심이 많이 있어서 오후에 있는 Cisco 기업의 강연이 있는것을 알게되고 자세한 내용은 후반에 다시 다루겠습니다!\n\n**b. 데브옵스**\n\n- 송주영님께서 데브옵스의 5단게의 중요성에 대해서 말씀해주셧습니다\n- Security > Reliability > > Automation > Organization. Standard. Governance\n- 만약 거꾸로 정책부터 적용하려하다면 한계점이 생기게 된다 → **엔지니어를 묶어두게 되는 것**\n\n---\n\n## 가격은 절반, 성능은 두 배 확 달라진 Amazon EC2 알아보기\n\n> 박연경 AWS 솔루션즈 아케텍트, 김현철 삼성전자 DevOps Engineer\n\n![2.png](2.png)\n\n### 1. 두번째 강연은 EC2 가 무엇인지, EC2 가 어떻게 바뀌었는지에 대한 박연경님의 강연이었습니다.\n\n1. EC2 는 클라우드에서 가상 컴퓨팅 리소스를 제공하는 서비스로서 사용자들은 EC2 를 사용하여 AWS 클라우드에서 가상 서버를 설정하고 구성하여 필요에 따라 늘이고 축소할 수있습니다.\n2. AWS 는 EC2 의 가용성과 성능을 더욱 향상해 가장 광범위하고 심층적인 인스턴스로 선택받을 수 있도록 발전하고 있다고 합니다\n3. 다음은 AWS Nitro 시스템 아키텍처에 대해서 설명했는데 Nitro 는 고성능, 저비용, 보안 최적화의 가장 좋은 EC2의 독점 가상화 인프라인으로 소개했습니다.\n   - 주요기능에는 Nitro Cards, Nitro 보안 칩으로 보안기능을 통해 가장 안전한 클라우드 플랫폼을 지원하고, Nitro 하이퍼바이저로 메모리 및 CPU 할당을 관리하고 베어 메탈 수준의 성능을 제공하는 경량 하이퍼바이저 입니다.\n4. AWS 의 Graviton 을 사용해 최고성능, 전력 소비 절감, 비용절감, 가성비 향상을 할수 있다\n   고합니다.\n\n### 2. 요약하면 성능 개선된 EC2 는 아래와 같은 기능이 발전되었습니다.\n\na. 네트워크 특화(200Gbps) 6세대 인스턴스\n\n- M, R, C 타입, 인텔 아이스레이크 기반, 최대 200Glops 네트워크 대역폭\n- EBS 속도의 획기적 개선(대역폭 최대 80Gbps), PPS 2배 개선\n\nb. Nitro v5 신규 런치\n\n- 전 세대 대비, 60% 높은 PPS, 30% 낮아진 딜레이\n- 와트당 성능 40% 향상 , c7 gn(미리보기)\n\nc. AWs Graviton 3세대 출시\n\n- 부동소수점 및 벡터 연산에 특화된 Graviton 3 아키텍처\n- c7g, c7gn(미리보기)\n\nd. HPC 고성능 컴퓨팅을 위한 신규 인스턴스 출시\n\n- Hpc7g(Graviton 기반의 최초의 HPC 전용 인스턴스)\n- Hocsid(인델 Xeon Scalable 기반)\n\ne. 기계학습/추론을 위한 인스턴스 출시\n\n- TRN1/TRNIn\n- INF2\n\n### 3. 박연경님 다음에는 삼성전자 김현철님께서 삼성개발팀에서 AWS EC2 를 사용한 이유에 대해서 설명해주셧습니다.\n\n![3.png](3.png)\n\n1. 삼성에서는 비용절감, ARM 기반 프로세서 약진, 저전력 탄소배출, 성능향상등의 이유로 AWS의 최신EC2 사용을 권장하고있습니다. 그럼으로서 3세대 Graviton 인스턴트를 사용 하는 것에 대해 강연해주셧습니다.\n2. 그럼으로써 삼성은 API 서버의 응답속도를 개선하고, 인스턴스 비용을 15% 절감하는 효과\n   를 얻었습니다\n\n---\n\n## AWS의 개발자를 위한 신규 서비스 소개\n\n(CodeCatalyst, CodeWhisperer)\n\n> 한정호 AWS 솔루션즈 아키텍트\n\n### 1. CodeWhisperer\n\n[ML 기반 코딩 도우미 - Amazon CodeWhisperer - Amazon Web Services](https://aws.amazon.com/ko/codewhisperer/)\n\n두번째 강연은 AWS 의 강연에서 가장 흥미로운 부분이었다. 팀장님께서 일하다가 링크로 보여주셧을때부터 살펴보앗던 CodeWhisperer 이었다. 요즘 ChatGPT 부터 AI가 만들어주는 코드에 대해서 많은 이야기들이 많은데, 그런 것들을 경험해 보면서 AWS 에서는 어떻게 처리할까에 대해, CodeWhisperer 은 개발자에 AI 기술이 집중되어 있다는 생각이 들었다.\n데모와 강연을 보는동안에 구체적인 아이디어에 감탄하고, 더 나아가 개발자의 습성, 습관을 파악하는 기술력에 놀람을 감추지못하엿다. 데모영상을 보고 다른 사람들도 CodeWhisperer 을 사용해보면 좋겠다.\n\n### 2. CodeCatalyst\n\n[통합형 개발 서비스 – Amazon CodeCatalyst – Amazon Web Services](https://aws.amazon.com/ko/codecatalyst/)\n\n그 다음 보여준 기술은 AWS CodeCatalyst 입니다. CodeCatalyst 의 주요 기능에는 4가지가 있습니다.\n\n1. 프로젝트 블루프린트 : 다양한 애플리케이션 워크로드를 빠르게 시작\n\n![4.png](4.png)\n\n![5.png](5.png)\n\nb. 관리형 CI/CD pipeline : Flexsible 한 관리형 인프라에서 실행되는 자동화된 workflow\n\n![6.png](6.png)\n\nc. 개발/배포 환경 : 손쉬운 개발 및 배포환경 구성 및 자동화\n\n![7.png](7.png)\n\nd. 원활한 협업 : 쉽게 동료들 프로젝트에 초대하고 협업 도구와 프로젝트 리소스에 즉시 엑세스\n\n![8.png](8.png)\n\n![9.png](9.png)\n\n간단히 말하면 개발을 위한 작업을 할때 FrontEnd, BackEnd, Build, Deplooy, CI/CD 등 개발에 필요한 모든 기능을 AWS CodeCatalyst 를 통해 한번에 설정, 운영, 관리할수 있다. 어쩌면 개발을 할 때 가장 많이 사용하는 시간이 설정과 개발환경에 대한 개발자들의 조정이라고 생각한다.\n\n이런 부분을 AWS 가 간략화했다는 부분과 발상으로만 했던 것이 행위로 이루어진것에 대해서 감탄하게 되었다.이 글을 보는 분들도 바로 사용은 해보지 않아도 경험해 보았으면 좋겠다!\n\n---\n\n## 기업 소개 - Cisco\n\n> Cisco\n\n![10.png](10.png)\n\nAWS 기술관련 강연을 들을까 아니면 기업에 대한 설명강연을 들을까 계획을 짜던 도중, 암호화에 대해서 평소 관심이 많아 보안관련 회사이자 우리회사 모기업인 인성정보가 후원사로 있는 Cisco 강연을 듣게되었습니다.\n\nCisco 에 대한 기업은 전날 EXPO 부스에서 살짝 본적은 있지만, 그때는 정확히 알지못했는데 회사기획서와 보안관련으로 찾아보고 나서 관심을 가져 기업에 대해 찾아보게 되었습니다. 제가 아는 Cisco 는 유무선 프로토콜 및 통신장비를 개발하는 HW 업체라고 알고있었습니다. 하지만 추후 Duo 를 통해 보안관련 플랫폼을 개발하게 되었다고 알게되었습니다.\n\n강연에서는 제로 트러스트 보안 플랫폼인 Cisco 에 대해서 설명하고, 어떠한 인증방법으로 사용자의 존재 유무를 파악하고, 어떤 경우에 악의적 사용자임을 판별해서 결과를 반환하는지에 대해 알게되었습니다.\n\n### Zero-Trust\n\n- 애플리케이션이 클라우드로 이동함에 따라, 더 쉽게 접근이 가능\n- 취약한 비밀번호, 비밀번호의 재사용, 계정 탈취 공격에 따른 공격자의 애플리케이션 접근 가능성 증가\n- MFA 우회, 디바이스 보안상, 사용자 권한 및 비정상적인 행위 탐지 부재로 인한 보안 정책 우회\n\n![11.png](11.png)\n\n개인정보에 대한 보호와 함께 기업들의 IT 보안도 화두로 올라온 만큼, Cisco 의 Duo 그리고, AWS를 통한 행보가 엄청나다고 느껴지는 강연이었습니다. 이날 마지막 강연이 끝나고 Cisco 부스에 방문해 더 설명을 듣게 되었고 6월 27일 Cisco Connect Korea 2023 에 대해서 전달받게 되었습니다!\n\n현재에는 알고있는 지식이 부족하지만 많은 정보들을 들으며 IT 인으로서 발전해야겠다는 생각을 하\n게되었습니다.\n\n[[시스코] Cisco Connect Korea 2022](https://www.cisco.com/c/m/ko_kr/ciscoconnect.html)\n\n---\n\n## 비즈니스 전쟁에서 승리하기위한 신무기 AWS AI/ML 서비스\n\n> 구제훈 AWS 이그제큐티브 테크놀로지 파트너\n\n![12.png](12.png)\n\n요즘 ChatGPT, LaMDA, 바드, New Bing 과 같이 AI/ML 서비스들이 넘쳐나고 있다. 이럴때 우리와 기업들은 어떻게 선점하고, 적용할 수 있을까라는 생각을 하고있을거같다. 나도 비슷한 생각이 들어서 이번 강연을 선택해서 듣게되었다.\n\n구제훈님께서 강연을 하며 말씀하신 6가지 AWS 서비스에 대해서 정리해서 전달해보겠다.\n\n### 1. 개인화 서비스 - 고객 경험 맞춤화\n\na. 고객참여유도\nb. 검색가능성\nc. 효율성 및 수익\n\n### 2. AICC(AI-Enabled Contact Center) - 지능형 콜센터\n\na. 셀프 서비스 가상 상담원\nb. 실시간 통화 분석 및 상담원 지원\nc. 통화 후 분석\n⇒ 구제훈님께서는 AI/ML 부분에서 가장 강점을 보일 분야가 콜센터라고 하셧는데, 저도 이야기를 들어보니 AI/ML 이 추구하는 방향성에 제일 적합하다는 생각이 들었습니다.\n\n### 3. 시계열 예측\n\n### 4. 사기 탐지\n\na. 신규 계정 가입\nb. 실시간 결제\nc. 온라인 체크아웃\nd. 로열티 및 프로모션\ne. 그래프 신경망(GNN : Graph Neural Networks) 기반 사기탐지\n\n- GNN 은 그래프 구조의 정보를 사용자 및 트랜잭션의 속성과 결합하여 악성 사용자와 이벤트를 정상 사용자의 이벤트와 구별하는 학습 활용\n\n### 5. 지능형 검색 - AWS Korea\n\na. 자연어 및 키워드 쿼리\nb. 비정형 문서 내장검색 결과\n\n### 6. 산업 장비 모니터링- 스마트 팩토리\n\na. 설비 예지 보전\nb. 시각적 품질 검사 자동화\nc. 엣지 운영 효율성 향상\nd. 수요 예측 및 재고 관리\n\n아직 AI/ML 부분에 대해서 많이 낯설다. 아무래도 나는 기술을 발전시키는 역할보다는 아직 사용하는 역할이여서 그런 것 같다. 내가 사용을 하면서 느낀부분에서 틀린 부분이 있겠지만, 점차 AI/ML 이 삶에 필수적인 생각이 들지\n만 아직 대체적인 것은 아닌것 같다. (상호보완적?)\n\n앞으로 수많은 기업에서 AI/ML 을 어떻게 발전시킬지에 대해서 더 관심을 가지게 되는 시간이었다!\n\n---\n\n## MongoDB Atlas와 함께하는 Developer Data Platform\n\n> 김준 MongoDB 솔루션 아케텍트 매니저\n\n![13.png](13.png)\n\nAWS Summit 에 참가해서, 아마 내가 그나마 제일많이 써본 DB 인 것 같다. 그래서 제일먼저 강연을 들어봐야겠다는 생각을 하게되었다.\n\nMongo DB 의 김준님께서는 2019년에 참가하고 그 이후 2023 년에 행사에 참여했다고 했다. 아무래도 많은 시간동안 Mongo DB 도 많은 기술적 발전을 했다고 생각한다. 개발자 입장에서 생산성을 증가시키고, 광범위하게 사용하기 위한 쿼리 기능과 트랜잭션 보장, 대규모 성능 및 고 가용성 제공을 위한 사당과 복제, 암호화와 풍부한 보안 기능으로 강력한 데이터 보완등 2023년의 Mongo DB 를 보면서 2022년 사이드프로젝트를 진행하면서 내가 MongoDB 를 사용해본 이유지 않을까? 라는 생각이 들었다.\n\nMongo DB 에서는 총 6가지의 키워드를 가지고 강연을 진행했다.\n\n### 1. Atlas Search\n\na. 간단하고 단순한 사용\nb. 통합된 관리형 서비스\nc. 풍부함 Search 쿼리\n\n### 2. Online Arching : Automated Data Tiering\n\na. 자동화 된 데이터 Tiering\nb. 쉬운 쿼리 기능\nc. 완전 관리형\n\n### 3. Atlas Data Federation\n\na. Simplify Data Workflows\n\n- 복잡한 데이터 파이프라인 없이 원활하게 데이터를 집계하고 선호하는 스토리지 위치에 결과를 저장합니다.\n\nb. Power Real-Time Apps\n\n- 데이터 이동 또는 변환 없이 AtLas 및 AWS S3상에서 Federation 쿼리 지원\n\nc. Get Faster Insights\n\n- MongoDB 데이터를 열(Columnar) 형식 파일 형식으로 변환 후, 다운스트림 팀에서 사용할 수 있도록 S3에 저장\n\n### 4. Atlas Charts : Powerful & Effective Visualization\n\n### 5. Atlas App Service\n\n### 6. Future-Proof 기능 제공\n\n![14.png](14.png)\n\nMongoDB 의 2019 년과 2023 의 차이는 정확히 인지하지 못했다. 아무래도 2019년에 나는 뭘했을\n까… 그렇기에 2023년 이후의 MongoDB 에 어떠한 발전이 있을지 지켜보면서 DB 에 관심을 가져\n봐야겠다는 생각이 들었다!\n\n---\n\n## 2023 AWS Summit 행사 참여 후기\n\n짧다면 짧을 길다면 길을 행사가 마무리가 되었다. 먼저 2일동안 행사에 참여할 기회를 주신 회사 선임분들께 감사합니다! 이번행사를 통해 AWS 에 대한 공부를 해야겠다는 필요성과 많은 사람들의 의견, 그리고 후원사들에 대해서 알게되었다. 경험을 해보면서 좋은 점도 있지만 아쉬운점은 내가 AWS 에 대한 지식이 더 많았으면 이해가 잘 되었을텐데 아쉬움이 있다.\n\n올해 2023년의 행사는 끝났지만 내년에는 직접 AWS 기술들을 사용해보고 다뤄보면서 2024 행사에는 중급,고급, 더 나아가 EXPO 부스에서 많은 체험을 더 적극적으로 해봐야겠다는 생각이 들었다.\n\n---\n\n```toc\n\n```\n",
      "html": "<blockquote>\n<p>AWS Summit 2023 2일차입니다.\n1일차 행사에서는 AWS 의 기술들을 각 기업들이 어떻게 사용되고 발전되었는지가 주제였다면\n이번 2일차에서는 난이도 별로 AWS에 대해서 설명해주고, 발전된 기술을 보여주는 시간을 가졋습니다.\n저는 2일차에 참석해서 전문가들의 강연을 듣고 많은 것을 배우며 본 내용을 공유하고자 합니다.</p>\n</blockquote>\n<hr>\n<hr>\n<h2 id=\"기조연설\"><a class=\"anchor\" href=\"#기조연설\">기조연설</a></h2>\n<blockquote>\n<p>윤석찬 AWS 수석 테크 에반젤리스트, 강동한 Flitto CTO,\n송주영 LG U+ 연구위원, Holly Mescrobian AWS 서버리스 컴퓨팅 부사장</p>\n</blockquote>\n<p><img src=\"/content/230504/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>기조연설에서 윤석찬님과 송주영님, 강동한님의 인터뷰 형식 그리고 AWS Holly Mescrobian 님과 깜짝 출현하신 Werner Vogels AWS CTO 님의 사전 녹화영상으로 이루어졌습니다.</p>\n<p>많은 흥미로운 주제중 저는 <strong>입문자들이 AWS 를 어떻게 이용해보고 구성해볼지 에 대해서 생각해보자</strong>라는 주제가 가장 흥미로웠습니다.</p>\n<p>그것에 대해서 말씀하신 강연은 <strong>AWS Application Composer</strong>를 사용해 시각적으로 구성해보기와 <strong>AWS Well-Architected</strong> 활용해보기 입니다.</p>\n<p>위 주제는 하단에 상세하게 기록해두었으니 한번 확인해보시면 될 것 같습니다.</p>\n<h3 id=\"보안과-데브옵스\"><a class=\"anchor\" href=\"#보안과-데브옵스\">보안과 데브옵스</a></h3>\n<p><strong>a. 보안</strong></p>\n<ul>\n<li>보안이라는 것은 접근통제, 암호화, 마스킹, 감시, 추적, 적합한 인증과 권한 관리를 포함한 내용입니다.</li>\n<li>되도록 접근 통제로 모든 것을 해결하려 하지 않고 다른 것도 잘 활용 해야한다.</li>\n<li>보안그룹 ID, DB 패스워드를 평문으로 박지 않도록 주의 → AWS Secrets Manager, Parameter 등 활용 가능</li>\n<li>보안과 암호화에 평소 관심이 많이 있어서 오후에 있는 Cisco 기업의 강연이 있는것을 알게되고 자세한 내용은 후반에 다시 다루겠습니다!</li>\n</ul>\n<p><strong>b. 데브옵스</strong></p>\n<ul>\n<li>송주영님께서 데브옵스의 5단게의 중요성에 대해서 말씀해주셧습니다</li>\n<li>Security > Reliability > > Automation > Organization. Standard. Governance</li>\n<li>만약 거꾸로 정책부터 적용하려하다면 한계점이 생기게 된다 → <strong>엔지니어를 묶어두게 되는 것</strong></li>\n</ul>\n<hr>\n<h2 id=\"가격은-절반-성능은-두-배-확-달라진-amazon-ec2-알아보기\"><a class=\"anchor\" href=\"#가격은-절반-성능은-두-배-확-달라진-amazon-ec2-알아보기\">가격은 절반, 성능은 두 배 확 달라진 Amazon EC2 알아보기</a></h2>\n<blockquote>\n<p>박연경 AWS 솔루션즈 아케텍트, 김현철 삼성전자 DevOps Engineer</p>\n</blockquote>\n<p><img src=\"/content/230504/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"1-두번째-강연은-ec2-가-무엇인지-ec2-가-어떻게-바뀌었는지에-대한-박연경님의-강연이었습니다\"><a class=\"anchor\" href=\"#1-두번째-강연은-ec2-가-무엇인지-ec2-가-어떻게-바뀌었는지에-대한-박연경님의-강연이었습니다\">1. 두번째 강연은 EC2 가 무엇인지, EC2 가 어떻게 바뀌었는지에 대한 박연경님의 강연이었습니다.</a></h3>\n<ol>\n<li>EC2 는 클라우드에서 가상 컴퓨팅 리소스를 제공하는 서비스로서 사용자들은 EC2 를 사용하여 AWS 클라우드에서 가상 서버를 설정하고 구성하여 필요에 따라 늘이고 축소할 수있습니다.</li>\n<li>AWS 는 EC2 의 가용성과 성능을 더욱 향상해 가장 광범위하고 심층적인 인스턴스로 선택받을 수 있도록 발전하고 있다고 합니다</li>\n<li>다음은 AWS Nitro 시스템 아키텍처에 대해서 설명했는데 Nitro 는 고성능, 저비용, 보안 최적화의 가장 좋은 EC2의 독점 가상화 인프라인으로 소개했습니다.\n<ul>\n<li>주요기능에는 Nitro Cards, Nitro 보안 칩으로 보안기능을 통해 가장 안전한 클라우드 플랫폼을 지원하고, Nitro 하이퍼바이저로 메모리 및 CPU 할당을 관리하고 베어 메탈 수준의 성능을 제공하는 경량 하이퍼바이저 입니다.</li>\n</ul>\n</li>\n<li>AWS 의 Graviton 을 사용해 최고성능, 전력 소비 절감, 비용절감, 가성비 향상을 할수 있다\n고합니다.</li>\n</ol>\n<h3 id=\"2-요약하면-성능-개선된-ec2-는-아래와-같은-기능이-발전되었습니다\"><a class=\"anchor\" href=\"#2-요약하면-성능-개선된-ec2-는-아래와-같은-기능이-발전되었습니다\">2. 요약하면 성능 개선된 EC2 는 아래와 같은 기능이 발전되었습니다.</a></h3>\n<p>a. 네트워크 특화(200Gbps) 6세대 인스턴스</p>\n<ul>\n<li>M, R, C 타입, 인텔 아이스레이크 기반, 최대 200Glops 네트워크 대역폭</li>\n<li>EBS 속도의 획기적 개선(대역폭 최대 80Gbps), PPS 2배 개선</li>\n</ul>\n<p>b. Nitro v5 신규 런치</p>\n<ul>\n<li>전 세대 대비, 60% 높은 PPS, 30% 낮아진 딜레이</li>\n<li>와트당 성능 40% 향상 , c7 gn(미리보기)</li>\n</ul>\n<p>c. AWs Graviton 3세대 출시</p>\n<ul>\n<li>부동소수점 및 벡터 연산에 특화된 Graviton 3 아키텍처</li>\n<li>c7g, c7gn(미리보기)</li>\n</ul>\n<p>d. HPC 고성능 컴퓨팅을 위한 신규 인스턴스 출시</p>\n<ul>\n<li>Hpc7g(Graviton 기반의 최초의 HPC 전용 인스턴스)</li>\n<li>Hocsid(인델 Xeon Scalable 기반)</li>\n</ul>\n<p>e. 기계학습/추론을 위한 인스턴스 출시</p>\n<ul>\n<li>TRN1/TRNIn</li>\n<li>INF2</li>\n</ul>\n<h3 id=\"3-박연경님-다음에는-삼성전자-김현철님께서-삼성개발팀에서-aws-ec2-를-사용한-이유에-대해서-설명해주셧습니다\"><a class=\"anchor\" href=\"#3-박연경님-다음에는-삼성전자-김현철님께서-삼성개발팀에서-aws-ec2-를-사용한-이유에-대해서-설명해주셧습니다\">3. 박연경님 다음에는 삼성전자 김현철님께서 삼성개발팀에서 AWS EC2 를 사용한 이유에 대해서 설명해주셧습니다.</a></h3>\n<p><img src=\"/content/230504/3.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>삼성에서는 비용절감, ARM 기반 프로세서 약진, 저전력 탄소배출, 성능향상등의 이유로 AWS의 최신EC2 사용을 권장하고있습니다. 그럼으로서 3세대 Graviton 인스턴트를 사용 하는 것에 대해 강연해주셧습니다.</li>\n<li>그럼으로써 삼성은 API 서버의 응답속도를 개선하고, 인스턴스 비용을 15% 절감하는 효과\n를 얻었습니다</li>\n</ol>\n<hr>\n<h2 id=\"aws의-개발자를-위한-신규-서비스-소개\"><a class=\"anchor\" href=\"#aws의-개발자를-위한-신규-서비스-소개\">AWS의 개발자를 위한 신규 서비스 소개</a></h2>\n<p>(CodeCatalyst, CodeWhisperer)</p>\n<blockquote>\n<p>한정호 AWS 솔루션즈 아키텍트</p>\n</blockquote>\n<h3 id=\"1-codewhisperer\"><a class=\"anchor\" href=\"#1-codewhisperer\">1. CodeWhisperer</a></h3>\n<p><a href=\"https://aws.amazon.com/ko/codewhisperer/\">ML 기반 코딩 도우미 - Amazon CodeWhisperer - Amazon Web Services</a></p>\n<p>두번째 강연은 AWS 의 강연에서 가장 흥미로운 부분이었다. 팀장님께서 일하다가 링크로 보여주셧을때부터 살펴보앗던 CodeWhisperer 이었다. 요즘 ChatGPT 부터 AI가 만들어주는 코드에 대해서 많은 이야기들이 많은데, 그런 것들을 경험해 보면서 AWS 에서는 어떻게 처리할까에 대해, CodeWhisperer 은 개발자에 AI 기술이 집중되어 있다는 생각이 들었다.\n데모와 강연을 보는동안에 구체적인 아이디어에 감탄하고, 더 나아가 개발자의 습성, 습관을 파악하는 기술력에 놀람을 감추지못하엿다. 데모영상을 보고 다른 사람들도 CodeWhisperer 을 사용해보면 좋겠다.</p>\n<h3 id=\"2-codecatalyst\"><a class=\"anchor\" href=\"#2-codecatalyst\">2. CodeCatalyst</a></h3>\n<p><a href=\"https://aws.amazon.com/ko/codecatalyst/\">통합형 개발 서비스 – Amazon CodeCatalyst – Amazon Web Services</a></p>\n<p>그 다음 보여준 기술은 AWS CodeCatalyst 입니다. CodeCatalyst 의 주요 기능에는 4가지가 있습니다.</p>\n<ol>\n<li>프로젝트 블루프린트 : 다양한 애플리케이션 워크로드를 빠르게 시작</li>\n</ol>\n<p><img src=\"/content/230504/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230504/5.png\" alt=\"5.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>b. 관리형 CI/CD pipeline : Flexsible 한 관리형 인프라에서 실행되는 자동화된 workflow</p>\n<p><img src=\"/content/230504/6.png\" alt=\"6.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>c. 개발/배포 환경 : 손쉬운 개발 및 배포환경 구성 및 자동화</p>\n<p><img src=\"/content/230504/7.png\" alt=\"7.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>d. 원활한 협업 : 쉽게 동료들 프로젝트에 초대하고 협업 도구와 프로젝트 리소스에 즉시 엑세스</p>\n<p><img src=\"/content/230504/8.png\" alt=\"8.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/230504/9.png\" alt=\"9.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>간단히 말하면 개발을 위한 작업을 할때 FrontEnd, BackEnd, Build, Deplooy, CI/CD 등 개발에 필요한 모든 기능을 AWS CodeCatalyst 를 통해 한번에 설정, 운영, 관리할수 있다. 어쩌면 개발을 할 때 가장 많이 사용하는 시간이 설정과 개발환경에 대한 개발자들의 조정이라고 생각한다.</p>\n<p>이런 부분을 AWS 가 간략화했다는 부분과 발상으로만 했던 것이 행위로 이루어진것에 대해서 감탄하게 되었다.이 글을 보는 분들도 바로 사용은 해보지 않아도 경험해 보았으면 좋겠다!</p>\n<hr>\n<h2 id=\"기업-소개---cisco\"><a class=\"anchor\" href=\"#기업-소개---cisco\">기업 소개 - Cisco</a></h2>\n<blockquote>\n<p>Cisco</p>\n</blockquote>\n<p><img src=\"/content/230504/10.png\" alt=\"10.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>AWS 기술관련 강연을 들을까 아니면 기업에 대한 설명강연을 들을까 계획을 짜던 도중, 암호화에 대해서 평소 관심이 많아 보안관련 회사이자 우리회사 모기업인 인성정보가 후원사로 있는 Cisco 강연을 듣게되었습니다.</p>\n<p>Cisco 에 대한 기업은 전날 EXPO 부스에서 살짝 본적은 있지만, 그때는 정확히 알지못했는데 회사기획서와 보안관련으로 찾아보고 나서 관심을 가져 기업에 대해 찾아보게 되었습니다. 제가 아는 Cisco 는 유무선 프로토콜 및 통신장비를 개발하는 HW 업체라고 알고있었습니다. 하지만 추후 Duo 를 통해 보안관련 플랫폼을 개발하게 되었다고 알게되었습니다.</p>\n<p>강연에서는 제로 트러스트 보안 플랫폼인 Cisco 에 대해서 설명하고, 어떠한 인증방법으로 사용자의 존재 유무를 파악하고, 어떤 경우에 악의적 사용자임을 판별해서 결과를 반환하는지에 대해 알게되었습니다.</p>\n<h3 id=\"zero-trust\"><a class=\"anchor\" href=\"#zero-trust\">Zero-Trust</a></h3>\n<ul>\n<li>애플리케이션이 클라우드로 이동함에 따라, 더 쉽게 접근이 가능</li>\n<li>취약한 비밀번호, 비밀번호의 재사용, 계정 탈취 공격에 따른 공격자의 애플리케이션 접근 가능성 증가</li>\n<li>MFA 우회, 디바이스 보안상, 사용자 권한 및 비정상적인 행위 탐지 부재로 인한 보안 정책 우회</li>\n</ul>\n<p><img src=\"/content/230504/11.png\" alt=\"11.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>개인정보에 대한 보호와 함께 기업들의 IT 보안도 화두로 올라온 만큼, Cisco 의 Duo 그리고, AWS를 통한 행보가 엄청나다고 느껴지는 강연이었습니다. 이날 마지막 강연이 끝나고 Cisco 부스에 방문해 더 설명을 듣게 되었고 6월 27일 Cisco Connect Korea 2023 에 대해서 전달받게 되었습니다!</p>\n<p>현재에는 알고있는 지식이 부족하지만 많은 정보들을 들으며 IT 인으로서 발전해야겠다는 생각을 하\n게되었습니다.</p>\n<p><a href=\"https://www.cisco.com/c/m/ko_kr/ciscoconnect.html\">[시스코] Cisco Connect Korea 2022</a></p>\n<hr>\n<h2 id=\"비즈니스-전쟁에서-승리하기위한-신무기-aws-aiml-서비스\"><a class=\"anchor\" href=\"#비즈니스-전쟁에서-승리하기위한-신무기-aws-aiml-서비스\">비즈니스 전쟁에서 승리하기위한 신무기 AWS AI/ML 서비스</a></h2>\n<blockquote>\n<p>구제훈 AWS 이그제큐티브 테크놀로지 파트너</p>\n</blockquote>\n<p><img src=\"/content/230504/12.png\" alt=\"12.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>요즘 ChatGPT, LaMDA, 바드, New Bing 과 같이 AI/ML 서비스들이 넘쳐나고 있다. 이럴때 우리와 기업들은 어떻게 선점하고, 적용할 수 있을까라는 생각을 하고있을거같다. 나도 비슷한 생각이 들어서 이번 강연을 선택해서 듣게되었다.</p>\n<p>구제훈님께서 강연을 하며 말씀하신 6가지 AWS 서비스에 대해서 정리해서 전달해보겠다.</p>\n<h3 id=\"1-개인화-서비스---고객-경험-맞춤화\"><a class=\"anchor\" href=\"#1-개인화-서비스---고객-경험-맞춤화\">1. 개인화 서비스 - 고객 경험 맞춤화</a></h3>\n<p>a. 고객참여유도\nb. 검색가능성\nc. 효율성 및 수익</p>\n<h3 id=\"2-aiccai-enabled-contact-center---지능형-콜센터\"><a class=\"anchor\" href=\"#2-aiccai-enabled-contact-center---지능형-콜센터\">2. AICC(AI-Enabled Contact Center) - 지능형 콜센터</a></h3>\n<p>a. 셀프 서비스 가상 상담원\nb. 실시간 통화 분석 및 상담원 지원\nc. 통화 후 분석\n⇒ 구제훈님께서는 AI/ML 부분에서 가장 강점을 보일 분야가 콜센터라고 하셧는데, 저도 이야기를 들어보니 AI/ML 이 추구하는 방향성에 제일 적합하다는 생각이 들었습니다.</p>\n<h3 id=\"3-시계열-예측\"><a class=\"anchor\" href=\"#3-시계열-예측\">3. 시계열 예측</a></h3>\n<h3 id=\"4-사기-탐지\"><a class=\"anchor\" href=\"#4-사기-탐지\">4. 사기 탐지</a></h3>\n<p>a. 신규 계정 가입\nb. 실시간 결제\nc. 온라인 체크아웃\nd. 로열티 및 프로모션\ne. 그래프 신경망(GNN : Graph Neural Networks) 기반 사기탐지</p>\n<ul>\n<li>GNN 은 그래프 구조의 정보를 사용자 및 트랜잭션의 속성과 결합하여 악성 사용자와 이벤트를 정상 사용자의 이벤트와 구별하는 학습 활용</li>\n</ul>\n<h3 id=\"5-지능형-검색---aws-korea\"><a class=\"anchor\" href=\"#5-지능형-검색---aws-korea\">5. 지능형 검색 - AWS Korea</a></h3>\n<p>a. 자연어 및 키워드 쿼리\nb. 비정형 문서 내장검색 결과</p>\n<h3 id=\"6-산업-장비-모니터링--스마트-팩토리\"><a class=\"anchor\" href=\"#6-산업-장비-모니터링--스마트-팩토리\">6. 산업 장비 모니터링- 스마트 팩토리</a></h3>\n<p>a. 설비 예지 보전\nb. 시각적 품질 검사 자동화\nc. 엣지 운영 효율성 향상\nd. 수요 예측 및 재고 관리</p>\n<p>아직 AI/ML 부분에 대해서 많이 낯설다. 아무래도 나는 기술을 발전시키는 역할보다는 아직 사용하는 역할이여서 그런 것 같다. 내가 사용을 하면서 느낀부분에서 틀린 부분이 있겠지만, 점차 AI/ML 이 삶에 필수적인 생각이 들지\n만 아직 대체적인 것은 아닌것 같다. (상호보완적?)</p>\n<p>앞으로 수많은 기업에서 AI/ML 을 어떻게 발전시킬지에 대해서 더 관심을 가지게 되는 시간이었다!</p>\n<hr>\n<h2 id=\"mongodb-atlas와-함께하는-developer-data-platform\"><a class=\"anchor\" href=\"#mongodb-atlas와-함께하는-developer-data-platform\">MongoDB Atlas와 함께하는 Developer Data Platform</a></h2>\n<blockquote>\n<p>김준 MongoDB 솔루션 아케텍트 매니저</p>\n</blockquote>\n<p><img src=\"/content/230504/13.png\" alt=\"13.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>AWS Summit 에 참가해서, 아마 내가 그나마 제일많이 써본 DB 인 것 같다. 그래서 제일먼저 강연을 들어봐야겠다는 생각을 하게되었다.</p>\n<p>Mongo DB 의 김준님께서는 2019년에 참가하고 그 이후 2023 년에 행사에 참여했다고 했다. 아무래도 많은 시간동안 Mongo DB 도 많은 기술적 발전을 했다고 생각한다. 개발자 입장에서 생산성을 증가시키고, 광범위하게 사용하기 위한 쿼리 기능과 트랜잭션 보장, 대규모 성능 및 고 가용성 제공을 위한 사당과 복제, 암호화와 풍부한 보안 기능으로 강력한 데이터 보완등 2023년의 Mongo DB 를 보면서 2022년 사이드프로젝트를 진행하면서 내가 MongoDB 를 사용해본 이유지 않을까? 라는 생각이 들었다.</p>\n<p>Mongo DB 에서는 총 6가지의 키워드를 가지고 강연을 진행했다.</p>\n<h3 id=\"1-atlas-search\"><a class=\"anchor\" href=\"#1-atlas-search\">1. Atlas Search</a></h3>\n<p>a. 간단하고 단순한 사용\nb. 통합된 관리형 서비스\nc. 풍부함 Search 쿼리</p>\n<h3 id=\"2-online-arching--automated-data-tiering\"><a class=\"anchor\" href=\"#2-online-arching--automated-data-tiering\">2. Online Arching : Automated Data Tiering</a></h3>\n<p>a. 자동화 된 데이터 Tiering\nb. 쉬운 쿼리 기능\nc. 완전 관리형</p>\n<h3 id=\"3-atlas-data-federation\"><a class=\"anchor\" href=\"#3-atlas-data-federation\">3. Atlas Data Federation</a></h3>\n<p>a. Simplify Data Workflows</p>\n<ul>\n<li>복잡한 데이터 파이프라인 없이 원활하게 데이터를 집계하고 선호하는 스토리지 위치에 결과를 저장합니다.</li>\n</ul>\n<p>b. Power Real-Time Apps</p>\n<ul>\n<li>데이터 이동 또는 변환 없이 AtLas 및 AWS S3상에서 Federation 쿼리 지원</li>\n</ul>\n<p>c. Get Faster Insights</p>\n<ul>\n<li>MongoDB 데이터를 열(Columnar) 형식 파일 형식으로 변환 후, 다운스트림 팀에서 사용할 수 있도록 S3에 저장</li>\n</ul>\n<h3 id=\"4-atlas-charts--powerful--effective-visualization\"><a class=\"anchor\" href=\"#4-atlas-charts--powerful--effective-visualization\">4. Atlas Charts : Powerful &#x26; Effective Visualization</a></h3>\n<h3 id=\"5-atlas-app-service\"><a class=\"anchor\" href=\"#5-atlas-app-service\">5. Atlas App Service</a></h3>\n<h3 id=\"6-future-proof-기능-제공\"><a class=\"anchor\" href=\"#6-future-proof-기능-제공\">6. Future-Proof 기능 제공</a></h3>\n<p><img src=\"/content/230504/14.png\" alt=\"14.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>MongoDB 의 2019 년과 2023 의 차이는 정확히 인지하지 못했다. 아무래도 2019년에 나는 뭘했을\n까… 그렇기에 2023년 이후의 MongoDB 에 어떠한 발전이 있을지 지켜보면서 DB 에 관심을 가져\n봐야겠다는 생각이 들었다!</p>\n<hr>\n<h2 id=\"2023-aws-summit-행사-참여-후기\"><a class=\"anchor\" href=\"#2023-aws-summit-행사-참여-후기\">2023 AWS Summit 행사 참여 후기</a></h2>\n<p>짧다면 짧을 길다면 길을 행사가 마무리가 되었다. 먼저 2일동안 행사에 참여할 기회를 주신 회사 선임분들께 감사합니다! 이번행사를 통해 AWS 에 대한 공부를 해야겠다는 필요성과 많은 사람들의 의견, 그리고 후원사들에 대해서 알게되었다. 경험을 해보면서 좋은 점도 있지만 아쉬운점은 내가 AWS 에 대한 지식이 더 많았으면 이해가 잘 되었을텐데 아쉬움이 있다.</p>\n<p>올해 2023년의 행사는 끝났지만 내년에는 직접 AWS 기술들을 사용해보고 다뤄보면서 2024 행사에는 중급,고급, 더 나아가 EXPO 부스에서 많은 체험을 더 적극적으로 해봐야겠다는 생각이 들었다.</p>\n<hr>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "230504/index.md",
    "_raw": {
      "sourceFilePath": "230504/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "230504",
      "contentType": "markdown",
      "flattenedPath": "230504"
    },
    "type": "Post",
    "slug": "/230504",
    "categoryArray": [
      "대외활동"
    ],
    "readingTime": "21 min read",
    "excerpt": "AWS Summit 2023 2일차입니다. 1일차 행사에서는 AWS 의 기술들을 각 기업들이 어떻게 사용되고 발전되었는지가 주제였다면 이번 2일차에서는 난이도 별로 AWS에 대해서 설명해주고, 발전된 기술을 보여주는 시간을 가졋습니다. 저는 2일차에 참석해서 전문가들의 강연을 듣고 많은 것을 배우며 본 내용을 공유하고자 합니다. AWS Summit 2023..."
  },
  {
    "title": "JavaScript 동기와 비동기 완벽 가이드",
    "date": "2023-08-16T00:00:00.000Z",
    "categories": "프론트엔드 자바스크립트",
    "draft": true,
    "body": {
      "raw": "\n![메인이미지](메인이미지.png)\n\n## What is Single Thread?\n\njavascript 는 Single Thread 기반 언어 ⇒ 한 번에 하나의 작업만 수행 가능\n\n하지만! 동시에 병렬처리 해야 될 때가 있다\n\n그럴 때 javascript는 비동기 함수(setTimeout, ajax, Promise 객체 등)를 이용\n\n<br/>\n\n<aside>\n💡 자바스크립트 엔진 자체는 Single Thread 지만 특정 API 들은 브라우저/런타임을 통해 Multi Thread 로 작업 가능\n</aside>\n\n<br/>\n\n## 동기와 비동기\n\n동기(Synchronous) : 먼저 시작된 작업이 끝날 때까지 기다리다가 새로 시작(한번에 여러작업이 아닌 하나씩)\n\n비동기(Asynchronous): 작업이 끝날때까지 기다리지 않고 다음 작업 수행(한번에 여러작업을 처리함)\n\n![본문이미지1](본문이미지1.png)\n\n## 자바스크립트의 비동기 내장함수\n\n자바스크립트는 비동기 내장함수를 제공함 ⇒ setTimeout, XMLHttpRequest, fetch()\n\n### XMLHttpRequest\n\n- 현재는 잘 사용하지 않음\n- 관련 링크 : [https://7942yongdae.tistory.com/67](https://7942yongdae.tistory.com/67)\n\n### **setTimeout / clearTimeout**\n\n- setTimeout() 함수는 특정 코드를 바로 실행하지 않고 일정 시간동안 지연시킨 후 실행\n\n```jsx\n// 사용벙 : setTimeout(function() { 코드 or 콜백함수 }, 지연시간);\n\nsetTimeout(() => console.log(\"2초 후에 실행됨\"), 2000);\n\n// 지연 시간은 밀리초 단위로 기입. 1초 -> 1000\n// 2초 후에 콘솔에 \"2초 후에 실행됨\" 출력\n```\n\n- clearTimeout() 함수는 setTimeout()을 취소, 중지시킨다.\n- 디바운싱(debouncing) : 연이어 호출되는 함수들 중 마지막 함수(또는 제일 처음)만 호출하도록 하는 것\n\n```jsx\n// 사용법 : clearTimeout( [식별자] );\n\nvar timer;\ndocument.querySelector(\"#input\").addEventListener(\"input\", function (e) {\n  if (timer) {\n    // input 될 때 마다 이벤트가 발생하지 않도록 n-1 번째 이벤트 취소\n    clearTimeout(timer);\n  }\n  // n번째 이벤트만 남겨서 마지막 이벤트만 실행되게\n  timer = setTimeout(function () {\n    console.log(\"여기에 ajax 요청\", e.target.value);\n  }, 200);\n});\n```\n\n## Promise\n\n### What is Promise?\n\n- Promise의 상태는 프로세스가 기능을 수행하고 있는 중인지, 기능 수행이 완료되어 성공했는지 실패했는지에 대한 상태를 의미\n- promise의 객체는 new Promise()로 생성\n- 콜백 함수를 선언할 수 있고, 콜백 함수의 인자는 resolve, reject\n\n| 대기(pending)   | 진행 상태, Promise 객체가 생성되어 사용될 준비가 된 상태                                                        |\n| --------------- | --------------------------------------------------------------------------------------------------------------- |\n| 이행(Fulfilled) | 성공 상태, 비동기 처리에 의해 원하는 올바른 결과를 얻어와 그 결과를 정상적으로 처리하고자 resolve가 호출된 상태 |\n| 거부(Rejected)  | 실패 상태, 무언가 잘못되어 예외로 처리하고자 reject가 호출된 상태                                               |\n\n### promise 메서드 체인 (then/catch/finally)\n\n- 체이닝(chaining) : 동일한 객체에 메서드를 연결할 수 있는 것\n- then() - 성공(resolve) 시에는 then 메서드에 실행할 콜백 함수를 인자로 넘긴다.\n- catch() - 실패(reject) 시에는 catch 메서드에 실행할 콜백 함수를 인자로 넘긴다.\n- finally() - 성공/실패 여부와 상관없이 모두 실행 시에는 finally 메서드에 실행할 콜백 함수를 인자로 넘긴다.\n\n```jsx\npromise\n  .then(data => console.log(data))\n  .catch(err => console.error(err))\n  .finally(() => console.log(\"always run\")\n\n// 위와 같이 메서드를 체이닝하면 함수를 호출한 주체가 실행을 완료한 뒤 자기 자신을 리턴한다.\n```\n\n### promise 처리 흐름 보기\n\n![https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/promises.png](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/promises.png)\n\nnew Promise() 메서드를 호출하면 대기(Pending) 상태가 된다.\n\n이 때, 콜백 함수를 선언할 수 있고 인자는 resolve, reject이다.\n\n```jsx\nnew Promise(); // new Promise() 메서드 호출, 대기 상태\n\nnew Promise(function (resolve, reject) {\n  // 콜백 함수 선언\n  // ...\n});\n```\n\n콜백 함수의 인자 resolve를 실행하면 이행(Fulfilled) 상태가 된다.\n\n```jsx\nnew Promise(function (resolve, reject) {\n  resolve(); // 이행 상태\n});\n```\n\n또한, 이행 상태가 되면 then()을 이용하여 처리 결과 값을 받을 수 있다.\n\n```jsx\nfunction getData() {\n  return new Promise(function (resolve, reject) {\n    var data = \"resolve\";\n    resolve(data);\n  });\n}\n\ngetData().then(function (resolvedData) {\n  console.log(resolvedData); // \"resolve\"\n});\n```\n\n콜백 함수의 인자 reject를 실행하면 거부(Rejected) 상태가 된다.\n\n```jsx\nnew Promise(function (resolve, reject) {\n  reject();\n});\n```\n\n실패 상태가 되면 실패한 이유(실패 처리의 결과 값)를 catch()로 받을 수 있다.\n\n```jsx\nfunction getData() {\n  return new Promise(function (resolve, reject) {\n    reject(new Error(\"Request is failed\"));\n  });\n}\n\ngetData()\n  .then()\n  .catch(function (err) {\n    console.log(err); // Error: Request is failed\n  });\n```\n\n### Promise.all / Promise.race\n\n- `Promise.all`은 여러 작업을 동시에 처리하고, 작업이 모두 다 실행 완료되면 모두 다 반환한다.\n\n```jsx\nPromise.all([timer(1000), timer(2000), timer(3000)]).then((value) => {\n  console.log(value);\n});\n// [1000, 2000, 3000] → 3000까지 모두 다 실행이 끝난 후에 다 반환\n```\n\n- `Promise.race`은 실행이 가장 빠른 결과를 반환한다.\n\n```jsx\nPromise.race([timer(1000), timer(2000), timer(3000)]).then((value) => {\n  console.log(value);\n});\n// 1000 → 가장 빨리 실행된 1000 반환\n```\n\n## Fetch API\n\nFetch 함수는 자바스크립트에서 서버로 네트워크 요청을 보내고 응답을 받을 수 있도록 도와줌\n\nPromise 기반으로 구성되어 있어 비동기 처리에 편리\n\nPromise의 후속 처리 메서드인 then이나 catch와 같은 체이닝으로 작성 가능\n\n```jsx\n// fetch 기본 구조\nfetch(url, options) // url, options\n  .then((response) => response.json())\n  // 첫 번째 then에서는 데이터 타입을 결정한다.\n  .then((data) => {\n    console.log(data);\n  })\n  // 두 번째 then에서는 데이터를 전달 받는다.\n  .catch((error) => {\n    console.log(\"error\");\n  });\n// catch에서 에러 요청이 발생했을 때, 에러를 받는다.\n```\n\n## HTTP 요청 (Method)\n\n- Create -> `POST` (해당 URI를 요청하면 리소스를 생성)\n- Read -> `GET` (해당 리소스를 조회)\n- Update -> `PUT` (해당 리소스를 수정)\n- Delete -> `DELETE` (리소스를 삭제)\n\n### GET - 존재하는 자원을 요청, 데이터 가져올 때 사용\n\ndefault 동작이기 때문에 option을 작성 안해도 된다.\n\n```jsx\nfetch(\"https://jsonplaceholder.typicode.com/posts/1\")\n  .then((response) => response.json())\n  .then((data) => console.log(data))\n\n// json 형태로 파싱했기 때문에 json 형태의 데이터가 반환\n\n{\n  \"userId\": 1,\n  \"id\": 1,\n  \"title\": \"sunt aut facere repellat provident occaecati excepturi optio reprehenderit\",\n  \"body\": \"quia et suscipit↵suscipit recusandae consequuntur …strum rerum est autem sunt rem eveniet architecto\"\n}\n```\n\n### POST - 새로운 자원 생성 요청, 데이터 전달할 때 사용\n\nmethod 옵션을 POST로 지정해주고, headers 옵션으로 JSON 포맷 사용한다고 알려줘야 하며, body 옵션에는 요청 데이터를 JSON 포맷으로 넣어준다.\n\n```jsx\nfetch(\"https://jsonplaceholder.typicode.com/posts\", {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  body: JSON.stringify({\n    title: \"Test\",\n    body: \"I am testing!\",\n    userId: 1,\n  }),\n})\n  .then((response) => response.json())\n  .then((data) => console.log(data))\n\n// JSON.stringify() 메서드는 JavaScript 값이나 객체를 JSON 문자열로 변환한다.\n\n{title: \"Test\", body: \"I am testing!\", userId: 1, id: 101}\n```\n\n### PUT - 존재하는 자원 변경 요청, 데이터 수정할 때 사용\n\nmethod 옵션만 PUT으로 설정한다는 점 외에는 POST 방식과 비슷\n\n```jsx\nfetch(\"https://jsonplaceholder.typicode.com/posts\", {\n  method: \"PUT\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  body: JSON.stringify({\n    title: \"Test\",\n    body: \"I am testing!\",\n    userId: 1,\n  }),\n})\n  .then((response) => response.json())\n  .then((data) => console.log(data));\n```\n\n### DELETE - 존재하는 자원 삭제 요청\n\n보내는 데이터가 없기 때문에 headers, body 옵션이 필요 없음\n\n```jsx\nfetch(\"https://jsonplaceholder.typicode.com/posts/1\", {\n  method: \"DELETE\",\n})\n  .then((response) => response.json())\n  .then((data) => console.log(data));\n```\n\n## async/await\n\nthen()을 연쇄적으로 체이닝하다보면 콜백지옥마냥 혼란에 빠짐 ⇒ async/await 으로 해결\n\nasync/await는 비동기 코드를 동기적인 코드인 것처럼 직관적으로 바꿔주는 역할을 함 → 비동기 코드에 순서를 부여\n\nawait는 반드시 async 함수 안에서 실행되며, async는 항상 Promise 객체를 반환\n\nawait 키워드는, then을 대신해 then을 체이닝한 것처럼 순서대로 동작한다.\n\n```jsx\nasync function asyncFunc() {\n  let response = await fetch(\"#\");\n  let data = await response.json();\n  return data;\n}\n```\n\ntry-catch 구문을 사용하여 에러 처리를 할 수 있다는 것도 장점이다.\n\n```jsx\nasync function asyncFunc() {\n  try {  // try 안에 실행될 코드를 넣어주면 됨\n\t \tlet response = await fetch('#');\n\t\tlet data = await response.json();\n\t    return data;\n  } catch (e) {  // catch에는 에러시 실행될 코드\n    console.log(\"error : \", e)\n  }\n```\n\n## AJAX\n\n**A**synchronous **J**avaScript **A**nd **X**ML의 약자\n\n서버와 비동기적으로 통신할 때 사용하는 API\n\nAJAX를 사용하면 백그라운드 영역에서 비동기적으로 서버와 통신하여, 그 결과를 웹 페이지의 일부분에만 표시\n\nAJAX를 사용함으로써 웹 페이지 전체를 다시 로딩하지 않고도, 웹 페이지의 일부분만을 갱신할 수 있음\n\n## JSON\n\nJavaScript Object Notation의 약자\n\n데이터를 저장하거나 전송할 때 많이 사용되는 경량의 DATA 교환 형식\n\nJSON은 사람과 기계 모두 이해하기 쉬우며 용량이 작아서, 최근에는 JSON이 XML을 대체해서 데이터 전송 등에 많이 사용\n\nJSON 문서 형식은 자바스크립트 객체의 형식을 기반으로 만들어져서 자바스크립트 객체 표기법과 유사\n\n특정 언어에 종속되지 않기 때문에 다른 프로그래밍 언어를 이용해서도 쉽게 만들 수 있음\n\n## 자바스크립트 엔진(V8)\n\n![https://user-images.githubusercontent.com/15958325/194826292-d2789365-1ef8-4819-bcc5-e1978e478d70.gif](https://user-images.githubusercontent.com/15958325/194826292-d2789365-1ef8-4819-bcc5-e1978e478d70.gif)\n\n### Call Stack\n\n함수 호출을 스택방식으로 기록하는 자료 구조\n\n들어온 요청이 가장 밑에 쌓이고, 그 위에 스택이 쌓이는 구조\n\n⇒ LIFO(Last In First Out) : 가장 나중에 들어온 작업 먼저 처리\n\njavascript 는 Single Thread 기반 언어라서 하나의 Call Stack만을 가지고 한번에 하나의 Task만 처리\n\n<br/>\n\n### Memory Heap\n\n객체가 저장되는 메모리 공간\n\n콜 스택의 요소인 실행 컨텍스트는 힙에 저장된 객체를 참조\n\n<br/>\n\n## 실행 컨텍스트\n\n식별자를 등록하고 관리하는 스코프\n\n코드 실행 순서를 관리\n\n모든 코드는 실행 컨텍스트를 통해 실행/관리\n\n### 실행 컨택스트 동작순서\n\n1. 전역 코드 평가 : 변수/함수 선언문을 실행 ⇒ 전역변수/함수를 전역 스코프에 등록시킴\n\n2. 전역 코드 실행 : 런타임 시작되어 코드 순차실행 ⇒ 전역 변수에 값 할당, 함수 호출 ⇒ 함수 호출되어 함수 내부로 들어감\n\n3. 함수 코드 평가: 함수 내부 매개변수와 지역 변수 선언문 실행 ⇒ 매개변수, 지역변수가 실행 컨텍스트가 관리하는 지역 스코프에 등록 ⇒ arguments 객체 생성 및 지역 스코프에 등록, this 바인딩 결정\n\n4. 함수 코드 실행 : 런타임 시작되어 함수 코드 순차 실행 ⇒ 매개변수, 지역변수에 값 할당, 내부 매서드 실행\n\n## 브라우저 환경\n\n### Task Queue(Macrotask Queue, Event Queue)\n\n비동기 함수의 콜백 함수, 이벤트 핸들러가 일시적으로 보관\n\nsetTimeout(), setInterval(), setImmediate() 와 같은 task 를 넘겨받음\n\n### Microtask Queue, Job Queue\n\nPromise, async/await, process.nextTick, Object.observe, MutationObserver 과 같은 비동기 호출을 넘겨받음\n\n우선순위가 Task Queue 보다 높다\n\nFIFO(First In First Out) 형태로 실행된다\n\nawait 을 만나면 작업을 중지하고 Microtask Queue 에 적재\n\n### Animation Frames\n\nrequestAnimationFrame 와 같이 브라우저 렌더링과 관련된 task 를 넘겨받는 Queue\n\nMicrotask 보다 우선순위가 낮고, Macrotask 보다는 높다.\n\n### Event Loop\n\n콜 스택에 현재 실행 중인 실행 컨텍스트가 있는지, task Queue 에 대기중인 함수가 있는지 반복해서 확인\n\n콜 스택이 비어있고 task Queue에 대기중인 함수가 있다면 이벤트 루프는 순차적으로 테스크 큐에 대기 중인 함수를 call stack 으로 이동\n\ncall stack 으로 이동한 함수는 실행됨\n\n```jsx\nconsole.log(\"Start!\");\n\nsetTimeout(() => {\n  console.log(\"Timeout!\");\n}, 0);\n\nPromise.resolve(\"Promise!\").then((res) => console.log(res));\n\nconsole.log(\"End!\");\n```\n\n![https://res.cloudinary.com/practicaldev/image/fetch/s---Bt6DKsn--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/6cbjuexvy6z9ltk0bi18.gif](https://res.cloudinary.com/practicaldev/image/fetch/s---Bt6DKsn--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/6cbjuexvy6z9ltk0bi18.gif)\n\n![https://res.cloudinary.com/practicaldev/image/fetch/s--6NSYq-nO--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/yqoemb6f32lvovge8yrp.gif](https://res.cloudinary.com/practicaldev/image/fetch/s--6NSYq-nO--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/yqoemb6f32lvovge8yrp.gif)\n\n![https://res.cloudinary.com/practicaldev/image/fetch/s--us8FF30N--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/6wxjxduh62fqt531e2rc.gif](https://res.cloudinary.com/practicaldev/image/fetch/s--us8FF30N--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/6wxjxduh62fqt531e2rc.gif)\n\n![https://res.cloudinary.com/practicaldev/image/fetch/s--oOS_-CiG--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/a6jk0exl137yka3oq9k4.gif](https://res.cloudinary.com/practicaldev/image/fetch/s--oOS_-CiG--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/a6jk0exl137yka3oq9k4.gif)\n\n![https://res.cloudinary.com/practicaldev/image/fetch/s--hPFPTZp2--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/p54casaaz9oq0g8ztpi5.gif](https://res.cloudinary.com/practicaldev/image/fetch/s--hPFPTZp2--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/p54casaaz9oq0g8ztpi5.gif)\n\n## 응용문제 풀어보기 (자바스크립트 엔진 V8 - Chrome)\n\n![응용문제](응용문제.png)\n\n### 실행 순서\n\n1. a() 함수 호출\n2. a() 함수 ⇒ call stack 에 추가\n3. **a1 출력**\n4. b() 함수 호출\n5. b() 함수 ⇒ call stack 에 추가\n6. **b1 출력**\n7. c() 함수 호출\n8. c() 함수 ⇒ call stack에 추가\n9. **c1 출력**\n10. setTimeout 이 실행되어 task queue 로 이동\n11. await d() 실행 ⇒ d () 함수로 이동\n12. d() 함수 호출\n13. d() 함수 ⇒ call stack 에 추가\n14. **d1 출력**\n15. Promise 생성 ⇒ then() 핸들러가 micro task queue 로 이동\n16. **d2() 출력**\n17. d() 함수가 call stack 에서 제거\n18. then() 핸들러가 micro task queue 에서 call stack 으로 이동\n19. **then! 출력**\n20. c() 함수 종료\n21. **c2 출력**\n22. c() 함수 call stack 에서 제거\n23. b() 함수 종료\n24. **b2 출력**\n25. b() 함수 call stack 에서 제거\n26. a() 함수 종료\n27. **a2 출력**\n28. a() 함수 call stack 에서 제거\n29. 타이머 만료되어 task queue 에서 call stack 으로 이동\n30. **setTimeout 출력**\n\n## 정리\n\n- 이벤트 루프가 비동기 작업을 처리하는 우선순위는 **Microtask Queue -> Animation Frames -> Task Queue** 순이다.\n- 이벤트 루프는 Microtask Queue나 Animation Frames를 방문할 때는, 큐 안에 있는 **모든 작업들을 수행**\n- Task Queue를 방문할 때는 **한 번에 하나의 작업**만 call stack으로 전달하고 다른 Queue를 순회\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/230816/%EB%A9%94%EC%9D%B8%EC%9D%B4%EB%AF%B8%EC%A7%80.png\" alt=\"메인이미지\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"what-is-single-thread\"><a class=\"anchor\" href=\"#what-is-single-thread\">What is Single Thread?</a></h2>\n<p>javascript 는 Single Thread 기반 언어 ⇒ 한 번에 하나의 작업만 수행 가능</p>\n<p>하지만! 동시에 병렬처리 해야 될 때가 있다</p>\n<p>그럴 때 javascript는 비동기 함수(setTimeout, ajax, Promise 객체 등)를 이용</p>\n<h2 id=\"동기와-비동기\"><a class=\"anchor\" href=\"#동기와-비동기\">동기와 비동기</a></h2>\n<p>동기(Synchronous) : 먼저 시작된 작업이 끝날 때까지 기다리다가 새로 시작(한번에 여러작업이 아닌 하나씩)</p>\n<p>비동기(Asynchronous): 작업이 끝날때까지 기다리지 않고 다음 작업 수행(한번에 여러작업을 처리함)</p>\n<p><img src=\"/content/230816/%EB%B3%B8%EB%AC%B8%EC%9D%B4%EB%AF%B8%EC%A7%801.png\" alt=\"본문이미지1\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"자바스크립트의-비동기-내장함수\"><a class=\"anchor\" href=\"#자바스크립트의-비동기-내장함수\">자바스크립트의 비동기 내장함수</a></h2>\n<p>자바스크립트는 비동기 내장함수를 제공함 ⇒ setTimeout, XMLHttpRequest, fetch()</p>\n<h3 id=\"xmlhttprequest\"><a class=\"anchor\" href=\"#xmlhttprequest\">XMLHttpRequest</a></h3>\n<ul>\n<li>현재는 잘 사용하지 않음</li>\n<li>관련 링크 : <a href=\"https://7942yongdae.tistory.com/67\">https://7942yongdae.tistory.com/67</a></li>\n</ul>\n<h3 id=\"settimeout--cleartimeout\"><a class=\"anchor\" href=\"#settimeout--cleartimeout\"><strong>setTimeout / clearTimeout</strong></a></h3>\n<ul>\n<li>setTimeout() 함수는 특정 코드를 바로 실행하지 않고 일정 시간동안 지연시킨 후 실행</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 사용벙 : setTimeout(function() { 코드 or 콜백함수 }, 지연시간);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"2초 후에 실행됨\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 지연 시간은 밀리초 단위로 기입. 1초 -> 1000</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 2초 후에 콘솔에 \"2초 후에 실행됨\" 출력</span></span></code></pre></figure>\n<ul>\n<li>clearTimeout() 함수는 setTimeout()을 취소, 중지시킨다.</li>\n<li>디바운싱(debouncing) : 연이어 호출되는 함수들 중 마지막 함수(또는 제일 처음)만 호출하도록 하는 것</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 사용법 : clearTimeout( [식별자] );</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> timer;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">document.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">querySelector</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"#input\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">addEventListener</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"input\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">e</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (timer) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // input 될 때 마다 이벤트가 발생하지 않도록 n-1 번째 이벤트 취소</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    clearTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(timer);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // n번째 이벤트만 남겨서 마지막 이벤트만 실행되게</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  timer </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"여기에 ajax 요청\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, e.target.value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">200</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span></code></pre></figure>\n<h2 id=\"promise\"><a class=\"anchor\" href=\"#promise\">Promise</a></h2>\n<h3 id=\"what-is-promise\"><a class=\"anchor\" href=\"#what-is-promise\">What is Promise?</a></h3>\n<ul>\n<li>Promise의 상태는 프로세스가 기능을 수행하고 있는 중인지, 기능 수행이 완료되어 성공했는지 실패했는지에 대한 상태를 의미</li>\n<li>promise의 객체는 new Promise()로 생성</li>\n<li>콜백 함수를 선언할 수 있고, 콜백 함수의 인자는 resolve, reject</li>\n</ul>\n<p>| 대기(pending)   | 진행 상태, Promise 객체가 생성되어 사용될 준비가 된 상태                                                        |\n| --------------- | --------------------------------------------------------------------------------------------------------------- |\n| 이행(Fulfilled) | 성공 상태, 비동기 처리에 의해 원하는 올바른 결과를 얻어와 그 결과를 정상적으로 처리하고자 resolve가 호출된 상태 |\n| 거부(Rejected)  | 실패 상태, 무언가 잘못되어 예외로 처리하고자 reject가 호출된 상태                                               |</p>\n<h3 id=\"promise-메서드-체인-thencatchfinally\"><a class=\"anchor\" href=\"#promise-메서드-체인-thencatchfinally\">promise 메서드 체인 (then/catch/finally)</a></h3>\n<ul>\n<li>체이닝(chaining) : 동일한 객체에 메서드를 연결할 수 있는 것</li>\n<li>then() - 성공(resolve) 시에는 then 메서드에 실행할 콜백 함수를 인자로 넘긴다.</li>\n<li>catch() - 실패(reject) 시에는 catch 메서드에 실행할 콜백 함수를 인자로 넘긴다.</li>\n<li>finally() - 성공/실패 여부와 상관없이 모두 실행 시에는 finally 메서드에 실행할 콜백 함수를 인자로 넘긴다.</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">promise</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(data))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">err</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(err))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">finally</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"always run\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 위와 같이 메서드를 체이닝하면 함수를 호출한 주체가 실행을 완료한 뒤 자기 자신을 리턴한다.</span></span></code></pre></figure>\n<h3 id=\"promise-처리-흐름-보기\"><a class=\"anchor\" href=\"#promise-처리-흐름-보기\">promise 처리 흐름 보기</a></h3>\n<p><img src=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/promises.png\" alt=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/promises.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>new Promise() 메서드를 호출하면 대기(Pending) 상태가 된다.</p>\n<p>이 때, 콜백 함수를 선언할 수 있고 인자는 resolve, reject이다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">new</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// new Promise() 메서드 호출, 대기 상태</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">new</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 콜백 함수 선언</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // ...</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span></code></pre></figure>\n<p>콜백 함수의 인자 resolve를 실행하면 이행(Fulfilled) 상태가 된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">new</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 이행 상태</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span></code></pre></figure>\n<p>또한, 이행 상태가 되면 then()을 이용하여 처리 결과 값을 받을 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"resolve\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(data);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">().</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolvedData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(resolvedData); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// \"resolve\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span></code></pre></figure>\n<p>콜백 함수의 인자 reject를 실행하면 거부(Rejected) 상태가 된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">new</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span></code></pre></figure>\n<p>실패 상태가 되면 실패한 이유(실패 처리의 결과 값)를 catch()로 받을 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Request is failed\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">err</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(err); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// Error: Request is failed</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span></code></pre></figure>\n<h3 id=\"promiseall--promiserace\"><a class=\"anchor\" href=\"#promiseall--promiserace\">Promise.all / Promise.race</a></h3>\n<ul>\n<li><code>Promise.all</code>은 여러 작업을 동시에 처리하고, 작업이 모두 다 실행 완료되면 모두 다 반환한다.</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">all</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">timer</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">timer</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">timer</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)]).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// [1000, 2000, 3000] → 3000까지 모두 다 실행이 끝난 후에 다 반환</span></span></code></pre></figure>\n<ul>\n<li><code>Promise.race</code>은 실행이 가장 빠른 결과를 반환한다.</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">race</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">timer</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">timer</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">timer</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)]).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 1000 → 가장 빨리 실행된 1000 반환</span></span></code></pre></figure>\n<h2 id=\"fetch-api\"><a class=\"anchor\" href=\"#fetch-api\">Fetch API</a></h2>\n<p>Fetch 함수는 자바스크립트에서 서버로 네트워크 요청을 보내고 응답을 받을 수 있도록 도와줌</p>\n<p>Promise 기반으로 구성되어 있어 비동기 처리에 편리</p>\n<p>Promise의 후속 처리 메서드인 then이나 catch와 같은 체이닝으로 작성 가능</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// fetch 기본 구조</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">fetch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(url, options) </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// url, options</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">response</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> response.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">json</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">())</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 첫 번째 then에서는 데이터 타입을 결정한다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(data);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 두 번째 then에서는 데이터를 전달 받는다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"error\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// catch에서 에러 요청이 발생했을 때, 에러를 받는다.</span></span></code></pre></figure>\n<h2 id=\"http-요청-method\"><a class=\"anchor\" href=\"#http-요청-method\">HTTP 요청 (Method)</a></h2>\n<ul>\n<li>Create -> <code>POST</code> (해당 URI를 요청하면 리소스를 생성)</li>\n<li>Read -> <code>GET</code> (해당 리소스를 조회)</li>\n<li>Update -> <code>PUT</code> (해당 리소스를 수정)</li>\n<li>Delete -> <code>DELETE</code> (리소스를 삭제)</li>\n</ul>\n<h3 id=\"get---존재하는-자원을-요청-데이터-가져올-때-사용\"><a class=\"anchor\" href=\"#get---존재하는-자원을-요청-데이터-가져올-때-사용\">GET - 존재하는 자원을 요청, 데이터 가져올 때 사용</a></h3>\n<p>default 동작이기 때문에 option을 작성 안해도 된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">fetch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"https://jsonplaceholder.typicode.com/posts/1\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">response</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> response.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">json</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">())</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(data))</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// json 형태로 파싱했기 때문에 json 형태의 데이터가 반환</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">  \"userId\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">  \"id\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">  \"title\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"sunt aut facere repellat provident occaecati excepturi optio reprehenderit\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">  \"body\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"quia et suscipit↵suscipit recusandae consequuntur …strum rerum est autem sunt rem eveniet architecto\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h3 id=\"post---새로운-자원-생성-요청-데이터-전달할-때-사용\"><a class=\"anchor\" href=\"#post---새로운-자원-생성-요청-데이터-전달할-때-사용\">POST - 새로운 자원 생성 요청, 데이터 전달할 때 사용</a></h3>\n<p>method 옵션을 POST로 지정해주고, headers 옵션으로 JSON 포맷 사용한다고 알려줘야 하며, body 옵션에는 요청 데이터를 JSON 포맷으로 넣어준다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">fetch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"https://jsonplaceholder.typicode.com/posts\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  method: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"POST\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  headers: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">    \"Content-Type\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"application/json\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  body: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">JSON</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">stringify</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    title: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Test\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    body: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"I am testing!\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    userId: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">})</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">response</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> response.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">json</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">())</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(data))</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// JSON.stringify() 메서드는 JavaScript 값이나 객체를 JSON 문자열로 변환한다.</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">title</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Test\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">body</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"I am testing!\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">userId</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">id</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">101</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h3 id=\"put---존재하는-자원-변경-요청-데이터-수정할-때-사용\"><a class=\"anchor\" href=\"#put---존재하는-자원-변경-요청-데이터-수정할-때-사용\">PUT - 존재하는 자원 변경 요청, 데이터 수정할 때 사용</a></h3>\n<p>method 옵션만 PUT으로 설정한다는 점 외에는 POST 방식과 비슷</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">fetch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"https://jsonplaceholder.typicode.com/posts\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  method: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"PUT\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  headers: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">    \"Content-Type\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"application/json\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  body: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">JSON</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">stringify</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    title: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Test\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    body: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"I am testing!\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    userId: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">})</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">response</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> response.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">json</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">())</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(data));</span></span></code></pre></figure>\n<h3 id=\"delete---존재하는-자원-삭제-요청\"><a class=\"anchor\" href=\"#delete---존재하는-자원-삭제-요청\">DELETE - 존재하는 자원 삭제 요청</a></h3>\n<p>보내는 데이터가 없기 때문에 headers, body 옵션이 필요 없음</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">fetch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"https://jsonplaceholder.typicode.com/posts/1\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  method: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"DELETE\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">})</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">response</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> response.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">json</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">())</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(data));</span></span></code></pre></figure>\n<h2 id=\"asyncawait\"><a class=\"anchor\" href=\"#asyncawait\">async/await</a></h2>\n<p>then()을 연쇄적으로 체이닝하다보면 콜백지옥마냥 혼란에 빠짐 ⇒ async/await 으로 해결</p>\n<p>async/await는 비동기 코드를 동기적인 코드인 것처럼 직관적으로 바꿔주는 역할을 함 → 비동기 코드에 순서를 부여</p>\n<p>await는 반드시 async 함수 안에서 실행되며, async는 항상 Promise 객체를 반환</p>\n<p>await 키워드는, then을 대신해 then을 체이닝한 것처럼 순서대로 동작한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">async</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> asyncFunc</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> response </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> await</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> fetch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"#\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> await</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> response.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">json</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>try-catch 구문을 사용하여 에러 처리를 할 수 있다는 것도 장점이다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">async</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> asyncFunc</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {  </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// try 안에 실행될 코드를 넣어주면 됨</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">\t \tlet</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> response </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> await</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> fetch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'#'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">\t\tlet</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> await</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> response.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">json</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">\t    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (e) {  </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// catch에는 에러시 실행될 코드</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"error : \"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, e)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span></code></pre></figure>\n<h2 id=\"ajax\"><a class=\"anchor\" href=\"#ajax\">AJAX</a></h2>\n<p><strong>A</strong>synchronous <strong>J</strong>avaScript <strong>A</strong>nd <strong>X</strong>ML의 약자</p>\n<p>서버와 비동기적으로 통신할 때 사용하는 API</p>\n<p>AJAX를 사용하면 백그라운드 영역에서 비동기적으로 서버와 통신하여, 그 결과를 웹 페이지의 일부분에만 표시</p>\n<p>AJAX를 사용함으로써 웹 페이지 전체를 다시 로딩하지 않고도, 웹 페이지의 일부분만을 갱신할 수 있음</p>\n<h2 id=\"json\"><a class=\"anchor\" href=\"#json\">JSON</a></h2>\n<p>JavaScript Object Notation의 약자</p>\n<p>데이터를 저장하거나 전송할 때 많이 사용되는 경량의 DATA 교환 형식</p>\n<p>JSON은 사람과 기계 모두 이해하기 쉬우며 용량이 작아서, 최근에는 JSON이 XML을 대체해서 데이터 전송 등에 많이 사용</p>\n<p>JSON 문서 형식은 자바스크립트 객체의 형식을 기반으로 만들어져서 자바스크립트 객체 표기법과 유사</p>\n<p>특정 언어에 종속되지 않기 때문에 다른 프로그래밍 언어를 이용해서도 쉽게 만들 수 있음</p>\n<h2 id=\"자바스크립트-엔진v8\"><a class=\"anchor\" href=\"#자바스크립트-엔진v8\">자바스크립트 엔진(V8)</a></h2>\n<p><img src=\"https://user-images.githubusercontent.com/15958325/194826292-d2789365-1ef8-4819-bcc5-e1978e478d70.gif\" alt=\"https://user-images.githubusercontent.com/15958325/194826292-d2789365-1ef8-4819-bcc5-e1978e478d70.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"call-stack\"><a class=\"anchor\" href=\"#call-stack\">Call Stack</a></h3>\n<p>함수 호출을 스택방식으로 기록하는 자료 구조</p>\n<p>들어온 요청이 가장 밑에 쌓이고, 그 위에 스택이 쌓이는 구조</p>\n<p>⇒ LIFO(Last In First Out) : 가장 나중에 들어온 작업 먼저 처리</p>\n<p>javascript 는 Single Thread 기반 언어라서 하나의 Call Stack만을 가지고 한번에 하나의 Task만 처리</p>\n<h3 id=\"memory-heap\"><a class=\"anchor\" href=\"#memory-heap\">Memory Heap</a></h3>\n<p>객체가 저장되는 메모리 공간</p>\n<p>콜 스택의 요소인 실행 컨텍스트는 힙에 저장된 객체를 참조</p>\n<h2 id=\"실행-컨텍스트\"><a class=\"anchor\" href=\"#실행-컨텍스트\">실행 컨텍스트</a></h2>\n<p>식별자를 등록하고 관리하는 스코프</p>\n<p>코드 실행 순서를 관리</p>\n<p>모든 코드는 실행 컨텍스트를 통해 실행/관리</p>\n<h3 id=\"실행-컨택스트-동작순서\"><a class=\"anchor\" href=\"#실행-컨택스트-동작순서\">실행 컨택스트 동작순서</a></h3>\n<ol>\n<li>\n<p>전역 코드 평가 : 변수/함수 선언문을 실행 ⇒ 전역변수/함수를 전역 스코프에 등록시킴</p>\n</li>\n<li>\n<p>전역 코드 실행 : 런타임 시작되어 코드 순차실행 ⇒ 전역 변수에 값 할당, 함수 호출 ⇒ 함수 호출되어 함수 내부로 들어감</p>\n</li>\n<li>\n<p>함수 코드 평가: 함수 내부 매개변수와 지역 변수 선언문 실행 ⇒ 매개변수, 지역변수가 실행 컨텍스트가 관리하는 지역 스코프에 등록 ⇒ arguments 객체 생성 및 지역 스코프에 등록, this 바인딩 결정</p>\n</li>\n<li>\n<p>함수 코드 실행 : 런타임 시작되어 함수 코드 순차 실행 ⇒ 매개변수, 지역변수에 값 할당, 내부 매서드 실행</p>\n</li>\n</ol>\n<h2 id=\"브라우저-환경\"><a class=\"anchor\" href=\"#브라우저-환경\">브라우저 환경</a></h2>\n<h3 id=\"task-queuemacrotask-queue-event-queue\"><a class=\"anchor\" href=\"#task-queuemacrotask-queue-event-queue\">Task Queue(Macrotask Queue, Event Queue)</a></h3>\n<p>비동기 함수의 콜백 함수, 이벤트 핸들러가 일시적으로 보관</p>\n<p>setTimeout(), setInterval(), setImmediate() 와 같은 task 를 넘겨받음</p>\n<h3 id=\"microtask-queue-job-queue\"><a class=\"anchor\" href=\"#microtask-queue-job-queue\">Microtask Queue, Job Queue</a></h3>\n<p>Promise, async/await, process.nextTick, Object.observe, MutationObserver 과 같은 비동기 호출을 넘겨받음</p>\n<p>우선순위가 Task Queue 보다 높다</p>\n<p>FIFO(First In First Out) 형태로 실행된다</p>\n<p>await 을 만나면 작업을 중지하고 Microtask Queue 에 적재</p>\n<h3 id=\"animation-frames\"><a class=\"anchor\" href=\"#animation-frames\">Animation Frames</a></h3>\n<p>requestAnimationFrame 와 같이 브라우저 렌더링과 관련된 task 를 넘겨받는 Queue</p>\n<p>Microtask 보다 우선순위가 낮고, Macrotask 보다는 높다.</p>\n<h3 id=\"event-loop\"><a class=\"anchor\" href=\"#event-loop\">Event Loop</a></h3>\n<p>콜 스택에 현재 실행 중인 실행 컨텍스트가 있는지, task Queue 에 대기중인 함수가 있는지 반복해서 확인</p>\n<p>콜 스택이 비어있고 task Queue에 대기중인 함수가 있다면 이벤트 루프는 순차적으로 테스크 큐에 대기 중인 함수를 call stack 으로 이동</p>\n<p>call stack 으로 이동한 함수는 실행됨</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Start!\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Timeout!\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Promise!\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">res</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(res));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"End!\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span></code></pre></figure>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s---Bt6DKsn--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/6cbjuexvy6z9ltk0bi18.gif\" alt=\"https://res.cloudinary.com/practicaldev/image/fetch/s---Bt6DKsn--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/6cbjuexvy6z9ltk0bi18.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--6NSYq-nO--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/yqoemb6f32lvovge8yrp.gif\" alt=\"https://res.cloudinary.com/practicaldev/image/fetch/s--6NSYq-nO--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/yqoemb6f32lvovge8yrp.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--us8FF30N--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/6wxjxduh62fqt531e2rc.gif\" alt=\"https://res.cloudinary.com/practicaldev/image/fetch/s--us8FF30N--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/6wxjxduh62fqt531e2rc.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--oOS_-CiG--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/a6jk0exl137yka3oq9k4.gif\" alt=\"https://res.cloudinary.com/practicaldev/image/fetch/s--oOS_-CiG--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/a6jk0exl137yka3oq9k4.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--hPFPTZp2--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/p54casaaz9oq0g8ztpi5.gif\" alt=\"https://res.cloudinary.com/practicaldev/image/fetch/s--hPFPTZp2--/c_limit,f_auto,fl_progressive,q_66,w_880/https://dev-to-uploads.s3.amazonaws.com/i/p54casaaz9oq0g8ztpi5.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"응용문제-풀어보기-자바스크립트-엔진-v8---chrome\"><a class=\"anchor\" href=\"#응용문제-풀어보기-자바스크립트-엔진-v8---chrome\">응용문제 풀어보기 (자바스크립트 엔진 V8 - Chrome)</a></h2>\n<p><img src=\"/content/230816/%EC%9D%91%EC%9A%A9%EB%AC%B8%EC%A0%9C.png\" alt=\"응용문제\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"실행-순서\"><a class=\"anchor\" href=\"#실행-순서\">실행 순서</a></h3>\n<ol>\n<li>a() 함수 호출</li>\n<li>a() 함수 ⇒ call stack 에 추가</li>\n<li><strong>a1 출력</strong></li>\n<li>b() 함수 호출</li>\n<li>b() 함수 ⇒ call stack 에 추가</li>\n<li><strong>b1 출력</strong></li>\n<li>c() 함수 호출</li>\n<li>c() 함수 ⇒ call stack에 추가</li>\n<li><strong>c1 출력</strong></li>\n<li>setTimeout 이 실행되어 task queue 로 이동</li>\n<li>await d() 실행 ⇒ d () 함수로 이동</li>\n<li>d() 함수 호출</li>\n<li>d() 함수 ⇒ call stack 에 추가</li>\n<li><strong>d1 출력</strong></li>\n<li>Promise 생성 ⇒ then() 핸들러가 micro task queue 로 이동</li>\n<li><strong>d2() 출력</strong></li>\n<li>d() 함수가 call stack 에서 제거</li>\n<li>then() 핸들러가 micro task queue 에서 call stack 으로 이동</li>\n<li><strong>then! 출력</strong></li>\n<li>c() 함수 종료</li>\n<li><strong>c2 출력</strong></li>\n<li>c() 함수 call stack 에서 제거</li>\n<li>b() 함수 종료</li>\n<li><strong>b2 출력</strong></li>\n<li>b() 함수 call stack 에서 제거</li>\n<li>a() 함수 종료</li>\n<li><strong>a2 출력</strong></li>\n<li>a() 함수 call stack 에서 제거</li>\n<li>타이머 만료되어 task queue 에서 call stack 으로 이동</li>\n<li><strong>setTimeout 출력</strong></li>\n</ol>\n<h2 id=\"정리\"><a class=\"anchor\" href=\"#정리\">정리</a></h2>\n<ul>\n<li>이벤트 루프가 비동기 작업을 처리하는 우선순위는 <strong>Microtask Queue -> Animation Frames -> Task Queue</strong> 순이다.</li>\n<li>이벤트 루프는 Microtask Queue나 Animation Frames를 방문할 때는, 큐 안에 있는 <strong>모든 작업들을 수행</strong></li>\n<li>Task Queue를 방문할 때는 <strong>한 번에 하나의 작업</strong>만 call stack으로 전달하고 다른 Queue를 순회</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "230816/index.md",
    "_raw": {
      "sourceFilePath": "230816/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "230816",
      "contentType": "markdown",
      "flattenedPath": "230816"
    },
    "type": "Post",
    "slug": "/230816",
    "categoryArray": [
      "프론트엔드",
      "자바스크립트"
    ],
    "readingTime": "17 min read",
    "excerpt": "What is Single Thread? javascript 는 Single Thread 기반 언어 ⇒ 한 번에 하나의 작업만 수행 가능 하지만! 동시에 병렬처리 해야 될 때가 있다 그럴 때 javascript는 비동기 함수(setTimeout, ajax, Promise 객체 등)를 이용 자바스크립트 엔진 자체는 Single Thread 지만 특정 API ..."
  },
  {
    "title": "Convention List",
    "date": "2023-07-07T00:00:00.000Z",
    "categories": "프론트엔드 소박한궁금증",
    "draft": true,
    "body": {
      "raw": "\n## Branch 구조와 전략을 세워보자!\n\n코드를 작성하다보면 엄청나게 많은 Branch를 만들어야한다. 어떻게 구조를 잡아야할지 알아보자!\n\n![1.png](1.png)\n\n<br>\n\n### Branch Structure(Gitflow 전략)\n\n- **`master`**\n  - 제품의 안정된 버전을 유지하는 브랜치, 배포 가능한 코드만을 허용하며, 직접적인 작업은 X\n- **`develop`**\n  - 개발의 중심이 되는 브랜치, 다른 개발자들과의 협업 및 새로운 기능 개발을 위해 사용\n- **`feature`**\n  - 새로운 기능 개발을 위한 branch, 개별 기능 또는 작업 단위로 생성 되며 develop 에서 분기됨\n  - 개발이 완료되어 pr 이 merge 되면 해당 feature branch 는 삭제(줄기관리)\n  - feature 은 작은 단위의 issue 가 된다.\n  - 올바른 branch 관리를 하기위해 각 feature 은 해당하는 이슈의 문제만 해결한다!\n- **`release`**\n  - 배포를 준비하기 위한 branch, 배포 전 마지막 테스트와 버그 수정 진행\n  - develop 에서 분기되며, 완료되면 develop과 master 로 병합.\n  - 해당 작업을 진행할때는 문서화(Docs) 정리를 해서 이전 버전에대한 관리를 해야함\n- **`hotfix`**\n  - 긴급한 버그 수정을 위한 브랜치. master 에서 분기되어 수정 작업을 진행하고, 완료되면 develop과 master 로 병합.\n\n<br>\n\n### Work Flow\n\n- 새로운 기능 개발 시: **`develop`** 에서 **`feature`** 를 생성하여 개발, 기능이 완료되면 **`develop`** 으로 병합\n- 버그 수정 시: **`develop`** 에서 **`bugfix`,`fix`** 를 생성하여 수정 작업을 진행. 완료되면 **`develop`** 로 병합합니다.\n- 배포 시: **`develop`** 의 안정된 상태에서 **`master`** 로 병합. 버전 태그를 추가하여 배포 버전을 명시\n\n<br>\n\n### Branch Naming Rule\n\n- master, develop 고정\n- feature/{issue-number}-{feature-name}\n  - 칸반으로 이슈에 따른 작업을 진행하기로 했던 것같아서 위 방법을 사용하는게 어떨까\n  - ex) feature/12-love-deajeon / feature/1-init-project 등과 같이\n  - `-` 를 이용해서 연결, 대문자 사용 x\n- release 는 release/1.3 과 같이 / 다음 버전 정보 등록\n\n<br>\n\n## 커밋 메세지를 명확하게 작성하는 방법은!?\n\n![2.jpeg](2.jpeg)\n\n커밋 메세지는 다른 개발자에게도 보여진다!\n\n너무 자세하게 적어도 문제이고, 대충 적어도 문제인 커밋 메세지를 어떻게 명확하게 작성할까!? 찾아보자!!\n\n<br>\n\n### Commit Message Convention\n\n- Commit Message 작성은 다음 한칸만 띄우고 작성하자 ⇒ **Ex) Feat: 하이루**\n\n<br>\n\n| 단어             | 사용법                                                                                        |\n| ---------------- | --------------------------------------------------------------------------------------------- |\n| Feat             | 새로운 기능을 추가                                                                            |\n| Fix              | 버그 수정                                                                                     |\n| Design           | CSS 등 사용자 UI 디자인 변경                                                                  |\n| !BREAKING CHANGE | 커다란 API 변경의 경우                                                                        |\n| !HOTFIX          | 급하게 치명적인 버그를 고쳐야하는 경우                                                        |\n| Style            | 코드 포맷 변경, 세미 콜론 누락, 코드 수정이 없는 경우                                         |\n| Refactor         | 프로덕션 코드 리팩토링                                                                        |\n| Comment          | 필요한 주석 추가 및 변경                                                                      |\n| Docs             | 문서 수정                                                                                     |\n| Test             | 테스트 코드, 리펙토링 테스트 코드 추가, Production Code(실제로 사용하는 코드) 변경 없음       |\n| Chore            | 빌드 업무 수정, 패키지 매니저 수정, 패키지 관리자 구성 등 업데이트, Production Code 변경 없음 |\n| Rename           | 파일 혹은 폴더명을 수정하거나 옮기는 작업만인 경우                                            |\n| Remove           | 파일을 삭제하는 작업만 수행한 경우                                                            |\n\n<br>\n\n### Commit Message 자세하게 알아보자\n\n1. Commit message 는 영문으로, 한글로 작성 가능(단, 영문으로 작성시에는 동사를 사용)\n2. 특수문자는 사용하지않는다.\n3. 첫글자는 대문자로 작성한다.\n4. 최대한 자세하고 직관적인 Commit message 를 작성하자\n5. 이슈 번호는 # 으로 구분짓는다.\n   - Ex) 내가 develop branch 에서 이슈번호 13번의 button 의 props 를 함수화하도록 리팩토링 요청을 받으면 ⇒ **feature/13—implement-button-props-function** 이라는 branch 를 만들어서 commit message 는 **Feat: #13 Implement button props as a function**\n6. 귀여움을 위해 이모지를 써보는것도..!? (사용하는 회사도 있다고합니다!?)\n\n   | 이모지 | 설명                                                              |\n   | ------ | ----------------------------------------------------------------- |\n   | 🎨     | 코드의 형식 / 구조를 개선 할 때                                   |\n   | 📰     | 새 파일을 만들 때                                                 |\n   | 📝     | 사소한 코드 또는 언어를 변경할 때                                 |\n   | 🐎     | 성능을 향상시킬 때                                                |\n   | 📚     | 문서를 쓸 때                                                      |\n   | 🐛     | 버그 reporting할 때, @FIXME 주석 태그 삽입                        |\n   | 🚑     | 버그를 고칠 때                                                    |\n   | 🐧     | 리눅스에서 무언가를 고칠 때                                       |\n   | 🍎     | Mac OS에서 무언가를 고칠 때                                       |\n   | 🏁     | Windows에서 무언가를 고칠 때                                      |\n   | 🔥     | 코드 또는 파일 제거할 때 , @CHANGED주석 태그와 함께               |\n   | 🚜     | 파일 구조를 변경할 때 . 🎨과 함께 사용                            |\n   | 🔨     | 코드를 리팩토링 할 때                                             |\n   | ☔️     | 테스트를 추가 할 때                                               |\n   | 🔬     | 코드 범위를 추가 할 때                                            |\n   | 💚     | CI 빌드를 고칠 때                                                 |\n   | 🔒     | 보안을 다룰 때                                                    |\n   | ⬆️     | 종속성을 업그레이드 할 때                                         |\n   | ⬇️     | 종속성을 다운 그레이드 할 때                                      |\n   | ⏩     | 이전 버전 / 지점에서 기능을 전달할 때                             |\n   | ⏪     | 최신 버전 / 지점에서 기능을 백 포트 할 때                         |\n   | 👕     | linter / strict / deprecation 경고를 제거 할 때                   |\n   | 💄     | UI / style 개선시                                                 |\n   | ♿️     | 접근성을 향상시킬 때                                              |\n   | 🚧     | WIP (진행중인 작업)에 커밋, @REVIEW주석 태그와 함께 사용          |\n   | 💎     | New Release                                                       |\n   | 🔖     | 버전 태그                                                         |\n   | 🎉     | Initial Commit                                                    |\n   | 🔈     | 로깅을 추가 할 때                                                 |\n   | 🔇     | 로깅을 줄일 때                                                    |\n   | ✨     | 새로운 기능을 소개 할 때                                          |\n   | ⚡️     | 도입 할 때 이전 버전과 호환되지 않는 특징, @CHANGED주석 태그 사용 |\n   | 💡     | 새로운 아이디어, @IDEA주석 태그                                   |\n   | 🚀     | 배포 / 개발 작업 과 관련된 모든 것                                |\n   | 🐘     | PostgreSQL 데이터베이스 별 (마이그레이션, 스크립트, 확장 등)      |\n   | 🐬     | MySQL 데이터베이스 특정 (마이그레이션, 스크립트, 확장 등)         |\n   | 🍃     | MongoDB 데이터베이스 특정 (마이그레이션, 스크립트, 확장 등)       |\n   | 🏦     | 일반 데이터베이스 별 (마이그레이션, 스크립트, 확장명 등)          |\n   | 🐳     | 도커 구성                                                         |\n   | 🤝     | 파일을 병합 할 때                                                 |\n\n<br>\n\n## 코드를 규칙을 가지고 이쁘게 작성하는 방법!\n\n이쁜 코드를 작성하기 위해서 사람들과 양식을 정해야한다!! 그래야 여러사람이 쓸모없는 시간을 코드 수정하는데 사용하지 않기 때문에!!\n\n~~똑바로 안하면, 이렇게 비둘기가 돌아버린다!!~~\n\n![3.gif](3.gif)\n\n<br>\n\n### Code Convention\n\n1. Naming conventions\n   - Components 는 Pascal Case(첫 단어 대문자)\n\n     ```tsx\n     Component.tsx Footer.tsx Mainbox.tsx\n     ```\n\n   - Non-components 는 Camel Case(띄어쓰기대신 대문자로 구분)\n\n     ```tsx\n     loveDeajeon.ts iWentGoingJeju.ts hungryReact.ts\n     ```\n\n   - Unit Test(단위테스트) 는 파일명과 동일하게 동작\n\n     ```tsx\n     MainItem.ts => MainItem.test.ts\n     ```\n\n2. Bug Avoidance(버그피하기)\n   - null, undefined 일 조건은 optional chaning(?.) 연산자 사용\n   - console.log 남기지 말기\n   - side-effects 방지를 위해 외부데이터 props 로 받아서 사용\n   - props 는 읽기전용으로 직접수정 x\n   - 불필요한 주석은 남기지 않기\n   - React 의 return 내부에 직접적인 함수처리 자제하기\n   - 각 function , import 사이에 1줄 공백으로 구분하기\n3. ES6\n   - spread 연산자 사용\n   - 구조분해할당 사용\n   - let, const 사용 (var 은 사용금지)\n   - 화살표함수 적극사용\n   - 직접적인 null 을 체크해주는 코드 만들지말고 optional chaining 사용\n\n4. TypeScript\n   - 클래스, 타입, 인터페이스, 변수, 함수, 메서드에 Camel Case 사용(띄어쓰기 대신 대문자)\n   - 상수는 Snake Case 사용(언더바), 그리고 상수이름 명확하게 할 것\n   - 공백 2개또는 4개 설정하기\n   - 변수, 함수, 매개변수, 함수 반환에 명시적 타입선언\n   - 줄바꿈과 공백을 함수사이에 적극 사용해 구분, 연관된 코드끼리 붙어있도록 신경쓰기\n\n<br>\n\n### Prettier, ESlint, airbnb Js style\n\n- prettier , eslint , airbnb js style 설치\n\n  ```tsx\n  yarn add prettier --save-dev --save-exact\n  yarn add eslint --save-dev\n  yarn add -peerdeps --dev eslint-config-airbnb\n  ```\n\n- eslint, prettier 충돌방지 설정\n\n  ```tsx\n  yarn add eslint-plugin-prettier eslint-config-prettier --save-dev\n  ```\n\n- eslint 설정파일 생성\n  .eslintrc.json 파일 생성 시 아래와 같은 내용을 추가한다.\n\n  ```json\n  {\n    \"env\": {\n      \"browser\": true,\n      \"es6\": true,\n      \"node\": true\n    },\n    \"extends\": [\"airbnb\", \"plugin:prettier/recommended\"],\n    \"rules\": {\n      \"react/jsx-filename-extension\": [1, { \"extensions\": [\".js\", \".jsx\"] }]\n    }\n  }\n  ```\n\n  - env 부분 ( document나 setTimeout과 같은 변수는 browser에서 사용되는 변수인데 설정하지 않는다면 ESLint에러로 인식하기 때문, 마찬가지로 node, es6에서 쓰이는 것들도 에러나지 않게하기 위해서 설정 )\n  - extends 부분\n    - 위에서 설치한 airbnb JS style 적용하기 위해 `airbnb` 추가한다.\n    - `plugin:prettier/recommended`를 추가함으로써 prettier 규칙을 eslint 규칙에 추가하고 prettier와 충돌하는 eslint 규칙을 끄는 역할을 한다.\n      결국 `eslint-config-prettier`와 `eslint-plugin-prettier`를 적용하기 위해서 작성한 것\n  - rules 부분\n    - `\"react/jsx-filename-extension\": [1, { \"extensions\": [\".js\", \".jsx\"] }]`\n      (Component.js와 같은 js파일에서 jsx문법을 사용했을 때 오류가 발생하는 문제를 해결할 수 있다.)\n    - 아래의 내용을 참고하여 추가하고 싶은 rule이 있다면 추가적으로 작성하면 된다.\n\n- prettier 생성파일 생성\n\n  ```jsx\n  // .prettierrc.js\n  // 일부 규칙을 추가했다.\n  // 그리고 주석을 적기 위해 json이 아닌 js파일로 생성하였음.\n\n  module.exports = {\n    singleQuote: true,\n    // 문자열은 singleQuote로 (\"\" -> '')\n    semi: true,\n    //코드 마지막에 세미콜론이 있게 formatting\n    tabWidth: 4,\n    // 들여쓰기 너비는 4칸\n    trailingComma: \"all\",\n    // 배열 키:값 뒤에 항상 콤마를 붙히도록 formatting\n    printWidth: 80,\n    // 코드 한줄이 maximum 80칸\n    arrowParens: \"avoid\",\n    // 화살표 함수가 하나의 매개변수를 받을 때 괄호를 생략하게 formatting\n    endOfLine: \"auto\",\n    // windows에 뜨는 'Delete cr' 에러 해결\n  };\n  ```\n\n  - prettier는 기본적으로 프로젝트의 root에 있는 .prettierrc 파일에 적힌 규칙에 의해서 동작.\n  - 프로젝트에 이 파일이 없으면 기본값으로 세팅된다.\n\n- setting.json (ctrl + , 또는 cmd +,)\n\n  ```json\n  {\n    // Set the default\n    \"editor.formatOnSave\": true,\n    // Enable per-language\n    \"[javascript]\": {\n      \"editor.formatOnSave\": false\n    },\n    \"editor.codeActionsOnSave\": {\n      // For ESLint\n      \"source.fixAll.eslint\": true\n    },\n    \"eslint.alwaysShowStatus\": true,\n    \"prettier.disableLanguages\": [\"js\"],\n    \"files.autoSave\": \"onFocusChange\"\n  }\n  ```\n\n  - `\"[javascript]\": { \"editor.formatOnSave\": false },`\n  - VSCode에 내장되어 있는 자바스크립트 포맷팅 기능을 사용하지 않고 Prettier 익스텐션을 사용하기 위해서 설정.\n  - `\"editor.codeActionsOnSave\": { // For ESLint \"source.fixAll.eslint\": true },`ESLint에 의한 자동 수정 기능을 활성화하기 위해서 설정\n  - `\"eslint.alwaysShowStatus\": true,`Vscode 하단 바에 ESLint도 표시되기 위해서 설정\n  - `\"prettier.disableLanguages\": [\"js\"],`ESLint와 연동된 prettier를 사용하기 위해서 사용한다고 한다.\n  - `\"files.autoSave\": \"onFocusChange\",`에디터 바깥으로 포커스가 이동 시 파일을 자동으로 저장하기 위해서 설정\n\n<br>\n\n## Folder Structure\n\n프론트엔드 스택은 React(vite), Typescript, Jotai , Styled-components, React Query, Axios, react-router-dom 를 예시로 했습니다!\n\n```javascript\nsrc/\n├── components/\n│   ├── common/\n│   │   ├── Button.tsx\n│   │   └── Input.tsx\n│   ├── layout/\n│   │   ├── Header.tsx\n│   │   └── Footer.tsx\n│   └── features/\n│       ├── Feature1/\n│       │   ├── Feature1.tsx\n│       │   ├── Feature1.styles.ts\n│       │   └── Feature1.test.tsx\n│       └── Feature2/\n│           ├── Feature2.tsx\n│           ├── Feature2.styles.ts\n│           └── Feature2.test.tsx\n├── hooks/\n│   ├── useAuth.ts\n│   ├── useData.ts\n│   └── ...\n├── pages/\n│   ├── Home.tsx\n│   ├── About.tsx\n│   ├── Contact.tsx\n│   └── ...\n├── services/\n│   ├── api.ts\n│   └── ...\n├── store/\n│   ├── store.ts\n│   └── ...\n├── styles/\n│   ├── globalStyles.ts\n│   └── theme.ts\n└── utils/\n    ├── helpers.ts\n    └── ...\n```\n\n- **`components/`** 폴더는 애플리케이션의 컴포넌트들을 저장하는 곳\n  - **`common/`** 폴더는 여러 곳에서 사용되는 공통 컴포넌트를 저장\n  - **`layout/`** 폴더는 애플리케이션의 레이아웃을 구성하는 컴포넌트들을 저장\n  - **`features/`** 폴더는 각각의 기능에 대한 컴포넌트들을 저장\n  - **`features/Feature1/`** 폴더에는 **`Feature1.tsx`** 컴포넌트와 해당 컴포넌트에 대한 스타일 및 테스트 파일을 저장\n- **`hooks/`** 폴더는 사용자 정의 훅을 저장\n  - **`useAuth.ts`** 파일은 인증과 관련된 커스텀 훅을 포함\n  - 코드의 재사용성을 높이고 로직을 분리하는 데 도움\n- **`pages/`** 폴더는 각각의 페이지 컴포넌트를 저장\n  - **`Home.tsx`**, **`About.tsx`**, **`Sign.tsx`** 등의 파일을 의미\n- **`services/`** 폴더는 데이터 통신과 관련된 파일 저장\n  - **`api.ts`** 파일은 API 호출을 추상화하는 함수들을 포함\n- **`store/`** 폴더는 전역 상태 관리를 위한 파일들을 저장 (jotai)\n  - **`store.ts`** 파일은 상태 관리를 설정하고 초기화하는 데 사용\n- **`styles/`** 폴더는 글로벌 스타일과 테마 설정과 관련된 파일 저장\n  - **`globalStyles.ts`** 파일은 글로벌 CSS 스타일을 설정\n  - **`theme.ts`** 파일은 애플리케이션의 테마 관련 상수나 스타일을 정의\n  - styled-components 는 여기서 관리 x\n- **`utils/`** 폴더는 유틸리티 함수나 도우미 함수를 저장\n  - 이러한 함수들은 애플리케이션 전반에서 사용\n\n```toc\n\n```\n",
      "html": "<h2 id=\"branch-구조와-전략을-세워보자\"><a class=\"anchor\" href=\"#branch-구조와-전략을-세워보자\">Branch 구조와 전략을 세워보자!</a></h2>\n<p>코드를 작성하다보면 엄청나게 많은 Branch를 만들어야한다. 어떻게 구조를 잡아야할지 알아보자!</p>\n<p><img src=\"/content/230707/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"branch-structuregitflow-전략\"><a class=\"anchor\" href=\"#branch-structuregitflow-전략\">Branch Structure(Gitflow 전략)</a></h3>\n<ul>\n<li><strong><code>master</code></strong>\n<ul>\n<li>제품의 안정된 버전을 유지하는 브랜치, 배포 가능한 코드만을 허용하며, 직접적인 작업은 X</li>\n</ul>\n</li>\n<li><strong><code>develop</code></strong>\n<ul>\n<li>개발의 중심이 되는 브랜치, 다른 개발자들과의 협업 및 새로운 기능 개발을 위해 사용</li>\n</ul>\n</li>\n<li><strong><code>feature</code></strong>\n<ul>\n<li>새로운 기능 개발을 위한 branch, 개별 기능 또는 작업 단위로 생성 되며 develop 에서 분기됨</li>\n<li>개발이 완료되어 pr 이 merge 되면 해당 feature branch 는 삭제(줄기관리)</li>\n<li>feature 은 작은 단위의 issue 가 된다.</li>\n<li>올바른 branch 관리를 하기위해 각 feature 은 해당하는 이슈의 문제만 해결한다!</li>\n</ul>\n</li>\n<li><strong><code>release</code></strong>\n<ul>\n<li>배포를 준비하기 위한 branch, 배포 전 마지막 테스트와 버그 수정 진행</li>\n<li>develop 에서 분기되며, 완료되면 develop과 master 로 병합.</li>\n<li>해당 작업을 진행할때는 문서화(Docs) 정리를 해서 이전 버전에대한 관리를 해야함</li>\n</ul>\n</li>\n<li><strong><code>hotfix</code></strong>\n<ul>\n<li>긴급한 버그 수정을 위한 브랜치. master 에서 분기되어 수정 작업을 진행하고, 완료되면 develop과 master 로 병합.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"work-flow\"><a class=\"anchor\" href=\"#work-flow\">Work Flow</a></h3>\n<ul>\n<li>새로운 기능 개발 시: <strong><code>develop</code></strong> 에서 <strong><code>feature</code></strong> 를 생성하여 개발, 기능이 완료되면 <strong><code>develop</code></strong> 으로 병합</li>\n<li>버그 수정 시: <strong><code>develop</code></strong> 에서 <strong><code>bugfix</code>,<code>fix</code></strong> 를 생성하여 수정 작업을 진행. 완료되면 <strong><code>develop</code></strong> 로 병합합니다.</li>\n<li>배포 시: <strong><code>develop</code></strong> 의 안정된 상태에서 <strong><code>master</code></strong> 로 병합. 버전 태그를 추가하여 배포 버전을 명시</li>\n</ul>\n<h3 id=\"branch-naming-rule\"><a class=\"anchor\" href=\"#branch-naming-rule\">Branch Naming Rule</a></h3>\n<ul>\n<li>master, develop 고정</li>\n<li>feature/{issue-number}-{feature-name}\n<ul>\n<li>칸반으로 이슈에 따른 작업을 진행하기로 했던 것같아서 위 방법을 사용하는게 어떨까</li>\n<li>ex) feature/12-love-deajeon / feature/1-init-project 등과 같이</li>\n<li><code>-</code> 를 이용해서 연결, 대문자 사용 x</li>\n</ul>\n</li>\n<li>release 는 release/1.3 과 같이 / 다음 버전 정보 등록</li>\n</ul>\n<h2 id=\"커밋-메세지를-명확하게-작성하는-방법은\"><a class=\"anchor\" href=\"#커밋-메세지를-명확하게-작성하는-방법은\">커밋 메세지를 명확하게 작성하는 방법은!?</a></h2>\n<p><img src=\"/content/230707/2.jpeg\" alt=\"2.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>커밋 메세지는 다른 개발자에게도 보여진다!</p>\n<p>너무 자세하게 적어도 문제이고, 대충 적어도 문제인 커밋 메세지를 어떻게 명확하게 작성할까!? 찾아보자!!</p>\n<h3 id=\"commit-message-convention\"><a class=\"anchor\" href=\"#commit-message-convention\">Commit Message Convention</a></h3>\n<ul>\n<li>Commit Message 작성은 다음 한칸만 띄우고 작성하자 ⇒ <strong>Ex) Feat: 하이루</strong></li>\n</ul>\n<p>| 단어             | 사용법                                                                                        |\n| ---------------- | --------------------------------------------------------------------------------------------- |\n| Feat             | 새로운 기능을 추가                                                                            |\n| Fix              | 버그 수정                                                                                     |\n| Design           | CSS 등 사용자 UI 디자인 변경                                                                  |\n| !BREAKING CHANGE | 커다란 API 변경의 경우                                                                        |\n| !HOTFIX          | 급하게 치명적인 버그를 고쳐야하는 경우                                                        |\n| Style            | 코드 포맷 변경, 세미 콜론 누락, 코드 수정이 없는 경우                                         |\n| Refactor         | 프로덕션 코드 리팩토링                                                                        |\n| Comment          | 필요한 주석 추가 및 변경                                                                      |\n| Docs             | 문서 수정                                                                                     |\n| Test             | 테스트 코드, 리펙토링 테스트 코드 추가, Production Code(실제로 사용하는 코드) 변경 없음       |\n| Chore            | 빌드 업무 수정, 패키지 매니저 수정, 패키지 관리자 구성 등 업데이트, Production Code 변경 없음 |\n| Rename           | 파일 혹은 폴더명을 수정하거나 옮기는 작업만인 경우                                            |\n| Remove           | 파일을 삭제하는 작업만 수행한 경우                                                            |</p>\n<h3 id=\"commit-message-자세하게-알아보자\"><a class=\"anchor\" href=\"#commit-message-자세하게-알아보자\">Commit Message 자세하게 알아보자</a></h3>\n<ol>\n<li>\n<p>Commit message 는 영문으로, 한글로 작성 가능(단, 영문으로 작성시에는 동사를 사용)</p>\n</li>\n<li>\n<p>특수문자는 사용하지않는다.</p>\n</li>\n<li>\n<p>첫글자는 대문자로 작성한다.</p>\n</li>\n<li>\n<p>최대한 자세하고 직관적인 Commit message 를 작성하자</p>\n</li>\n<li>\n<p>이슈 번호는 # 으로 구분짓는다.</p>\n<ul>\n<li>Ex) 내가 develop branch 에서 이슈번호 13번의 button 의 props 를 함수화하도록 리팩토링 요청을 받으면 ⇒ <strong>feature/13—implement-button-props-function</strong> 이라는 branch 를 만들어서 commit message 는 <strong>Feat: #13 Implement button props as a function</strong></li>\n</ul>\n</li>\n<li>\n<p>귀여움을 위해 이모지를 써보는것도..!? (사용하는 회사도 있다고합니다!?)</p>\n<p>| 이모지 | 설명                                                              |\n| ------ | ----------------------------------------------------------------- |\n| 🎨     | 코드의 형식 / 구조를 개선 할 때                                   |\n| 📰     | 새 파일을 만들 때                                                 |\n| 📝     | 사소한 코드 또는 언어를 변경할 때                                 |\n| 🐎     | 성능을 향상시킬 때                                                |\n| 📚     | 문서를 쓸 때                                                      |\n| 🐛     | 버그 reporting할 때, @FIXME 주석 태그 삽입                        |\n| 🚑     | 버그를 고칠 때                                                    |\n| 🐧     | 리눅스에서 무언가를 고칠 때                                       |\n| 🍎     | Mac OS에서 무언가를 고칠 때                                       |\n| 🏁     | Windows에서 무언가를 고칠 때                                      |\n| 🔥     | 코드 또는 파일 제거할 때 , @CHANGED주석 태그와 함께               |\n| 🚜     | 파일 구조를 변경할 때 . 🎨과 함께 사용                            |\n| 🔨     | 코드를 리팩토링 할 때                                             |\n| ☔️     | 테스트를 추가 할 때                                               |\n| 🔬     | 코드 범위를 추가 할 때                                            |\n| 💚     | CI 빌드를 고칠 때                                                 |\n| 🔒     | 보안을 다룰 때                                                    |\n| ⬆️     | 종속성을 업그레이드 할 때                                         |\n| ⬇️     | 종속성을 다운 그레이드 할 때                                      |\n| ⏩     | 이전 버전 / 지점에서 기능을 전달할 때                             |\n| ⏪     | 최신 버전 / 지점에서 기능을 백 포트 할 때                         |\n| 👕     | linter / strict / deprecation 경고를 제거 할 때                   |\n| 💄     | UI / style 개선시                                                 |\n| ♿️     | 접근성을 향상시킬 때                                              |\n| 🚧     | WIP (진행중인 작업)에 커밋, @REVIEW주석 태그와 함께 사용          |\n| 💎     | New Release                                                       |\n| 🔖     | 버전 태그                                                         |\n| 🎉     | Initial Commit                                                    |\n| 🔈     | 로깅을 추가 할 때                                                 |\n| 🔇     | 로깅을 줄일 때                                                    |\n| ✨     | 새로운 기능을 소개 할 때                                          |\n| ⚡️     | 도입 할 때 이전 버전과 호환되지 않는 특징, @CHANGED주석 태그 사용 |\n| 💡     | 새로운 아이디어, @IDEA주석 태그                                   |\n| 🚀     | 배포 / 개발 작업 과 관련된 모든 것                                |\n| 🐘     | PostgreSQL 데이터베이스 별 (마이그레이션, 스크립트, 확장 등)      |\n| 🐬     | MySQL 데이터베이스 특정 (마이그레이션, 스크립트, 확장 등)         |\n| 🍃     | MongoDB 데이터베이스 특정 (마이그레이션, 스크립트, 확장 등)       |\n| 🏦     | 일반 데이터베이스 별 (마이그레이션, 스크립트, 확장명 등)          |\n| 🐳     | 도커 구성                                                         |\n| 🤝     | 파일을 병합 할 때                                                 |</p>\n</li>\n</ol>\n<h2 id=\"코드를-규칙을-가지고-이쁘게-작성하는-방법\"><a class=\"anchor\" href=\"#코드를-규칙을-가지고-이쁘게-작성하는-방법\">코드를 규칙을 가지고 이쁘게 작성하는 방법!</a></h2>\n<p>이쁜 코드를 작성하기 위해서 사람들과 양식을 정해야한다!! 그래야 여러사람이 쓸모없는 시간을 코드 수정하는데 사용하지 않기 때문에!!</p>\n<p>~~똑바로 안하면, 이렇게 비둘기가 돌아버린다!!~~</p>\n<p><img src=\"/content/230707/3.gif\" alt=\"3.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"code-convention\"><a class=\"anchor\" href=\"#code-convention\">Code Convention</a></h3>\n<ol>\n<li>\n<p>Naming conventions</p>\n<ul>\n<li>\n<p>Components 는 Pascal Case(첫 단어 대문자)</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"tsx\" data-theme=\"github-dark github-light\"><code data-language=\"tsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Component.tsx Footer.tsx Mainbox.tsx</span></span></code></pre></figure>\n</li>\n<li>\n<p>Non-components 는 Camel Case(띄어쓰기대신 대문자로 구분)</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"tsx\" data-theme=\"github-dark github-light\"><code data-language=\"tsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">loveDeajeon.ts iWentGoingJeju.ts hungryReact.ts</span></span></code></pre></figure>\n</li>\n<li>\n<p>Unit Test(단위테스트) 는 파일명과 동일하게 동작</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"tsx\" data-theme=\"github-dark github-light\"><code data-language=\"tsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">MainItem.ts </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> MainItem.test.ts</span></span></code></pre></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>Bug Avoidance(버그피하기)</p>\n<ul>\n<li>null, undefined 일 조건은 optional chaning(?.) 연산자 사용</li>\n<li>console.log 남기지 말기</li>\n<li>side-effects 방지를 위해 외부데이터 props 로 받아서 사용</li>\n<li>props 는 읽기전용으로 직접수정 x</li>\n<li>불필요한 주석은 남기지 않기</li>\n<li>React 의 return 내부에 직접적인 함수처리 자제하기</li>\n<li>각 function , import 사이에 1줄 공백으로 구분하기</li>\n</ul>\n</li>\n<li>\n<p>ES6</p>\n<ul>\n<li>spread 연산자 사용</li>\n<li>구조분해할당 사용</li>\n<li>let, const 사용 (var 은 사용금지)</li>\n<li>화살표함수 적극사용</li>\n<li>직접적인 null 을 체크해주는 코드 만들지말고 optional chaining 사용</li>\n</ul>\n</li>\n<li>\n<p>TypeScript</p>\n<ul>\n<li>클래스, 타입, 인터페이스, 변수, 함수, 메서드에 Camel Case 사용(띄어쓰기 대신 대문자)</li>\n<li>상수는 Snake Case 사용(언더바), 그리고 상수이름 명확하게 할 것</li>\n<li>공백 2개또는 4개 설정하기</li>\n<li>변수, 함수, 매개변수, 함수 반환에 명시적 타입선언</li>\n<li>줄바꿈과 공백을 함수사이에 적극 사용해 구분, 연관된 코드끼리 붙어있도록 신경쓰기</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"prettier-eslint-airbnb-js-style\"><a class=\"anchor\" href=\"#prettier-eslint-airbnb-js-style\">Prettier, ESlint, airbnb Js style</a></h3>\n<ul>\n<li>\n<p>prettier , eslint , airbnb js style 설치</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"tsx\" data-theme=\"github-dark github-light\"><code data-language=\"tsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">yarn add prettier </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">--</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">save</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">dev </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">--</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">save</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">exact</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">yarn add eslint </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">--</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">save</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">dev</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">yarn add </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">peerdeps </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">--</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">dev eslint</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">config</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">airbnb</span></span></code></pre></figure>\n</li>\n<li>\n<p>eslint, prettier 충돌방지 설정</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"tsx\" data-theme=\"github-dark github-light\"><code data-language=\"tsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">yarn add eslint</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">plugin</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">prettier eslint</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">config</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">prettier </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">--</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">save</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">dev</span></span></code></pre></figure>\n</li>\n<li>\n<p>eslint 설정파일 생성\n.eslintrc.json 파일 생성 시 아래와 같은 내용을 추가한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"env\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"browser\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"es6\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"node\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"extends\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"airbnb\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"plugin:prettier/recommended\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"rules\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"react/jsx-filename-extension\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, { </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">\"extensions\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\".js\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\".jsx\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] }]</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<ul>\n<li>env 부분 ( document나 setTimeout과 같은 변수는 browser에서 사용되는 변수인데 설정하지 않는다면 ESLint에러로 인식하기 때문, 마찬가지로 node, es6에서 쓰이는 것들도 에러나지 않게하기 위해서 설정 )</li>\n<li>extends 부분\n<ul>\n<li>위에서 설치한 airbnb JS style 적용하기 위해 <code>airbnb</code> 추가한다.</li>\n<li><code>plugin:prettier/recommended</code>를 추가함으로써 prettier 규칙을 eslint 규칙에 추가하고 prettier와 충돌하는 eslint 규칙을 끄는 역할을 한다.\n결국 <code>eslint-config-prettier</code>와 <code>eslint-plugin-prettier</code>를 적용하기 위해서 작성한 것</li>\n</ul>\n</li>\n<li>rules 부분\n<ul>\n<li><code>\"react/jsx-filename-extension\": [1, { \"extensions\": [\".js\", \".jsx\"] }]</code>\n(Component.js와 같은 js파일에서 jsx문법을 사용했을 때 오류가 발생하는 문제를 해결할 수 있다.)</li>\n<li>아래의 내용을 참고하여 추가하고 싶은 rule이 있다면 추가적으로 작성하면 된다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>prettier 생성파일 생성</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// .prettierrc.js</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 일부 규칙을 추가했다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 그리고 주석을 적기 위해 json이 아닌 js파일로 생성하였음.</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">module</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">exports</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  singleQuote: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 문자열은 singleQuote로 (\"\" -> '')</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  semi: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  //코드 마지막에 세미콜론이 있게 formatting</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  tabWidth: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 들여쓰기 너비는 4칸</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  trailingComma: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"all\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 배열 키:값 뒤에 항상 콤마를 붙히도록 formatting</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  printWidth: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">80</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 코드 한줄이 maximum 80칸</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  arrowParens: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"avoid\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 화살표 함수가 하나의 매개변수를 받을 때 괄호를 생략하게 formatting</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  endOfLine: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"auto\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // windows에 뜨는 'Delete cr' 에러 해결</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span></code></pre></figure>\n<ul>\n<li>prettier는 기본적으로 프로젝트의 root에 있는 .prettierrc 파일에 적힌 규칙에 의해서 동작.</li>\n<li>프로젝트에 이 파일이 없으면 기본값으로 세팅된다.</li>\n</ul>\n</li>\n<li>\n<p>setting.json (ctrl + , 또는 cmd +,)</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // Set the default</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"editor.formatOnSave\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // Enable per-language</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"[javascript]\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"editor.formatOnSave\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">false</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"editor.codeActionsOnSave\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // For ESLint</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"source.fixAll.eslint\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"eslint.alwaysShowStatus\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"prettier.disableLanguages\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"js\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"files.autoSave\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"onFocusChange\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<ul>\n<li><code>\"[javascript]\": { \"editor.formatOnSave\": false },</code></li>\n<li>VSCode에 내장되어 있는 자바스크립트 포맷팅 기능을 사용하지 않고 Prettier 익스텐션을 사용하기 위해서 설정.</li>\n<li><code>\"editor.codeActionsOnSave\": { // For ESLint \"source.fixAll.eslint\": true },</code>ESLint에 의한 자동 수정 기능을 활성화하기 위해서 설정</li>\n<li><code>\"eslint.alwaysShowStatus\": true,</code>Vscode 하단 바에 ESLint도 표시되기 위해서 설정</li>\n<li><code>\"prettier.disableLanguages\": [\"js\"],</code>ESLint와 연동된 prettier를 사용하기 위해서 사용한다고 한다.</li>\n<li><code>\"files.autoSave\": \"onFocusChange\",</code>에디터 바깥으로 포커스가 이동 시 파일을 자동으로 저장하기 위해서 설정</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"folder-structure\"><a class=\"anchor\" href=\"#folder-structure\">Folder Structure</a></h2>\n<p>프론트엔드 스택은 React(vite), Typescript, Jotai , Styled-components, React Query, Axios, react-router-dom 를 예시로 했습니다!</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">src</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">├── components</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   ├── common</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   │   ├── Button.tsx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   │   └── Input.tsx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   ├── layout</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   │   ├── Header.tsx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   │   └── Footer.tsx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   └── features</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│       ├── Feature1</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│       │   ├── Feature1.tsx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│       │   ├── Feature1.styles.ts</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│       │   └── Feature1.test.tsx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│       └── Feature2</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│           ├── Feature2.tsx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│           ├── Feature2.styles.ts</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│           └── Feature2.test.tsx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">├── hooks</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   ├── useAuth.ts</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   ├── useData.ts</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   └── </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">├── pages</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   ├── Home.tsx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   ├── About.tsx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   ├── Contact.tsx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   └── </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">├── services</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   ├── api.ts</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   └── </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">├── store</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   ├── store.ts</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   └── </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">├── styles</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   ├── globalStyles.ts</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">│   └── theme.ts</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">└── utils</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    ├── helpers.ts</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    └── </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span></span></code></pre></figure>\n<ul>\n<li><strong><code>components/</code></strong> 폴더는 애플리케이션의 컴포넌트들을 저장하는 곳\n<ul>\n<li><strong><code>common/</code></strong> 폴더는 여러 곳에서 사용되는 공통 컴포넌트를 저장</li>\n<li><strong><code>layout/</code></strong> 폴더는 애플리케이션의 레이아웃을 구성하는 컴포넌트들을 저장</li>\n<li><strong><code>features/</code></strong> 폴더는 각각의 기능에 대한 컴포넌트들을 저장</li>\n<li><strong><code>features/Feature1/</code></strong> 폴더에는 <strong><code>Feature1.tsx</code></strong> 컴포넌트와 해당 컴포넌트에 대한 스타일 및 테스트 파일을 저장</li>\n</ul>\n</li>\n<li><strong><code>hooks/</code></strong> 폴더는 사용자 정의 훅을 저장\n<ul>\n<li><strong><code>useAuth.ts</code></strong> 파일은 인증과 관련된 커스텀 훅을 포함</li>\n<li>코드의 재사용성을 높이고 로직을 분리하는 데 도움</li>\n</ul>\n</li>\n<li><strong><code>pages/</code></strong> 폴더는 각각의 페이지 컴포넌트를 저장\n<ul>\n<li><strong><code>Home.tsx</code></strong>, <strong><code>About.tsx</code></strong>, <strong><code>Sign.tsx</code></strong> 등의 파일을 의미</li>\n</ul>\n</li>\n<li><strong><code>services/</code></strong> 폴더는 데이터 통신과 관련된 파일 저장\n<ul>\n<li><strong><code>api.ts</code></strong> 파일은 API 호출을 추상화하는 함수들을 포함</li>\n</ul>\n</li>\n<li><strong><code>store/</code></strong> 폴더는 전역 상태 관리를 위한 파일들을 저장 (jotai)\n<ul>\n<li><strong><code>store.ts</code></strong> 파일은 상태 관리를 설정하고 초기화하는 데 사용</li>\n</ul>\n</li>\n<li><strong><code>styles/</code></strong> 폴더는 글로벌 스타일과 테마 설정과 관련된 파일 저장\n<ul>\n<li><strong><code>globalStyles.ts</code></strong> 파일은 글로벌 CSS 스타일을 설정</li>\n<li><strong><code>theme.ts</code></strong> 파일은 애플리케이션의 테마 관련 상수나 스타일을 정의</li>\n<li>styled-components 는 여기서 관리 x</li>\n</ul>\n</li>\n<li><strong><code>utils/</code></strong> 폴더는 유틸리티 함수나 도우미 함수를 저장\n<ul>\n<li>이러한 함수들은 애플리케이션 전반에서 사용</li>\n</ul>\n</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "230707/index.md",
    "_raw": {
      "sourceFilePath": "230707/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "230707",
      "contentType": "markdown",
      "flattenedPath": "230707"
    },
    "type": "Post",
    "slug": "/230707",
    "categoryArray": [
      "프론트엔드",
      "소박한궁금증"
    ],
    "readingTime": "17 min read",
    "excerpt": "Branch 구조와 전략을 세워보자! 코드를 작성하다보면 엄청나게 많은 Branch를 만들어야한다. 어떻게 구조를 잡아야할지 알아보자! Branch Structure(Gitflow 전략) master - 제품의 안정된 버전을 유지하는 브랜치, 배포 가능한 코드만을 허용하며, 직접적인 작업은 X develop - 개발의 중심이 되는 브랜치, 다른 개발자들과의..."
  },
  {
    "title": "React useState 완벽 가이드 모든 것을 한눈에 이해해보자",
    "date": "2023-08-20T00:00:00.000Z",
    "categories": "프론트엔드 React",
    "body": {
      "raw": "\n## 함수형 컴포넌트의 상태 관리\n\n[pjqnl16lm7 - CodeSandbox](https://codesandbox.io/s/pjqnl16lm7?file=/src/ProfilePageFunction.js)\n\n클래스형 컴포넌트는 render() 메서드를 통해 상태 변경을 감지\n\n- Props 는 react 에서 불변 / this 는 변경가능, 조작가능\n\n함수형 컴포넌트는 렌더링이 발생하면 함수 자체가 다시 호출\n\n- render 될 때의 값을 유지\n  ⇒ 상태를 관리하려면 함수가 다시 호출되었을 때 이전 상태를 기억해야 함\n  ⇒ useState 는 클로저를 통해 이 문제를 해결\n  > 클로저 : 내부 함수에서 상위 함수 스코프의 변수에 접근할수 있는 것을 의미\n\n## 왜 hooks 를 사용해야 될까?\n\n- UI 의 상태 관련 동작 및 부수 작용을 캡슐화하는 가장 간단한 방법\n- 고차 컴포넌트(HOC)의 복잡성을 피할 수 있음\n  ```jsx\n  widthLogined(withHover(withStyles(ImageBox))); // Bad Wrapper\n  ```\n- props 로 전달되는 속성들이 명확하지 않고 중복됨\n- 컴포넌트 구조의 복잡성을 유발\n- 계층의 변화없이 상태 관련 로직을 재사용할 수 있음\n\n## useState 란 무엇인가\n\n**React 공식 문서**\n\n[](https://github.com/facebook/react/blob/main/packages/react/src/ReactHooks.js)\n\n```jsx\nuseState : function (intitialState){\n    currentHookNameInDev = 'useState'; // 변수를 받아와서 초기 상태값을 설정\n    mountHookTypesDev(); // 현재 사용중인 hook의 이름을 추적 및 타입 저장\n    var prevDispatcher = ReactCurrentDispatcher$1.current; // Dispatcher 을 가리킴, 디버깅에 사용됨\n    ReactCurrentDispatcher$1.current = InvalidNestedHooksDispatcherOnMountInDEV;\n\n    try{\n        return mountState(initialState); // useState 함수는 실제로 상태를 return 받아 설정됨\n    }finally{\n        ReactCurrentDispatcher$1.current = prevDispatcher;\n    }\n}\n\nfunction mountHookTypesDev(){\n    {\n        var hookName = currentHookNameInDev;\n        if(hookTypesDev === null){ // hook의 값과 타입을 저장\n            hookTypesDev = [hookName];\n\n        }else{\n            hookTypesDev.push(hookName)\n        }\n    }\n}\n\nfunction mountState(initialState){\n    var hook = mountWorkInProgressHook(); // mountWorkInProgressHook 함수는 현재 hook 을 가져옴\n    if(typeof initialState === \"function\"){\n        initialState = initialState(); // initialState 가 함수이면 초기값 상태로 값을 가져옴\n    }\n\n    hook.memoizedState = hook.baseState = initialState;\n    var queue = { // queue 객체는 상태 업데이트 큐와 관련된 정보를 가짐\n        pending : null,\n        interleaved: null,\n        lanes : NoLanes,\n        dispatch: null,\n        lastRenderedReducer : basicStateReducer,\n        lastRenderedState : initialState\n    };\n\n    hook.queue = queue;\n    var dispatch = queue.dispatch = dispatchSetState.bind(null, currentlyRenderingFiber$1, queue); // dispatch함수는 상태를 업데이트 하는 함수\n    return [hook.memoizedState, dispatch] // 최종적으로 반환되는 값\n}\n```\n\n- React 내부에서 상태를 관리하는 방식을 추상화한 함수\n- 이 함수는 내부적으로 React의 상태 관리 로직을 사용하여 상태를 관리하며, 컴포넌트가 렌더링될 때마다 상태가 올바르게 업데이트되고 관리\n- TypeScript를 사용하여 타입 선언이 추가된 형태로 작성\n\n**자바스크립트로 구현한 간단한 상태 관리 함수**\n\n```jsx\nfunction useState(initialValue) {\n  var _val = initialValue; // _val은 useState에 의해 만들어진 지역 변수\n  function state() {\n    // state는 내부 함수이자 클로저\n    return _val; // state()는 부모 함수에 정의된 _val을 참조\n  }\n  function setState(newVal) {\n    // setState는 내부 함수이자 클로저\n    _val = newVal; // _val를 노출하지 않고 _val를 변경\n  }\n  return [state, setState]; // 외부에서 사용하기 위해 함수들을 노출\n}\n\nvar [foo, setFoo] = useState(0); // 배열 구조분해 사용\nconsole.log(foo()); // 0 출력 - 위에서 넘긴 initialValue\nsetFoo(1); // useState의 스코프 내부에 있는 _val를 변경합니다.\nconsole.log(foo()); // 1 출력 - 동일한 호출하지만 새로운 initialValue\n```\n\n## useState 활용 & 응용법\n\n```jsx\nconst [<상태 값 저장 변수>, <상태 값 갱신 함수>] = useState(initialState);\n\nconst [count, setCount] = useState(0) // 일반적인 사용 예시\n```\n\n### useState\n\n- 함수형 컴포넌트에서 상태(state)를 관리하기 위해 사용\n- useState 는 hook 이여서 최상위 수준에서만 호출 가능\n- Strict 모드에서는 초기화 함수를 두번 호출(dev 전용, production 에 영향 x)\n- initialState 는 초기 상태값, 렌더링 이후 무시\n- useState 함수는 배열을 리턴\n- 첫 번째 원소는 상태 값을 저장할 변수\n- 두번 째 원소는 해당 상태 값을 갱신할 때 사용할 수 있는 함수\n- 그리고 useState() 함수에 인자로 해당 상태의 초기 값을 넘길 수 있음\n- state\n  - 새값과 이전값을 비교해서 동일하면 렌더링을 건너뜀 ⇒ react 최적화\n- set 함수\n  - return 이 없음\n  - 다음 렌더링에 대한 상태 변수만 업데이트\n  - 이미 실행중인 코드의 현재 상태는 변경되지 않음\n\n```jsx\nimport React from \"react\";\nimport { useState } from \"react\";\n\nexport function App(props) {\n  const [data, setData] = useState(\"지훈이\");\n  function handleClick() {\n    setData(\"아님\");\n    console.log(\"set 다음 : \", data);\n  }\n\n  return (\n    <div className=\"App\">\n      <button onClick={handleClick}>이름바꾸기</button>\n    </div>\n  );\n}\n```\n\n### useState 의 중첩된 객체\n\n```jsx\nimport { useState } from \"react\";\n\nexport default function Form() {\n  const [person, setPerson] = useState({\n    name: \"Niki de Saint Phalle\",\n    artwork: {\n      title: \"Blue Nana\",\n      city: \"Hamburg\",\n      image: \"https://i.imgur.com/Sd1AgUOm.jpg\",\n    },\n  });\n\n  function handleNameChange(e) {\n    setPerson({\n      ...person,\n      name: e.target.value,\n    });\n  }\n\n  function handleTitleChange(e) {\n    setPerson({\n      ...person,\n      artwork: {\n        ...person.artwork,\n        title: e.target.value,\n      },\n    });\n  }\n  return (\n    <>\n      <label>\n        Name:\n        <input value={person.name} onChange={handleNameChange} />\n      </label>\n      <label>\n        Title:\n        <input value={person.artwork.title} onChange={handleTitleChange} />\n      </label>\n      <p>\n        <i>{person.artwork.title}</i>\n        {\" by \"}\n        {person.name}\n        <br />\n        (located in {person.artwork.city})\n      </p>\n      <img src={person.artwork.image} alt={person.artwork.title} />\n    </>\n  );\n}\n```\n\n### useState 의 initializer function\n\n```jsx\nimport { useState } from \"react\";\n\nfunction createInitialTodos() {\n  const initialTodos = [];\n  for (let i = 0; i < 50; i++) {\n    initialTodos.push({\n      id: i,\n      text: \"Item \" + (i + 1),\n    });\n  }\n  return initialTodos;\n}\n\nexport default function TodoList() {\n  // const [todos, setTodos] = useState(createInitialTodos());\n  // const [todos, setTodos] = useState(createInitialTodos);\n  // const [todos, setTodos] = useState(()=> createInitialTodos());\n  const [text, setText] = useState(\"\");\n\n  return (\n    <>\n      <input value={text} onChange={(e) => setText(e.target.value)} />\n      <button\n        onClick={() => {\n          setText(\"\");\n          setTodos([\n            {\n              id: todos.length,\n              text: text,\n            },\n            ...todos,\n          ]);\n        }}\n      >\n        Add\n      </button>\n      <ul>\n        {todos.map((item) => (\n          <li key={item.id}>{item.text}</li>\n        ))}\n      </ul>\n    </>\n  );\n}\n```\n\ninitialState 에 함수를 호출하게 되면 반환된 배열이 초기값으로 사용됨 ⇒ 랜더링마다 새로운 배열 계산 방지\n\ninitialState 에 인자를 전달하게 되면 랜더링 될때마다 함수가 호출됨 ⇒ 랜더링마다 새로운 초기 값이 계산됨\n\ninitialState 콜백함수를 사용하면 초기값이 설정됨 ⇒ 렌더링마다 재실행 방지\n\n### 하나의 handle 에서 두번의 setState 를 사용\n\n```jsx\nexport default function UseState1() {\n  const [count, setCount] = useState(() => initialData());\n\n  function initialData(): number {\n    return 0;\n  }\n\n  const dualCal = () => {\n    console.log(count);\n    setCount(count * 2);\n    console.log(count);\n    setCount(count + 1);\n  };\n  return (\n    <Container>\n      <P>count : {count}</P>\n      <Button onClick={() => setCount(count + 1)}>Count+</Button>\n      <code>setCount(count+1)</code>\n      <br />\n      <Button onClick={dualCal}>Count *2 +1 </Button>\n      <code>\n        setCount(count * 2) <br />\n        setCount(count + 1)\n      </code>\n    </Container>\n  );\n}\n```\n\n```jsx\nexport default function UseState1() {\n  const [count, setCount] = useState(() => initialData());\n\n  function initialData(): number {\n    return 0;\n  }\n\n  const dualCal = () => {\n    setCount((pre) => {\n      // setState에 Callback 함수를 사용하면 첫번째 인자로 이전 state 값을 전달받는다.\n      console.log(pre);\n      return pre * 2;\n    });\n    setCount((pre) => {\n      console.log(pre);\n      return pre + 1;\n    });\n  };\n  return (\n    <Container>\n      <P>count : {count}</P>\n      <Button onClick={() => setCount(count + 1)}>Count+</Button>\n      <code>setCount(count+1)</code>\n      <br />\n      <Button onClick={dualCal}>Count *2 +1 </Button>\n      <code>\n        setCount((pre) =&gt; pre * 2) <br />\n        setCount((pre) =&gt; pre + 1)\n      </code>\n    </Container>\n  );\n}\n```\n\n```toc\n\n```\n",
      "html": "<h2 id=\"함수형-컴포넌트의-상태-관리\"><a class=\"anchor\" href=\"#함수형-컴포넌트의-상태-관리\">함수형 컴포넌트의 상태 관리</a></h2>\n<p><a href=\"https://codesandbox.io/s/pjqnl16lm7?file=/src/ProfilePageFunction.js\">pjqnl16lm7 - CodeSandbox</a></p>\n<p>클래스형 컴포넌트는 render() 메서드를 통해 상태 변경을 감지</p>\n<ul>\n<li>Props 는 react 에서 불변 / this 는 변경가능, 조작가능</li>\n</ul>\n<p>함수형 컴포넌트는 렌더링이 발생하면 함수 자체가 다시 호출</p>\n<ul>\n<li>render 될 때의 값을 유지\n⇒ 상태를 관리하려면 함수가 다시 호출되었을 때 이전 상태를 기억해야 함\n⇒ useState 는 클로저를 통해 이 문제를 해결\n<blockquote>\n<p>클로저 : 내부 함수에서 상위 함수 스코프의 변수에 접근할수 있는 것을 의미</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"왜-hooks-를-사용해야-될까\"><a class=\"anchor\" href=\"#왜-hooks-를-사용해야-될까\">왜 hooks 를 사용해야 될까?</a></h2>\n<ul>\n<li>UI 의 상태 관련 동작 및 부수 작용을 캡슐화하는 가장 간단한 방법</li>\n<li>고차 컴포넌트(HOC)의 복잡성을 피할 수 있음\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">widthLogined</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">withHover</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">withStyles</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(ImageBox))); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// Bad Wrapper</span></span></code></pre></figure>\n</li>\n<li>props 로 전달되는 속성들이 명확하지 않고 중복됨</li>\n<li>컴포넌트 구조의 복잡성을 유발</li>\n<li>계층의 변화없이 상태 관련 로직을 재사용할 수 있음</li>\n</ul>\n<h2 id=\"usestate-란-무엇인가\"><a class=\"anchor\" href=\"#usestate-란-무엇인가\">useState 란 무엇인가</a></h2>\n<p><strong>React 공식 문서</strong></p>\n<p><a href=\"https://github.com/facebook/react/blob/main/packages/react/src/ReactHooks.js\"></a></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> : </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">intitialState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">){</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    currentHookNameInDev </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'useState'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 변수를 받아와서 초기 상태값을 설정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    mountHookTypesDev</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 현재 사용중인 hook의 이름을 추적 및 타입 저장</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> prevDispatcher </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ReactCurrentDispatcher$1.current; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// Dispatcher 을 가리킴, 디버깅에 사용됨</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    ReactCurrentDispatcher$1.current </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> InvalidNestedHooksDispatcherOnMountInDEV;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> mountState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(initialState); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// useState 함수는 실제로 상태를 return 받아 설정됨</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">finally</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        ReactCurrentDispatcher$1.current </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> prevDispatcher;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> mountHookTypesDev</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(){</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> hookName </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> currentHookNameInDev;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(hookTypesDev </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">){ </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// hook의 값과 타입을 저장</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">            hookTypesDev </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [hookName];</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">else</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">            hookTypesDev.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(hookName)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> mountState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">initialState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">){</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> hook </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> mountWorkInProgressHook</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// mountWorkInProgressHook 함수는 현재 hook 을 가져옴</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">typeof</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> initialState </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"function\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">){</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        initialState </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> initialState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// initialState 가 함수이면 초기값 상태로 값을 가져옴</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    hook.memoizedState </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> hook.baseState </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> initialState;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> queue </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// queue 객체는 상태 업데이트 큐와 관련된 정보를 가짐</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        pending : </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        interleaved: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        lanes : NoLanes,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        dispatch: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        lastRenderedReducer : basicStateReducer,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        lastRenderedState : initialState</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    };</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    hook.queue </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> queue;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> dispatch </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> queue.dispatch </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> dispatchSetState.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, currentlyRenderingFiber$1, queue); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// dispatch함수는 상태를 업데이트 하는 함수</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [hook.memoizedState, dispatch] </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 최종적으로 반환되는 값</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<ul>\n<li>React 내부에서 상태를 관리하는 방식을 추상화한 함수</li>\n<li>이 함수는 내부적으로 React의 상태 관리 로직을 사용하여 상태를 관리하며, 컴포넌트가 렌더링될 때마다 상태가 올바르게 업데이트되고 관리</li>\n<li>TypeScript를 사용하여 타입 선언이 추가된 형태로 작성</li>\n</ul>\n<p><strong>자바스크립트로 구현한 간단한 상태 관리 함수</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">initialValue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> _val </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> initialValue; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// _val은 useState에 의해 만들어진 지역 변수</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // state는 내부 함수이자 클로저</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> _val; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// state()는 부모 함수에 정의된 _val을 참조</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> setState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">newVal</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // setState는 내부 함수이자 클로저</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    _val </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> newVal; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// _val를 노출하지 않고 _val를 변경</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [state, setState]; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 외부에서 사용하기 위해 함수들을 노출</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [foo, setFoo] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 배열 구조분해 사용</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">foo</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 0 출력 - 위에서 넘긴 initialValue</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setFoo</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// useState의 스코프 내부에 있는 _val를 변경합니다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">foo</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 1 출력 - 동일한 호출하지만 새로운 initialValue</span></span></code></pre></figure>\n<h2 id=\"usestate-활용--응용법\"><a class=\"anchor\" href=\"#usestate-활용--응용법\">useState 활용 &#x26; 응용법</a></h2>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">상태</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 값</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 저장</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 변수</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>, &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">상태</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 값</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 갱신</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 함수</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(initialState);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">count</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 일반적인 사용 예시</span></span></code></pre></figure>\n<h3 id=\"usestate\"><a class=\"anchor\" href=\"#usestate\">useState</a></h3>\n<ul>\n<li>함수형 컴포넌트에서 상태(state)를 관리하기 위해 사용</li>\n<li>useState 는 hook 이여서 최상위 수준에서만 호출 가능</li>\n<li>Strict 모드에서는 초기화 함수를 두번 호출(dev 전용, production 에 영향 x)</li>\n<li>initialState 는 초기 상태값, 렌더링 이후 무시</li>\n<li>useState 함수는 배열을 리턴</li>\n<li>첫 번째 원소는 상태 값을 저장할 변수</li>\n<li>두번 째 원소는 해당 상태 값을 갱신할 때 사용할 수 있는 함수</li>\n<li>그리고 useState() 함수에 인자로 해당 상태의 초기 값을 넘길 수 있음</li>\n<li>state\n<ul>\n<li>새값과 이전값을 비교해서 동일하면 렌더링을 건너뜀 ⇒ react 최적화</li>\n</ul>\n</li>\n<li>set 함수\n<ul>\n<li>return 이 없음</li>\n<li>다음 렌더링에 대한 상태 변수만 업데이트</li>\n<li>이미 실행중인 코드의 현재 상태는 변경되지 않음</li>\n</ul>\n</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> React </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"react\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { useState } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"react\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> App</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">props</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"지훈이\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> handleClick</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"아님\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"set 다음 : \"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, data);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> className</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"App\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">button</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{handleClick}>이름바꾸기&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">button</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h3 id=\"usestate-의-중첩된-객체\"><a class=\"anchor\" href=\"#usestate-의-중첩된-객체\">useState 의 중첩된 객체</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { useState } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"react\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> default</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Form</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">person</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setPerson</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    name: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Niki de Saint Phalle\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    artwork: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      title: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Blue Nana\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      city: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Hamburg\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      image: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"https://i.imgur.com/Sd1AgUOm.jpg\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> handleNameChange</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">e</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setPerson</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      ...</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">person,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      name: e.target.value,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> handleTitleChange</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">e</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setPerson</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      ...</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">person,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      artwork: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        ...</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">person.artwork,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        title: e.target.value,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">label</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        Name:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">input</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{person.name} </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">onChange</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{handleNameChange} /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">label</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">label</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        Title:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">input</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{person.artwork.title} </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">onChange</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{handleTitleChange} /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">label</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">p</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">i</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>{person.artwork.title}&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">i</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        {</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\" by \"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        {person.name}</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">br</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        (located in {person.artwork.city})</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">p</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">img</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> src</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{person.artwork.image} </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">alt</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{person.artwork.title} /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;/></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h3 id=\"usestate-의-initializer-function\"><a class=\"anchor\" href=\"#usestate-의-initializer-function\">useState 의 initializer function</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { useState } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"react\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createInitialTodos</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> initialTodos</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  for</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> i </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; i </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 50</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; i</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">++</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    initialTodos.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      id: i,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      text: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Item \"</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> +</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (i </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> initialTodos;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> default</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TodoList</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // const [todos, setTodos] = useState(createInitialTodos());</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // const [todos, setTodos] = useState(createInitialTodos);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // const [todos, setTodos] = useState(()=> createInitialTodos());</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">text</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setText</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">input</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{text} </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">onChange</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">e</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> setText</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(e.target.value)} /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">button</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          setText</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          setTodos</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">            {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">              id: todos.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">length</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">              text: text,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">            },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">            ...</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">todos,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">          ]);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }}</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      ></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        Add</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">button</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">ul</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        {todos.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">map</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">item</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">          &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">li</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> key</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{item.id}>{item.text}&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">li</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        ))}</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">ul</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;/></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>initialState 에 함수를 호출하게 되면 반환된 배열이 초기값으로 사용됨 ⇒ 랜더링마다 새로운 배열 계산 방지</p>\n<p>initialState 에 인자를 전달하게 되면 랜더링 될때마다 함수가 호출됨 ⇒ 랜더링마다 새로운 초기 값이 계산됨</p>\n<p>initialState 콜백함수를 사용하면 초기값이 설정됨 ⇒ 렌더링마다 재실행 방지</p>\n<h3 id=\"하나의-handle-에서-두번의-setstate-를-사용\"><a class=\"anchor\" href=\"#하나의-handle-에서-두번의-setstate-를-사용\">하나의 handle 에서 두번의 setState 를 사용</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> default</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> UseState1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">count</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> initialData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> initialData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> dualCal</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(count);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(count </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">*</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(count);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(count </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Container</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">P</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>count : {count}&#x3C;/</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">P</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Button</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(count </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)}>Count+&#x3C;/</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Button</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">code</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>setCount(count+1)&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">code</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">br</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Button</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{dualCal}>Count *2 +1 &#x3C;/</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Button</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">code</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        setCount(count * 2) &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">br</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        setCount(count + 1)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">code</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;/</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Container</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> default</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> UseState1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">count</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> initialData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> initialData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> dualCal</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">pre</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">      // setState에 Callback 함수를 사용하면 첫번째 인자로 이전 state 값을 전달받는다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(pre);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> pre </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">*</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">pre</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(pre);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> pre </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Container</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">P</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>count : {count}&#x3C;/</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">P</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Button</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(count </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)}>Count+&#x3C;/</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Button</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">code</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>setCount(count+1)&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">code</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">br</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Button</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{dualCal}>Count *2 +1 &#x3C;/</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Button</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">code</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        setCount((pre) =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">&#x26;gt;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> pre * 2) &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">br</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        setCount((pre) =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">&#x26;gt;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> pre + 1)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">code</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;/</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Container</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "230820/index.md",
    "_raw": {
      "sourceFilePath": "230820/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "230820",
      "contentType": "markdown",
      "flattenedPath": "230820"
    },
    "type": "Post",
    "slug": "/230820",
    "categoryArray": [
      "프론트엔드",
      "React"
    ],
    "readingTime": "9 min read",
    "excerpt": "함수형 컴포넌트의 상태 관리 pjqnl16lm7 - CodeSandbox 클래스형 컴포넌트는 render() 메서드를 통해 상태 변경을 감지 Props 는 react 에서 불변 / this 는 변경가능, 조작가능 함수형 컴포넌트는 렌더링이 발생하면 함수 자체가 다시 호출 render 될 때의 값을 유지 ⇒ 상태를 관리하려면 함수가 다시 호출되었을 때 이전 ..."
  },
  {
    "title": "git rev-parse 명령어 들어본적 있니!?",
    "date": "2023-09-18T00:00:00.000Z",
    "categories": "소박한궁금증 DevOps",
    "draft": true,
    "body": {
      "raw": "\n![1.jpeg](1.jpeg)\n\n나는 사실 저 명령어를 써본 적이 없다. 그리고 처음 본다..\n\n**git rev-parse**는 Git 참조를 구문 분석하고 쿼리하는 데 사용되는 다용도 명령어다. ~~이해가 안 가니 예시를 보자~~\n\n- git rev-parse HEAD : 현재 브랜치에 있는 최신 커밋의 전체 SHA-1 해시가 반환한다. HEAD 키워드를 태그 또는 브랜치로 변경하면 해당 커밋 ID를 얻을 수 있다.\n\n- git rev-parse --abbrev-ref HEAD : 현재 브랜치의 이름을 반환\n- git rev-parse 축약된 커밋명 : 레파지토리 내에서 고유한 전체 커밋 ID 반환\n\n사실 이거 왜 쓰는지 모르겠다고 생각했다. 터미널을 확장해서 쓰면 복잡한 명령어를 작성 안해도 확인 할 수 있으니까! 그런데 다음 예시를 보니 터미널 명령어 내부에서 \"조건문을 사용하는데 이런 이유로 사용하는구나\" 라는 생각을 했다.\n\n- 유효성 확인을 위해 아래처럼 사용 가능\n\n```bash\nif git rev-parse --verify feature-branch >/dev/null 2>&1; then\n  echo \"The branch exists.\"\nelse\n  echo \"The branch does not exist.\"\nfi\n```\n",
      "html": "<p><img src=\"/content/230918/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>나는 사실 저 명령어를 써본 적이 없다. 그리고 처음 본다..</p>\n<p><strong>git rev-parse</strong>는 Git 참조를 구문 분석하고 쿼리하는 데 사용되는 다용도 명령어다. ~~이해가 안 가니 예시를 보자~~</p>\n<ul>\n<li>\n<p>git rev-parse HEAD : 현재 브랜치에 있는 최신 커밋의 전체 SHA-1 해시가 반환한다. HEAD 키워드를 태그 또는 브랜치로 변경하면 해당 커밋 ID를 얻을 수 있다.</p>\n</li>\n<li>\n<p>git rev-parse --abbrev-ref HEAD : 현재 브랜치의 이름을 반환</p>\n</li>\n<li>\n<p>git rev-parse 축약된 커밋명 : 레파지토리 내에서 고유한 전체 커밋 ID 반환</p>\n</li>\n</ul>\n<p>사실 이거 왜 쓰는지 모르겠다고 생각했다. 터미널을 확장해서 쓰면 복잡한 명령어를 작성 안해도 확인 할 수 있으니까! 그런데 다음 예시를 보니 터미널 명령어 내부에서 \"조건문을 사용하는데 이런 이유로 사용하는구나\" 라는 생각을 했다.</p>\n<ul>\n<li>유효성 확인을 위해 아래처럼 사용 가능</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"bash\" data-theme=\"github-dark github-light\"><code data-language=\"bash\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">if</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> git</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> rev-parse</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> --verify</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> feature-branch</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ></span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">/dev/null</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> 2>&#x26;1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">then</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  echo</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"The branch exists.\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">else</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  echo</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"The branch does not exist.\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">fi</span></span></code></pre></figure>"
    },
    "_id": "230918/index.md",
    "_raw": {
      "sourceFilePath": "230918/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "230918",
      "contentType": "markdown",
      "flattenedPath": "230918"
    },
    "type": "Post",
    "slug": "/230918",
    "categoryArray": [
      "소박한궁금증",
      "DevOps"
    ],
    "readingTime": "2 min read",
    "excerpt": "나는 사실 저 명령어를 써본 적이 없다. 그리고 처음 본다.. git rev-parse는 Git 참조를 구문 분석하고 쿼리하는 데 사용되는 다용도 명령어다. 이해가 안 가니 예시를 보자 git rev-parse HEAD : 현재 브랜치에 있는 최신 커밋의 전체 SHA-1 해시가 반환한다. HEAD 키워드를 태그 또는 브랜치로 변경하면 해당 커밋 ID를 얻을..."
  },
  {
    "title": "Ecmascript에서 Modules랑 CommonJs를 비교해보자!",
    "date": "2023-09-28T00:00:00.000Z",
    "categories": "소박한궁금증 자바스크립트",
    "body": {
      "raw": "\n모듈은 현대 소프트웨어 개발에서 코드의 재사용성과 유지보수를 높이기 위해 필수적인 요소다. 그리고 자바스크립트에는 CommonJS와 ES 모듈이 있다. 두개가 어떤 차이가 있는지 비교해보자!\n\n<br>\n\n### CommonJS\n\n- Node.js의 기본 모듈 시스템으로 CommonJs를 사용한다.\n- `require`를 사용하여 모듈을 로드하고 `module.exports`를 사용하여 변수와 함수를 내보낸다.\n\n  ```javascript\n  module.exports.add = function (a, b) {\n    return a + b;\n  };\n\n  module.exports.subtract = function (a, b) {\n    return a - b;\n  };\n\n  const { add, subtract } = require('./util');\n  console.log(add(5, 5));\n  console.log(subtract(10, 5));\n  ```\n\n- **동기적 로딩**: 모듈을 하나씩 순차적으로 로드하고 처리하므로 성능에 민감한 애플리케이션에서 블로킹이 발생할 수 있다.\n- **유연성**: `require`는 코드의 어디서나 호출할 수 있어 조건부 또는 동적으로 모듈을 로드할 수 있다.\n\n<br>\n\n### ES 모듈\n\n- **표준화된 포맷**: ES 모듈은 자바스크립트 코드 재사용을 위한 공식 표준\n- **문법**: `import`와 `export` 문을 사용\n\n  ```javascript\n  export function add(a, b) {\n    return a + b;\n  }\n\n  export function subtract(a, b) {\n    return a - b;\n  }\n\n  import { add, subtract } from './util.mjs';\n  console.log(add(5, 5));\n  console.log(subtract(10, 5));\n  ```\n\n- **비동기적 로딩**: 모듈을 비동기적으로 로드하여 고성능 웹 애플리케이션의 성능을 향상시킬 수 있다.\n- **네이티브 브라우저 지원**: 모든 최신 웹 브라우저에서 지원하여 서버와 클라이언트 환경 간에 코드를 쉽게 공유할 수 있다.\n- **파일 확장자**: 일반적으로 `.mjs` 확장자를 사용하거나 `package.json` 파일에 `\"type\": \"module\"`을 설정하여 `.js` 파일을 ES 모듈로 취급\n\n<br>\n\n### 자바스크립트 모듈의 진화\n\n1. **IIFE (즉시 실행 함수 표현)**: 전역 스코프 오염 방지와 코드 캡슐화를 위해 사용\n2. **모듈 패턴**: 모듈의 공용 및 개인 구성 요소를 분리하여 더 명확한 구조를 제공했지만, 종속성 관리를 위한 표준 방법이 없다.\n3. **CommonJS**: 서버 측 개발을 위해 동기적 로딩을 도입\n4. **AMD (Asynchronous Module Definition)**: 브라우저 환경에서 비동기 로딩을 중점적으로 개선했\n5. **UMD (Universal Module Definition)**: 서버와 브라우저 환경 모두에서 작동하도록 설계\n6. **ES 모듈**: 클라이언트와 서버 환경 모두에서 네이티브 지원을 제공하며 명확한 문법과 비동기 로딩을 제공\n\n<br>\n\n### Node.js와 ES 모듈\n\n- **지원 버전**: Node.js는 버전 13.2.0부터 ES 모듈을 안정적으로 지원\n- **호환성**: 이전 버전의 Node.js(v9 이하)에서는 ES 모듈을 네이티브로 지원하지 않는다.\n- **듀얼 모드 라이브러리**: `package.json`의 조건부 exports를 사용하여 CommonJS와 ES 모듈 모두를 지원하도록 할 수 있다.\n  ```json\n  {\n    \"name\": \"my-library\",\n    \"exports\": {\n      \".\": {\n        \"browser\": {\n          \"default\": \"./lib/browser-module.js\"\n        }\n      },\n      \"module-a\": {\n        \"import\": \"./lib/module-a.mjs\",\n        \"require\": \"./lib/module-a.js\"\n      }\n    }\n  }\n  ```\n\n<br>\n\n### 정리\n\n- **CommonJS**\n  - **장점**: `require`의 유연성, 쉬운 동기적 코드 작성.\n  - **단점**: 동기적 로딩으로 인해 성능 문제 발생 가능.\n- **ES 모듈**\n  - **장점**: 비동기적 로딩, 브라우저에서 네이티브 지원, 표준화된 문법.\n  - **단점**: Node.js v13.2.0 이상에서만 지원, 기존 코드베이스와의 호환성 문제.\n\n<br>\n",
      "html": "<p>모듈은 현대 소프트웨어 개발에서 코드의 재사용성과 유지보수를 높이기 위해 필수적인 요소다. 그리고 자바스크립트에는 CommonJS와 ES 모듈이 있다. 두개가 어떤 차이가 있는지 비교해보자!</p>\n<h3 id=\"commonjs\"><a class=\"anchor\" href=\"#commonjs\">CommonJS</a></h3>\n<ul>\n<li>\n<p>Node.js의 기본 모듈 시스템으로 CommonJs를 사용한다.</p>\n</li>\n<li>\n<p><code>require</code>를 사용하여 모듈을 로드하고 <code>module.exports</code>를 사용하여 변수와 함수를 내보낸다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">module</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">exports</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">add</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">a</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">b</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> a </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> b;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">module</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">exports</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">subtract</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">a</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">b</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> a </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> b;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">add</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">subtract</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> require</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'./util'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">add</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">subtract</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">10</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span></code></pre></figure>\n</li>\n<li>\n<p><strong>동기적 로딩</strong>: 모듈을 하나씩 순차적으로 로드하고 처리하므로 성능에 민감한 애플리케이션에서 블로킹이 발생할 수 있다.</p>\n</li>\n<li>\n<p><strong>유연성</strong>: <code>require</code>는 코드의 어디서나 호출할 수 있어 조건부 또는 동적으로 모듈을 로드할 수 있다.</p>\n</li>\n</ul>\n<h3 id=\"es-모듈\"><a class=\"anchor\" href=\"#es-모듈\">ES 모듈</a></h3>\n<ul>\n<li>\n<p><strong>표준화된 포맷</strong>: ES 모듈은 자바스크립트 코드 재사용을 위한 공식 표준</p>\n</li>\n<li>\n<p><strong>문법</strong>: <code>import</code>와 <code>export</code> 문을 사용</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> add</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">a</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">b</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> a </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> b;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> subtract</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">a</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">b</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> a </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> b;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { add, subtract } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> './util.mjs'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">add</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">subtract</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">10</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span></code></pre></figure>\n</li>\n<li>\n<p><strong>비동기적 로딩</strong>: 모듈을 비동기적으로 로드하여 고성능 웹 애플리케이션의 성능을 향상시킬 수 있다.</p>\n</li>\n<li>\n<p><strong>네이티브 브라우저 지원</strong>: 모든 최신 웹 브라우저에서 지원하여 서버와 클라이언트 환경 간에 코드를 쉽게 공유할 수 있다.</p>\n</li>\n<li>\n<p><strong>파일 확장자</strong>: 일반적으로 <code>.mjs</code> 확장자를 사용하거나 <code>package.json</code> 파일에 <code>\"type\": \"module\"</code>을 설정하여 <code>.js</code> 파일을 ES 모듈로 취급</p>\n</li>\n</ul>\n<h3 id=\"자바스크립트-모듈의-진화\"><a class=\"anchor\" href=\"#자바스크립트-모듈의-진화\">자바스크립트 모듈의 진화</a></h3>\n<ol>\n<li><strong>IIFE (즉시 실행 함수 표현)</strong>: 전역 스코프 오염 방지와 코드 캡슐화를 위해 사용</li>\n<li><strong>모듈 패턴</strong>: 모듈의 공용 및 개인 구성 요소를 분리하여 더 명확한 구조를 제공했지만, 종속성 관리를 위한 표준 방법이 없다.</li>\n<li><strong>CommonJS</strong>: 서버 측 개발을 위해 동기적 로딩을 도입</li>\n<li><strong>AMD (Asynchronous Module Definition)</strong>: 브라우저 환경에서 비동기 로딩을 중점적으로 개선했</li>\n<li><strong>UMD (Universal Module Definition)</strong>: 서버와 브라우저 환경 모두에서 작동하도록 설계</li>\n<li><strong>ES 모듈</strong>: 클라이언트와 서버 환경 모두에서 네이티브 지원을 제공하며 명확한 문법과 비동기 로딩을 제공</li>\n</ol>\n<h3 id=\"nodejs와-es-모듈\"><a class=\"anchor\" href=\"#nodejs와-es-모듈\">Node.js와 ES 모듈</a></h3>\n<ul>\n<li><strong>지원 버전</strong>: Node.js는 버전 13.2.0부터 ES 모듈을 안정적으로 지원</li>\n<li><strong>호환성</strong>: 이전 버전의 Node.js(v9 이하)에서는 ES 모듈을 네이티브로 지원하지 않는다.</li>\n<li><strong>듀얼 모드 라이브러리</strong>: <code>package.json</code>의 조건부 exports를 사용하여 CommonJS와 ES 모듈 모두를 지원하도록 할 수 있다.\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"name\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"my-library\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"exports\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \".\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      \"browser\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">        \"default\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"./lib/browser-module.js\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"module-a\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      \"import\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"./lib/module-a.mjs\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      \"require\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"./lib/module-a.js\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n</li>\n</ul>\n<h3 id=\"정리\"><a class=\"anchor\" href=\"#정리\">정리</a></h3>\n<ul>\n<li><strong>CommonJS</strong>\n<ul>\n<li><strong>장점</strong>: <code>require</code>의 유연성, 쉬운 동기적 코드 작성.</li>\n<li><strong>단점</strong>: 동기적 로딩으로 인해 성능 문제 발생 가능.</li>\n</ul>\n</li>\n<li><strong>ES 모듈</strong>\n<ul>\n<li><strong>장점</strong>: 비동기적 로딩, 브라우저에서 네이티브 지원, 표준화된 문법.</li>\n<li><strong>단점</strong>: Node.js v13.2.0 이상에서만 지원, 기존 코드베이스와의 호환성 문제.</li>\n</ul>\n</li>\n</ul>"
    },
    "_id": "230928/index.md",
    "_raw": {
      "sourceFilePath": "230928/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "230928",
      "contentType": "markdown",
      "flattenedPath": "230928"
    },
    "type": "Post",
    "slug": "/230928",
    "categoryArray": [
      "소박한궁금증",
      "자바스크립트"
    ],
    "readingTime": "5 min read",
    "excerpt": "모듈은 현대 소프트웨어 개발에서 코드의 재사용성과 유지보수를 높이기 위해 필수적인 요소다. 그리고 자바스크립트에는 CommonJS와 ES 모듈이 있다. 두개가 어떤 차이가 있는지 비교해보자! CommonJS Node.js의 기본 모듈 시스템으로 CommonJs를 사용한다. require를 사용하여 모듈을 로드하고 module.exports를 사용하여 변수와..."
  },
  {
    "title": "Dependencies vs DevDependencies vs PeerDependencies",
    "date": "2023-10-02T00:00:00.000Z",
    "categories": "소박한궁금증 자바스크립트",
    "draft": true,
    "body": {
      "raw": "\n### Dependencies (종속성)\n\n- **목적**: 애플리케이션이 프로덕션에서 실행되기 위해 필수적\n- **설치 방법**: `npm install` 명령어를 플래그 없이 실행할 때 설치\n- **사용 사례**: 웹 프레임워크, 유틸리티 라이브러리 등 애플리케이션이 정상적으로 작동하는 데 필요한 패키지를 포함\n- **예시**\n\n  ```json\n  \"dependencies\": {\n    \"express\": \"4.17.1\",\n    \"lodash\": \"4.17.21\"\n  }\n  ```\n\n<br>\n\n### DevDependencies (개발 종속성)\n\n- **목적**: 개발 및 테스트에만 필요\n- **설치 방법**: `npm install --save-dev` 또는 `npm install -D` 명령어를 실행할 때 설치\n- **사용 사례**: 테스트 라이브러리, 빌드 도구, 린터 등 프로덕션 환경에서는 필요하지 않은 패키지를 포함\n- **예시**\n\n  ```json\n  \"devDependencies\": {\n    \"jest\": \"26.6.3\",\n    \"eslint\": \"7.20.0\"\n  }\n  ```\n\n  <br>\n\n### PeerDependencies (피어 종속성)\n\n- **목적**: 패키지를 사용하는 소비자가 특정 종속성을 제공해야 함을 명시\n- **설치 방법**: 자동으로 설치되지 않으며, 패키지를 사용하는 프로젝트에서 설치\n- **사용 사례**: 플러그인이나 라이브러리가 호스트 애플리케이션이 특정 버전의 종속성을 사용하도록 보장할 때 유용하며, 여러 버전의 동일한 패키지가 사용되는 것을 피할 수 있다.\n- **예시**\n\n  ```json\n  \"peerDependencies\": {\n    \"react\": \"17.0.0\",\n    \"react-dom\": \"17.0.0\"\n  }\n  ```\n\n  <br>\n\n### 요약\n\n- **Dependencies**: 런타임에 필수적이며, 프로덕션 환경에서도 포함한다. 또한 모든 환경에서 애플리케이션이 예상대로 실행되도록 필요한 모든 패키지가 제공된다.\n- **DevDependencies**: 개발 중에만 필요하며, 프로덕션 환경에서는 포함되지 않는다. 또한 프로덕션 번들에서 개발 관련 도구를 제외하여 성능을 개선하고 잠재적 공격 벡터를 줄일 수 있다.\n- **PeerDependencies**: 패키지를 사용하는 프로젝트가 제공해야 하는 종속성으로, 기본적으로 설치하지 않는다. 그리고 소비하는 애플리케이션 전반에 걸쳐 단일 버전의 종속성을 유지하여 여러 버전으로 인한 충돌과 잠재적 버그를 피할 수 있다.\n",
      "html": "<h3 id=\"dependencies-종속성\"><a class=\"anchor\" href=\"#dependencies-종속성\">Dependencies (종속성)</a></h3>\n<ul>\n<li>\n<p><strong>목적</strong>: 애플리케이션이 프로덕션에서 실행되기 위해 필수적</p>\n</li>\n<li>\n<p><strong>설치 방법</strong>: <code>npm install</code> 명령어를 플래그 없이 실행할 때 설치</p>\n</li>\n<li>\n<p><strong>사용 사례</strong>: 웹 프레임워크, 유틸리티 라이브러리 등 애플리케이션이 정상적으로 작동하는 데 필요한 패키지를 포함</p>\n</li>\n<li>\n<p><strong>예시</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"dependencies\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"express\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"4.17.1\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"lodash\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"4.17.21\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n</li>\n</ul>\n<h3 id=\"devdependencies-개발-종속성\"><a class=\"anchor\" href=\"#devdependencies-개발-종속성\">DevDependencies (개발 종속성)</a></h3>\n<ul>\n<li>\n<p><strong>목적</strong>: 개발 및 테스트에만 필요</p>\n</li>\n<li>\n<p><strong>설치 방법</strong>: <code>npm install --save-dev</code> 또는 <code>npm install -D</code> 명령어를 실행할 때 설치</p>\n</li>\n<li>\n<p><strong>사용 사례</strong>: 테스트 라이브러리, 빌드 도구, 린터 등 프로덕션 환경에서는 필요하지 않은 패키지를 포함</p>\n</li>\n<li>\n<p><strong>예시</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"devDependencies\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"jest\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"26.6.3\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"eslint\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"7.20.0\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n</li>\n</ul>\n<h3 id=\"peerdependencies-피어-종속성\"><a class=\"anchor\" href=\"#peerdependencies-피어-종속성\">PeerDependencies (피어 종속성)</a></h3>\n<ul>\n<li>\n<p><strong>목적</strong>: 패키지를 사용하는 소비자가 특정 종속성을 제공해야 함을 명시</p>\n</li>\n<li>\n<p><strong>설치 방법</strong>: 자동으로 설치되지 않으며, 패키지를 사용하는 프로젝트에서 설치</p>\n</li>\n<li>\n<p><strong>사용 사례</strong>: 플러그인이나 라이브러리가 호스트 애플리케이션이 특정 버전의 종속성을 사용하도록 보장할 때 유용하며, 여러 버전의 동일한 패키지가 사용되는 것을 피할 수 있다.</p>\n</li>\n<li>\n<p><strong>예시</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"peerDependencies\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"react\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"17.0.0\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"react-dom\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"17.0.0\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n</li>\n</ul>\n<h3 id=\"요약\"><a class=\"anchor\" href=\"#요약\">요약</a></h3>\n<ul>\n<li><strong>Dependencies</strong>: 런타임에 필수적이며, 프로덕션 환경에서도 포함한다. 또한 모든 환경에서 애플리케이션이 예상대로 실행되도록 필요한 모든 패키지가 제공된다.</li>\n<li><strong>DevDependencies</strong>: 개발 중에만 필요하며, 프로덕션 환경에서는 포함되지 않는다. 또한 프로덕션 번들에서 개발 관련 도구를 제외하여 성능을 개선하고 잠재적 공격 벡터를 줄일 수 있다.</li>\n<li><strong>PeerDependencies</strong>: 패키지를 사용하는 프로젝트가 제공해야 하는 종속성으로, 기본적으로 설치하지 않는다. 그리고 소비하는 애플리케이션 전반에 걸쳐 단일 버전의 종속성을 유지하여 여러 버전으로 인한 충돌과 잠재적 버그를 피할 수 있다.</li>\n</ul>"
    },
    "_id": "231002/index.md",
    "_raw": {
      "sourceFilePath": "231002/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "231002",
      "contentType": "markdown",
      "flattenedPath": "231002"
    },
    "type": "Post",
    "slug": "/231002",
    "categoryArray": [
      "소박한궁금증",
      "자바스크립트"
    ],
    "readingTime": "3 min read",
    "excerpt": "Dependencies (종속성) 목적: 애플리케이션이 프로덕션에서 실행되기 위해 필수적 설치 방법: npm install 명령어를 플래그 없이 실행할 때 설치 사용 사례: 웹 프레임워크, 유틸리티 라이브러리 등 애플리케이션이 정상적으로 작동하는 데 필요한 패키지를 포함 예시 DevDependencies (개발 종속성) 목적: 개발 및 테스트에만 필요 설치..."
  },
  {
    "title": "Singleton Pattern을 간단하게 알아보자!",
    "date": "2023-10-10T00:00:00.000Z",
    "categories": "소박한궁금증 자바스크립트",
    "draft": true,
    "body": {
      "raw": "\n## Singleton Pattern\n\n싱글톤 패턴은 특정 클래스의 인스턴스가 오직 하나만 생성되도록 보장하며, 이 인스턴스에 전역적으로 접근할 수 있게 하는 디자인 패턴이다.\n\n싱글톤 패턴은 전역 변수를 사용하지 않고도 전역적인 접근을 제공하여, 공유 자원에 대한 동시 접근을 제어할 수 있어, 자원 관리와 동시성 제어에 중요한 시스템이다.\n\n자바스크립트에서는 클래스를 사용하지 않고도 싱글톤 패턴을 구현할 수 있다. 왜냐하면 자바스크립트는 프로토타입 기반 언어이기 때문에 일반적인 함수와 객체, 클로저를 사용하여 싱글톤 패턴을 구현할 수 있다.\n\n```javascript\nclass Singleton {\n  constructor(data) {\n    if (Singleton.instance) {\n      return Singleton.instance;\n    }\n    this.data = data || \"Initial data\";\n    Singleton.instance = this;\n  }\n\n  getData() {\n    return this.data;\n  }\n\n  setData(data) {\n    this.data = data;\n  }\n}\n\nconst singleton = new Singleton(\"First data\");\nconsole.log(singleton.getData());\n\nconst anotherSingleton = new Singleton(\"Second data\");\nconsole.log(anotherSingleton.getData());\n\nsingleton.setData(\"Updated data\");\nconsole.log(anotherSingleton.getData());\n```\n\n위 예시에서 `Singleton` 클래스는 처음 생성될 때만 새로운 인스턴스를 생성하며, 이후에는 기존 인스턴스를 반환한다. `getData`와 `setData` 메서드를 통해 데이터를 가져오고 설정할 수 있다.\n\n<br>\n\n또한 **자바스크립트의 함수와 프로토타입을 사용**하여 싱글톤 패턴을 구현할 수 있다.\n\n```javascript\nfunction Singleton(data) {\n  if (Singleton.instance) {\n    return Singleton.instance;\n  }\n  this.data = data || \"Initial data\";\n  Singleton.instance = this;\n}\n\nSingleton.prototype.getData = function () {\n  return this.data;\n};\n\nSingleton.prototype.setData = function (data) {\n  this.data = data;\n};\n\nconst singleton = new Singleton(\"First data\");\nconsole.log(singleton.getData());\n\nconst anotherSingleton = new Singleton(\"Second data\");\nconsole.log(anotherSingleton.getData());\n\nsingleton.setData(\"Updated data\");\nconsole.log(anotherSingleton.getData());\n```\n\n<br>\n\n그리고 **즉시 실행 함수 표현식(IIFE)을** 사용하여 싱글톤 패턴을 구현할 수 있다.\n\n```javascript\nconst Singleton = (function () {\n  function SingletonClass(data) {\n    if (SingletonClass.instance) {\n      return SingletonClass.instance;\n    }\n    this.data = data || \"Initial data\";\n    SingletonClass.instance = this;\n  }\n\n  SingletonClass.prototype.getData = function () {\n    return this.data;\n  };\n\n  SingletonClass.prototype.setData = function (data) {\n    this.data = data;\n  };\n\n  return SingletonClass;\n})();\n\nconst singleton = new Singleton(\"First data\");\nconsole.log(singleton.getData());\n\nconst anotherSingleton = new Singleton(\"Second data\");\nconsole.log(anotherSingleton.getData());\n\nsingleton.setData(\"Updated data\");\nconsole.log(anotherSingleton.getData());\n```\n\n위 예시는 IIFE를 사용하여 `SingletonClass`를 내부에 캡슐화하고, 외부에서 직접 접근할 수 없도록 한다. `Singleton` 변수는 `SingletonClass`의 인스턴스를 생성하고 반환하는 역할을 한다.\n",
      "html": "<h2 id=\"singleton-pattern\"><a class=\"anchor\" href=\"#singleton-pattern\">Singleton Pattern</a></h2>\n<p>싱글톤 패턴은 특정 클래스의 인스턴스가 오직 하나만 생성되도록 보장하며, 이 인스턴스에 전역적으로 접근할 수 있게 하는 디자인 패턴이다.</p>\n<p>싱글톤 패턴은 전역 변수를 사용하지 않고도 전역적인 접근을 제공하여, 공유 자원에 대한 동시 접근을 제어할 수 있어, 자원 관리와 동시성 제어에 중요한 시스템이다.</p>\n<p>자바스크립트에서는 클래스를 사용하지 않고도 싱글톤 패턴을 구현할 수 있다. 왜냐하면 자바스크립트는 프로토타입 기반 언어이기 때문에 일반적인 함수와 객체, 클로저를 사용하여 싱글톤 패턴을 구현할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Singleton</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (Singleton.instance) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Singleton.instance;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">||</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"Initial data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    Singleton.instance </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.data;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  setData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> singleton</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Singleton</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"First data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(singleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> anotherSingleton</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Singleton</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Second data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(anotherSingleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">singleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Updated data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(anotherSingleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span></code></pre></figure>\n<p>위 예시에서 <code>Singleton</code> 클래스는 처음 생성될 때만 새로운 인스턴스를 생성하며, 이후에는 기존 인스턴스를 반환한다. <code>getData</code>와 <code>setData</code> 메서드를 통해 데이터를 가져오고 설정할 수 있다.</p>\n<p>또한 <strong>자바스크립트의 함수와 프로토타입을 사용</strong>하여 싱글톤 패턴을 구현할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Singleton</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (Singleton.instance) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Singleton.instance;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">||</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"Initial data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  Singleton.instance </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Singleton</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">prototype</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.data;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Singleton</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">prototype</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setData</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> singleton</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Singleton</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"First data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(singleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> anotherSingleton</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Singleton</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Second data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(anotherSingleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">singleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Updated data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(anotherSingleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span></code></pre></figure>\n<p>그리고 <strong>즉시 실행 함수 표현식(IIFE)을</strong> 사용하여 싱글톤 패턴을 구현할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Singleton</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> SingletonClass</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (SingletonClass.instance) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> SingletonClass.instance;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">||</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"Initial data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    SingletonClass.instance </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  SingletonClass</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">prototype</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.data;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  SingletonClass</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">prototype</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setData</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> SingletonClass;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">})();</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> singleton</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Singleton</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"First data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(singleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> anotherSingleton</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Singleton</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Second data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(anotherSingleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">singleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Updated data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(anotherSingleton.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span></code></pre></figure>\n<p>위 예시는 IIFE를 사용하여 <code>SingletonClass</code>를 내부에 캡슐화하고, 외부에서 직접 접근할 수 없도록 한다. <code>Singleton</code> 변수는 <code>SingletonClass</code>의 인스턴스를 생성하고 반환하는 역할을 한다.</p>"
    },
    "_id": "231010/index.md",
    "_raw": {
      "sourceFilePath": "231010/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "231010",
      "contentType": "markdown",
      "flattenedPath": "231010"
    },
    "type": "Post",
    "slug": "/231010",
    "categoryArray": [
      "소박한궁금증",
      "자바스크립트"
    ],
    "readingTime": "3 min read",
    "excerpt": "Singleton Pattern 싱글톤 패턴은 특정 클래스의 인스턴스가 오직 하나만 생성되도록 보장하며, 이 인스턴스에 전역적으로 접근할 수 있게 하는 디자인 패턴이다. 싱글톤 패턴은 전역 변수를 사용하지 않고도 전역적인 접근을 제공하여, 공유 자원에 대한 동시 접근을 제어할 수 있어, 자원 관리와 동시성 제어에 중요한 시스템이다. 자바스크립트에서는 클래스..."
  },
  {
    "title": "비전공 프론트엔드 신입 개발자의 좌충우돌 도전을 다룬 2023년 회고",
    "date": "2024-01-01T00:00:00.000Z",
    "categories": "일상",
    "body": {
      "raw": "\n# 2023 회고록\n\n사실 이런 거 처음 쓴다. 어색하다.\n\n그런데 회고록을 작성해야겠다고 생각한 이유가 있어서 작성해보려고 한다!\n\n2022년 겨울부터 2023년 1년 전체를 생각해보면 많은 것이 변화했다.\n\n나의 회사, 취미, 대인관계, 삶의 공간 등등.. 너무너무 많은 것들이 변해서 되짚어보고 2024년 계획을 작성해 보려고한다.\n\n많이 솔직하게 작성할 예정이어서, 비공개로 할지 공개를 할지 모르겠다(일단 쓰자)\n\n<br/>\n\n### 첫 회사, 이직준비\n\n사실 2021년 초반에 컴퓨터 관련 학원을 다니기도 했고, 국비도 해보았지만 결과도 별로고 시간도 길지 않아서 패스하겠다\n\n제대로 공부를 시작한것은 2021년 12월에 생활코딩, 드림코딩과 같은 유튜브를 보면서 개발공부를 시작하였다.\n\n그 이후에 클론코딩만 주구장창하다가 이대로는 복사기가 될 것 같기도 하고 실력이 멈출것 같아서 OKKY 라는 개발 커뮤니티에서 팀원을 모집해 운동정보 공유 및 기록하는 웹사이트(자칭 : 헬쓰리) 를 만들기 시작했다.\n\n헬쓰리를 만드는 동안 클론코딩에서는 느끼지 못할 무수한 에러에 대해서 경험해보기도 하고 지독하게 다른포지션 개발자와 회의도 진행해보고.. 아주 많은 일이 있었던거같다.\n\n그중에 기억에 남는 부분은 직군의 Song 에게 프로젝트에 대한 방향성, 정신적인 응원 등 많은 도움을 받았다.\n\n그렇게 시간이 흘러 난 독학으로 공부를 하다보니 코딩테스트에 대해서 제대로 알지도 못하고 , 네트워크, 자료구조, 컴퓨터 이론, 웹개발 CS 지식에 제대로 알지 못한 상태로 헬쓰리만 주구장창 만들었다.\n\n하나 둘씩 취업에 성공하고 그 때야, 급하게 과제전형,코딩테스트 등을 준비하고 먼접준비를 한 후에 급하게 이력서를 작성하고 관심있어하는 회사에 지원을 하게 되었는데 10%만 서류합격이 되었을뿐 광탈의 연속이었다!!!!\n\n그중 운이 좋게 C# 관련 인공지능 챗봇을 만드는 회사에 입사하게되었다.\n\n지금 생각해보면 내가 왜 node 쪽이 아닌 c# 과 .net 쪽으로 입사를 하였을 까 싶은데 저 때도 막 도전정신이 끓어 올랐던거 같다.\n\n그렇게 회사에 가서 일을 통해 도파민을 얻을 정도로 일을 사랑하고 즐겁게 하시는 분들을 만나서 즐겁게 코딩하고\n\n재미있는 활동을 참 많이했다.\n\n그렇게 회사를 열심히 다니고 이런저런 사유때문에 퇴사를 진행한 후에 조금 쉬었다 바로 이직준비를 시작하였다.\n\n이직 준비하는 1달 정도의 시간동안 코테도 보고, 면접도 보고, 과제전형도 하고~~ 등등 여러가지 활동을 한 이후에 현재 회사에서 비대면 헬스케어분야에서 FE 로 근무중이다.\n\n<br/>\n\n### 두번째 회사\n\n두번째 회사에 왔을때 처음 맡은 프로젝트가 있었는데 C# ⇒ react/vite 로 마이그레이션하는 것이였다.\n\n진짜 C# 을 깔짝해봐서 어려웠는데 어찌저찌해서 해결했구..\n\n위 프로젝트와 함께 jquery 기반 프로젝트를 nextjs 로 마이그레이션 하는 프로젝트까지 해서 온보딩 과정을 진행했다.\n\n(내가 공부 시작할때만해도 next 12 였는데 저 때 13 이 정식으로 release 되어서 했는데 어려웠따..)\n\n다시 생각해보면 저 3달이라는 시간은 정신없이 지나간것 같다\n\n- 잘했다고 했는데.. 뭘 잘한건지 잘모르지만~ 그만큼 열심히했으니 뿌듯했다.\n\n현재 다니는 회사의 프로젝트 몇개는 상당히 복잡하다. jqeury 도 쓰고 devextreme 이라는 css 라이브러리 사용하고있고 상태관리보다는 전역으로 storage 를 통해 데이터를 관리하고, ssh 를 통해 배포를 하고.. 거의 terminal 명령어를 열심히 알아야 될 정도로 오래된 코드들이 많이 있었다.\n\n바로 리팩토링하거나 기능개선쪽으로 시간을 할애했으면 좋겠지만, 유저 사용에 대한 처리와 기능개발을 동시에 진행하고 회사 특성상 미국에서 간호사,의사들이 사용하고 원하는 기능을 개발하고 수정하는 형태이고, 그에 따라 계속해서 새로운 기능에 짧은 DeadLine 을 부여받다 보니 Refactoring의 R 도 꺼내보지 못한채 3~4개월을 보내버렸다.\n\n10월 후반부터 3~5년차분들의 동료들이 입사해서 회의를 통해 프로젝트 구조를 새로잡고 체계적으로 하나씩 진행중이다.\n\n<br/>\n\n### 스터디, 동아리 및 회사생활\n\n올해 5월까지 회사만 열심히 다니고 있었다. 그런데 이게 뭔지 회사를 다니니깐 더욱 불안해졋다.\n\n(내가 하고있는게 맞을까? 아 요즘 이런 기술스택이 강세이던데.. 왜 이런거 안쓰지 등등)\n\n그러던 도중에 Teo 스프린트를 참여하게 되었고!! 디자이너를 비롯한 다양한 스터디원들을 만나게되었다.\n\n5일동안 기획 디자인 개발 모든 작업을 했다.\n\n사람들과 뜻도 맞아서 오프라인으로 모각코도 진행하고 자연스러운 취준, 개발이야기를 했다\n\n시간이 흘러서 이런 행사를 기획한 teo 의 생각을 들어보고 싶다고 생각을 했다\n\n약속을 잡고 1시간30분정도 테오와 함께 나의 현재 상황에 대해서 이야기를 해보았고, 스프린트 인원들과 실제로 만나서 커피챗도 진행했다\n\n결과적으로 주니어때 우물속 개발자가 아닌 다른사람 이야기를 많이 들어보는 개발자가 되었으면 좋겠다는 조언을 듣게 되었다\n\n그래서 찾아봣다.. 어떻게 하면 견해를 넓힐까!\n\n동아리를 하기로 결정을 했고 좋은 기회로 Sipe 라는 동아리에서 활동하게 되었다.\n\nsipe 덕분에 운동,대인관계,개발견해 등등 많은 것을 배웠다\n\n적극추천\n\n<br/>\n\n### 2023년 아쉬운점, 이어나갈점\n\n**아쉬운점**\n\n코 앞에 취업만 바라보고 2022년을 보내고, 2023년에 직장에서 자리를 잡았다.\n\n그러다 보니 내가 목표한 부분이 어떤건지에 대한 상실감과 그런 상실감을 해소하기 위해서 숨쉴틈 없이 잡아논 나의 일정이 나를 지치게했다\n\n뭐.. 남들보다 빠르게 번아웃이 와서 그 순간을 결과적으론 잘 보낸거 같아서 다행이라고 생각한다.\n\n여행으로 해결하든, 아니면 또 다른 계획으로 해결하든 결과만 좋다면야!\n\n**좋고 이어나갈 점**\n\n올해 최고로 잘한 부분은 사람을 많이 만낫다는 것.\n\n우물안 개구리가 되고 나에대한 평가를 스스로에게 너무 착하게 해준 것 같은데 사람들을 만나면서 목표할 부분을 다시 잡게 되었다.\n\n<br/>\n\n### 남은 연말 & 내년..\n\n이걸 쓰는 동안에 연말이다. 올해가 2주도 안남았네 ㅋㅋ\n\n금방쓸줄 알았는데 개뿔 ㅋㅋㅋ\n\n내년 목표나 작성해보자\n\n내년에 내가 열심히 해야겠다고 다짐 한 부분은\n\n1. 링크드인에 회고록 작성하기\n   1. 아무래도 나 자신에 대한 피드백을 작성하고, 그런 기록물을 만드는것은 링크드인이 적합하다고 생각\n2. 코테 코테 코테 코테, 과제테스트\n   1. 취업하자마자 내 던져버린 코테를 다시 꺼낸다 나의 목표는 백준 플레다.\n   2. 과제테스트도 열심히해보쟈\n3. 필요한 부분에 대해서 공부하기\n   1. 자바스크립트, 리엑트와 같이 내가 주로 사용하는 부분에 대해서 구체적이고 깊게 다시 해볼려고함\n4. \\*\\* 준비\n   1. 이것을 준비하기 위해서 목표점을 확실히 잡아서 전략적으로 준비해야겠다\n   2. 2024년은 이것을 위해서 올인하겟다 라는 생각\n\n<br/>\n\n### To Me…\n\n고생했다 지훈아..\n\n근데 끝까지 맡은부분 열심히하자 뭐든지\n\n인간관계, 공부하는것 등등\n\n그리고 운동좀 해라(클라이밍,헬스,러닝 다시 할 예정)\n\n```toc\n\n```\n",
      "html": "<h1 id=\"2023-회고록\"><a class=\"anchor\" href=\"#2023-회고록\">2023 회고록</a></h1>\n<p>사실 이런 거 처음 쓴다. 어색하다.</p>\n<p>그런데 회고록을 작성해야겠다고 생각한 이유가 있어서 작성해보려고 한다!</p>\n<p>2022년 겨울부터 2023년 1년 전체를 생각해보면 많은 것이 변화했다.</p>\n<p>나의 회사, 취미, 대인관계, 삶의 공간 등등.. 너무너무 많은 것들이 변해서 되짚어보고 2024년 계획을 작성해 보려고한다.</p>\n<p>많이 솔직하게 작성할 예정이어서, 비공개로 할지 공개를 할지 모르겠다(일단 쓰자)</p>\n<h3 id=\"첫-회사-이직준비\"><a class=\"anchor\" href=\"#첫-회사-이직준비\">첫 회사, 이직준비</a></h3>\n<p>사실 2021년 초반에 컴퓨터 관련 학원을 다니기도 했고, 국비도 해보았지만 결과도 별로고 시간도 길지 않아서 패스하겠다</p>\n<p>제대로 공부를 시작한것은 2021년 12월에 생활코딩, 드림코딩과 같은 유튜브를 보면서 개발공부를 시작하였다.</p>\n<p>그 이후에 클론코딩만 주구장창하다가 이대로는 복사기가 될 것 같기도 하고 실력이 멈출것 같아서 OKKY 라는 개발 커뮤니티에서 팀원을 모집해 운동정보 공유 및 기록하는 웹사이트(자칭 : 헬쓰리) 를 만들기 시작했다.</p>\n<p>헬쓰리를 만드는 동안 클론코딩에서는 느끼지 못할 무수한 에러에 대해서 경험해보기도 하고 지독하게 다른포지션 개발자와 회의도 진행해보고.. 아주 많은 일이 있었던거같다.</p>\n<p>그중에 기억에 남는 부분은 직군의 Song 에게 프로젝트에 대한 방향성, 정신적인 응원 등 많은 도움을 받았다.</p>\n<p>그렇게 시간이 흘러 난 독학으로 공부를 하다보니 코딩테스트에 대해서 제대로 알지도 못하고 , 네트워크, 자료구조, 컴퓨터 이론, 웹개발 CS 지식에 제대로 알지 못한 상태로 헬쓰리만 주구장창 만들었다.</p>\n<p>하나 둘씩 취업에 성공하고 그 때야, 급하게 과제전형,코딩테스트 등을 준비하고 먼접준비를 한 후에 급하게 이력서를 작성하고 관심있어하는 회사에 지원을 하게 되었는데 10%만 서류합격이 되었을뿐 광탈의 연속이었다!!!!</p>\n<p>그중 운이 좋게 C# 관련 인공지능 챗봇을 만드는 회사에 입사하게되었다.</p>\n<p>지금 생각해보면 내가 왜 node 쪽이 아닌 c# 과 .net 쪽으로 입사를 하였을 까 싶은데 저 때도 막 도전정신이 끓어 올랐던거 같다.</p>\n<p>그렇게 회사에 가서 일을 통해 도파민을 얻을 정도로 일을 사랑하고 즐겁게 하시는 분들을 만나서 즐겁게 코딩하고</p>\n<p>재미있는 활동을 참 많이했다.</p>\n<p>그렇게 회사를 열심히 다니고 이런저런 사유때문에 퇴사를 진행한 후에 조금 쉬었다 바로 이직준비를 시작하였다.</p>\n<p>이직 준비하는 1달 정도의 시간동안 코테도 보고, 면접도 보고, 과제전형도 하고~~ 등등 여러가지 활동을 한 이후에 현재 회사에서 비대면 헬스케어분야에서 FE 로 근무중이다.</p>\n<h3 id=\"두번째-회사\"><a class=\"anchor\" href=\"#두번째-회사\">두번째 회사</a></h3>\n<p>두번째 회사에 왔을때 처음 맡은 프로젝트가 있었는데 C# ⇒ react/vite 로 마이그레이션하는 것이였다.</p>\n<p>진짜 C# 을 깔짝해봐서 어려웠는데 어찌저찌해서 해결했구..</p>\n<p>위 프로젝트와 함께 jquery 기반 프로젝트를 nextjs 로 마이그레이션 하는 프로젝트까지 해서 온보딩 과정을 진행했다.</p>\n<p>(내가 공부 시작할때만해도 next 12 였는데 저 때 13 이 정식으로 release 되어서 했는데 어려웠따..)</p>\n<p>다시 생각해보면 저 3달이라는 시간은 정신없이 지나간것 같다</p>\n<ul>\n<li>잘했다고 했는데.. 뭘 잘한건지 잘모르지만~ 그만큼 열심히했으니 뿌듯했다.</li>\n</ul>\n<p>현재 다니는 회사의 프로젝트 몇개는 상당히 복잡하다. jqeury 도 쓰고 devextreme 이라는 css 라이브러리 사용하고있고 상태관리보다는 전역으로 storage 를 통해 데이터를 관리하고, ssh 를 통해 배포를 하고.. 거의 terminal 명령어를 열심히 알아야 될 정도로 오래된 코드들이 많이 있었다.</p>\n<p>바로 리팩토링하거나 기능개선쪽으로 시간을 할애했으면 좋겠지만, 유저 사용에 대한 처리와 기능개발을 동시에 진행하고 회사 특성상 미국에서 간호사,의사들이 사용하고 원하는 기능을 개발하고 수정하는 형태이고, 그에 따라 계속해서 새로운 기능에 짧은 DeadLine 을 부여받다 보니 Refactoring의 R 도 꺼내보지 못한채 3~4개월을 보내버렸다.</p>\n<p>10월 후반부터 3~5년차분들의 동료들이 입사해서 회의를 통해 프로젝트 구조를 새로잡고 체계적으로 하나씩 진행중이다.</p>\n<h3 id=\"스터디-동아리-및-회사생활\"><a class=\"anchor\" href=\"#스터디-동아리-및-회사생활\">스터디, 동아리 및 회사생활</a></h3>\n<p>올해 5월까지 회사만 열심히 다니고 있었다. 그런데 이게 뭔지 회사를 다니니깐 더욱 불안해졋다.</p>\n<p>(내가 하고있는게 맞을까? 아 요즘 이런 기술스택이 강세이던데.. 왜 이런거 안쓰지 등등)</p>\n<p>그러던 도중에 Teo 스프린트를 참여하게 되었고!! 디자이너를 비롯한 다양한 스터디원들을 만나게되었다.</p>\n<p>5일동안 기획 디자인 개발 모든 작업을 했다.</p>\n<p>사람들과 뜻도 맞아서 오프라인으로 모각코도 진행하고 자연스러운 취준, 개발이야기를 했다</p>\n<p>시간이 흘러서 이런 행사를 기획한 teo 의 생각을 들어보고 싶다고 생각을 했다</p>\n<p>약속을 잡고 1시간30분정도 테오와 함께 나의 현재 상황에 대해서 이야기를 해보았고, 스프린트 인원들과 실제로 만나서 커피챗도 진행했다</p>\n<p>결과적으로 주니어때 우물속 개발자가 아닌 다른사람 이야기를 많이 들어보는 개발자가 되었으면 좋겠다는 조언을 듣게 되었다</p>\n<p>그래서 찾아봣다.. 어떻게 하면 견해를 넓힐까!</p>\n<p>동아리를 하기로 결정을 했고 좋은 기회로 Sipe 라는 동아리에서 활동하게 되었다.</p>\n<p>sipe 덕분에 운동,대인관계,개발견해 등등 많은 것을 배웠다</p>\n<p>적극추천</p>\n<h3 id=\"2023년-아쉬운점-이어나갈점\"><a class=\"anchor\" href=\"#2023년-아쉬운점-이어나갈점\">2023년 아쉬운점, 이어나갈점</a></h3>\n<p><strong>아쉬운점</strong></p>\n<p>코 앞에 취업만 바라보고 2022년을 보내고, 2023년에 직장에서 자리를 잡았다.</p>\n<p>그러다 보니 내가 목표한 부분이 어떤건지에 대한 상실감과 그런 상실감을 해소하기 위해서 숨쉴틈 없이 잡아논 나의 일정이 나를 지치게했다</p>\n<p>뭐.. 남들보다 빠르게 번아웃이 와서 그 순간을 결과적으론 잘 보낸거 같아서 다행이라고 생각한다.</p>\n<p>여행으로 해결하든, 아니면 또 다른 계획으로 해결하든 결과만 좋다면야!</p>\n<p><strong>좋고 이어나갈 점</strong></p>\n<p>올해 최고로 잘한 부분은 사람을 많이 만낫다는 것.</p>\n<p>우물안 개구리가 되고 나에대한 평가를 스스로에게 너무 착하게 해준 것 같은데 사람들을 만나면서 목표할 부분을 다시 잡게 되었다.</p>\n<h3 id=\"남은-연말--내년\"><a class=\"anchor\" href=\"#남은-연말--내년\">남은 연말 &#x26; 내년..</a></h3>\n<p>이걸 쓰는 동안에 연말이다. 올해가 2주도 안남았네 ㅋㅋ</p>\n<p>금방쓸줄 알았는데 개뿔 ㅋㅋㅋ</p>\n<p>내년 목표나 작성해보자</p>\n<p>내년에 내가 열심히 해야겠다고 다짐 한 부분은</p>\n<ol>\n<li>링크드인에 회고록 작성하기\n<ol>\n<li>아무래도 나 자신에 대한 피드백을 작성하고, 그런 기록물을 만드는것은 링크드인이 적합하다고 생각</li>\n</ol>\n</li>\n<li>코테 코테 코테 코테, 과제테스트\n<ol>\n<li>취업하자마자 내 던져버린 코테를 다시 꺼낸다 나의 목표는 백준 플레다.</li>\n<li>과제테스트도 열심히해보쟈</li>\n</ol>\n</li>\n<li>필요한 부분에 대해서 공부하기\n<ol>\n<li>자바스크립트, 리엑트와 같이 내가 주로 사용하는 부분에 대해서 구체적이고 깊게 다시 해볼려고함</li>\n</ol>\n</li>\n<li>** 준비\n<ol>\n<li>이것을 준비하기 위해서 목표점을 확실히 잡아서 전략적으로 준비해야겠다</li>\n<li>2024년은 이것을 위해서 올인하겟다 라는 생각</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"to-me\"><a class=\"anchor\" href=\"#to-me\">To Me…</a></h3>\n<p>고생했다 지훈아..</p>\n<p>근데 끝까지 맡은부분 열심히하자 뭐든지</p>\n<p>인간관계, 공부하는것 등등</p>\n<p>그리고 운동좀 해라(클라이밍,헬스,러닝 다시 할 예정)</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240101/index.md",
    "_raw": {
      "sourceFilePath": "240101/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240101",
      "contentType": "markdown",
      "flattenedPath": "240101"
    },
    "type": "Post",
    "slug": "/240101",
    "categoryArray": [
      "일상"
    ],
    "readingTime": "12 min read",
    "excerpt": "2023 회고록 사실 이런 거 처음 쓴다. 어색하다. 그런데 회고록을 작성해야겠다고 생각한 이유가 있어서 작성해보려고 한다! 2022년 겨울부터 2023년 1년 전체를 생각해보면 많은 것이 변화했다. 나의 회사, 취미, 대인관계, 삶의 공간 등등.. 너무너무 많은 것들이 변해서 되짚어보고 2024년 계획을 작성해 보려고한다. 많이 솔직하게 작성할 예정이어서..."
  },
  {
    "title": "React 19의 새로운 Hooks 완벽 가이드를 읽고 변경될 React를 맞이해보자",
    "date": "2024-02-16T00:00:00.000Z",
    "categories": "프론트엔드 React",
    "body": {
      "raw": "\n![react-hooks](1.png)\n\n&nbsp;\n\n# React 19에 도입될 Hooks\n\n&nbsp;\n\n- [use(Promise) & use(Context)](#usepromise--usecontext)\n- [Form actions](#form-actions)\n- [useFormState](#useformstate)\n- [useFormStatus](#useformstatus)\n- [useOptimistic](#useoptimistic)\n- [Bonus: Async transitions](#bonus-async-transitions)\n- [마무리](#마무리)\n\n> ✨ 잠깐!!! <span> 모든 코드는 [테스트 환경](https://react.dev/community/versioning-policy#canary-channel)</span> 에서 테스트 가능합니다. (단, React 19에 포함될 예정이지만 최종 release 전에 API가 변경될 수 있음)\n\n&nbsp;\n\n## use(Promise) & use(Context)\n\n&nbsp;\n\n### Reference\n\n- 컴포터는의 호출을 사용하여 Promise 또는 Context 와 같은 리소스의 값을 읽음\n- use는 if문과 같은 조건문 루프 안에서 호출 가능\n- use를 호출하는 함수는 컴포넌트 또는 Hook 이어야 함\n\n```typescript\nimport { use } from 'react';\n\nfunction MessageComponent({ messagePromise }) {\n  const message = use(messagePromise);\n  const theme = use(ThemeContext);\n  // ...\n```\n\nPromise와 함께 호출될 때, use는 Suspense 및 Error Boundaries와 통합된다.\n\nuse가 pending 상태일 때 Promise가 전달완료 될 때까지 일시중단되고, use를 호출하는 컴포넌트가 Suspense 경계로 래핑된 경우 대체 내용이 표시된다.\n\nPromise가 해결되면 Suspense 대체 내용이 use에서 반환한 데이터를 사용하여 렌더링된 컴포넌트로 대체되고 거부되면 가장 가까운 Error Boundaries의 대체 내용이 표시된다.\n\n&nbsp;\n\n> <h3>✋ 그럼 client에서 데이터를 가져올 때 third-party library가 필요 없을까?</h3>\n\n> TanStack Query 는 단순히 Promise 를 해결하는 것 이상의 기능을 수행하므로 아직은 지켜봐야 된다고 생각함!\n>\n> 하지만 올바른 방향으로 나아가는 훌륭한 단계라고 생각하며, REST 또는 GraphQL API를 기반으로 단일 페이지 앱을 더 쉽게 구축할 수 있게 해줄 거라고 생각함\n\n&nbsp;\n\n### use 문법\n\n```typescript\nconst value = use(resource);\n```\n\n<h4>1. 매개변수</h4>\n\nresource : Promise, Context 형태의 데이터의 소스가 들어감\n\n<h4>2. 함수 호출 출력 값</h4>\n\nuse Hook 을 사용하면 Promise 의 return 값이나 Context 의 return 값을 반환\n\n&nbsp;\n\n### use 사용해보기\n\n<span style=\"color: gray\">[context로 use를 사용하는 예시코드](https://codesandbox.io/p/sandbox/silly-dijkstra-68ryxj?file=/src/App.js)</span>\n\ncontext가 use로 전달되면 useContext와 유사하게 작동된다. 단, useContext는 컴포넌트의 최상위 수준에서 호출해야 하지만, use는 if와 같은 조건문과 for와 같은 루프 내부에서 호출할 수 있고 사용이 더 유연하기 때문에 useContext보다 선호됨\n\n```typescript\n\nimport { use } from 'react';\n\nfunction Button() {\n  const theme = use(ThemeContext);\n// ...\n```\n\nContext value를 결정하기 위해 React는 Component tree를 검색하고 특정 Context의 위에서부터 가장 가까운 Context Provider를 찾음\n\n버튼에 Context 전달하려면 버튼 또는 그 부모 컴포넌트 중 하나를 해당 Context Provider 로 래핑해야됨\n\n```typescript\nfunction MyPage() {\n  return (\n    <ThemeContext.Provider value='dark'>\n      <Form />\n    </ThemeContext.Provider>\n  );\n}\n\nfunction Form() {\n  // ... renders buttons inside ...\n}\n```\n\nProvider 와 버튼 사이에 얼마나 많은 컴포넌트 레이어가 있는지는 중요하지 않다. Form 내부의 버튼이 use(ThemeContext)를 호출하면 **dark**를 값으로 받음\n\n```typescript\nfunction HorizontalRule({ show }) {\n  if (show) {\n    const theme = use(ThemeContext);\n    return <hr className={theme} />;\n  }\n  return false;\n}\n```\n\n&nbsp;\n\n### use 사용시 주의점\n\n- use Hook 은 Component 또는 Hook 안에서 호출해야 됨\n\n- Server Component 에서 데이터를 가져올 때는 use 보다 async 와 await 사용해야 됨\n\n- React 팀에서는 Client Component에서 Promise를 생성하는 것보다 Server Component에서 Promise를 생성하고 이를 Client Component로 전달하는 것을 선호함\n\n- Client Component에서 생성된 Promise는 렌더링할 때마다 재생성됨\n\n- Server Component에서 Client Component로 전달된 Promise는 다시 렌더링할 때 안정적임\n\n- useContext와 마찬가지로 use(context)는 항상 이를 호출하는 컴포넌트 위에서 가장 가까운 Context Provider 을 찾음 => 위쪽으로 검색하며 use를 호출하는 컴포넌트 내의 Context Provider는 고려하지 않음\n\n&nbsp;\n\n### Server => Client로 데이터 스트리밍\n\n<span style=\"color: gray\">[Server => Client로 데이터 스트리밍하는 예시코드](https://codesandbox.io/p/sandbox/happy-shadow-8dg646)</span>\n\nServer Component에서 Client Component로 Promise를 props로 전달하여 Server에서 Client로 데이터를 스트리밍할 수 있음\n\n```typescript\nimport { fetchMessage } from './lib.js';\nimport { Message } from './message.js';\n\nexport default function App() {\n  const messagePromise = fetchMessage();\n  return (\n    <Suspense fallback={<p>waiting for message...</p>}>\n      <Message messagePromise={messagePromise} />\n    </Suspense>\n  );\n}\n```\n\n그런 다음 Client Component는 받은 Promise를 props로 가져와서 use에 전달, 이렇게 하면 Client Component는 Server Component가 처음에 생성한 Promise에서 값을 읽을 수 있음\n\n```typescript\n// message.js\n'use client';\n\nimport { use } from 'react';\n\nexport function Message({ messagePromise }) {\n  const messageContent = use(messagePromise);\n  return <p>Here is the message: {messageContent}</p>;\n}\n```\n\nMessage는 Suspense로 래핑되어 있으므로, Promise가 해결될 때까지 대체내용이 표시되고 Promise가 해결되면 Hook을 사용하여 값을 읽고 메시지 컴포넌트가 Suspense를 대체함.\n\n&nbsp;\n\n> <h3>📝 Note</h3>\n>\n> Server Component에서 Client Component로 Promise를 전달할 때, Server와 Client 간에 전달하려면 값이 [직렬화](https://developer.mozilla.org/ko/docs/Glossary/Serializable_object)가 가능해야 함\n>\n> 함수와 같은 데이터 유형은 직렬화할 수 없으며 이러한 것은 Promise의 값이 될 수 없다.\n\n&nbsp;\n\n> <h3>🤔 Server 또는 Client Component 에서 Promise를 해결해야 하나요? </h3>\n>\n> Promise는 Server Component에서 Client Component로 전달할 수 있고, Client Component에서 Hook을 사용하여 확인할 수 있고, Server Component에서 await을 사용하여 Promise를 확인하고 필요한 데이터를 Client Component에 프로퍼티로 전달할 수도 있다.\n>\n> 하지만 Server Component에서 await을 사용하면 await 문이 완료될 때까지 렌더링이 차단된다. 하지만 Server Component에서 Client Component로 Promise를 전달하면 Promise가 Server Component의 렌더링을 차단하지 못하게 됨\n\n&nbsp;\n\n### 거부된 Promise 처리하기\n\n<h4 style=\"color:red\">🚨 주의할 점 🚨</h4>\n<div style=\"opacity:0.5; margin-bottom:30px\">\n\nuse Hook 은 try-catch 로 호출할 수 없어서 아래 2가지 방법을 사용해야 됨.\n\n사용하게 되면 **“Suspense Exception: This is not a real error!”** 에러가 발생함\n\n</div>\n\n<div style=\"margin-bottom:40px\">\n<h4>1. Error Boundary 가 있는 사용자에게 오류를 표시</h4>\n\n<span style=\"color: gray\">[예시코드](https://codesandbox.io/p/sandbox/funny-cherry-dzl7jd?file=/src/message.js)</span>\n\nPromise가 거부될 때 사용자에게 오류 표시를 Error Boundary 를 사용하면 되고, 사용하려면 use을 호출하는 컴포넌트를 Error Boundary로 감싸면 된다.\n\n그러면 사용하도록 전달된 Promise가 거부될 때 Error Boundary에 대한 대체내용이 표시된다.\n\n</div>\n\n<h4>2. Promise.catch 를 사용하여 대체 값 제공</h4>\n\nPromise의 catch 메서드를 사용하려면 Promise 객체에서 catch를 호출 한 후, catch를 통해 오류 메시지를 인자로 받는 함수인 단일 인수를 받음.\n\ncatch에 전달된 함수가 반환하는 값은 무엇이든 Promise의 확인된 값으로 사용\n\n```typescript\nimport { Message } from './message.js';\n\nexport default function App() {\n  const messagePromise = new Promise((resolve, reject) => {\n    reject();\n  }).catch(() => {\n    return 'no new message found.';\n  });\n\n  return (\n    <Suspense fallback={<p>waiting for message...</p>}>\n      <Message messagePromise={messagePromise} />\n    </Suspense>\n  );\n}\n```\n\n&nbsp;\n\n## Form actions\n\nForm actions을 사용하면 `<form>`요소의 `action` 속성에 함수를 전달할 수 있고, 폼이 제출될 때 React가 이 함수를 호출함.\n\n```typescript\n<form action={handleSubmit} />\n```\n\nReact 18에서 `<form action>` 프로퍼티를 추가하면 아래 경고가 표시됨\n\n> Warning: Invalid value for prop `action` on `<form>` tag. Either remove it from the element or pass a string or number value to keep it in the DOM.\n\n&nbsp;\n\n### Form actions 사용해보기\n\n<span style=\"color:gray\">[Form action 예시코드](https://stackblitz-starters-j6yogy.stackblitz.io)</span>\n\naddToCart 함수는 Server action이 아니고, 클라이언트 측에서 호출되는 비동기 함수다.\n이렇게 하면 검색 양식과 같이 React에서 AJAX 양식 처리를 크게 간소화할 수 있지만, 이것만으로는 Form 제출(유효성 검사, 부작용 등)을 처리하는 것 이상의 기능을 하는 <span style=\"color:gray\">[React Hook Form](https://react-hook-form.com)</span>과 같은 서드파티 라이브러리를 제거하기에 충분하지 않다.\n\n> 위 예시에서 Form 제출 중 Form 제출 버튼이 비활성화되지 않는 것, Confirm 메시지 누락, Cart 업데이트 지연 등 오류를 발견할 수 있지만, react 19 와 추후 업데이트에서 hook이 추가될 예정이라고 함.\n\n&nbsp;\n\n### Reference\n\n```typescript\n<form action={search}>\n  <input name='query' />\n  <button type='submit'>Search</button>\n</form>\n```\n\n<h4>1. Props</h4>\n\n`<form>` 은 모든 <span>[common element props](https://react.dev/reference/react-dom/components/common#props)</span>을 지원함\n\n`action`: URL 또는 함수이다. URL이 `action`으로 전달되면 폼은 HTML 폼 구성 요소처럼 동작. 함수가 `action`으로 전달되면 해당 함수가 폼 제출을 처리한다. `action`으로 전달된 함수는 async일 수 있으며 제출된 폼의 폼 데이터가 포함된 단일 인수로 호출된다. `<button>` , `<input type=\"submit\">` 또는 `<input type=\"image\">` 컴포넌트의 `formAction` 속성으로 `action` prop을 재정의할 수 있습니다.\n\n<h4>2. 주의사항 </h4>\n\n함수가 `action` 또는 `formAction`으로 전달되면 메서드 속성의 값과 관계없이 HTTP 메서드는 POST로 설정됩니다.\n\n&nbsp;\n\n## useFormState\n\n<span style=\"color: gray\">[예시코드](https://codesandbox.io/p/sandbox/damp-tree-yv2vzy?file=/src/App.js)</span>\n\nuseFormState Hook은 비동기 동작 기능을 지원하기 위해 만들어졌고, useFormState를 호출하여 마지막으로 제출된 `<form>`의 동작 결과에 접근할 수 있다.\n\n컴포넌트의 최상위 수준에서 useFormState를 호출하여 `<form>` 동작이 호출될 때 업데이트되는 컴포넌트 상태를 생성해 useFormState에 기존의 `<form>` 동작 함수와 초기 상태를 전달하고, 이는 새로운 동작을 반환\n이 동작은 `<form>` 내에서 사용되며, 최신 `<form>` 상태도 함께 전달됩니다. 전달한 함수에도 최신 `<form>` 상태가 전달됩니다.\n\n<h4 style=\"color:red\">🚨 주의할 점 🚨</h4>\n<div style=\"opacity:0.5; margin-bottom:30px\">\n\nuseFormState는 반드시 react가 아닌 react-dom에서 import를 해야된다.\n\n</div>\n\n&nbsp;\n\n### useFormState 문법\n\n```typescript\nconst [state, formAction] = useFormState(fn, initialState, permalink?);\n```\n\n<h4>매개변수</h4>\n\n**fn** : `form`이 제출되거나 버튼이 눌렸을 때 호출할 함수이고 호출될 때 초기 인수로 `form` 이전 상태(처음에는 전달한 initialState, 이후에는 이전 반환 값)를 받은 후 `form` 동작이 받는 인수를 받음\n\n**initialState** : 초기 상태로 설정하려는 값이고 어떤 직렬화 가능한 값이든 될 수 있다. 인수는 동작이 처음 호출된 후에는 무시됨.\n\n**optional permalink** : `form` 수정하는 고유한 페이지 URL을 포함하는 문자열. 동적 콘텐츠가 있는 페이지에서 사용되며, 점진적 개선과 함께 사용된다. fn이 서버 동작이고 JavaScript 번들이 로드되기 전에 양식이 제출된 경우, 브라우저는 현재 페이지 URL 대신 지정된 permalink URL로 이동함. 상태를 전달하는 방법을 React가 알 수 있도록 동일한 Form Component가 대상 페이지에서 렌더링되도록 해야됨. Form 이 hydrated 된 후에는 이 매개변수가 영향을 미치지 않음.\n\n<h4>함수 호출 출력 값</h4>\n\n두 개의 값을 포함하는 배열을 반환\n\n- 첫 번째 렌더링에서는 전달한 initialState이 되고 호출된 후에는 동작이 반환한 값이 된다.\n- `form` 컴포넌트의 action prop으로 전달하거나 `form` 내의 버튼 컴포넌트의 formAction prop으로 전달할 수 있는 새로운 동작이 반환됨\n\n&nbsp;\n\n### useFormState 사용시 주의점\n\nReact 서버 컴포넌트를 지원하는 프레임워크와 함께 사용할 때, useFormState를 사용하면 JavaScript가 클라이언트에서 실행되기 전에도 양식을 인터랙티브하게 만들 수 있고, 서버 컴포넌트 없이 사용할 때는 컴포넌트의 로컬 상태와 동등함.\n\n> ✋ 자세한 hook 사용을 확인할려면 [useFormState()](https://react.dev/reference/react-dom/hooks/useFormState)을 참조해주세요!\n\n&nbsp;\n\n## useFormStatus\n\n<span style=\"color: gray\">[예시코드](https://codesandbox.io/p/sandbox/serene-satoshi-2qyqy4?file=/src/App.js)</span>\n\nForm submit 중에 pending 상태를 표시할 때 렌더링된 컴포넌트에서 useFormStatus Hook을 호출하고 반환된 pending 속성을 읽을 수 있음\n\n&nbsp;\n\n### useFormStatus 문법\n\n```typescript\nconst { pending, data, method, action } = useFormStatus();\n```\n\n**pending** : boolean 값. true이면 부모 `<form>`이 submit을 pending 중 인것으로 나타냄.\n\n**data** : FormData 인터페이스를 구현하는 객체로, 부모 `<form>`이 제출하는 데이터를 포함합니다. submit 할 data가 없거나 부모 `<form>` 이 없는 경우 null\n\n**method** : `get` 또는 `post` 중 하나의 문자열 값. 부모 `<form>`이 GET 또는 POST HTTP 메서드로 제출되는지 여부를 나타냄. 기본적으로 GET 메서드를 사용하며 method 속성으로 지정할 수 있다.\n\n**action** : 부모 `<form>`의 action prop에 전달된 함수에 대한 참조. 부모 `<form>`이 없는 경우 속성은 null. action prop에 URI 값이 제공되거나 action prop이 지정되지 않은 경우, status.action은 null\n\n&nbsp;\n\n### useFormStatus 사용시 주의점\n\nuseFormStatus hook은 `<form>` 요소 내에서 렌더링된 컴포넌트에서 호출되어야 한다. 이 훅은 부모 `<form>`에 대한 상태 정보만 반환하며, 동일한 컴포넌트나 하위 컴포넌트 내에서 렌더링된 <form>에 대한 상태 정보는 반환하지 않음!\n\n> ✋ 자세한 hook 사용을 확인할려면 [useFormStatus()](https://react.dev/reference/react-dom/hooks/useFormStatus)을 참조해주세요!\n\n&nbsp;\n\n## useOptimistic\n\n<span style=\"color: gray\">[예시코드](https://codesandbox.io/p/sandbox/blue-wave-g9tj8k?file=/src/App.js)</span>\n\n서버의 응답을 기다리는 대신, 인터페이스는 예상된 결과와 함께 즉시 업데이트한다. 사용자가 폼에 메시지를 입력하고 \"보내기\" 버튼을 클릭할 때, useOptimistic Hook을 사용하면 메시지가 실제로 서버로 전송되기 전에 \"전송 중...\" label과 함께 화면에 즉시 나타남. 이런 Optimistic 접근 방식은 속도와 반응성으로부터 사용자에게 긍정적 영향을 주기때문에 사용하는 것이 좋아보임!\n\n&nbsp;\n\n### useOptimistic 문법\n\n```typescript\nconst [optimisticState, addOptimistic] = useOptimistic(state, updateFn);\n```\n\n<h4>매개변수</h4>\n\n- **state** : 초기에 반환되는 값이며 action이 pending 중이지 않을 때마다 반환됨.\n- **updateFn(currentState, optimisticValue)** : 현재 상태 및 addOptimistic에 전달된 Optimistic 값을 사용하여 결과적인 Optimistic 상태를 반환하는 함수이며 순수함수여야 함. updateFn은 currentState와 optimisticValue 두 개의 매개변수를 받습니다. 반환 값은 currentState와 optimisticValue의 병합된 값이 됨.\n\n<h4>함수 호출 출력 값</h4>\n\n- **optimisticState** : 결과적인 Optimistic 상태. action이 pending일 때 state 와 동일하고 아닐 때에는 updateFn에서 반환된 값과 같음.\n- **addOptimistic** : Optimistic 업데이트가 있는 경우 호출할 dispatching function. optimisticValue라는 하나의 인수를 받으며, 이는 모든 유형의 값이며 updateFn을 state와 optimisticValue와 함께 호출\n\n> ✋ 자세한 hook 사용을 확인할려면 [useOptimistic()](<https://react.dev/reference/react/useOptimistic#noun-labs-1201738-(2)>)을 참조해주세요!\n\n&nbsp;\n\n## Bonus: Async Transitions\n\n[예시코드](https://stackblitz-starters-qrc5hb.stackblitz.io)\n\n> 😂 이 기능은 아직 React 문서에 문서화되지 않았지만, 관련 [풀 리퀘스트](https://github.com/facebook/react/pull/26621)에서 더 많은 정보를 확인할 수 있다.\n\nReact의 Transition API는 UI를 차단하지 않고 상태를 업데이트할 수 있다. 예를 들어, startTransition 호출로 상태 변경을 감싸 사용자의 마음이 변해서 이전 상태 변경을 취소할 수 있도록 할 수 있다.\n\n다음 예제는 이 Transitions API를 사용한 탭 내비게이션을 만드는 것이다. Posts를 클릭한 다음 즉시 Contact를 클릭하게 되면 Posts의 느린 렌더링이 중단된 것을 확인해 볼 수 있다. 그러게 되면 Contact 탭이 즉시 표시된다.\n\n상태 업데이트가 transition이 되었기 때문에 느린 재렌더링이 사용자 인터페이스를 멈추지 않는 결과가 나오게 된다.\n\n```typescript\nfunction TabContainer() {\n  const [isPending, startTransition] = useTransition();\n  const [tab, setTab] = useState('about');\n\n  function selectTab(nextTab) {\n    // instead of setTab(nextTab), put the state change in a transition\n    startTransition(() => {\n      setTab(nextTab);\n    });\n  }\n  // ...\n}\n```\n\nReact 18.2에서는 이미 useTransition hook이 사용 가능하다. React 19에서 startTransition에 async 함수를 전달할 후 React가 transition 시작하기 위해 기다릴 수 있는 기능이 새로 추가될 예정이라고 함.\n\n이 기능은 AJAX 호출을 통해 데이터를 제출하고 transition에서 결과를 렌더링하는 데 유용해보임. transition pending 상태에서는 데이터를 submit 하는 것으로 시작된다.\n\nReact가 startTransition으로 래핑된 `<form action>` 핸들러를 호출하여 현재 페이지를 차단하지 않도록 해준다.\n\n&nbsp;\n\n## 마무리\n\n![2.png](2.png)\n\n이러한 기능들은 클라이언트 전용 React 앱(Vite로 번들링된 앱 등등)에서도 사용할 수 있습니다. 이러한 기능을 사용하기 위해 Next나 Remix와 같은 SSR 프레임워크가 필요하지는 않지만, 서버 통합형 React 앱에서도 작동함\n\n이러한 기능들을 사용하면 React에서 데이터 가져오기와 양식 처리가 상당히 쉬워질 것 처럼 보이지만 hooks을 통합하여 훌륭한 사용자 경험을 만들려면 아주 복잡해보임.\n\n> 반면에 [react-admin](https://marmelab.com/react-admin/)과 같은 프레임워크를 사용하면 낙관적 업데이트가 내장된 사용자 친화적인 양식을 사용할 수 있을 것 같음!\n\n좋은 기능이고 특히! Form 관련해서는 원하는 요구사항이 많은 것으로 보이는데 너무 늦게 나오지 않았는지.. 생각하게 된다! ~~뭐 그만큼 오류가 많고 많이 싸웟나보지?~~\n\n위 기능들은 현재도 업데이트 되었지만 아직은 테스트 단계이므로 React 19를 조용히 기다려보자!\n\n> 17.0.0이 20년 10월 20일 이고 18.0.0이 22년 3월 29일이니깐... 뭐 곧 나오지 않을까????\n\n&nbsp;\n\n> <h4>출처</h4>\n>\n> https://marmelab.com/blog/2024/01/23/react-19-new-hooks.html\n>\n> https://react.dev/\n>\n> https://github.com/facebook/react/issues\n\n#\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/240216/1.png\" alt=\"react-hooks\" loading=\"lazy\" decoding=\"async\"></p>\n<p> </p>\n<h1 id=\"react-19에-도입될-hooks\"><a class=\"anchor\" href=\"#react-19에-도입될-hooks\">React 19에 도입될 Hooks</a></h1>\n<p> </p>\n<ul>\n<li><a href=\"#usepromise--usecontext\">use(Promise) &#x26; use(Context)</a></li>\n<li><a href=\"#form-actions\">Form actions</a></li>\n<li><a href=\"#useformstate\">useFormState</a></li>\n<li><a href=\"#useformstatus\">useFormStatus</a></li>\n<li><a href=\"#useoptimistic\">useOptimistic</a></li>\n<li><a href=\"#bonus-async-transitions\">Bonus: Async transitions</a></li>\n<li><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">마무리</a></li>\n</ul>\n<blockquote>\n<p>✨ 잠깐!!!  모든 코드는 <a href=\"https://react.dev/community/versioning-policy#canary-channel\">테스트 환경</a> 에서 테스트 가능합니다. (단, React 19에 포함될 예정이지만 최종 release 전에 API가 변경될 수 있음)</p>\n</blockquote>\n<p> </p>\n<h2 id=\"usepromise--usecontext\"><a class=\"anchor\" href=\"#usepromise--usecontext\">use(Promise) &#x26; use(Context)</a></h2>\n<p> </p>\n<h3 id=\"reference\"><a class=\"anchor\" href=\"#reference\">Reference</a></h3>\n<ul>\n<li>컴포터는의 호출을 사용하여 Promise 또는 Context 와 같은 리소스의 값을 읽음</li>\n<li>use는 if문과 같은 조건문 루프 안에서 호출 가능</li>\n<li>use를 호출하는 함수는 컴포넌트 또는 Hook 이어야 함</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { use } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MessageComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">messagePromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> }) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> message</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> use</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(messagePromise);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> theme</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> use</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(ThemeContext);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // ...</span></span></code></pre></figure>\n<p>Promise와 함께 호출될 때, use는 Suspense 및 Error Boundaries와 통합된다.</p>\n<p>use가 pending 상태일 때 Promise가 전달완료 될 때까지 일시중단되고, use를 호출하는 컴포넌트가 Suspense 경계로 래핑된 경우 대체 내용이 표시된다.</p>\n<p>Promise가 해결되면 Suspense 대체 내용이 use에서 반환한 데이터를 사용하여 렌더링된 컴포넌트로 대체되고 거부되면 가장 가까운 Error Boundaries의 대체 내용이 표시된다.</p>\n<p> </p>\n<blockquote>\n</blockquote>\n<blockquote>\n<p>TanStack Query 는 단순히 Promise 를 해결하는 것 이상의 기능을 수행하므로 아직은 지켜봐야 된다고 생각함!</p>\n<p>하지만 올바른 방향으로 나아가는 훌륭한 단계라고 생각하며, REST 또는 GraphQL API를 기반으로 단일 페이지 앱을 더 쉽게 구축할 수 있게 해줄 거라고 생각함</p>\n</blockquote>\n<p> </p>\n<h3 id=\"use-문법\"><a class=\"anchor\" href=\"#use-문법\">use 문법</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> use</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(resource);</span></span></code></pre></figure>\n<p>resource : Promise, Context 형태의 데이터의 소스가 들어감</p>\n<p>use Hook 을 사용하면 Promise 의 return 값이나 Context 의 return 값을 반환</p>\n<p> </p>\n<h3 id=\"use-사용해보기\"><a class=\"anchor\" href=\"#use-사용해보기\">use 사용해보기</a></h3>\n<p><a href=\"https://codesandbox.io/p/sandbox/silly-dijkstra-68ryxj?file=/src/App.js\">context로 use를 사용하는 예시코드</a></p>\n<p>context가 use로 전달되면 useContext와 유사하게 작동된다. 단, useContext는 컴포넌트의 최상위 수준에서 호출해야 하지만, use는 if와 같은 조건문과 for와 같은 루프 내부에서 호출할 수 있고 사용이 더 유연하기 때문에 useContext보다 선호됨</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { use } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Button</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> theme</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> use</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(ThemeContext);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// ...</span></span></code></pre></figure>\n<p>Context value를 결정하기 위해 React는 Component tree를 검색하고 특정 Context의 위에서부터 가장 가까운 Context Provider를 찾음</p>\n<p>버튼에 Context 전달하려면 버튼 또는 그 부모 컴포넌트 중 하나를 해당 Context Provider 로 래핑해야됨</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPage</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">ThemeContext.Provider value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'dark'</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Form </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    &#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">ThemeContext.Provider</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Form</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // ... renders buttons inside ...</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>Provider 와 버튼 사이에 얼마나 많은 컴포넌트 레이어가 있는지는 중요하지 않다. Form 내부의 버튼이 use(ThemeContext)를 호출하면 <strong>dark</strong>를 값으로 받음</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> HorizontalRule</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">show</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> }) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (show) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> theme</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> use</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(ThemeContext);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">hr</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> className</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">={</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">theme</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">} />;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p> </p>\n<h3 id=\"use-사용시-주의점\"><a class=\"anchor\" href=\"#use-사용시-주의점\">use 사용시 주의점</a></h3>\n<ul>\n<li>\n<p>use Hook 은 Component 또는 Hook 안에서 호출해야 됨</p>\n</li>\n<li>\n<p>Server Component 에서 데이터를 가져올 때는 use 보다 async 와 await 사용해야 됨</p>\n</li>\n<li>\n<p>React 팀에서는 Client Component에서 Promise를 생성하는 것보다 Server Component에서 Promise를 생성하고 이를 Client Component로 전달하는 것을 선호함</p>\n</li>\n<li>\n<p>Client Component에서 생성된 Promise는 렌더링할 때마다 재생성됨</p>\n</li>\n<li>\n<p>Server Component에서 Client Component로 전달된 Promise는 다시 렌더링할 때 안정적임</p>\n</li>\n<li>\n<p>useContext와 마찬가지로 use(context)는 항상 이를 호출하는 컴포넌트 위에서 가장 가까운 Context Provider 을 찾음 => 위쪽으로 검색하며 use를 호출하는 컴포넌트 내의 Context Provider는 고려하지 않음</p>\n</li>\n</ul>\n<p> </p>\n<h3 id=\"server--client로-데이터-스트리밍\"><a class=\"anchor\" href=\"#server--client로-데이터-스트리밍\">Server => Client로 데이터 스트리밍</a></h3>\n<p><a href=\"https://codesandbox.io/p/sandbox/happy-shadow-8dg646\">Server => Client로 데이터 스트리밍하는 예시코드</a></p>\n<p>Server Component에서 Client Component로 Promise를 props로 전달하여 Server에서 Client로 데이터를 스트리밍할 수 있음</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { fetchMessage } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> './lib.js'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { Message } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> './message.js'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> default</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> App</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> messagePromise</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> fetchMessage</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Suspense fallback</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{&#x3C;p>waiting for message</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">p</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Message messagePromise</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{messagePromise} </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    &#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Suspense</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>그런 다음 Client Component는 받은 Promise를 props로 가져와서 use에 전달, 이렇게 하면 Client Component는 Server Component가 처음에 생성한 Promise에서 값을 읽을 수 있음</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// message.js</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'use client'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { use } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Message</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">messagePromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> }) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> messageContent</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> use</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(messagePromise);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">p</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>Here is the message: {messageContent}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">p</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>Message는 Suspense로 래핑되어 있으므로, Promise가 해결될 때까지 대체내용이 표시되고 Promise가 해결되면 Hook을 사용하여 값을 읽고 메시지 컴포넌트가 Suspense를 대체함.</p>\n<p> </p>\n<blockquote>\n<p>Server Component에서 Client Component로 Promise를 전달할 때, Server와 Client 간에 전달하려면 값이 <a href=\"https://developer.mozilla.org/ko/docs/Glossary/Serializable_object\">직렬화</a>가 가능해야 함</p>\n<p>함수와 같은 데이터 유형은 직렬화할 수 없으며 이러한 것은 Promise의 값이 될 수 없다.</p>\n</blockquote>\n<p> </p>\n<blockquote>\n<p>Promise는 Server Component에서 Client Component로 전달할 수 있고, Client Component에서 Hook을 사용하여 확인할 수 있고, Server Component에서 await을 사용하여 Promise를 확인하고 필요한 데이터를 Client Component에 프로퍼티로 전달할 수도 있다.</p>\n<p>하지만 Server Component에서 await을 사용하면 await 문이 완료될 때까지 렌더링이 차단된다. 하지만 Server Component에서 Client Component로 Promise를 전달하면 Promise가 Server Component의 렌더링을 차단하지 못하게 됨</p>\n</blockquote>\n<p> </p>\n<h3 id=\"거부된-promise-처리하기\"><a class=\"anchor\" href=\"#거부된-promise-처리하기\">거부된 Promise 처리하기</a></h3>\n<p>use Hook 은 try-catch 로 호출할 수 없어서 아래 2가지 방법을 사용해야 됨.</p>\n<p>사용하게 되면 <strong>“Suspense Exception: This is not a real error!”</strong> 에러가 발생함</p>\n<p><a href=\"https://codesandbox.io/p/sandbox/funny-cherry-dzl7jd?file=/src/message.js\">예시코드</a></p>\n<p>Promise가 거부될 때 사용자에게 오류 표시를 Error Boundary 를 사용하면 되고, 사용하려면 use을 호출하는 컴포넌트를 Error Boundary로 감싸면 된다.</p>\n<p>그러면 사용하도록 전달된 Promise가 거부될 때 Error Boundary에 대한 대체내용이 표시된다.</p>\n<p>Promise의 catch 메서드를 사용하려면 Promise 객체에서 catch를 호출 한 후, catch를 통해 오류 메시지를 인자로 받는 함수인 단일 인수를 받음.</p>\n<p>catch에 전달된 함수가 반환하는 값은 무엇이든 Promise의 확인된 값으로 사용</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { Message } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> './message.js'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> default</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> App</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> messagePromise</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'no new message found.'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Suspense fallback</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{&#x3C;p>waiting for message</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">p</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Message messagePromise</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{messagePromise} </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    &#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Suspense</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p> </p>\n<h2 id=\"form-actions\"><a class=\"anchor\" href=\"#form-actions\">Form actions</a></h2>\n<p>Form actions을 사용하면 <code>&#x3C;form></code>요소의 <code>action</code> 속성에 함수를 전달할 수 있고, 폼이 제출될 때 React가 이 함수를 호출함.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">form action</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{handleSubmit} </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/></span></span></code></pre></figure>\n<p>React 18에서 <code>&#x3C;form action></code> 프로퍼티를 추가하면 아래 경고가 표시됨</p>\n<blockquote>\n<p>Warning: Invalid value for prop <code>action</code> on <code>&#x3C;form></code> tag. Either remove it from the element or pass a string or number value to keep it in the DOM.</p>\n</blockquote>\n<p> </p>\n<h3 id=\"form-actions-사용해보기\"><a class=\"anchor\" href=\"#form-actions-사용해보기\">Form actions 사용해보기</a></h3>\n<p><a href=\"https://stackblitz-starters-j6yogy.stackblitz.io\">Form action 예시코드</a></p>\n<p>addToCart 함수는 Server action이 아니고, 클라이언트 측에서 호출되는 비동기 함수다.\n이렇게 하면 검색 양식과 같이 React에서 AJAX 양식 처리를 크게 간소화할 수 있지만, 이것만으로는 Form 제출(유효성 검사, 부작용 등)을 처리하는 것 이상의 기능을 하는 <a href=\"https://react-hook-form.com\">React Hook Form</a>과 같은 서드파티 라이브러리를 제거하기에 충분하지 않다.</p>\n<blockquote>\n<p>위 예시에서 Form 제출 중 Form 제출 버튼이 비활성화되지 않는 것, Confirm 메시지 누락, Cart 업데이트 지연 등 오류를 발견할 수 있지만, react 19 와 추후 업데이트에서 hook이 추가될 예정이라고 함.</p>\n</blockquote>\n<p> </p>\n<h3 id=\"reference-1\"><a class=\"anchor\" href=\"#reference-1\">Reference</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">form action</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{search}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">input name</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'query'</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">button type</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'submit'</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Search</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">button</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">form</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span></code></pre></figure>\n<p><code>&#x3C;form></code> 은 모든 <a href=\"https://react.dev/reference/react-dom/components/common#props\">common element props</a>을 지원함</p>\n<p><code>action</code>: URL 또는 함수이다. URL이 <code>action</code>으로 전달되면 폼은 HTML 폼 구성 요소처럼 동작. 함수가 <code>action</code>으로 전달되면 해당 함수가 폼 제출을 처리한다. <code>action</code>으로 전달된 함수는 async일 수 있으며 제출된 폼의 폼 데이터가 포함된 단일 인수로 호출된다. <code>&#x3C;button></code> , <code>&#x3C;input type=\"submit\"></code> 또는 <code>&#x3C;input type=\"image\"></code> 컴포넌트의 <code>formAction</code> 속성으로 <code>action</code> prop을 재정의할 수 있습니다.</p>\n<p>함수가 <code>action</code> 또는 <code>formAction</code>으로 전달되면 메서드 속성의 값과 관계없이 HTTP 메서드는 POST로 설정됩니다.</p>\n<p> </p>\n<h2 id=\"useformstate\"><a class=\"anchor\" href=\"#useformstate\">useFormState</a></h2>\n<p><a href=\"https://codesandbox.io/p/sandbox/damp-tree-yv2vzy?file=/src/App.js\">예시코드</a></p>\n<p>useFormState Hook은 비동기 동작 기능을 지원하기 위해 만들어졌고, useFormState를 호출하여 마지막으로 제출된 <code>&#x3C;form></code>의 동작 결과에 접근할 수 있다.</p>\n<p>컴포넌트의 최상위 수준에서 useFormState를 호출하여 <code>&#x3C;form></code> 동작이 호출될 때 업데이트되는 컴포넌트 상태를 생성해 useFormState에 기존의 <code>&#x3C;form></code> 동작 함수와 초기 상태를 전달하고, 이는 새로운 동작을 반환\n이 동작은 <code>&#x3C;form></code> 내에서 사용되며, 최신 <code>&#x3C;form></code> 상태도 함께 전달됩니다. 전달한 함수에도 최신 <code>&#x3C;form></code> 상태가 전달됩니다.</p>\n<p>useFormState는 반드시 react가 아닌 react-dom에서 import를 해야된다.</p>\n<p> </p>\n<h3 id=\"useformstate-문법\"><a class=\"anchor\" href=\"#useformstate-문법\">useFormState 문법</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">formAction</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useFormState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(fn, initialState, permalink</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span></code></pre></figure>\n<p><strong>fn</strong> : <code>form</code>이 제출되거나 버튼이 눌렸을 때 호출할 함수이고 호출될 때 초기 인수로 <code>form</code> 이전 상태(처음에는 전달한 initialState, 이후에는 이전 반환 값)를 받은 후 <code>form</code> 동작이 받는 인수를 받음</p>\n<p><strong>initialState</strong> : 초기 상태로 설정하려는 값이고 어떤 직렬화 가능한 값이든 될 수 있다. 인수는 동작이 처음 호출된 후에는 무시됨.</p>\n<p><strong>optional permalink</strong> : <code>form</code> 수정하는 고유한 페이지 URL을 포함하는 문자열. 동적 콘텐츠가 있는 페이지에서 사용되며, 점진적 개선과 함께 사용된다. fn이 서버 동작이고 JavaScript 번들이 로드되기 전에 양식이 제출된 경우, 브라우저는 현재 페이지 URL 대신 지정된 permalink URL로 이동함. 상태를 전달하는 방법을 React가 알 수 있도록 동일한 Form Component가 대상 페이지에서 렌더링되도록 해야됨. Form 이 hydrated 된 후에는 이 매개변수가 영향을 미치지 않음.</p>\n<p>두 개의 값을 포함하는 배열을 반환</p>\n<ul>\n<li>첫 번째 렌더링에서는 전달한 initialState이 되고 호출된 후에는 동작이 반환한 값이 된다.</li>\n<li><code>form</code> 컴포넌트의 action prop으로 전달하거나 <code>form</code> 내의 버튼 컴포넌트의 formAction prop으로 전달할 수 있는 새로운 동작이 반환됨</li>\n</ul>\n<p> </p>\n<h3 id=\"useformstate-사용시-주의점\"><a class=\"anchor\" href=\"#useformstate-사용시-주의점\">useFormState 사용시 주의점</a></h3>\n<p>React 서버 컴포넌트를 지원하는 프레임워크와 함께 사용할 때, useFormState를 사용하면 JavaScript가 클라이언트에서 실행되기 전에도 양식을 인터랙티브하게 만들 수 있고, 서버 컴포넌트 없이 사용할 때는 컴포넌트의 로컬 상태와 동등함.</p>\n<blockquote>\n<p>✋ 자세한 hook 사용을 확인할려면 <a href=\"https://react.dev/reference/react-dom/hooks/useFormState\">useFormState()</a>을 참조해주세요!</p>\n</blockquote>\n<p> </p>\n<h2 id=\"useformstatus\"><a class=\"anchor\" href=\"#useformstatus\">useFormStatus</a></h2>\n<p><a href=\"https://codesandbox.io/p/sandbox/serene-satoshi-2qyqy4?file=/src/App.js\">예시코드</a></p>\n<p>Form submit 중에 pending 상태를 표시할 때 렌더링된 컴포넌트에서 useFormStatus Hook을 호출하고 반환된 pending 속성을 읽을 수 있음</p>\n<p> </p>\n<h3 id=\"useformstatus-문법\"><a class=\"anchor\" href=\"#useformstatus-문법\">useFormStatus 문법</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">pending</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">method</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">action</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useFormStatus</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span></code></pre></figure>\n<p><strong>pending</strong> : boolean 값. true이면 부모 <code>&#x3C;form></code>이 submit을 pending 중 인것으로 나타냄.</p>\n<p><strong>data</strong> : FormData 인터페이스를 구현하는 객체로, 부모 <code>&#x3C;form></code>이 제출하는 데이터를 포함합니다. submit 할 data가 없거나 부모 <code>&#x3C;form></code> 이 없는 경우 null</p>\n<p><strong>method</strong> : <code>get</code> 또는 <code>post</code> 중 하나의 문자열 값. 부모 <code>&#x3C;form></code>이 GET 또는 POST HTTP 메서드로 제출되는지 여부를 나타냄. 기본적으로 GET 메서드를 사용하며 method 속성으로 지정할 수 있다.</p>\n<p><strong>action</strong> : 부모 <code>&#x3C;form></code>의 action prop에 전달된 함수에 대한 참조. 부모 <code>&#x3C;form></code>이 없는 경우 속성은 null. action prop에 URI 값이 제공되거나 action prop이 지정되지 않은 경우, status.action은 null</p>\n<p> </p>\n<h3 id=\"useformstatus-사용시-주의점\"><a class=\"anchor\" href=\"#useformstatus-사용시-주의점\">useFormStatus 사용시 주의점</a></h3>\n<p>useFormStatus hook은 <code>&#x3C;form></code> 요소 내에서 렌더링된 컴포넌트에서 호출되어야 한다. 이 훅은 부모 <code>&#x3C;form></code>에 대한 상태 정보만 반환하며, 동일한 컴포넌트나 하위 컴포넌트 내에서 렌더링된 에 대한 상태 정보는 반환하지 않음!</p>\n<blockquote>\n<p>✋ 자세한 hook 사용을 확인할려면 <a href=\"https://react.dev/reference/react-dom/hooks/useFormStatus\">useFormStatus()</a>을 참조해주세요!</p>\n</blockquote>\n<p> </p>\n<h2 id=\"useoptimistic\"><a class=\"anchor\" href=\"#useoptimistic\">useOptimistic</a></h2>\n<p><a href=\"https://codesandbox.io/p/sandbox/blue-wave-g9tj8k?file=/src/App.js\">예시코드</a></p>\n<p>서버의 응답을 기다리는 대신, 인터페이스는 예상된 결과와 함께 즉시 업데이트한다. 사용자가 폼에 메시지를 입력하고 \"보내기\" 버튼을 클릭할 때, useOptimistic Hook을 사용하면 메시지가 실제로 서버로 전송되기 전에 \"전송 중...\" label과 함께 화면에 즉시 나타남. 이런 Optimistic 접근 방식은 속도와 반응성으로부터 사용자에게 긍정적 영향을 주기때문에 사용하는 것이 좋아보임!</p>\n<p> </p>\n<h3 id=\"useoptimistic-문법\"><a class=\"anchor\" href=\"#useoptimistic-문법\">useOptimistic 문법</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">optimisticState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">addOptimistic</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useOptimistic</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(state, updateFn);</span></span></code></pre></figure>\n<ul>\n<li><strong>state</strong> : 초기에 반환되는 값이며 action이 pending 중이지 않을 때마다 반환됨.</li>\n<li><strong>updateFn(currentState, optimisticValue)</strong> : 현재 상태 및 addOptimistic에 전달된 Optimistic 값을 사용하여 결과적인 Optimistic 상태를 반환하는 함수이며 순수함수여야 함. updateFn은 currentState와 optimisticValue 두 개의 매개변수를 받습니다. 반환 값은 currentState와 optimisticValue의 병합된 값이 됨.</li>\n</ul>\n<ul>\n<li><strong>optimisticState</strong> : 결과적인 Optimistic 상태. action이 pending일 때 state 와 동일하고 아닐 때에는 updateFn에서 반환된 값과 같음.</li>\n<li><strong>addOptimistic</strong> : Optimistic 업데이트가 있는 경우 호출할 dispatching function. optimisticValue라는 하나의 인수를 받으며, 이는 모든 유형의 값이며 updateFn을 state와 optimisticValue와 함께 호출</li>\n</ul>\n<blockquote>\n<p>✋ 자세한 hook 사용을 확인할려면 <a href=\"https://react.dev/reference/react/useOptimistic#noun-labs-1201738-(2)\">useOptimistic()</a>을 참조해주세요!</p>\n</blockquote>\n<p> </p>\n<h2 id=\"bonus-async-transitions\"><a class=\"anchor\" href=\"#bonus-async-transitions\">Bonus: Async Transitions</a></h2>\n<p><a href=\"https://stackblitz-starters-qrc5hb.stackblitz.io\">예시코드</a></p>\n<blockquote>\n<p>😂 이 기능은 아직 React 문서에 문서화되지 않았지만, 관련 <a href=\"https://github.com/facebook/react/pull/26621\">풀 리퀘스트</a>에서 더 많은 정보를 확인할 수 있다.</p>\n</blockquote>\n<p>React의 Transition API는 UI를 차단하지 않고 상태를 업데이트할 수 있다. 예를 들어, startTransition 호출로 상태 변경을 감싸 사용자의 마음이 변해서 이전 상태 변경을 취소할 수 있도록 할 수 있다.</p>\n<p>다음 예제는 이 Transitions API를 사용한 탭 내비게이션을 만드는 것이다. Posts를 클릭한 다음 즉시 Contact를 클릭하게 되면 Posts의 느린 렌더링이 중단된 것을 확인해 볼 수 있다. 그러게 되면 Contact 탭이 즉시 표시된다.</p>\n<p>상태 업데이트가 transition이 되었기 때문에 느린 재렌더링이 사용자 인터페이스를 멈추지 않는 결과가 나오게 된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TabContainer</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">isPending</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">startTransition</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useTransition</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">tab</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setTab</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'about'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> selectTab</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">nextTab</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // instead of setTab(nextTab), put the state change in a transition</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    startTransition</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setTab</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(nextTab);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // ...</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>React 18.2에서는 이미 useTransition hook이 사용 가능하다. React 19에서 startTransition에 async 함수를 전달할 후 React가 transition 시작하기 위해 기다릴 수 있는 기능이 새로 추가될 예정이라고 함.</p>\n<p>이 기능은 AJAX 호출을 통해 데이터를 제출하고 transition에서 결과를 렌더링하는 데 유용해보임. transition pending 상태에서는 데이터를 submit 하는 것으로 시작된다.</p>\n<p>React가 startTransition으로 래핑된 <code>&#x3C;form action></code> 핸들러를 호출하여 현재 페이지를 차단하지 않도록 해준다.</p>\n<p> </p>\n<h2 id=\"마무리\"><a class=\"anchor\" href=\"#마무리\">마무리</a></h2>\n<p><img src=\"/content/240216/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>이러한 기능들은 클라이언트 전용 React 앱(Vite로 번들링된 앱 등등)에서도 사용할 수 있습니다. 이러한 기능을 사용하기 위해 Next나 Remix와 같은 SSR 프레임워크가 필요하지는 않지만, 서버 통합형 React 앱에서도 작동함</p>\n<p>이러한 기능들을 사용하면 React에서 데이터 가져오기와 양식 처리가 상당히 쉬워질 것 처럼 보이지만 hooks을 통합하여 훌륭한 사용자 경험을 만들려면 아주 복잡해보임.</p>\n<blockquote>\n<p>반면에 <a href=\"https://marmelab.com/react-admin/\">react-admin</a>과 같은 프레임워크를 사용하면 낙관적 업데이트가 내장된 사용자 친화적인 양식을 사용할 수 있을 것 같음!</p>\n</blockquote>\n<p>좋은 기능이고 특히! Form 관련해서는 원하는 요구사항이 많은 것으로 보이는데 너무 늦게 나오지 않았는지.. 생각하게 된다! ~~뭐 그만큼 오류가 많고 많이 싸웟나보지?~~</p>\n<p>위 기능들은 현재도 업데이트 되었지만 아직은 테스트 단계이므로 React 19를 조용히 기다려보자!</p>\n<blockquote>\n<p>17.0.0이 20년 10월 20일 이고 18.0.0이 22년 3월 29일이니깐... 뭐 곧 나오지 않을까????</p>\n</blockquote>\n<p> </p>\n<blockquote>\n<p>https://marmelab.com/blog/2024/01/23/react-19-new-hooks.html</p>\n<p>https://react.dev/</p>\n<p>https://github.com/facebook/react/issues</p>\n</blockquote>\n<h1 id=\"\"></h1>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240216/index.md",
    "_raw": {
      "sourceFilePath": "240216/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240216",
      "contentType": "markdown",
      "flattenedPath": "240216"
    },
    "type": "Post",
    "slug": "/240216",
    "categoryArray": [
      "프론트엔드",
      "React"
    ],
    "readingTime": "23 min read",
    "excerpt": "&nbsp; React 19에 도입될 Hooks &nbsp; use(Promise) & use(Context) Form actions useFormState useFormStatus useOptimistic Bonus: Async transitions 마무리 잠깐!!! 모든 코드는 테스트 환경 에서 테스트 가능합니다. (단, React 19에 포함될 예정이..."
  },
  {
    "title": "넌 상태관리를 어떻게 해? 난 Zustand를 활용하고 있어!",
    "date": "2024-02-22T00:00:00.000Z",
    "categories": "프론트엔드",
    "body": {
      "raw": "\n![1.jpeg](1.jpeg)\n\n&nbsp;\n\n## 난 왜 zustand 공부를 시작했을까?\n\n&nbsp;\n\n### 회사에서\n\n```typescript\nconst tabOneRef = React.useRef<ITabOneRef>(null);\nconst rmTimerRef = React.useRef<ITimerRef>(null);\nconst cmTimerRef = React.useRef<ITimerRef>(null);\nconst printRef = React.useRef<HTMLDivElement>(null);\nconst sessionOutAlertRef = useRef<IAlertRef>(null);\nconst isRMLogAdded = useRef<boolean>(false);\nconst timeLogId = useRef<string>(uuidv4());\nconst [memoList, setMemoList] = useState([] as any);\nconst [handleSave, setHandleSave] = useState<boolean>(false);\nconst [claim, setClaim] = useState([] as any);\nconst [pageStatus, setPageStatus] = useState(false);\nconst [rmTimeLogs, setRmTimeLogs] = useState<any>();\nconst [cmTimeLogs, setCmTimeLogs] = useState<any>();\nconst [totalRMTime, setTotalRMTime] = useState(0);\nconst [totalCMTime, setTotalCMTime] = useState(0);\nconst [nextURL, setNextURL] = useState([] as any);\nconst [measureList, setMeasureList] = useState([] as any);\nconst [rmInfo, setRmInfo] = useState<RpmInformation>();\n```\n\n위처럼 회사에서 useState, useEffect, useRef 등 Hook을 하나의 컴포넌트에서 남발해서 사용하고 있다는 것을 알게 되었다. **(위 사진은 극히 일부의 코드를 수정해서 보여준란걸..😂)**\n\n그렇게 되니 컴포넌트 내부의 요소를 변경하거나, 렌더링이 일어날 때 state, ref의 동적인 값들이 초기화되거나 생각하지 못한 데로 작동하게 되어버리게 되었다.\n\n거기에 새로운 기능 개발을 하게 되었을 때 많은 요소 영향력을 생각해야 되게 되고, useEffect의 의존성 배열이 무한히 추가되는 현실까지 직면하게 되었다. ㅠㅠ\n\n이런 상황까지 되어버리니 회사 내부에서는 프로젝트에 상태관리를 도입해서 렌더링이 발생하는 시점, 변수의 선언, 전역 변수의 props 전달 등 많은 것들을 효율적으로 관리 할 수 있다고 판단해 상태를 중앙에서 변수를 관리하자는 이야기가 나왔다.\n\n이런 회의를 거쳐서 여러 가지 상태관리 라이브러리가 후보군에 올라오게 되었다.\n\n![3.png](3.png)\n\n> recoil, redux, zustand, jotai 등등..\n\n&nbsp;\n\n### Top-Bottom vs Bottom-Top\n\n![4.jpeg](4.jpeg)\n\n> Top-bottom 방식 : 단일 중앙 스토어를 사용하여 모든 컴포넌트의 상태를 관리\n>\n> Bottom-top 방식 : 각 컴포넌트가 자체 상태를 관리하고 컴포넌트는 자식 컴포넌트에 상태를 전달하고 필요에 따라 상태를 업데이트\n\n회사에서 추구하는 상태관리 방식은 **top-bottom** 이였다. 선택한 이유는 아래와 같다 👇\n\n- 중앙 스토어를 통해 데이터 흐름을 추적을 용이\n- 모든 컴포넌트는 중앙 스토어에 동일한 데이터에 접근하기 때문에 데이터 불일치 문제 해결 가능\n- 여러 컴포넌트에서 재사용하기 쉬움\n- 코드의 모듈화와 유지 관리를 용이\n- 중앙 스토어를 이용해 확장, 병렬이 가능\n- Redux 와 같은 라이브러리는 강력한 개발자 도구가 있어서 상태 변경 추적, 디버깅에 효율적\n\ntop-bottom을 선택하는데 반대의 의견도 있었다. 러닝 커브가 높고 구조가 상당히 복잡할 수도 있다. 또한 많은 양의 보일러 플레이트 코드를 작성해야 되고 유연성이 부족할 수 있다.\n\n**하지만 이미 구조화된 프로젝트에 중앙 스토어적인 라이브를 선택하는 것이 더 효율적이라고 판단해 top-bottom 구조를 선택하게 되었다**\n\n~~대부분 사람이 상태관리 라이브러리를 사용해봐서 러닝 커브는 문제가 되지않는다는 판단을..~~\n\n그러므로 Bottom-Top 구조인 recoil 이랑 jotai는 탈락\n\n&nbsp;\n\n### redux 와 zustand 중 선택 과정\n\nredux 와 zustand 를 가지고 아래와 같이 토론하게 되었다. Top-Bottom 라이브러리에서는 어떤 것을 고르면 좋을까?\n\n먼저 기준표를 작성하고 그것에 대해 점수를 부여하게 되었는데 대략 아래와 같다 👇\n\n- 러닝 커브가 있어도 되지만 도입이 시급하다 => redux의 러닝 커브는 높은 편이라서 **zustand 선택**\n- 보일러 플레이트 성향이 낮아야 된다. => redux에서 보일러 플레이트 성향이 높은 편이라서 유연성 떨어진다고 판단해서 **zustand 선택**\n- 구조적으로 컴포넌트에서 상태를 관리하는 성향의 라이브러리 찾아야 된다. => **zustand 선택**\n- 사용자가 많고 github release가 잘 이루어져야 된다. => 사용자의 수와 Npm trends에서 높은 점수를 받는 Redux 이지만 선점효과라 판단해서 **zustand 선택**\n- 렌더링을 관리하고 줄일 수 있어야 한다. => 판단 기준에 미흡, 별 차이 없음\n\n> 🙋‍♂️ 잠깐! 공식 홈페이지에서도 zustand와 redux는 개념적으로 상당히 유사하며, 변경 불가능한 상태 모델(immutable state model)을 기반으로 하고있지만 redux는 래핑 방법이 context providers로 된다는 점에서 차이가 보인다고 기록되어있다\n\n이런 이유들 때문에 내가 맡고 있는 회사 프로젝트에서는 **zustand** 을 선택하기로 결정되었다!\n\n![5.jpeg](5.jpeg)\n\n&nbsp;\n\n## zustand 그래서 넌 누군데??\n\n[공식 홈페이지](https://zustand-demo.pmnd.rs/) / [Github](https://github.com/pmndrs/zustand?tab=readme-ov-file) / [Npm](https://www.npmjs.com/package/zustand)\n\n- 간결한 플럭스(Flux) 원칙을 바탕으로 작고 빠르게 확장 가능한 상태 관리 라이브러리\n- 특정 라이브러리에 종속되어 만들어진 도구가 아니여서 Vanilla Javascript 에서도 사용 가능\n- zustand는 발행/구독 모델을 기반으로 만들어졌다. 스토어의 상태 변경이 일어날 때 실행할 리스너 함수를 모아 두었다가, 상태가 변경되었을 때 등록된 리스너에게 상태가 변경되었다고 알려준다.\n- 스토어를 생성하는 함수 호출 시 클로저를 사용해서 상태를 변경, 구독, 조회하는 인터페이스를 통해서만 상태를 다루고, 실제 상태는 생명 주기에 따라 처음부터 끝까지 의도하지 않는 변경에 대해 막을 수 있다.\n- 보일러 플레이트가 최소화된 상태관리 solution. 스토어 형태임에도 굉장히 간단하게 상태관리 구성이 가능하다.\n- 익히기가 굉장히 쉽고 그만큼 공식문서 정리도 잘 되어 있다.\n\n<hr/>\n\n> <h2>💡 더 알아보자!</h2>\n> &nbsp;\n> <h4>Provider로 감쌀 필요가 없는 이유</h4 >\n>\n> 각 컴포넌트가 자체 상태를 캡슐화하도록 설계되어있음.\n>\n> 트리 구조를 기반으로 상태를 관리하기 때문\n>\n> useSelector hook을 제공하여 컴포넌트가 필요한 상태만 선택적으로 구독할 수 있도록 하기 때문\n>\n> <h4 >zustand가 context 보다 리렌더링이 줄어드는 이유</h4 >\n>\n> zustand는 컴포넌트가 구독한 상태가 변경되었는지 자동으로 감지\n>\n> memoization을 사용해 컴포넌트가 리렌더링될 때마다 컴포넌트 재실행을 방지\n>\n> shallowEqual 비교를 사용해 상태 변경이 실제로 발생했는지 여부를 확인\n>\n> 결과적으로 50%이상의 리렌더링을 줄이게 되었고, 페이지 로딩 속도 20% 향상, 사용자 인터페이스 반응 속도 향상에 10%를 기여하게 될 수 있다.\n\n&nbsp;\n\n## 어떻게 쓰는지 알아보자!!\n\nzustand의 사용법은 간단하다. 스토어를 만들고 원시 타입. 객체, 함수를 넣으면 된다. 공식문서에서도 zustand를 사용하는데 41줄의 예제코드만 다루고 있다. 한번 시작해보자!!\n\n### 기본 문법\n\n```typescript\nconst useDataFilterState = create<DataFilterProps>((set, get) => ({\n  dataId: 'all',\n  setDataId: (dataId: string) => set({ dataId }),\n  dataList: [],\n  loadDataList: async (dataParameter) => {\n    const responseData = await fakeDataAPI.getData(dataParameter);\n    if (responseData.res === 200) {\n      set({ dataList: [] });\n      return [];\n    } else {\n      set({ dataList: responseData.data });\n      return responseData.data;\n    }\n  },\n}));\n\nexport { useDataFilterState };\n```\n\n위 코드는 zustand 공식 문서에서 기록된 사용법을 보고 작성한 코드다.\n\n`useDataFilterState` 라는 객체 안에 state로 사용할 키와 값을 담아주고, create 함수로 묶어준다. parameter로 넘겨주는 set을 이용해서 state 내부에 있는 값을 변경해줄 수 있고, get 을 이용해서 state 내부에 직접 접근해서 값을 조회하고 변경할 수 있다. 그리고 액션도 store의 키 값 형태로 담기며, sync action도 포함 가능하다.\n\n&nbsp;\n\n```typescript\nconst { dataId } = useDataFilterState((state) => ({\n  dataId: state.dataId,\n}));\n\nconst { dataId } = useDataFilterState(({ dataId }) => ({\n  dataId,\n}));\n\nconst { dataId } = useDataFilterState.getState().dataId;\n```\n\n위 코드로 사용할 컴포넌트에 `useDataFilterState`을 import 한 후에 dataId 를 가져와서 사용할 수 있다.\n\n상태 값을 가져와서 사용하는 방법에는 다양한 방법이 있는데 위에 보여주는 3가지 문법 모두 사용 가능 하지만, `setState`와 `getState`를 분리하는 3번째 방법으로 통일하거나, 2번째 방법을 사용하는 것이 좋지 않을까 싶다!!\n\n&nbsp;\n\n### Immer & Persist\n\n사실 사용법은 저게 전부다 ㅋㅋ\n\n![7.png](7.png)\n\n하지만 깊게 들어가면 무진장~~~ 많다 자체에서 지원가능한 미들웨어부터.. 시작해서 라이브러리까지!\n\n일단 Immer 이랑 Persist에 대해서 먼저 알아보자\n\n```typescript\nconst useDataFilterState = create<DataFilterProps>(\n  persist(\n    (set, get) => ({\n      dataId: 'all',\n      setDataId: (dataId: string) =>\n        set(\n          produce((state) => {\n            state.dataId = dataId;\n          }),\n        ),\n      dataList: [],\n      loadDataList: async (dataParameter) => {\n        const responseData = await fakeDataAPI.getData(dataParameter);\n        if (responseData.res === 200) {\n          set(\n            produce((state) => {\n              state.dataList = [];\n            }),\n          );\n          return [];\n        } else {\n          set(\n            produce((state) => {\n              state.dataList = responseData.data;\n            }),\n          );\n          return responseData.data;\n        }\n      },\n    }),\n    {\n      name: '여기에 로컬스토리지 key name이 들어갑니다',\n      storage: createJSONStorage(() => sessionStorage),\n    },\n  ),\n);\n```\n\n<h4>1. Immer</h4>\n\n> zustand middleware Immer 와 npm에서 Immer 라이브러리 둘다 사용 가능\n\n- 불변성을 유지하는 데 사용함.\n- Immer는 변경하려는 상태를 수정하는 대신 수정하려는 상태의 \"draft\"를 작성할 수 있고 이 draft는 불변성이 보장된 상태이며, Immer가 이 변경 사항을 처리하여 최종적으로 새로운 불변 상태를 생성한다.\n- produce 함수를 사용하여 immer 미들웨어를 추가하여 함수 안에서 상태를 직접 수정할 수 있도록 만들 수 있다.\n\n<h4>2. Persist</h4>\n\n- 상태를 로컬 스토리지에 저장하고 복원하는 데 사용\n- persist 함수는 두 번째 매개변수로 name, storage을 받는데 name을 사용해 로컬 스토리지에 저장할 때 사용할 키로 지정, 랜더링 되면 상태값이 복원된다. 그리고 storage는 기본값으로 localStorage이고 원하는 storage에 저장할 수 있다.\n- 사용자가 페이지를 새로 고칠 때도 상태가 유지된다 ~~(일반적으로 브라우저의 스토리지를 사용하여 상태를 저장하고 복원)~~\n\n&nbsp;\n\n### subscribeWithSelector\n\n```typescript\nexport const useStore = create<TodoState>()(\n\tsubscribeWithSelector(\n    todo: {\n      todoItems: [],\n      loading: true,\n      error: false,\n    },\n\t)\n\t);\n\n\nuseEffect(() => {\n  useStore.subscribe(\n    (state) => state.todo.todoItems,\n    (todoItems) => console.log(todoItems.length)\n  );\n\n  return () => {\n    useStore.destroy();\n  };\n}, []);\n```\n\ntodoItems가 변경될 경우 subscribe 2번째 인자의 callback 함수 호출하게 된다. 상태관리를 구독하게 되어 상태값이 변경될 경우 호출될 수 있도록 처리가 가능하다. (modx의 autorun/computed와 동일한 기능)\n\n&nbsp;\n\n### reset state\n\n```typescript\nconst initialState = {\n  salmon: 0,\n  tuna: 0,\n};\n\nconst useSlice = create()((set, get) => ({\n  ...initialState,\n  addSalmon: (qty) => {\n    set({ salmon: get().salmon + qty });\n  },\n  addTuna: (qty) => {\n    set({ tuna: get().tuna + qty });\n  },\n  reset: () => {\n    set(initialState);\n  },\n}));\n```\n\n위 코드를 살펴보면 초기값으로 `initialState`를 넣는 것이 아닌 `...initialState`을 넣어준다. 그냥 `initialState`를 넣어주게 되면 업데이트 할 때 해당 속성들의 값을 덮어쓸 수도 있기때문에 스프레드 연산자를 사용한다.\n\n> 사용하면서 느낀 부분인데 set 함수를 직접적으로 사용해서 `useSlice.setState().initialState` 방식을 사용하게 되면 코드 값에 직접적으로 접근해 동작이 원하는대로 되지 않아서 자체적으로 getState 또는 state를 처음 많들어줄 때 얕은복사를 통해 값을 복사해서 사용하고 있다.\n\n&nbsp;\n\n### useShallow를 이용해 reRender 방지하기\n\n```typescript\nimport { create } from 'zustand';\n\nconst useMeals = create(() => ({\n  papaBear: 'large porridge-pot',\n  mamaBear: 'middle-size porridge pot',\n  littleBear: 'A little, small, wee pot',\n}));\n\nexport const BearNames = () => {\n  const names = useMeals((state) => Object.keys(state));\n\n  return <div>{names.join(', ')}</div>;\n};\n\nuseMeals.setState({\n  papaBear: 'a large pizza',\n});\n```\n\n위 코드를 실행하게 되었을 때 selector는 출력이 변경되면 rerender을 발생시킨다.\n실제로 names의 출력이 shallow equality에 따라 변경되지 않았더라도 BearNames가 다시 렌더링되게 된다. 이것을 `useShallow`을 사용하게 되면\n\n> 🙋‍♂️ 잠깐! shallow equality 이란 두 객체가 같은 메모리 위치를 참조하는지 비교하는 것을 의미한다!\n\n```typescript\nimport { create } from 'zustand';\nimport { useShallow } from 'zustand/react/shallow';\n\nconst useMeals = create(() => ({\n  papaBear: 'large porridge-pot',\n  mamaBear: 'middle-size porridge pot',\n  littleBear: 'A little, small, wee pot',\n}));\n\nexport const BearNames = () => {\n  const names = useMeals(useShallow((state) => Object.keys(state)));\n\n  return <div>{names.join(', ')}</div>;\n};\n```\n\n이렇게 바꾸게 되면 불필요한 rerender을 방지할 수 있다.\n\n&nbsp;\n\n## 그래서 6개월 정도 써본 소감은??\n\n일단 나는 recoil, jotai 그리고 이번에 zustand 까지 3가지 라이브러리를 사용해 보았다.\n\n사실 Top-Bottom 방식이 낯설었지만, 러닝 커브도 짧은 편이고, ~새로운 FE가 회사에 왔는데 예시 코드를 통해 배우는 속도가 빠르다. 뭐 사람마다 다르겠지만, 러닝 커브 짧다고 생각~\n\n몇 가지 좋은점을 생각해보았을 때 상태 내부에 접근하는 방식도 쉽고, 라이브러리 지원, 가독성 그리고 중앙 집중 방식이어서 이미 진행되고 있는 프로젝트에 투입하는데 부담이 적었다는 점에서 좋은 점수를 주고 싶다!\n\n~한글 버전도 만들어주면 좋겠다.~\n\n사용을 처음 해본 이후 docs를 많이 찾아보지 못했는데, 그사이에 버전 5의 알파버전이 나와버렸다.. 계속해서 발전하고, 수정되는 것은 큰 장점이지 않을까 싶다!\n\n![8.png](8.png)\n\n공식문서에서 [Third-party Libraries](https://docs.pmnd.rs/zustand/integrations/third-party-libraries)에 대한 정보가 있는데, 확장적인 부분에서 사용하기 좋다고 생각한다. 그리고 [여기 링크도 참고해보면 좋을 것 같다](https://docs.pmnd.rs/zustand/integrations/persisting-store-data)\n\n그리고 블로그를 작성하고, zustand를 공부하면서 내부동작에 대해서 심오깊게 들어가보지 못했는데, [nextree-zustand](https://www.nextree.io/zustand/)을 보면서 많이 배웠다. 다른분들도 많이 보면 좋을 것 같다!!\n\n&nbsp;\n\n![9.png](9.png)\n\n> <h4>출처 및 도움되는 링크들</h4>\n>\n> https://github.com/pmndrs/zustand\n>\n> https://zustand-demo.pmnd.rs/\n>\n> https://www.nextree.io/zustand/\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/240222/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p> </p>\n<h2 id=\"난-왜-zustand-공부를-시작했을까\"><a class=\"anchor\" href=\"#난-왜-zustand-공부를-시작했을까\">난 왜 zustand 공부를 시작했을까?</a></h2>\n<p> </p>\n<h3 id=\"회사에서\"><a class=\"anchor\" href=\"#회사에서\">회사에서</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> tabOneRef</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> React.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useRef</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">ITabOneRef</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> rmTimerRef</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> React.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useRef</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">ITimerRef</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> cmTimerRef</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> React.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useRef</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">ITimerRef</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> printRef</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> React.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useRef</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">HTMLDivElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> sessionOutAlertRef</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useRef</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">IAlertRef</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> isRMLogAdded</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useRef</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">boolean</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> timeLogId</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useRef</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">uuidv4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">memoList</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setMemoList</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">handleSave</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setHandleSave</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">boolean</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">claim</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setClaim</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">pageStatus</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setPageStatus</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">rmTimeLogs</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setRmTimeLogs</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">cmTimeLogs</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setCmTimeLogs</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">totalRMTime</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setTotalRMTime</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">totalCMTime</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setTotalCMTime</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">nextURL</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setNextURL</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">measureList</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setMeasureList</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">rmInfo</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setRmInfo</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">RpmInformation</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>();</span></span></code></pre></figure>\n<p>위처럼 회사에서 useState, useEffect, useRef 등 Hook을 하나의 컴포넌트에서 남발해서 사용하고 있다는 것을 알게 되었다. <strong>(위 사진은 극히 일부의 코드를 수정해서 보여준란걸..😂)</strong></p>\n<p>그렇게 되니 컴포넌트 내부의 요소를 변경하거나, 렌더링이 일어날 때 state, ref의 동적인 값들이 초기화되거나 생각하지 못한 데로 작동하게 되어버리게 되었다.</p>\n<p>거기에 새로운 기능 개발을 하게 되었을 때 많은 요소 영향력을 생각해야 되게 되고, useEffect의 의존성 배열이 무한히 추가되는 현실까지 직면하게 되었다. ㅠㅠ</p>\n<p>이런 상황까지 되어버리니 회사 내부에서는 프로젝트에 상태관리를 도입해서 렌더링이 발생하는 시점, 변수의 선언, 전역 변수의 props 전달 등 많은 것들을 효율적으로 관리 할 수 있다고 판단해 상태를 중앙에서 변수를 관리하자는 이야기가 나왔다.</p>\n<p>이런 회의를 거쳐서 여러 가지 상태관리 라이브러리가 후보군에 올라오게 되었다.</p>\n<p><img src=\"/content/240222/3.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>recoil, redux, zustand, jotai 등등..</p>\n</blockquote>\n<p> </p>\n<h3 id=\"top-bottom-vs-bottom-top\"><a class=\"anchor\" href=\"#top-bottom-vs-bottom-top\">Top-Bottom vs Bottom-Top</a></h3>\n<p><img src=\"/content/240222/4.jpeg\" alt=\"4.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>Top-bottom 방식 : 단일 중앙 스토어를 사용하여 모든 컴포넌트의 상태를 관리</p>\n<p>Bottom-top 방식 : 각 컴포넌트가 자체 상태를 관리하고 컴포넌트는 자식 컴포넌트에 상태를 전달하고 필요에 따라 상태를 업데이트</p>\n</blockquote>\n<p>회사에서 추구하는 상태관리 방식은 <strong>top-bottom</strong> 이였다. 선택한 이유는 아래와 같다 👇</p>\n<ul>\n<li>중앙 스토어를 통해 데이터 흐름을 추적을 용이</li>\n<li>모든 컴포넌트는 중앙 스토어에 동일한 데이터에 접근하기 때문에 데이터 불일치 문제 해결 가능</li>\n<li>여러 컴포넌트에서 재사용하기 쉬움</li>\n<li>코드의 모듈화와 유지 관리를 용이</li>\n<li>중앙 스토어를 이용해 확장, 병렬이 가능</li>\n<li>Redux 와 같은 라이브러리는 강력한 개발자 도구가 있어서 상태 변경 추적, 디버깅에 효율적</li>\n</ul>\n<p>top-bottom을 선택하는데 반대의 의견도 있었다. 러닝 커브가 높고 구조가 상당히 복잡할 수도 있다. 또한 많은 양의 보일러 플레이트 코드를 작성해야 되고 유연성이 부족할 수 있다.</p>\n<p><strong>하지만 이미 구조화된 프로젝트에 중앙 스토어적인 라이브를 선택하는 것이 더 효율적이라고 판단해 top-bottom 구조를 선택하게 되었다</strong></p>\n<p>~~대부분 사람이 상태관리 라이브러리를 사용해봐서 러닝 커브는 문제가 되지않는다는 판단을..~~</p>\n<p>그러므로 Bottom-Top 구조인 recoil 이랑 jotai는 탈락</p>\n<p> </p>\n<h3 id=\"redux-와-zustand-중-선택-과정\"><a class=\"anchor\" href=\"#redux-와-zustand-중-선택-과정\">redux 와 zustand 중 선택 과정</a></h3>\n<p>redux 와 zustand 를 가지고 아래와 같이 토론하게 되었다. Top-Bottom 라이브러리에서는 어떤 것을 고르면 좋을까?</p>\n<p>먼저 기준표를 작성하고 그것에 대해 점수를 부여하게 되었는데 대략 아래와 같다 👇</p>\n<ul>\n<li>러닝 커브가 있어도 되지만 도입이 시급하다 => redux의 러닝 커브는 높은 편이라서 <strong>zustand 선택</strong></li>\n<li>보일러 플레이트 성향이 낮아야 된다. => redux에서 보일러 플레이트 성향이 높은 편이라서 유연성 떨어진다고 판단해서 <strong>zustand 선택</strong></li>\n<li>구조적으로 컴포넌트에서 상태를 관리하는 성향의 라이브러리 찾아야 된다. => <strong>zustand 선택</strong></li>\n<li>사용자가 많고 github release가 잘 이루어져야 된다. => 사용자의 수와 Npm trends에서 높은 점수를 받는 Redux 이지만 선점효과라 판단해서 <strong>zustand 선택</strong></li>\n<li>렌더링을 관리하고 줄일 수 있어야 한다. => 판단 기준에 미흡, 별 차이 없음</li>\n</ul>\n<blockquote>\n<p>🙋‍♂️ 잠깐! 공식 홈페이지에서도 zustand와 redux는 개념적으로 상당히 유사하며, 변경 불가능한 상태 모델(immutable state model)을 기반으로 하고있지만 redux는 래핑 방법이 context providers로 된다는 점에서 차이가 보인다고 기록되어있다</p>\n</blockquote>\n<p>이런 이유들 때문에 내가 맡고 있는 회사 프로젝트에서는 <strong>zustand</strong> 을 선택하기로 결정되었다!</p>\n<p><img src=\"/content/240222/5.jpeg\" alt=\"5.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p> </p>\n<h2 id=\"zustand-그래서-넌-누군데\"><a class=\"anchor\" href=\"#zustand-그래서-넌-누군데\">zustand 그래서 넌 누군데??</a></h2>\n<p><a href=\"https://zustand-demo.pmnd.rs/\">공식 홈페이지</a> / <a href=\"https://github.com/pmndrs/zustand?tab=readme-ov-file\">Github</a> / <a href=\"https://www.npmjs.com/package/zustand\">Npm</a></p>\n<ul>\n<li>간결한 플럭스(Flux) 원칙을 바탕으로 작고 빠르게 확장 가능한 상태 관리 라이브러리</li>\n<li>특정 라이브러리에 종속되어 만들어진 도구가 아니여서 Vanilla Javascript 에서도 사용 가능</li>\n<li>zustand는 발행/구독 모델을 기반으로 만들어졌다. 스토어의 상태 변경이 일어날 때 실행할 리스너 함수를 모아 두었다가, 상태가 변경되었을 때 등록된 리스너에게 상태가 변경되었다고 알려준다.</li>\n<li>스토어를 생성하는 함수 호출 시 클로저를 사용해서 상태를 변경, 구독, 조회하는 인터페이스를 통해서만 상태를 다루고, 실제 상태는 생명 주기에 따라 처음부터 끝까지 의도하지 않는 변경에 대해 막을 수 있다.</li>\n<li>보일러 플레이트가 최소화된 상태관리 solution. 스토어 형태임에도 굉장히 간단하게 상태관리 구성이 가능하다.</li>\n<li>익히기가 굉장히 쉽고 그만큼 공식문서 정리도 잘 되어 있다.</li>\n</ul>\n<blockquote>\n<p>각 컴포넌트가 자체 상태를 캡슐화하도록 설계되어있음.</p>\n<p>트리 구조를 기반으로 상태를 관리하기 때문</p>\n<p>useSelector hook을 제공하여 컴포넌트가 필요한 상태만 선택적으로 구독할 수 있도록 하기 때문</p>\n<p>zustand는 컴포넌트가 구독한 상태가 변경되었는지 자동으로 감지</p>\n<p>memoization을 사용해 컴포넌트가 리렌더링될 때마다 컴포넌트 재실행을 방지</p>\n<p>shallowEqual 비교를 사용해 상태 변경이 실제로 발생했는지 여부를 확인</p>\n<p>결과적으로 50%이상의 리렌더링을 줄이게 되었고, 페이지 로딩 속도 20% 향상, 사용자 인터페이스 반응 속도 향상에 10%를 기여하게 될 수 있다.</p>\n</blockquote>\n<p> </p>\n<h2 id=\"어떻게-쓰는지-알아보자\"><a class=\"anchor\" href=\"#어떻게-쓰는지-알아보자\">어떻게 쓰는지 알아보자!!</a></h2>\n<p>zustand의 사용법은 간단하다. 스토어를 만들고 원시 타입. 객체, 함수를 넣으면 된다. 공식문서에서도 zustand를 사용하는데 41줄의 예제코드만 다루고 있다. 한번 시작해보자!!</p>\n<h3 id=\"기본-문법\"><a class=\"anchor\" href=\"#기본-문법\">기본 문법</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> useDataFilterState</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> create</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">DataFilterProps</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">get</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  dataId: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'all'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  setDataId</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">dataId</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ dataId }),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  dataList: [],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  loadDataList</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">async</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">dataParameter</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> responseData</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> await</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> fakeDataAPI.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(dataParameter);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (responseData.res </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 200</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ dataList: [] });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">else</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ dataList: responseData.data });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> responseData.data;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { useDataFilterState };</span></span></code></pre></figure>\n<p>위 코드는 zustand 공식 문서에서 기록된 사용법을 보고 작성한 코드다.</p>\n<p><code>useDataFilterState</code> 라는 객체 안에 state로 사용할 키와 값을 담아주고, create 함수로 묶어준다. parameter로 넘겨주는 set을 이용해서 state 내부에 있는 값을 변경해줄 수 있고, get 을 이용해서 state 내부에 직접 접근해서 값을 조회하고 변경할 수 있다. 그리고 액션도 store의 키 값 형태로 담기며, sync action도 포함 가능하다.</p>\n<p> </p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">dataId</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useDataFilterState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  dataId: state.dataId,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">dataId</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useDataFilterState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(({ </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">dataId</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> }) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  dataId,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">dataId</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> useDataFilterState.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">().dataId;</span></span></code></pre></figure>\n<p>위 코드로 사용할 컴포넌트에 <code>useDataFilterState</code>을 import 한 후에 dataId 를 가져와서 사용할 수 있다.</p>\n<p>상태 값을 가져와서 사용하는 방법에는 다양한 방법이 있는데 위에 보여주는 3가지 문법 모두 사용 가능 하지만, <code>setState</code>와 <code>getState</code>를 분리하는 3번째 방법으로 통일하거나, 2번째 방법을 사용하는 것이 좋지 않을까 싶다!!</p>\n<p> </p>\n<h3 id=\"immer--persist\"><a class=\"anchor\" href=\"#immer--persist\">Immer &#x26; Persist</a></h3>\n<p>사실 사용법은 저게 전부다 ㅋㅋ</p>\n<p><img src=\"/content/240222/7.png\" alt=\"7.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>하지만 깊게 들어가면 무진장~~~ 많다 자체에서 지원가능한 미들웨어부터.. 시작해서 라이브러리까지!</p>\n<p>일단 Immer 이랑 Persist에 대해서 먼저 알아보자</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> useDataFilterState</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> create</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">DataFilterProps</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  persist</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">get</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      dataId: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'all'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setDataId</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">dataId</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          produce</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">            state.dataId </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> dataId;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">          }),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        ),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      dataList: [],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      loadDataList</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">async</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">dataParameter</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> responseData</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> await</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> fakeDataAPI.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(dataParameter);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (responseData.res </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 200</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">            produce</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">              state.dataList </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">            }),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">          );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">          return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">else</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">            produce</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">              state.dataList </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> responseData.data;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">            }),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">          );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">          return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> responseData.data;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      name: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'여기에 로컬스토리지 key name이 들어갑니다'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      storage: </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">createJSONStorage</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> sessionStorage),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  ),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span></code></pre></figure>\n<blockquote>\n<p>zustand middleware Immer 와 npm에서 Immer 라이브러리 둘다 사용 가능</p>\n</blockquote>\n<ul>\n<li>불변성을 유지하는 데 사용함.</li>\n<li>Immer는 변경하려는 상태를 수정하는 대신 수정하려는 상태의 \"draft\"를 작성할 수 있고 이 draft는 불변성이 보장된 상태이며, Immer가 이 변경 사항을 처리하여 최종적으로 새로운 불변 상태를 생성한다.</li>\n<li>produce 함수를 사용하여 immer 미들웨어를 추가하여 함수 안에서 상태를 직접 수정할 수 있도록 만들 수 있다.</li>\n</ul>\n<ul>\n<li>상태를 로컬 스토리지에 저장하고 복원하는 데 사용</li>\n<li>persist 함수는 두 번째 매개변수로 name, storage을 받는데 name을 사용해 로컬 스토리지에 저장할 때 사용할 키로 지정, 랜더링 되면 상태값이 복원된다. 그리고 storage는 기본값으로 localStorage이고 원하는 storage에 저장할 수 있다.</li>\n<li>사용자가 페이지를 새로 고칠 때도 상태가 유지된다 ~~(일반적으로 브라우저의 스토리지를 사용하여 상태를 저장하고 복원)~~</li>\n</ul>\n<p> </p>\n<h3 id=\"subscribewithselector\"><a class=\"anchor\" href=\"#subscribewithselector\">subscribeWithSelector</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> useStore</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> create</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TodoState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>()(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">\tsubscribeWithSelector</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    todo: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      todoItems: [],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      loading: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      error: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">\t)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">\t);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  useStore.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">subscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> state.todo.todoItems,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">todoItems</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(todoItems.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">length</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    useStore.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">destroy</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, []);</span></span></code></pre></figure>\n<p>todoItems가 변경될 경우 subscribe 2번째 인자의 callback 함수 호출하게 된다. 상태관리를 구독하게 되어 상태값이 변경될 경우 호출될 수 있도록 처리가 가능하다. (modx의 autorun/computed와 동일한 기능)</p>\n<p> </p>\n<h3 id=\"reset-state\"><a class=\"anchor\" href=\"#reset-state\">reset state</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> initialState</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  salmon: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  tuna: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> useSlice</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> create</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">get</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  ...</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">initialState,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  addSalmon</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">qty</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ salmon: </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">get</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">().salmon </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> qty });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  addTuna</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">qty</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ tuna: </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">get</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">().tuna </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> qty });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  reset</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(initialState);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}));</span></span></code></pre></figure>\n<p>위 코드를 살펴보면 초기값으로 <code>initialState</code>를 넣는 것이 아닌 <code>...initialState</code>을 넣어준다. 그냥 <code>initialState</code>를 넣어주게 되면 업데이트 할 때 해당 속성들의 값을 덮어쓸 수도 있기때문에 스프레드 연산자를 사용한다.</p>\n<blockquote>\n<p>사용하면서 느낀 부분인데 set 함수를 직접적으로 사용해서 <code>useSlice.setState().initialState</code> 방식을 사용하게 되면 코드 값에 직접적으로 접근해 동작이 원하는대로 되지 않아서 자체적으로 getState 또는 state를 처음 많들어줄 때 얕은복사를 통해 값을 복사해서 사용하고 있다.</p>\n</blockquote>\n<p> </p>\n<h3 id=\"useshallow를-이용해-rerender-방지하기\"><a class=\"anchor\" href=\"#useshallow를-이용해-rerender-방지하기\">useShallow를 이용해 reRender 방지하기</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { create } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'zustand'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> useMeals</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> create</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  papaBear: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'large porridge-pot'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  mamaBear: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'middle-size porridge pot'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  littleBear: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'A little, small, wee pot'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> BearNames</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> names</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useMeals</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Object.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">keys</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(state));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>{names.join(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">', '</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)}&#x3C;/div>;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">useMeals.setState({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  papaBear: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'a large pizza'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span></code></pre></figure>\n<p>위 코드를 실행하게 되었을 때 selector는 출력이 변경되면 rerender을 발생시킨다.\n실제로 names의 출력이 shallow equality에 따라 변경되지 않았더라도 BearNames가 다시 렌더링되게 된다. 이것을 <code>useShallow</code>을 사용하게 되면</p>\n<blockquote>\n<p>🙋‍♂️ 잠깐! shallow equality 이란 두 객체가 같은 메모리 위치를 참조하는지 비교하는 것을 의미한다!</p>\n</blockquote>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { create } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'zustand'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { useShallow } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'zustand/react/shallow'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> useMeals</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> create</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  papaBear: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'large porridge-pot'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  mamaBear: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'middle-size porridge pot'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  littleBear: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'A little, small, wee pot'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> BearNames</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> names</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useMeals</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useShallow</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Object.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">keys</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(state)));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>{names.join(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">', '</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)}&#x3C;/div>;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span></code></pre></figure>\n<p>이렇게 바꾸게 되면 불필요한 rerender을 방지할 수 있다.</p>\n<p> </p>\n<h2 id=\"그래서-6개월-정도-써본-소감은\"><a class=\"anchor\" href=\"#그래서-6개월-정도-써본-소감은\">그래서 6개월 정도 써본 소감은??</a></h2>\n<p>일단 나는 recoil, jotai 그리고 이번에 zustand 까지 3가지 라이브러리를 사용해 보았다.</p>\n<p>사실 Top-Bottom 방식이 낯설었지만, 러닝 커브도 짧은 편이고, ~새로운 FE가 회사에 왔는데 예시 코드를 통해 배우는 속도가 빠르다. 뭐 사람마다 다르겠지만, 러닝 커브 짧다고 생각~</p>\n<p>몇 가지 좋은점을 생각해보았을 때 상태 내부에 접근하는 방식도 쉽고, 라이브러리 지원, 가독성 그리고 중앙 집중 방식이어서 이미 진행되고 있는 프로젝트에 투입하는데 부담이 적었다는 점에서 좋은 점수를 주고 싶다!</p>\n<p>~한글 버전도 만들어주면 좋겠다.~</p>\n<p>사용을 처음 해본 이후 docs를 많이 찾아보지 못했는데, 그사이에 버전 5의 알파버전이 나와버렸다.. 계속해서 발전하고, 수정되는 것은 큰 장점이지 않을까 싶다!</p>\n<p><img src=\"/content/240222/8.png\" alt=\"8.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>공식문서에서 <a href=\"https://docs.pmnd.rs/zustand/integrations/third-party-libraries\">Third-party Libraries</a>에 대한 정보가 있는데, 확장적인 부분에서 사용하기 좋다고 생각한다. 그리고 <a href=\"https://docs.pmnd.rs/zustand/integrations/persisting-store-data\">여기 링크도 참고해보면 좋을 것 같다</a></p>\n<p>그리고 블로그를 작성하고, zustand를 공부하면서 내부동작에 대해서 심오깊게 들어가보지 못했는데, <a href=\"https://www.nextree.io/zustand/\">nextree-zustand</a>을 보면서 많이 배웠다. 다른분들도 많이 보면 좋을 것 같다!!</p>\n<p> </p>\n<p><img src=\"/content/240222/9.png\" alt=\"9.png\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>https://github.com/pmndrs/zustand</p>\n<p>https://zustand-demo.pmnd.rs/</p>\n<p>https://www.nextree.io/zustand/</p>\n</blockquote>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240222/index.md",
    "_raw": {
      "sourceFilePath": "240222/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240222",
      "contentType": "markdown",
      "flattenedPath": "240222"
    },
    "type": "Post",
    "slug": "/240222",
    "categoryArray": [
      "프론트엔드"
    ],
    "readingTime": "19 min read",
    "excerpt": "&nbsp; 난 왜 zustand 공부를 시작했을까? &nbsp; 회사에서 위처럼 회사에서 useState, useEffect, useRef 등 Hook을 하나의 컴포넌트에서 남발해서 사용하고 있다는 것을 알게 되었다. (위 사진은 극히 일부의 코드를 수정해서 보여준란걸..) 그렇게 되니 컴포넌트 내부의 요소를 변경하거나, 렌더링이 일어날 때 state, ..."
  },
  {
    "title": "프론트엔드 개발자의 고난했던 DevOps 경험 : \"행군보다 힘들었던 반자동화 배포\"",
    "date": "2024-02-27T00:00:00.000Z",
    "categories": "프론트엔드 DevOps",
    "body": {
      "raw": "\n![3.png](3.png)\n\n첫 회사에서는 Azure 환경으로 배포했고, 개인 프로젝트에서는 클라우드와 인프라에 대한 개념이 부족해 heroku, github, netlify, vercel 등 간단하게 배포해서 프로젝트를 완성했다.\n\n지금 회사에서는 pipeline을 사용하지 않고 pem,ppk로 인증을 한 후에 PuTTY와 winSCP를 이용해서 배포했다. 사용해보니 불편한 점도 너무너무 많아서 점진적으로 바꿔야겠다는 생각이 들게 되어 바꾸었고, FE 개발자의 아등바등 DevOps 경험을 기록으로 남겨볼려고 한다. 사내의 요구사항으로 인해 자동화로 CI/CD를 하지는 않았지만, 반자동화로서 성능과 효율성을 위해 변하는 배포과정을 살펴보자!!\n\n> 참고로 저는 DevOps, 백앤드에 대한 지식이 부족합니다. 큰 프로젝트는 아니었지만, 필요성을 느껴서 사내 스터디처럼 공부처럼 이루어낸 것이므로 잘못된 정보가 있을 수 있으니, 모든 충고와 조언 감사히 받아들이겠습니다!!\n\n&nbsp;\n\n## 처음에는요..\n\n![4.png](4.png)\n\nFE에서 develop에 개발 서버, master에 실 서버를 연결해 각각의 AWS ec2 주소에 build 파일을 올렸다. PuTTY에 pem,ppk를 이용해서 인증 한 후에 ec2로 접근하고 winSCP를 이용해 각각의 파일을 전송해주었다.\n\n회사에서는 기획과 개발이 동시에 일어나기 때문에 적은 인원으로 많은 일을 해야 했다. 그렇기에 배포를 할 때에는 cache, 효율적 배포에 대해 신경 쓰지 않고 기능개발에 목표를 두었다. 이런 시간 동안 배포하는 것에 많은 시간을 소비하게 되었다.\n\nbuild를 통해 node_modules, img, font 등 변경 사항이 존재하면 모든 것을 새로 ec2로 전송했고, 평균 배포 시간 15분 정도 가지게 되었다.\n\n&nbsp;\n\n### Pem,Ppk,PuTTY\n\npem,ppk와 같이 암호화된 파일을 이용해 PuTTY로 가상 서버로 접근하게 되면 안정성이 올라가기 때문에 사용한다.\n\n- PEM(Privacy Enhanced Mail) : 암호화된 데이터를 저장하는 파일 형식으로 SSH 키 쌍을 생성할 때 개인 키가 pem 방식으로 저장된다.\n\n- PPK(PuTTY Private Key) : PuTTY에서 사용하는 개인 키 파일 형식\n\n- PuTTY : SSH, Telnet, rlogin, SCP 및 기타 네트워크 프로토콜을 사용하는 클라이언트 애플리케이션으로 Window, macOS 및 Linux 등 다양한 운영체제에서 사용 가능\n\n&nbsp;\n\n### WinSCP, SSH\n\nWinSCP와 SSH는 모두 원격 서버에 연결하고 서버의 파일과 폴더를 탐색해 편집 할 수 있는 것이다.\n\n- WinSCP : Windows용 무료 오픈 소스 SFTP(SSH File Transfer Protocol) 클라이언트로, 원격서버의 파일과 폴더를 탐색,편집에 사용\n\n  > SCP(Secure Copy Protocol)이란?\n  >\n  > > - ssh 원격 접속 프로토콜을 기반으로 한 파일 전송 프로토콜로 원격으로 파일과 디렉토리 등을 보내고, 가져오는데 사용\n  > >\n  > > - 네트워크가 연결되어 있는 환경에서 ssh와 동일한 22번 포트와 identity file을 사용하여 파일을 송수신하기 때문에 보안적으로도 안정적\n\n- SSH(Secure Shell) : 네트워크를 통해 안전하게 로그인하고 명령을 실행할 수 있는 프로토콜로 암호화를 사용하여 데이터를 보호한다.\n\n&nbsp;\n\n## 압축을 해볼까?\n\n![5.jpeg](5.jpeg)\n\n평균적으로 개발 서버는 10~15분의 시간이, 실 서버는 20분 정도의 시간이 걸려서 배포되었다. 상당히 많은 시간이 불 필요한 곳에 들어가고 있다는 것을 알게되어서, 배포 방법을 변경하기로 했다.\n\n그중에 내가 선택한 방법은 build 파일을 압축해서 ec2에 접근해서 배포하는 것이었다. 검색을 해보니 zip, gzip, zstd 등 많은 압축 방법이 있었지만 나는 gzip+tar 의 tar.gz 을 사용하게 되었다. 내가 왜 tar.gz 방식을 선택했는지 알기 전에 먼저 각 압축법에 대해서 알아보자\n\n- zip: 가장 일반적인 압축 형식이며, 대부분의 운영 체제에서 지원된다. 압축률은 상대적으로 낮지만, 압축 및 압축 해제 속도가 빠름\n- gzip: zip 형식보다 높은 압축률을 제공하며, 압축 및 압축 해제 속도도 비교적 빠르다.\n- zstd: 최근에 등장한 압축 형식으로, gzip보다 더 높은 압축률을 제공하며, 압축 속도도 빠르다. 운영 체제 지원 여부를 확인해봐야 함\n- tar.gz: tar 형식으로 파일을 묶고 gzip으로 압축하는 방식으로 압축률은 높지만, 압축 및 압축 해제 속도가 느리다.\n\n회사에서 프로젝트의 build 파일은 보통 3.5GB 정도로 용량이 크기 때문에, 압축률이 높은 형식을 선택해야 했다. 또한, 운영체제에 대한 제약이 없어야 했기 때문에 MacOS나 Windows에서 모두 지원되는 형식이어야 했다. 그리고 프로젝트를 EC2 인스턴스에서 압축 해제할 계획이었으므로, 가상 서버에서의 압축 해제 속도에 대한 우려는 크지 않았다. 이에 따라 리눅스에서 기본적으로 지원되는 tar 압축 형식을 선택하게 되었다.\n\n> 🤘 ec2 에서 tar.gz 압축 해제하는 명령어 tar -zxvf build.tar.gz을 사용했다!\n\n결과적으로 압축방식으로 build 폴더를 build.tar.gz으로 만들어서 terminus를 가지고 명령어로 SFTP로 인증 한 후에 SSH로 폴더에 접근해 가상 서버에 파일을 넣는 형식으로 배포 방법을 바꾸었다. 해당 작업으로 개발 서버 평균 10 ~ 15분, 실 서버 평균 15 ~ 20분 걸리던 시간을 **3분 이내로 400% 넘는 효율성**을 얻게 되었다.\n\n&nbsp;\n\n## 흠.. pipeline을 사용해보는게 좋을 것 같은데?\n\n![6.jpeg](6.jpeg)\n\n압축시간을 많이 줄였다. 하지만 휴먼에러가 많이 발생해 해결법이 필요했다. 여기서 휴먼에러라고 했을 때 SFTP 인증을 할 때 잘못된 접근을 하거나, SSH를 통해 파일을 전달하는 과정에서 경로가 잘못된 것들을 의미한다. 이런 오류들 때문에 효율적이지 못한 시간을 소비하게 되었다. 또한 pem,ppk를 모든 개발자들이 가지고 있으면 노출 위험도도 커질 수 있다고 판단했다. ~~편하기도 하니깐~~\n\n그래서 어떻게 이것을 해결할 수 있을까? 생각해보고 낸 결론은 **우리는 Jira&Atlassian을 이용하기에 bitbucket의 pipeline을 가지고 CI/CD 환경을 구축하자** 를 계획하고 인프라를 구축하기로 했다.\n\n(사실 bitbucket의 pipeline을 사용한 가장 큰 이유는 Jenkins, circleCI와 같은 보조서버가 없기 때문이였다.)\n\n> 여기서 프로젝트의 자동화 CI/CD가 아닌 반자동화 CI/CD 환경을 구축했다. 미국과 한국의 개발자들이 시차때문에 잘못된 배포를 했을 경우에 대응이 어려워, commit&push를 이용해 배포하는 것이 아닌 pipeline을 직접 실행해 배포하는 형식으로 구현하기로 했다.\n\n&nbsp;\n\n![8.jpeg](8.jpeg)\n\n&nbsp;\n\n### 배포 환경 만들기\n\n&nbsp;\n\n![13.png](13.png)\n\n- AWS S3 Bucket을 이용해서 정적인 파일들(이미지,CSS파일,Font 등)을 호스팅\n- AWS EC2를 이용해 웹을 호스팅할 때 사용\n- AWS CodeDeploy을 이용해 웹을 EC2인스턴스 또는 온프레미스 서버로 자동으로 배포하는데 사용\n- Jira & Bitbucket Pipeline을 이용해 프로젝트 관리 협업에 사용하고 변경 사항을 테스트 한 후에 CI/CD 파이프라인 설정해서 배포\n\n&nbsp;\n\n### 인프라 구성하면서 주의한 점\n\n1. AWS 리소스 관리\n\n사용하지 않는 리소스를 찾아서 정리를 해 비용 절감을 하고 IAM 역할 및 권한을 확인해 네트워크 보안을 고려해야 된다. ~~AWS 과금문제가 무서워서 제일 많이 찾아보고 신경쓴 부분이기도 하다.. 무섭😱😱~~\n\n2. CI/CD 파이프라인 설정\n\n코드 변경 사항을 버전 관리 시스템에 체계적으로 관리하고, 실 버전과 개발 버전 환경을 구분해서 배포할려고 script를 각각 만들었다. 혹시 모를 상황에 배포 중 문제가 생기면 롤백하고 Deploy pause 할 수 있도록 해당 script도 만들어 적용했다.\n\n3. Jira 및 Bitbucket Pipeline 연동\n\n제일 어려운 부분이었다. Jira에서 변경사항을 확인하자마자 자동으로 파이프라인이 실행되는 것이 아닌 사용자가 파이프라인을 직접 실행해 실,개발 서버를 배포할 수 있도록 설정했다. 해당 설정은 Bitbucket Pipelines YAML 파일을 작성하여 CI/CD 작업을 정의했다.\n\n4. 추가적으로\n\n현재 캐싱은 CloudFront를 사용하여 웹사이트 콘텐츠 캐싱을 통해 성능을 향상할 수 있도록 했다. 캐싱에 대한 내용은 [여기서 확인해보자](#효율적인-캐시관리를-위해-ooooo을-사용해볼-예정입니다)\n\n&nbsp;\n\n### 끝이자 새로운 시작..\n\n![14.png](14.png)\n\n결과적으로!! 반자동화 CI/CD 를 구현했다!!! 작업하는 동안에 모르는 것이 많아서 사내 직원들에게 도움을 받고 많은 검색을 해보았다. 작은 프로젝트지만 스스로 CI/CD 인프라를 구축해보면서 왜 이런 작업들이 필요한지 알게되었다. **압축을 통해서 400%의 속도를 향상**시키고, **반자동화 CI/CD를 통해서 휴먼에러를 줄여서 배포 환경에 많은 시간을 소비하지 않는 것**에 기여했다는 것이 가장 뿌듯하다!\n\n&nbsp;\n\n## 캐시!!! cache..!!!\n\n![7.jpeg](7.jpeg)\n\nCI/CD 프로세스가 완료되었다!! 특별한 문제 없이 진행되었으나, EC2 EBS에 캐시가 과도하게 누적되어 있음을 확인하게 되었다. 캐시 보존 필요성을 인지하고 초기 설정에 따라 10일 이상 경과된 캐시는 자동 삭제되도록 설정했지만, 보다 효율적인 캐시 관리 방안을 찾게 되었다.\n\n~~하지만 현생이 너무 바빠서.. 추후 작업을 위해 공부한 것들을 기록해보자!~~\n\n&nbsp;\n\n### 그래서 EBS가 뭐고 왜 사용할까?\n\n![9.png](9.png)\n\nEBS(Elastic Block Storage)는 EC2의 연산처리를 한 후에 해당 데이터를 저장하는 역할을 하는 것이다. 쉽게 표현하면 EC2는 가상 서버라면 EBS는 가상 하드디스크라고 할 수 있다. 저렴한 비용으로 사용량을 확장할 수 있고 영구 블록 스토리지 볼륨을 제공한다.\n\n> 영구 블록 스토리지 볼륨은 실제 하드 드라이브와 유사하게 작동하는 클라우드 기반 스토리지, EC2 인스턴스에서 사용할 수 있는 영구적 (데이터가 삭제되지 않음) 저장 공간을 제공하며, 다양한 용량, 성능, 가격 옵션으로 제공\n\nEBS는 디스크 하나하나 저장 단위인 EBS 볼륨으로 구성되어있다. EBS 타입도 5가지 제공되는데, ~~너무 어렵다..~~ 구글링 해보니 용량과 MAX IOPS 수치를 확인해서 상황에 따라 적합한 타입을 사용하면 된다고 한다! ~~하지만 나는 요금을 아끼기 위해서 마그네틱 타입을 사용하고 있다.~~\n\nEBS를 사용하는 이유는 아주 많을 것 같다. 다양한 옵션을 사용할 수 있고 적은 비용으로 확장하기도 쉽다. 데이터 손실을 방지하는 것도 훌륭한 기능이다. 그 중에 EC2가 종료되어도 별개의 네트워크로 연결되어 데이터가 유지되는 EBS의 영구성이 큰 장점이라고 생각한다. 그리고 EC2가 변경되어도 재연결하기도 쉽고 하나의 EBS를 여러개의 EC2에 장착도 가능하다.\n\n![10.jpeg](10.jpeg)\n\n&nbsp;\n\n### 효율적인 캐시관리를 위해 OOOOO을 사용해볼 예정입니다~!\n\nEBS에 캐시가 누적될 때마다 든 생각이 있다. `그냥.. 차이가 생긴 파일, 폴더만 옮겨주면 되잖아. 그럼 캐시도 줄고 속도도 향상되지 않을까??` 라는 생각을 가지고 불타는 구글링을 해보다가 찾은 방법이 있다.\n\n<img src=\"https://post-phinf.pstatic.net/MjAxODEyMTFfMTAw/MDAxNTQ0NTA0MDgyOTMz.bD3_qYAKhivyntOXUfWOxIDab4msHT-KNMDDwq3oMnIg.4tDkeh83lxHseQFLoy4c9JAXtfdy3iyPzGlN_2JWLqYg.GIF/IzLmo84UQg10xLdWQeK45JJ9bXgU.jpg?type=w400\" height=\"300\">\n\n&nbsp;\n\n&nbsp;\n\n<h1>그건 바로!!!!!</h1>\n\n&nbsp;\n\n<h2>그건 바로!!!</h2>\n\n&nbsp;\n\n<h3>그건 바로!</h3>\n\n&nbsp;\n\n![11.jpeg](11.jpeg)\n\n**Rsync(Remoe Sync)** 는 원격에 있는 파일과 디렉토리를 복사하고 동기화 하기 위해서 사용하는 툴이며 동시에 네트워크 프로토콜로서 커맨드 라인의 옵션들을 이용해서 배치 프로그램을 개발하기 쉬다는 장점이 있다. 이 스크립트를 cron 등에 올리는 걸로 간단하게 백업 혹은 미러(mirror) 시스템을 구축할 수 있다고 한다!\n\n그리고 내가 rsync를 선택한 가장 이유는 scp보다 빠르고, remote-update 프로토콜을 이용해서 차이가 있는 파일만 복사해서 처음에는 모든 파일과 디렉토리를 복사하겠지만, 다음부터는 차이가 있는 파일만 복사하기 때문에 더 빠르고 효율적으로 작동한다는 점이다. 아직 사용해보지는 않았지만, 추후 작업을 하게 되면 업데이트 할 예정이니..\n\n![12.jpeg](12.jpeg)\n\nrsync를 찾아보면서 도움이 된 자료들을 올려둘테니 [개발괘발개발새발님의 rsync](https://velog.io/@inhwa1025/Linux-rsync%EB%9E%80-rsync-%EC%82%AC%EC%9A%A9%EB%B2%95-rsync%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B0%B1%EC%97%85%ED%95%98%EA%B8%B0) 이랑 [Feccle님의 rsync](https://feccle.tistory.com/96) 을 읽어봐도 좋을 것 같다.\n\n&nbsp;\n\n> <h4>출처 및 도움되는 링크들</h4>\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/240227/3.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>첫 회사에서는 Azure 환경으로 배포했고, 개인 프로젝트에서는 클라우드와 인프라에 대한 개념이 부족해 heroku, github, netlify, vercel 등 간단하게 배포해서 프로젝트를 완성했다.</p>\n<p>지금 회사에서는 pipeline을 사용하지 않고 pem,ppk로 인증을 한 후에 PuTTY와 winSCP를 이용해서 배포했다. 사용해보니 불편한 점도 너무너무 많아서 점진적으로 바꿔야겠다는 생각이 들게 되어 바꾸었고, FE 개발자의 아등바등 DevOps 경험을 기록으로 남겨볼려고 한다. 사내의 요구사항으로 인해 자동화로 CI/CD를 하지는 않았지만, 반자동화로서 성능과 효율성을 위해 변하는 배포과정을 살펴보자!!</p>\n<blockquote>\n<p>참고로 저는 DevOps, 백앤드에 대한 지식이 부족합니다. 큰 프로젝트는 아니었지만, 필요성을 느껴서 사내 스터디처럼 공부처럼 이루어낸 것이므로 잘못된 정보가 있을 수 있으니, 모든 충고와 조언 감사히 받아들이겠습니다!!</p>\n</blockquote>\n<p> </p>\n<h2 id=\"처음에는요\"><a class=\"anchor\" href=\"#처음에는요\">처음에는요..</a></h2>\n<p><img src=\"/content/240227/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>FE에서 develop에 개발 서버, master에 실 서버를 연결해 각각의 AWS ec2 주소에 build 파일을 올렸다. PuTTY에 pem,ppk를 이용해서 인증 한 후에 ec2로 접근하고 winSCP를 이용해 각각의 파일을 전송해주었다.</p>\n<p>회사에서는 기획과 개발이 동시에 일어나기 때문에 적은 인원으로 많은 일을 해야 했다. 그렇기에 배포를 할 때에는 cache, 효율적 배포에 대해 신경 쓰지 않고 기능개발에 목표를 두었다. 이런 시간 동안 배포하는 것에 많은 시간을 소비하게 되었다.</p>\n<p>build를 통해 node_modules, img, font 등 변경 사항이 존재하면 모든 것을 새로 ec2로 전송했고, 평균 배포 시간 15분 정도 가지게 되었다.</p>\n<p> </p>\n<h3 id=\"pemppkputty\"><a class=\"anchor\" href=\"#pemppkputty\">Pem,Ppk,PuTTY</a></h3>\n<p>pem,ppk와 같이 암호화된 파일을 이용해 PuTTY로 가상 서버로 접근하게 되면 안정성이 올라가기 때문에 사용한다.</p>\n<ul>\n<li>\n<p>PEM(Privacy Enhanced Mail) : 암호화된 데이터를 저장하는 파일 형식으로 SSH 키 쌍을 생성할 때 개인 키가 pem 방식으로 저장된다.</p>\n</li>\n<li>\n<p>PPK(PuTTY Private Key) : PuTTY에서 사용하는 개인 키 파일 형식</p>\n</li>\n<li>\n<p>PuTTY : SSH, Telnet, rlogin, SCP 및 기타 네트워크 프로토콜을 사용하는 클라이언트 애플리케이션으로 Window, macOS 및 Linux 등 다양한 운영체제에서 사용 가능</p>\n</li>\n</ul>\n<p> </p>\n<h3 id=\"winscp-ssh\"><a class=\"anchor\" href=\"#winscp-ssh\">WinSCP, SSH</a></h3>\n<p>WinSCP와 SSH는 모두 원격 서버에 연결하고 서버의 파일과 폴더를 탐색해 편집 할 수 있는 것이다.</p>\n<ul>\n<li>\n<p>WinSCP : Windows용 무료 오픈 소스 SFTP(SSH File Transfer Protocol) 클라이언트로, 원격서버의 파일과 폴더를 탐색,편집에 사용</p>\n<blockquote>\n<p>SCP(Secure Copy Protocol)이란?</p>\n<blockquote>\n<ul>\n<li>\n<p>ssh 원격 접속 프로토콜을 기반으로 한 파일 전송 프로토콜로 원격으로 파일과 디렉토리 등을 보내고, 가져오는데 사용</p>\n</li>\n<li>\n<p>네트워크가 연결되어 있는 환경에서 ssh와 동일한 22번 포트와 identity file을 사용하여 파일을 송수신하기 때문에 보안적으로도 안정적</p>\n</li>\n</ul>\n</blockquote>\n</blockquote>\n</li>\n<li>\n<p>SSH(Secure Shell) : 네트워크를 통해 안전하게 로그인하고 명령을 실행할 수 있는 프로토콜로 암호화를 사용하여 데이터를 보호한다.</p>\n</li>\n</ul>\n<p> </p>\n<h2 id=\"압축을-해볼까\"><a class=\"anchor\" href=\"#압축을-해볼까\">압축을 해볼까?</a></h2>\n<p><img src=\"/content/240227/5.jpeg\" alt=\"5.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>평균적으로 개발 서버는 10~15분의 시간이, 실 서버는 20분 정도의 시간이 걸려서 배포되었다. 상당히 많은 시간이 불 필요한 곳에 들어가고 있다는 것을 알게되어서, 배포 방법을 변경하기로 했다.</p>\n<p>그중에 내가 선택한 방법은 build 파일을 압축해서 ec2에 접근해서 배포하는 것이었다. 검색을 해보니 zip, gzip, zstd 등 많은 압축 방법이 있었지만 나는 gzip+tar 의 tar.gz 을 사용하게 되었다. 내가 왜 tar.gz 방식을 선택했는지 알기 전에 먼저 각 압축법에 대해서 알아보자</p>\n<ul>\n<li>zip: 가장 일반적인 압축 형식이며, 대부분의 운영 체제에서 지원된다. 압축률은 상대적으로 낮지만, 압축 및 압축 해제 속도가 빠름</li>\n<li>gzip: zip 형식보다 높은 압축률을 제공하며, 압축 및 압축 해제 속도도 비교적 빠르다.</li>\n<li>zstd: 최근에 등장한 압축 형식으로, gzip보다 더 높은 압축률을 제공하며, 압축 속도도 빠르다. 운영 체제 지원 여부를 확인해봐야 함</li>\n<li>tar.gz: tar 형식으로 파일을 묶고 gzip으로 압축하는 방식으로 압축률은 높지만, 압축 및 압축 해제 속도가 느리다.</li>\n</ul>\n<p>회사에서 프로젝트의 build 파일은 보통 3.5GB 정도로 용량이 크기 때문에, 압축률이 높은 형식을 선택해야 했다. 또한, 운영체제에 대한 제약이 없어야 했기 때문에 MacOS나 Windows에서 모두 지원되는 형식이어야 했다. 그리고 프로젝트를 EC2 인스턴스에서 압축 해제할 계획이었으므로, 가상 서버에서의 압축 해제 속도에 대한 우려는 크지 않았다. 이에 따라 리눅스에서 기본적으로 지원되는 tar 압축 형식을 선택하게 되었다.</p>\n<blockquote>\n<p>🤘 ec2 에서 tar.gz 압축 해제하는 명령어 tar -zxvf build.tar.gz을 사용했다!</p>\n</blockquote>\n<p>결과적으로 압축방식으로 build 폴더를 build.tar.gz으로 만들어서 terminus를 가지고 명령어로 SFTP로 인증 한 후에 SSH로 폴더에 접근해 가상 서버에 파일을 넣는 형식으로 배포 방법을 바꾸었다. 해당 작업으로 개발 서버 평균 10 ~ 15분, 실 서버 평균 15 ~ 20분 걸리던 시간을 <strong>3분 이내로 400% 넘는 효율성</strong>을 얻게 되었다.</p>\n<p> </p>\n<h2 id=\"흠-pipeline을-사용해보는게-좋을-것-같은데\"><a class=\"anchor\" href=\"#흠-pipeline을-사용해보는게-좋을-것-같은데\">흠.. pipeline을 사용해보는게 좋을 것 같은데?</a></h2>\n<p><img src=\"/content/240227/6.jpeg\" alt=\"6.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>압축시간을 많이 줄였다. 하지만 휴먼에러가 많이 발생해 해결법이 필요했다. 여기서 휴먼에러라고 했을 때 SFTP 인증을 할 때 잘못된 접근을 하거나, SSH를 통해 파일을 전달하는 과정에서 경로가 잘못된 것들을 의미한다. 이런 오류들 때문에 효율적이지 못한 시간을 소비하게 되었다. 또한 pem,ppk를 모든 개발자들이 가지고 있으면 노출 위험도도 커질 수 있다고 판단했다. ~~편하기도 하니깐~~</p>\n<p>그래서 어떻게 이것을 해결할 수 있을까? 생각해보고 낸 결론은 <strong>우리는 Jira&#x26;Atlassian을 이용하기에 bitbucket의 pipeline을 가지고 CI/CD 환경을 구축하자</strong> 를 계획하고 인프라를 구축하기로 했다.</p>\n<p>(사실 bitbucket의 pipeline을 사용한 가장 큰 이유는 Jenkins, circleCI와 같은 보조서버가 없기 때문이였다.)</p>\n<blockquote>\n<p>여기서 프로젝트의 자동화 CI/CD가 아닌 반자동화 CI/CD 환경을 구축했다. 미국과 한국의 개발자들이 시차때문에 잘못된 배포를 했을 경우에 대응이 어려워, commit&#x26;push를 이용해 배포하는 것이 아닌 pipeline을 직접 실행해 배포하는 형식으로 구현하기로 했다.</p>\n</blockquote>\n<p> </p>\n<p><img src=\"/content/240227/8.jpeg\" alt=\"8.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p> </p>\n<h3 id=\"배포-환경-만들기\"><a class=\"anchor\" href=\"#배포-환경-만들기\">배포 환경 만들기</a></h3>\n<p> </p>\n<p><img src=\"/content/240227/13.png\" alt=\"13.png\" loading=\"lazy\" decoding=\"async\"></p>\n<ul>\n<li>AWS S3 Bucket을 이용해서 정적인 파일들(이미지,CSS파일,Font 등)을 호스팅</li>\n<li>AWS EC2를 이용해 웹을 호스팅할 때 사용</li>\n<li>AWS CodeDeploy을 이용해 웹을 EC2인스턴스 또는 온프레미스 서버로 자동으로 배포하는데 사용</li>\n<li>Jira &#x26; Bitbucket Pipeline을 이용해 프로젝트 관리 협업에 사용하고 변경 사항을 테스트 한 후에 CI/CD 파이프라인 설정해서 배포</li>\n</ul>\n<p> </p>\n<h3 id=\"인프라-구성하면서-주의한-점\"><a class=\"anchor\" href=\"#인프라-구성하면서-주의한-점\">인프라 구성하면서 주의한 점</a></h3>\n<ol>\n<li>AWS 리소스 관리</li>\n</ol>\n<p>사용하지 않는 리소스를 찾아서 정리를 해 비용 절감을 하고 IAM 역할 및 권한을 확인해 네트워크 보안을 고려해야 된다. ~~AWS 과금문제가 무서워서 제일 많이 찾아보고 신경쓴 부분이기도 하다.. 무섭😱😱~~</p>\n<ol start=\"2\">\n<li>CI/CD 파이프라인 설정</li>\n</ol>\n<p>코드 변경 사항을 버전 관리 시스템에 체계적으로 관리하고, 실 버전과 개발 버전 환경을 구분해서 배포할려고 script를 각각 만들었다. 혹시 모를 상황에 배포 중 문제가 생기면 롤백하고 Deploy pause 할 수 있도록 해당 script도 만들어 적용했다.</p>\n<ol start=\"3\">\n<li>Jira 및 Bitbucket Pipeline 연동</li>\n</ol>\n<p>제일 어려운 부분이었다. Jira에서 변경사항을 확인하자마자 자동으로 파이프라인이 실행되는 것이 아닌 사용자가 파이프라인을 직접 실행해 실,개발 서버를 배포할 수 있도록 설정했다. 해당 설정은 Bitbucket Pipelines YAML 파일을 작성하여 CI/CD 작업을 정의했다.</p>\n<ol start=\"4\">\n<li>추가적으로</li>\n</ol>\n<p>현재 캐싱은 CloudFront를 사용하여 웹사이트 콘텐츠 캐싱을 통해 성능을 향상할 수 있도록 했다. 캐싱에 대한 내용은 <a href=\"#%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9D%B8-%EC%BA%90%EC%8B%9C%EA%B4%80%EB%A6%AC%EB%A5%BC-%EC%9C%84%ED%95%B4-ooooo%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%BC-%EC%98%88%EC%A0%95%EC%9E%85%EB%8B%88%EB%8B%A4\">여기서 확인해보자</a></p>\n<p> </p>\n<h3 id=\"끝이자-새로운-시작\"><a class=\"anchor\" href=\"#끝이자-새로운-시작\">끝이자 새로운 시작..</a></h3>\n<p><img src=\"/content/240227/14.png\" alt=\"14.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>결과적으로!! 반자동화 CI/CD 를 구현했다!!! 작업하는 동안에 모르는 것이 많아서 사내 직원들에게 도움을 받고 많은 검색을 해보았다. 작은 프로젝트지만 스스로 CI/CD 인프라를 구축해보면서 왜 이런 작업들이 필요한지 알게되었다. <strong>압축을 통해서 400%의 속도를 향상</strong>시키고, <strong>반자동화 CI/CD를 통해서 휴먼에러를 줄여서 배포 환경에 많은 시간을 소비하지 않는 것</strong>에 기여했다는 것이 가장 뿌듯하다!</p>\n<p> </p>\n<h2 id=\"캐시-cache\"><a class=\"anchor\" href=\"#캐시-cache\">캐시!!! cache..!!!</a></h2>\n<p><img src=\"/content/240227/7.jpeg\" alt=\"7.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>CI/CD 프로세스가 완료되었다!! 특별한 문제 없이 진행되었으나, EC2 EBS에 캐시가 과도하게 누적되어 있음을 확인하게 되었다. 캐시 보존 필요성을 인지하고 초기 설정에 따라 10일 이상 경과된 캐시는 자동 삭제되도록 설정했지만, 보다 효율적인 캐시 관리 방안을 찾게 되었다.</p>\n<p>~~하지만 현생이 너무 바빠서.. 추후 작업을 위해 공부한 것들을 기록해보자!~~</p>\n<p> </p>\n<h3 id=\"그래서-ebs가-뭐고-왜-사용할까\"><a class=\"anchor\" href=\"#그래서-ebs가-뭐고-왜-사용할까\">그래서 EBS가 뭐고 왜 사용할까?</a></h3>\n<p><img src=\"/content/240227/9.png\" alt=\"9.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>EBS(Elastic Block Storage)는 EC2의 연산처리를 한 후에 해당 데이터를 저장하는 역할을 하는 것이다. 쉽게 표현하면 EC2는 가상 서버라면 EBS는 가상 하드디스크라고 할 수 있다. 저렴한 비용으로 사용량을 확장할 수 있고 영구 블록 스토리지 볼륨을 제공한다.</p>\n<blockquote>\n<p>영구 블록 스토리지 볼륨은 실제 하드 드라이브와 유사하게 작동하는 클라우드 기반 스토리지, EC2 인스턴스에서 사용할 수 있는 영구적 (데이터가 삭제되지 않음) 저장 공간을 제공하며, 다양한 용량, 성능, 가격 옵션으로 제공</p>\n</blockquote>\n<p>EBS는 디스크 하나하나 저장 단위인 EBS 볼륨으로 구성되어있다. EBS 타입도 5가지 제공되는데, ~~너무 어렵다..~~ 구글링 해보니 용량과 MAX IOPS 수치를 확인해서 상황에 따라 적합한 타입을 사용하면 된다고 한다! ~~하지만 나는 요금을 아끼기 위해서 마그네틱 타입을 사용하고 있다.~~</p>\n<p>EBS를 사용하는 이유는 아주 많을 것 같다. 다양한 옵션을 사용할 수 있고 적은 비용으로 확장하기도 쉽다. 데이터 손실을 방지하는 것도 훌륭한 기능이다. 그 중에 EC2가 종료되어도 별개의 네트워크로 연결되어 데이터가 유지되는 EBS의 영구성이 큰 장점이라고 생각한다. 그리고 EC2가 변경되어도 재연결하기도 쉽고 하나의 EBS를 여러개의 EC2에 장착도 가능하다.</p>\n<p><img src=\"/content/240227/10.jpeg\" alt=\"10.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p> </p>\n<h3 id=\"효율적인-캐시관리를-위해-ooooo을-사용해볼-예정입니다\"><a class=\"anchor\" href=\"#효율적인-캐시관리를-위해-ooooo을-사용해볼-예정입니다\">효율적인 캐시관리를 위해 OOOOO을 사용해볼 예정입니다~!</a></h3>\n<p>EBS에 캐시가 누적될 때마다 든 생각이 있다. <code>그냥.. 차이가 생긴 파일, 폴더만 옮겨주면 되잖아. 그럼 캐시도 줄고 속도도 향상되지 않을까??</code> 라는 생각을 가지고 불타는 구글링을 해보다가 찾은 방법이 있다.</p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p><img src=\"/content/240227/11.jpeg\" alt=\"11.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p><strong>Rsync(Remoe Sync)</strong> 는 원격에 있는 파일과 디렉토리를 복사하고 동기화 하기 위해서 사용하는 툴이며 동시에 네트워크 프로토콜로서 커맨드 라인의 옵션들을 이용해서 배치 프로그램을 개발하기 쉬다는 장점이 있다. 이 스크립트를 cron 등에 올리는 걸로 간단하게 백업 혹은 미러(mirror) 시스템을 구축할 수 있다고 한다!</p>\n<p>그리고 내가 rsync를 선택한 가장 이유는 scp보다 빠르고, remote-update 프로토콜을 이용해서 차이가 있는 파일만 복사해서 처음에는 모든 파일과 디렉토리를 복사하겠지만, 다음부터는 차이가 있는 파일만 복사하기 때문에 더 빠르고 효율적으로 작동한다는 점이다. 아직 사용해보지는 않았지만, 추후 작업을 하게 되면 업데이트 할 예정이니..</p>\n<p><img src=\"/content/240227/12.jpeg\" alt=\"12.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>rsync를 찾아보면서 도움이 된 자료들을 올려둘테니 <a href=\"https://velog.io/@inhwa1025/Linux-rsync%EB%9E%80-rsync-%EC%82%AC%EC%9A%A9%EB%B2%95-rsync%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B0%B1%EC%97%85%ED%95%98%EA%B8%B0\">개발괘발개발새발님의 rsync</a> 이랑 <a href=\"https://feccle.tistory.com/96\">Feccle님의 rsync</a> 을 읽어봐도 좋을 것 같다.</p>\n<p> </p>\n<blockquote>\n</blockquote>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240227/index.md",
    "_raw": {
      "sourceFilePath": "240227/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240227",
      "contentType": "markdown",
      "flattenedPath": "240227"
    },
    "type": "Post",
    "slug": "/240227",
    "categoryArray": [
      "프론트엔드",
      "DevOps"
    ],
    "readingTime": "19 min read",
    "excerpt": "첫 회사에서는 Azure 환경으로 배포했고, 개인 프로젝트에서는 클라우드와 인프라에 대한 개념이 부족해 heroku, github, netlify, vercel 등 간단하게 배포해서 프로젝트를 완성했다. 지금 회사에서는 pipeline을 사용하지 않고 pem,ppk로 인증을 한 후에 PuTTY와 winSCP를 이용해서 배포했다. 사용해보니 불편한 점도 너무..."
  },
  {
    "title": "Good bye CRA, Hello Vite For Migration",
    "date": "2024-03-04T00:00:00.000Z",
    "categories": "프론트엔드 React",
    "body": {
      "raw": "\n## CRA(Create React App)\n\n<br>\n\n![1.svg](1.svg)\n\n2016년 이전에는 Create React App(CRA)가 등장하기 전에 프론트엔드 개발 환경이 통합되어 있지 않아서, 기존 앱에 리액트를 추가하기 위해 npm에서 import한 후 기존 빌드 구성을 수정하는 번거로움이 있었다고 한다!\n\n여러 도구를 설치하고 JSX를 사용하기 위한 사전 설정을 진행하며, 개발과 프로덕션 환경을 다르게 구성해야 했다. 또한, 린트 설정 등 다양한 작업이 필요했는데, 이는 일반 사용자들에게는 쉽지 않은 작업이었을 것 같다. 시간이 지나 똑똑한 개발자들이 보일러플레이트 저장소를 만들어 공유하고 복제함으로써 시간을 단축할 수 있었지만, 업데이트가 어려워 빠르게 변화하는 생태계에 대응하는 것도 쉽지 않았을 것 같다.\n\n이러한 어려움을 해결하기 위해, **CRA(Create React App)** 가 등장하게 되었다. CRA를 사용하면 리액트 애플리케이션을 쉽게 생성하고 필요한 설정 작업을 자동화할 수 있다. 이를 통해 개발자들은 더욱 빠르고 효율적으로 프로젝트를 시작하고 관리할 수 있게 되었다. 사내에서도 React 프로젝트를 시작할 때 위와 같은 환경 세팅에 시간 소비를 방지하기 위해서 CRA를 통해 작업을 해왔고 2~3년이 지난 시기에 여러 가지 문제점이 발견되어 마이그레이션에 대한 생각을 조금씩 하게 되었다!\n\n<br>\n\n## 마이그레이션을 하기로 결심한 이유\n\n<br>\n\n![2.png](2.png)\n\n마이그레이션을 결정한 이유를 고려해보면, React 16 버전을 사용하는 사내 플랫폼이 사용에는 문제가 없지만 성능과 속도 측면에서는 효율성이 많이 떨어져 개선할 부분이 필요하다는 것을 느끼게 되었다!\n\n성능과 속도를 개선하는 방법은 다양하다. 우선, 빌드 도구를 변경하여 더 효율적인 빌드를 수행할 수 있고, 프로젝트의 의존성을 최적화하여 번들 크기를 줄이고 불필요한 모듈을 삭제할 수도 있다. 더 나아가, 코드 스플릿팅을 통해 로딩 시간을 최소화하거나 프로젝트의 구조를 변경하여 성능을 향상시킬 수도 있다.\n\n이러한 다양한 방법들 중에서 마이그레이션을 통해 Vite로 전환하는 것이 선택된 이유는 무엇일까? 아마도 Vite가 제공하는 빠른 개발 서버와 빌드 속도, ES 모듈 사용 등의 장점이 React 애플리케이션의 성능 및 속도 개선에 큰 도움이 될 것이라고 생각했기 때문이다! 또한, Vite의 확장성과 다양한 프레임워크 지원은 향후 프로젝트 유지보수 및 확장성에도 긍정적인 영향을 줄 것으로 예상된다.\n\n지금부터 마이그레이션을 진행하기 위해 여러 가지 고민에 대해서 같이한 번 살펴보자!\n\n<br>\n\n## 🙋🏻‍♂️ 잠깐! 번들러가 뭐야!?\n\n<br>\n\n![7.png](7.png)\n\n브라우저 모듈 시스템(Module system)이 아직 표준화되지 않았던 시기에는, 여러 자바스크립트 파일을 단순하게 HTML `<script>` 태그로 연결하는 방식을 사용했는데, 이러한 방식은 전역 오염이나 의존성 관리가 어려워지는\n등의 여러 문제가 있었다. 그래서 CommonJS, AMD, UMD 등의 모듈 시스템이 등장했고, 이러한 모듈 시스템을 효율적으로 브라우저에서 사용하기 위해 번들러가 등장했다.\n\n**번들러(Bundler)** 는 웹 애플리케이션을 개발하기 위해 필요한 HTML, CSS, JS 등의 파편화된(모듈화된) 자원들을 모아서, 하나 혹은 최적의 소수 파일로 결합(번들링)하는 도구다. 그리고 결합을 위해 프로젝트를 해석하는 과정에서, 불필요한 주석이나 공백 제거, 난독화, 파일 압축 등의 기본적인 작업뿐만 아니라, 최신 문법이나 기타 개발에 편리한 특수 기능 등을 브라우저가 지원하는 형태로 변환하는 작업도 수행할 수 있도록 확장되어 개발자의 작업 효율성을 높이고 브라우저의 호환성이나 성능 등을 개선하는데 크게 도움을 주고있다!\n\n<br>\n\n## 여러가지 빌드도구를 비교해보자\n\n빌드 도구가 속도 개선에 직접적 영향을 준다고 생각해 여러가지 빌드 도구를 속도, 번들 최적화 ,확장성, 커뮤니티와 같은 요소들을 생각해 비교해보자!\n\n<br>\n\n### ESBuild\n\n![3.svg](3.svg)\n\nESBuild는 피그마의 CTO인 Evan Wallace가 개발한 빌드 도구로, 기존의 노드 기반 번들러보다 10~100배 더 빠른 빌드 속도를 제공한다. Go 언어를 이용하여 동시성을 지원하므로 멀티 코어 처리를 효율적으로 수행도 가능하다. 또한, 번들링, 경량화, 코드 변환 등 다양한 빌드 작업을 하나의 단계에서 처리하여 프로세스를 간소화했다.\n\n그러나 ESBuild는 CRA에서 제공되는 편의성이 부족하다. 따라서 esbuild 관련 스타터들이 많이 나오고 있는데, 이는 사용자들이 esbuild의 빠른 속도와 효율성을 살리면서도 CRA의 편의성을 일부 보충하기 위한 것이라 생각한다!\n\n또한, ESBuild는 용량이 상대적으로 작고 번들러에 대한 학습 곡선이 높은 것 같다. ~~(문서를 읽어보아도 너무 어렵다..)~~ 또한, 아직은 정식 버전이 출시되지 않아 안정성 면에서 위험성을 가지고 있다고 생각한다. 또한 PostCSS와 같은 후처리기와 es5 이하의 문법에 대한 완벽한 지원이 되지 않는 등의 문제도 짚고 넘어가야할 문제라고 생각한다!\n\n따라서 ESBuild를 사용할 때에는 번들러 설정에 대한 이해와 경험이 필요하며, 현재의 한계와 위험 요소를 고려하여 적절한 상황에서 사용하는 것이 중요하다고 보인다. 이러한 요소때문에 서비스가 진행중인 플랫폼에 ESBuild를 적용시키는 것은 적합하지 않다고 판단했다!\n\n<br>\n\n### Webpack\n\n<img src=\"4.svg\" width=200/>\n\nwebpack은 SPA(Single Page Application)가 급부상함에 따라 번들을 통합해서 관리해야 한다는 고민으로 출발하게 되었다. 이를 통해 webpack은 SPA 프로젝트의 구축과 관리를 간편하게 만들어주었다.\n\n- 하나의 설정 파일 내에서 원하는 번들을 생성할 수 있도록 컨트롤할 수 있고, entry와 output을 명시하고 필요한 **plugin과 loader**를 설정함으로써 간편하게 프로젝트를 구성할 수 있다\n- 다양한 plugin과 loader를 지원하며, 이를 통해 강력한 **개발 커뮤니티의가 활성화**되어있다. 이를 활용하여 다양한 파일 형식(css, image, font 등)을 변환하고 번들링할 수 있다.\n- 소스코드의 변화를 감지하여 브라우저를 자동으로 새로고침해주는 **Hot Module Replacement(HMR)를 제공**해서, 실시간으로 변화를 확인할 수 있으며, 다양한 파일의 변화도 감지할 수 있다.\n- 코드 분할을 통해 여러 번들 파일로 분리하여 병렬로 스크립트를 로드하여 **페이지 로딩 속도를 개선**할 수 있다. 또한, 초기에 구동될 필요가 없는 코드를 분리하여 lazy loading을 통해 페이지 초기 로딩 속도를 개선할 수도 있다.\n\n팀에서도 webpack을 사용하는 의견에 호의적이였다. 하지만 webpack을 사용하다보면 빌드 시간이 증가하고 복잡한 설정에 대한 학습 곡선이 존재한다는 문제점이 있다는 부분이랑 특히 프로젝트 규모가 커지고 loader와 plugin의 사용이 증가할수록 이러한 문제점이 더욱 부각될 수 있다는 점에서 고민을 하게 되었다.\n\n<br>\n\n### Rollup\n\n<img src=\"8.svg\" width=200/>\n\n<br>\n\nRollup은 2017년부터 개발이 시작된 모듈 번들러로, webpack의 인기에 가려져 있었지만 확장성이 높아 차세대 번들러로 주목받았다.\n\n> \"compiles small pieces of code into something larger and more complex, such as a library or application\"\n\nRollup은 작은 코드 조각들을 거대하고 복잡한 어플리케이션 혹은 라이브러리로 만들어 주는데, 이는 같은 소스 코드를 환경에 따라 다르게 빌드하는 것을 의미한다. Rollup을 사용할 때 \"어플리케이션을 만들 땐 webpack으로, 라이브러리를 만들 땐 rollup으로!\" 라는 문구를 자주 보이는데 라이브러리 빌드 쪽에서는 강한 자신감이..보인다 ㅋㅋㅋㅋ\n\nRollup의 사용 및 구성 방식은 webpack과 유사하지만 내부적으로 사용하는 도구들이 많이 다르다. 특히 라이브러리 개발 시에는 ES6 모듈 형태로 빌드하는 것이 중요한데, Rollup은 ES6 모듈 형태로 빌드할 수 있어 매우 유용하다. 이를 통해 라이브러리 사용자는 최적화된 애플리케이션을 더욱 쉽게 만들 수 있다. 또한, Rollup은 모듈을 호이스팅하여 한 번에 평가하기에 webpack보다 더 빠르며, AST 트리에 사용되는 모듈만 포함시켜 불필요한 코드를 제거하는 방식을 사용하여 더 가벼운 번들을 생성하는데, 이러한 특징들은 Rollup을 라이브러리 개발에 적합한 도구로 만들어 준다.\n\nRollup에 대한 이야기를 해보았는데 Vite 내부에서 Rollup 번들러를 사용하고 있다! 자세한 것은 Vite에서 다시 확인해보자~!\n\n<br>\n\n### Parcel\n\n![9.png](9.png)\n\nParcel은 Webpack과 달리 별도의 구성 파일 없이 간단하게 사용할 수 있는 번들러로, 최소한의 구성(Zero config)을 지향한다. 주로 사용하는 기능이나 필요한 기능을 자동으로 설치하고 처리하기 때문에 쉽고 빠르게 프로젝트를 구성할 수 있다. Parcel 번들러를 통해, 작은 규모의 프로젝트를 빠르게 시작하기 좋은 것 같다.\n\n하지만, 사내의 프로젝트의 규모가 커서 파이프라인과 다른 요구사항에 유연하게 대응하지 못할 수 있고, 성능적으로 번들링 속도가 메모리에 영향을 줄 수 있다고 생각이 들어서 직접적으로 도입하지 않기로 결정했다!\n\n<br>\n\n## 최종적으로 Vite를 선택한 이유\n\n![5.png](5.png)\n\nVite는 ESBuild의 단점을 보완한 라이브러리로, 개발 서버 구동 시간이 거의 0에 가깝고, 모든 CommonJS 및 UMD 파일을 ESM으로 불러올 수 있도록 변환하고, 다양한 리소스를 별도의 설정 없이 import할 수 있으며, CSS 빌드 최적화를 하고, Direct Import 구문에 대해 Preload 하도록 함으로써 네트워크 비용을 줄일 수 있다. Vite의 장점에 대해서 살펴보도록 하자!\n\n<br>\n\n### 서버 구동\n\nVite의 가장 큰 특징이라고 한다면 Dev Server에서 Native ESM을 사용하여 소스를 제공한다는 점이다. ESM (EcmaScript Modules)이란 ES6에서 도입되었으며, import/export를 사용하여 모듈을 동적으로 로드할 수 있는 모듈 시스템이다.\n\nWebpack과 같은 기존의 번들 기반 방식에서는 모든 소스코드가 빌드되어서 한번에 번들링된 형태로 서비스를 제공했다면, Native ESM 기반 방식의 Vite에서는 그럴 필요가 없다. 번들링이 필요가 없고 브라우저에서 필요한 모듈의 소소코드를 import할때 이것을 전달만 하면 되는 방식이다.\n\n<br>\n\n![10.jpeg](10.jpeg)\n\n<br>\n\n이것은 결국 현대 대부분의 브라우저에서 ESM일 지원하기에 가능한 것이다. ESM이 나오기 전에는 자바스크립트 언어레벨에서 지원하는 모듈시스템이 없었기 때문에 번들링이 필요했던 것이고, 지금은 자바스크립트 언어레벨에서 모듈시스템이 들어가 있고 거의 모든 브라우저에서 이것을 지원을 하기 때문에 Vite에서는 ESM을 기반으로 만들 수 있게 된 것이다.\n\n- Dependencies: 개발 시 그 내용이 바뀌지 않을 일반적인 JavaScript 소스 코드다. 기존 번들러로는 컴포넌트 라이브러리와 같이 몇 백 개의 JavaScript 모듈을 갖고 있는 매우 큰 디펜던시에 대한 번들링 과정이 매우 비효율적이었고 많은 시간을 필요로 했다. Vite의 **사전 번들링 기능은 Esbuild를 사용**하고 있다.\n\n- Source code: JSX, CSS 또는 Vue/Svelte 컴포넌트와 같이 컴파일링이 필요하다.\n\n결과적으로 프로젝트 규모가 커지면 Dev Server 구동 속도가 매우 느려서 기다리는 시간이 길어지고 지루해진다. 하지만 Vite에서는 Dev Server로 서버구동과 HMR 속도가 엄청 빨라진 것을 확인해볼 수 있다. 이러한 이유만으로도 Vite로 넘어가는데 충분한 이유라고 생각한다!\n\n<br>\n\n### HMR (Hot Module Replacement)\n\n![11.webp](11.webp)\n\nVite도 당연히 HMR 기능을 지원한다. 개발하면서 소스코드를 수정하면 vite는 수정된 모듈과 관련된 부분만 교체하고 브라우저에 전달한다. Native ESM을 이용하기 때문에 프로젝트 사이즈가 크더라도 HMR 시간에 영향을 주지 않아서 매우 빠르게 진행이 된다. 프론트 개발을 하다보면 HMR 기능을 정말 많이 사용할 수 밖에 없다. 보통 프론트 개발작업을 할때 소스코드 에디터, Dev Server, 브라우저 이렇게 3개는 기본적으로 열어놓고 작업을 하는데 소스코드를 수정하면 Dev Server에서 HMR이 일어나고 브라우저에서 변경된 내용을 확인한다. 그래서 Dev Server 구동보다도 훨씬 더 자주 사용하는 기능이 HMR이다. 그래서 HMR 속도가 정말 중요하다고 말할 수 밖에 없다.\n\n또한 vite는 HTTP 헤더를 활용하여 전체 페이지의 로드 속도를 높인다. 필요에 따라 소스 코드는 `304 Not Modified`로, 디펜던시는 `Cache-Control: max-age=31536000,immutable`을 이용해 캐시가 되고, 이렇게 함으로써 요청 횟수를 최소화하여 페이지 로딩을 빠르게 만들어 준다.\n\n<br>\n\n## 마이그레이션 할 때 유의 사항 및 과정!\n\nCRA을 통해 부트스트래핑된 React 어플리케이션의 경우 번들링을 위해 기본 제공되는 react-scripts을 사용하는데, 이 react-scripts 라이브러리는 쉽고 간편하지만, 라이브러리 내부에서 사용되는 Webpack 번들러가 느리고 무거운 편이다.\n저희 플랫폼에서는 Webpack에 크게 의존성을 가지고 있지 않았기 때문에 굳이 Webpack(즉, react-scripts)을 고집해야 할 이유가 없어 보여서 Vite로 번들러 수정 작업을 진행했는데 혹시나 Webpack 의존도가 높은 경우는 고려해봐야 할 것 같습니다!\n\nVite를 사용하기 위해서 CRA와의 차이점에 대해서 찾아보았는데 환경과 문법에서 차이가 있다. process.env, EJS 템플릿 문법 지원, 다양한 플러그인, 폴더와 파일의 위치 등등 이었습니다. 마이그레이션하면서 다뤄본 큰 변경점들에 대해서 간략하게 기록해보겠습니다~\n\n> 🤔 저는 문제가 없어서 기록해두지 않았습니다만, Node,Vite 버전 호환성과 디렉터리 구조등을 생각해봐야 됩니다! 호환성은 각자의 환경에 따라 다르니 참고용으로만 봐주세요~!\n\n<br>\n\n### process.env 호환성\n\nVite는 import.meta.env 객체를 이용해 환경 변수에 접근할 수 있고, 이러한 환경 변수는 `VITE_SOME_KEY=123`처럼 VITE\\_라는 접두사를 붙여 선언해야 된다.\n\n> 🚨 사내에서 Cypress로 테스트 코드를 작성하는데 import.meta.env를 통한 환경 변수 접근이 잘 작동하지 않는 이슈가 있어서, process.env를 통해서도 환경 변수를 참조할 수 있도록 호환성을 추가하는 작업을 진행했습니다. 관련한 정보는 [Vite Issue](https://github.com/vitejs/vite/issues/1149#issuecomment-857686209) 확인해보시면 좋을 것 같습니다.\n\n<br>\n\n### EJS 템플릿 문법을 위한 플러그인 추가 및 변경\n\nCRA에서는 기본적으로 [EJS 템플릿 문법](https://ccusean.tistory.com/entry/Express-%ED%85%9C%ED%94%8C%EB%A6%BF-%EC%97%94%EC%A7%84-ejs-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0)을 지원하는 반면, Vite에서는 EJS 플러그인을 추가해주어야 템플릿 문법을 사용할 수 있습니다. 이를 위해 vite-plugin-ejs 패키지를 설치하고, 다음과 같이 플러그인을 적용해두었습니다.\n\n```typescript\nplugins: [\n      ViteEjsPlugin({\n        // 여기에는 사용하고자 하는 변수를 선언해주면 됩니다. 예컨대,\n        exampleVar: import.meta.env?.VITE_EXAMPLE_VAR || null,\n      }),\n    ],\n```\n\n그리고 Vite에서 지원하지 않는 기능을 사용하기 위해서 플러그인을 추가했습니다. (23.06.02에는 적용이 안되었는데 지금은 적용이 될 수 있습니다.)\n\n- vite-plugin-svgr: SVG 그래픽을 리액트 컴포넌트처럼 사용하기 위한 플러그인\n- vite-plugin-eslint: ESLint와 관련된 오류를 알려주는 플러그인\n- vite-tsconfig-paths: tsconfig.json에 정의된 paths 매핑을 사용하기 위한 플러그인\n\n> 추가로 사내 프로젝트에 Jqeury가 있어서 @rollup/plugin-inject을 사용하고 있습니다. 이 플러그인은 코드 번들링 과정 중에 지정된 변수를 주입하여 코드를 변경하는 데 사용되고, jQuery를 $ 및 jQuery 변수로 주입하여 전역으로 사용할 수 있도록 해주고 있습니다. ~~제거해야되는데!!!!!!!~~\n\nCRA 에서 Vite로 플러그인과 함께 알아보니 지원되는 것이 많다는 것을 알게되었네요..ㅋㅋ\n\n<br>\n\n### index.html 수정 및 경로 변경\n\nvite는 개발모드에서 ESBuild를 사용하기 때문에 추가 번들링 없이 index.html 파일이 앱의 진입점이 되도록 변경했다. 그렇기 때문에 public 폴더에 위치해 있는 index.html 파일을 프로젝트 최상단에 위치하도록 이동시키고, Vite는 CRA와 다른 메커니즘으로 assets를 다루기 때문에 index.html 파일에 포함된 `%PUBLIC_URL%` 경로는 모두 지워준다. 그 후 파일의 `<body>` 를 아래와 같이 수정해주면 됩니다!\n\n```typescript\n<body>\n  <noscript>You need to enable JavaScript to run this app.</noscript>\n  <div id='root'></div>\n  <script type='module' src='/src/index.jsx'></script>\n</body>\n```\n\n<br>\n\n### config 수정\n\nvite.config.ts 와 tsconfig.json을 루트 디렉토리에 만들어주고 세부설정을 추가해주면 된다. 사내에서 사용하는 설정이여서 공개하기는 염려되기 때문에 몇가지 설정만 공유해볼려고 한다.\n\n- **vite.config.ts**\n  - 터미널 명령어로 script를 실행했을 때 변경 될 환경들을 defineConfig로 정의한다.(sentry, sourceMaps, version, branch)\n  - build에 연관 되어있는 react-router-dom과 assets 폴더의 chunkFile 생성에 관여한다.\n  - Module Alias를 설정해서 긴 경로에 별칭을 사용할 수 있도록 지정한다.\n- **tsconfig.json**\n\n```json\n{\n  \"compilerOptions\": {\n    \"experimentalDecorators\": true, //클래스 및 클래스 멤버에 메타데이터를 추가를 위한 실험적 데코레이터(decorator) 문법을 활성\n    \"target\": \"ESNext\", // TypeScript가 생성하는 JavaScript 코드의 ECMAScript 목표 버전을 지정하는데, 여기서는 \"ESNext\"를 지정하여 가장 최신의 ECMAScript 표준을 대상으로 컴파일하도록 설정되어 있다.\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"], // 컴파일러가 사용할 라이브러리를 지정하는데, 여기서는 DOM 및 ESNext와 함께 dom.iterable도 사용하고 이것은 컴파일러가 코드에서 사용되는 기능 및 API에 대한 정적 검사와 IntelliSense를 제공하기 위해서 사용한다.\n    \"types\": [\"vite/client\", \"vite-plugin-svgr/client\"], // 프로젝트에서 사용하는 타입 정의 파일을 지정하는데, 여기서는 Vite와 SVGR 관련 타입 정의 파일을 명시\n    \"baseUrl\": \"./src\", // 상대 모듈 참조 및 별칭을 해결할 기본 경로를 설정하는데, 여기서는 ./src 폴더를 기본 경로로 설정하고 있다.\n    \"allowJs\": true, // JavaScript 파일을 컴파일할 수 있도록 허용하는 옵션\n    \"skipLibCheck\": true, // 리이브러리 파일의 검사를 건너뛰도록 설정\n    \"esModuleInterop\": true, // ES 모듈을 CommonJS 모듈과 상호 운용할 수 있도록 설정\n    \"allowSyntheticDefaultImports\": true, // import 문에서 default를 사용할 수 있도록 허용\n    \"strict\": true, // 엄격한 타입 검사 옵션을 활성화\n    \"forceConsistentCasingInFileNames\": true, // 파일 이름의 일관된 대소문자를 강제하기 위해서 사용\n    \"noFallthroughCasesInSwitch\": true, // switch 문에서의 case 절에 대한 fall-through를 허용하지 않기 위해서 사용\n    \"module\": \"ESNext\", //  모듈 코드 생성 방식을 지정하는데, 여기서는 \"ESNext\"로 설정\n    \"moduleResolution\": \"node\", // 모듈 해결 방식을 설정하는데, 여기서는 \"node\"로 설정\n    \"resolveJsonModule\": true, // JSON 파일을 모듈로 불러올 수 있도록 설정\n    \"isolatedModules\": true, // 파일 간의 독립적인 컴파일을 활성화\n    \"noEmit\": true, // 컴파일 결과물을 생성하지 않도록 설정\n    \"noImplicitAny\": false,\n    \"noImplicitReturns\": false,\n    \"strictNullChecks\": false,\n    // noImplicitAny, noImplicitReturns, strictNullChecks은 TypeScript의 엄격한 타입 검사 관련 옵션들을 설정\n    \"jsx\": \"react-jsx\" // JSX 파일의 파싱 방법을 설정하는데, 여기서는 \"react-jsx\"로 설정되어 있으므로 React의 JSX 문법을 사용할 수 있음\n  },\n  \"include\": [\"src\"]\n}\n```\n\n<br>\n\n### 해치웠나..?\n\n![13.jpeg](13.jpeg)\n\n<br>\n\n이 정도면 얼추 CRA에서 Vite로 변경하는 데에 큰 문제는 없었다. 하지만 생각하지 못한 문제들이 너무 많았다. 라이브러리, node 버전(사내에서는 Back-End가 node.js 기반이어서 더 신경을 써야 됐는데...) 등등... 여러분들은 이런 실수없어서 순탄한 마이그레이션을 했으면 좋겠다!!\n\n참고로 위 과정에서 dependencies를 수정해줘야 되고, react-scripts 처럼 사용하지 않는 모듈을 삭제해 줘야 된다. 꼭 확인해서 불필요한 모듈을 지워주면 좋겠다!\n\n<br>\n\n## 그 다음은 어떤 것이 더 필요할까?\n\n우여곡절 끝에 마이그레이션에 성공했다! 과정은 짧아 보이지만... 엄청 시간이 오래 걸렸다. ~~잘 알아보지 않아서.. 특히 BE와.. 라이브러리 호환성.. 등등~~ 작업을 하고 나서 피드백을 해보았다 빌드시간이 평균 40% 정도 줄었고 모듈 해석 속도가 향상되고 HMR 덕분에 개발 생산성을 향상했다. 점차 플러그인 생태계가 Vite에 적합하게 발전함에 따라 프로젝트가 안정성을 찾지 않을까 하는 기대가 있다.\n\n이후에는 어떤 것을 다뤄야 될까? 라는 고민을 잠깐해보았는데 변화된 생태계에 맞추고 프로젝트 안정성을 높이기 위해서 테스트 작성과 캐싱, 프리픽싱 설정을 하고 여러가지 플러그인에 대해서 알아 볼 예정이다!\n\n<hr>\n\n## 출처 및 도움되는 링크들\n\n[Vite 공식 홈페이지](https://ko.vitejs.dev/guide/why.html)\n\n[번들러와 빌드 도구](https://www.heropy.dev/p/x8iedW)\n\n[Create React App 권장을 Vite로 대체하자는 PR 관련 글](https://junghan92.medium.com/%EB%B2%88%EC%97%AD-create-react-app-%EA%B6%8C%EC%9E%A5%EC%9D%84-vite%EB%A1%9C-%EB%8C%80%EC%B2%B4-pr-%EB%8C%80%ED%95%9C-dan-abramov%EC%9D%98-%EB%8B%B5%EB%B3%80-3050b5678ac8)\n\n[Webpack 과 HMR](https://rajaraodv.medium.com/webpack-hot-module-replacement-hmr-e756a726a07)\n\n[CRA 대신에 Vite를 쓰자는 React issue](https://github.com/reactjs/react.dev/pull/5487)\n\n```toc\n\n```\n",
      "html": "<h2 id=\"cracreate-react-app\"><a class=\"anchor\" href=\"#cracreate-react-app\">CRA(Create React App)</a></h2>\n<p><img src=\"/content/240304/1.svg\" alt=\"1.svg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>2016년 이전에는 Create React App(CRA)가 등장하기 전에 프론트엔드 개발 환경이 통합되어 있지 않아서, 기존 앱에 리액트를 추가하기 위해 npm에서 import한 후 기존 빌드 구성을 수정하는 번거로움이 있었다고 한다!</p>\n<p>여러 도구를 설치하고 JSX를 사용하기 위한 사전 설정을 진행하며, 개발과 프로덕션 환경을 다르게 구성해야 했다. 또한, 린트 설정 등 다양한 작업이 필요했는데, 이는 일반 사용자들에게는 쉽지 않은 작업이었을 것 같다. 시간이 지나 똑똑한 개발자들이 보일러플레이트 저장소를 만들어 공유하고 복제함으로써 시간을 단축할 수 있었지만, 업데이트가 어려워 빠르게 변화하는 생태계에 대응하는 것도 쉽지 않았을 것 같다.</p>\n<p>이러한 어려움을 해결하기 위해, <strong>CRA(Create React App)</strong> 가 등장하게 되었다. CRA를 사용하면 리액트 애플리케이션을 쉽게 생성하고 필요한 설정 작업을 자동화할 수 있다. 이를 통해 개발자들은 더욱 빠르고 효율적으로 프로젝트를 시작하고 관리할 수 있게 되었다. 사내에서도 React 프로젝트를 시작할 때 위와 같은 환경 세팅에 시간 소비를 방지하기 위해서 CRA를 통해 작업을 해왔고 2~3년이 지난 시기에 여러 가지 문제점이 발견되어 마이그레이션에 대한 생각을 조금씩 하게 되었다!</p>\n<h2 id=\"마이그레이션을-하기로-결심한-이유\"><a class=\"anchor\" href=\"#마이그레이션을-하기로-결심한-이유\">마이그레이션을 하기로 결심한 이유</a></h2>\n<p><img src=\"/content/240304/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>마이그레이션을 결정한 이유를 고려해보면, React 16 버전을 사용하는 사내 플랫폼이 사용에는 문제가 없지만 성능과 속도 측면에서는 효율성이 많이 떨어져 개선할 부분이 필요하다는 것을 느끼게 되었다!</p>\n<p>성능과 속도를 개선하는 방법은 다양하다. 우선, 빌드 도구를 변경하여 더 효율적인 빌드를 수행할 수 있고, 프로젝트의 의존성을 최적화하여 번들 크기를 줄이고 불필요한 모듈을 삭제할 수도 있다. 더 나아가, 코드 스플릿팅을 통해 로딩 시간을 최소화하거나 프로젝트의 구조를 변경하여 성능을 향상시킬 수도 있다.</p>\n<p>이러한 다양한 방법들 중에서 마이그레이션을 통해 Vite로 전환하는 것이 선택된 이유는 무엇일까? 아마도 Vite가 제공하는 빠른 개발 서버와 빌드 속도, ES 모듈 사용 등의 장점이 React 애플리케이션의 성능 및 속도 개선에 큰 도움이 될 것이라고 생각했기 때문이다! 또한, Vite의 확장성과 다양한 프레임워크 지원은 향후 프로젝트 유지보수 및 확장성에도 긍정적인 영향을 줄 것으로 예상된다.</p>\n<p>지금부터 마이그레이션을 진행하기 위해 여러 가지 고민에 대해서 같이한 번 살펴보자!</p>\n<h2 id=\"️-잠깐-번들러가-뭐야\"><a class=\"anchor\" href=\"#️-잠깐-번들러가-뭐야\">🙋🏻‍♂️ 잠깐! 번들러가 뭐야!?</a></h2>\n<p><img src=\"/content/240304/7.png\" alt=\"7.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>브라우저 모듈 시스템(Module system)이 아직 표준화되지 않았던 시기에는, 여러 자바스크립트 파일을 단순하게 HTML <code>&#x3C;script></code> 태그로 연결하는 방식을 사용했는데, 이러한 방식은 전역 오염이나 의존성 관리가 어려워지는\n등의 여러 문제가 있었다. 그래서 CommonJS, AMD, UMD 등의 모듈 시스템이 등장했고, 이러한 모듈 시스템을 효율적으로 브라우저에서 사용하기 위해 번들러가 등장했다.</p>\n<p><strong>번들러(Bundler)</strong> 는 웹 애플리케이션을 개발하기 위해 필요한 HTML, CSS, JS 등의 파편화된(모듈화된) 자원들을 모아서, 하나 혹은 최적의 소수 파일로 결합(번들링)하는 도구다. 그리고 결합을 위해 프로젝트를 해석하는 과정에서, 불필요한 주석이나 공백 제거, 난독화, 파일 압축 등의 기본적인 작업뿐만 아니라, 최신 문법이나 기타 개발에 편리한 특수 기능 등을 브라우저가 지원하는 형태로 변환하는 작업도 수행할 수 있도록 확장되어 개발자의 작업 효율성을 높이고 브라우저의 호환성이나 성능 등을 개선하는데 크게 도움을 주고있다!</p>\n<h2 id=\"여러가지-빌드도구를-비교해보자\"><a class=\"anchor\" href=\"#여러가지-빌드도구를-비교해보자\">여러가지 빌드도구를 비교해보자</a></h2>\n<p>빌드 도구가 속도 개선에 직접적 영향을 준다고 생각해 여러가지 빌드 도구를 속도, 번들 최적화 ,확장성, 커뮤니티와 같은 요소들을 생각해 비교해보자!</p>\n<h3 id=\"esbuild\"><a class=\"anchor\" href=\"#esbuild\">ESBuild</a></h3>\n<p><img src=\"/content/240304/3.svg\" alt=\"3.svg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>ESBuild는 피그마의 CTO인 Evan Wallace가 개발한 빌드 도구로, 기존의 노드 기반 번들러보다 10~100배 더 빠른 빌드 속도를 제공한다. Go 언어를 이용하여 동시성을 지원하므로 멀티 코어 처리를 효율적으로 수행도 가능하다. 또한, 번들링, 경량화, 코드 변환 등 다양한 빌드 작업을 하나의 단계에서 처리하여 프로세스를 간소화했다.</p>\n<p>그러나 ESBuild는 CRA에서 제공되는 편의성이 부족하다. 따라서 esbuild 관련 스타터들이 많이 나오고 있는데, 이는 사용자들이 esbuild의 빠른 속도와 효율성을 살리면서도 CRA의 편의성을 일부 보충하기 위한 것이라 생각한다!</p>\n<p>또한, ESBuild는 용량이 상대적으로 작고 번들러에 대한 학습 곡선이 높은 것 같다. ~~(문서를 읽어보아도 너무 어렵다..)~~ 또한, 아직은 정식 버전이 출시되지 않아 안정성 면에서 위험성을 가지고 있다고 생각한다. 또한 PostCSS와 같은 후처리기와 es5 이하의 문법에 대한 완벽한 지원이 되지 않는 등의 문제도 짚고 넘어가야할 문제라고 생각한다!</p>\n<p>따라서 ESBuild를 사용할 때에는 번들러 설정에 대한 이해와 경험이 필요하며, 현재의 한계와 위험 요소를 고려하여 적절한 상황에서 사용하는 것이 중요하다고 보인다. 이러한 요소때문에 서비스가 진행중인 플랫폼에 ESBuild를 적용시키는 것은 적합하지 않다고 판단했다!</p>\n<h3 id=\"webpack\"><a class=\"anchor\" href=\"#webpack\">Webpack</a></h3>\n<p>webpack은 SPA(Single Page Application)가 급부상함에 따라 번들을 통합해서 관리해야 한다는 고민으로 출발하게 되었다. 이를 통해 webpack은 SPA 프로젝트의 구축과 관리를 간편하게 만들어주었다.</p>\n<ul>\n<li>하나의 설정 파일 내에서 원하는 번들을 생성할 수 있도록 컨트롤할 수 있고, entry와 output을 명시하고 필요한 <strong>plugin과 loader</strong>를 설정함으로써 간편하게 프로젝트를 구성할 수 있다</li>\n<li>다양한 plugin과 loader를 지원하며, 이를 통해 강력한 <strong>개발 커뮤니티의가 활성화</strong>되어있다. 이를 활용하여 다양한 파일 형식(css, image, font 등)을 변환하고 번들링할 수 있다.</li>\n<li>소스코드의 변화를 감지하여 브라우저를 자동으로 새로고침해주는 <strong>Hot Module Replacement(HMR)를 제공</strong>해서, 실시간으로 변화를 확인할 수 있으며, 다양한 파일의 변화도 감지할 수 있다.</li>\n<li>코드 분할을 통해 여러 번들 파일로 분리하여 병렬로 스크립트를 로드하여 <strong>페이지 로딩 속도를 개선</strong>할 수 있다. 또한, 초기에 구동될 필요가 없는 코드를 분리하여 lazy loading을 통해 페이지 초기 로딩 속도를 개선할 수도 있다.</li>\n</ul>\n<p>팀에서도 webpack을 사용하는 의견에 호의적이였다. 하지만 webpack을 사용하다보면 빌드 시간이 증가하고 복잡한 설정에 대한 학습 곡선이 존재한다는 문제점이 있다는 부분이랑 특히 프로젝트 규모가 커지고 loader와 plugin의 사용이 증가할수록 이러한 문제점이 더욱 부각될 수 있다는 점에서 고민을 하게 되었다.</p>\n<h3 id=\"rollup\"><a class=\"anchor\" href=\"#rollup\">Rollup</a></h3>\n<p>Rollup은 2017년부터 개발이 시작된 모듈 번들러로, webpack의 인기에 가려져 있었지만 확장성이 높아 차세대 번들러로 주목받았다.</p>\n<blockquote>\n<p>\"compiles small pieces of code into something larger and more complex, such as a library or application\"</p>\n</blockquote>\n<p>Rollup은 작은 코드 조각들을 거대하고 복잡한 어플리케이션 혹은 라이브러리로 만들어 주는데, 이는 같은 소스 코드를 환경에 따라 다르게 빌드하는 것을 의미한다. Rollup을 사용할 때 \"어플리케이션을 만들 땐 webpack으로, 라이브러리를 만들 땐 rollup으로!\" 라는 문구를 자주 보이는데 라이브러리 빌드 쪽에서는 강한 자신감이..보인다 ㅋㅋㅋㅋ</p>\n<p>Rollup의 사용 및 구성 방식은 webpack과 유사하지만 내부적으로 사용하는 도구들이 많이 다르다. 특히 라이브러리 개발 시에는 ES6 모듈 형태로 빌드하는 것이 중요한데, Rollup은 ES6 모듈 형태로 빌드할 수 있어 매우 유용하다. 이를 통해 라이브러리 사용자는 최적화된 애플리케이션을 더욱 쉽게 만들 수 있다. 또한, Rollup은 모듈을 호이스팅하여 한 번에 평가하기에 webpack보다 더 빠르며, AST 트리에 사용되는 모듈만 포함시켜 불필요한 코드를 제거하는 방식을 사용하여 더 가벼운 번들을 생성하는데, 이러한 특징들은 Rollup을 라이브러리 개발에 적합한 도구로 만들어 준다.</p>\n<p>Rollup에 대한 이야기를 해보았는데 Vite 내부에서 Rollup 번들러를 사용하고 있다! 자세한 것은 Vite에서 다시 확인해보자~!</p>\n<h3 id=\"parcel\"><a class=\"anchor\" href=\"#parcel\">Parcel</a></h3>\n<p><img src=\"/content/240304/9.png\" alt=\"9.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Parcel은 Webpack과 달리 별도의 구성 파일 없이 간단하게 사용할 수 있는 번들러로, 최소한의 구성(Zero config)을 지향한다. 주로 사용하는 기능이나 필요한 기능을 자동으로 설치하고 처리하기 때문에 쉽고 빠르게 프로젝트를 구성할 수 있다. Parcel 번들러를 통해, 작은 규모의 프로젝트를 빠르게 시작하기 좋은 것 같다.</p>\n<p>하지만, 사내의 프로젝트의 규모가 커서 파이프라인과 다른 요구사항에 유연하게 대응하지 못할 수 있고, 성능적으로 번들링 속도가 메모리에 영향을 줄 수 있다고 생각이 들어서 직접적으로 도입하지 않기로 결정했다!</p>\n<h2 id=\"최종적으로-vite를-선택한-이유\"><a class=\"anchor\" href=\"#최종적으로-vite를-선택한-이유\">최종적으로 Vite를 선택한 이유</a></h2>\n<p><img src=\"/content/240304/5.png\" alt=\"5.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Vite는 ESBuild의 단점을 보완한 라이브러리로, 개발 서버 구동 시간이 거의 0에 가깝고, 모든 CommonJS 및 UMD 파일을 ESM으로 불러올 수 있도록 변환하고, 다양한 리소스를 별도의 설정 없이 import할 수 있으며, CSS 빌드 최적화를 하고, Direct Import 구문에 대해 Preload 하도록 함으로써 네트워크 비용을 줄일 수 있다. Vite의 장점에 대해서 살펴보도록 하자!</p>\n<h3 id=\"서버-구동\"><a class=\"anchor\" href=\"#서버-구동\">서버 구동</a></h3>\n<p>Vite의 가장 큰 특징이라고 한다면 Dev Server에서 Native ESM을 사용하여 소스를 제공한다는 점이다. ESM (EcmaScript Modules)이란 ES6에서 도입되었으며, import/export를 사용하여 모듈을 동적으로 로드할 수 있는 모듈 시스템이다.</p>\n<p>Webpack과 같은 기존의 번들 기반 방식에서는 모든 소스코드가 빌드되어서 한번에 번들링된 형태로 서비스를 제공했다면, Native ESM 기반 방식의 Vite에서는 그럴 필요가 없다. 번들링이 필요가 없고 브라우저에서 필요한 모듈의 소소코드를 import할때 이것을 전달만 하면 되는 방식이다.</p>\n<p><img src=\"/content/240304/10.jpeg\" alt=\"10.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>이것은 결국 현대 대부분의 브라우저에서 ESM일 지원하기에 가능한 것이다. ESM이 나오기 전에는 자바스크립트 언어레벨에서 지원하는 모듈시스템이 없었기 때문에 번들링이 필요했던 것이고, 지금은 자바스크립트 언어레벨에서 모듈시스템이 들어가 있고 거의 모든 브라우저에서 이것을 지원을 하기 때문에 Vite에서는 ESM을 기반으로 만들 수 있게 된 것이다.</p>\n<ul>\n<li>\n<p>Dependencies: 개발 시 그 내용이 바뀌지 않을 일반적인 JavaScript 소스 코드다. 기존 번들러로는 컴포넌트 라이브러리와 같이 몇 백 개의 JavaScript 모듈을 갖고 있는 매우 큰 디펜던시에 대한 번들링 과정이 매우 비효율적이었고 많은 시간을 필요로 했다. Vite의 <strong>사전 번들링 기능은 Esbuild를 사용</strong>하고 있다.</p>\n</li>\n<li>\n<p>Source code: JSX, CSS 또는 Vue/Svelte 컴포넌트와 같이 컴파일링이 필요하다.</p>\n</li>\n</ul>\n<p>결과적으로 프로젝트 규모가 커지면 Dev Server 구동 속도가 매우 느려서 기다리는 시간이 길어지고 지루해진다. 하지만 Vite에서는 Dev Server로 서버구동과 HMR 속도가 엄청 빨라진 것을 확인해볼 수 있다. 이러한 이유만으로도 Vite로 넘어가는데 충분한 이유라고 생각한다!</p>\n<h3 id=\"hmr-hot-module-replacement\"><a class=\"anchor\" href=\"#hmr-hot-module-replacement\">HMR (Hot Module Replacement)</a></h3>\n<p><img src=\"/content/240304/11.webp\" alt=\"11.webp\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Vite도 당연히 HMR 기능을 지원한다. 개발하면서 소스코드를 수정하면 vite는 수정된 모듈과 관련된 부분만 교체하고 브라우저에 전달한다. Native ESM을 이용하기 때문에 프로젝트 사이즈가 크더라도 HMR 시간에 영향을 주지 않아서 매우 빠르게 진행이 된다. 프론트 개발을 하다보면 HMR 기능을 정말 많이 사용할 수 밖에 없다. 보통 프론트 개발작업을 할때 소스코드 에디터, Dev Server, 브라우저 이렇게 3개는 기본적으로 열어놓고 작업을 하는데 소스코드를 수정하면 Dev Server에서 HMR이 일어나고 브라우저에서 변경된 내용을 확인한다. 그래서 Dev Server 구동보다도 훨씬 더 자주 사용하는 기능이 HMR이다. 그래서 HMR 속도가 정말 중요하다고 말할 수 밖에 없다.</p>\n<p>또한 vite는 HTTP 헤더를 활용하여 전체 페이지의 로드 속도를 높인다. 필요에 따라 소스 코드는 <code>304 Not Modified</code>로, 디펜던시는 <code>Cache-Control: max-age=31536000,immutable</code>을 이용해 캐시가 되고, 이렇게 함으로써 요청 횟수를 최소화하여 페이지 로딩을 빠르게 만들어 준다.</p>\n<h2 id=\"마이그레이션-할-때-유의-사항-및-과정\"><a class=\"anchor\" href=\"#마이그레이션-할-때-유의-사항-및-과정\">마이그레이션 할 때 유의 사항 및 과정!</a></h2>\n<p>CRA을 통해 부트스트래핑된 React 어플리케이션의 경우 번들링을 위해 기본 제공되는 react-scripts을 사용하는데, 이 react-scripts 라이브러리는 쉽고 간편하지만, 라이브러리 내부에서 사용되는 Webpack 번들러가 느리고 무거운 편이다.\n저희 플랫폼에서는 Webpack에 크게 의존성을 가지고 있지 않았기 때문에 굳이 Webpack(즉, react-scripts)을 고집해야 할 이유가 없어 보여서 Vite로 번들러 수정 작업을 진행했는데 혹시나 Webpack 의존도가 높은 경우는 고려해봐야 할 것 같습니다!</p>\n<p>Vite를 사용하기 위해서 CRA와의 차이점에 대해서 찾아보았는데 환경과 문법에서 차이가 있다. process.env, EJS 템플릿 문법 지원, 다양한 플러그인, 폴더와 파일의 위치 등등 이었습니다. 마이그레이션하면서 다뤄본 큰 변경점들에 대해서 간략하게 기록해보겠습니다~</p>\n<blockquote>\n<p>🤔 저는 문제가 없어서 기록해두지 않았습니다만, Node,Vite 버전 호환성과 디렉터리 구조등을 생각해봐야 됩니다! 호환성은 각자의 환경에 따라 다르니 참고용으로만 봐주세요~!</p>\n</blockquote>\n<h3 id=\"processenv-호환성\"><a class=\"anchor\" href=\"#processenv-호환성\">process.env 호환성</a></h3>\n<p>Vite는 import.meta.env 객체를 이용해 환경 변수에 접근할 수 있고, 이러한 환경 변수는 <code>VITE_SOME_KEY=123</code>처럼 VITE_라는 접두사를 붙여 선언해야 된다.</p>\n<blockquote>\n<p>🚨 사내에서 Cypress로 테스트 코드를 작성하는데 import.meta.env를 통한 환경 변수 접근이 잘 작동하지 않는 이슈가 있어서, process.env를 통해서도 환경 변수를 참조할 수 있도록 호환성을 추가하는 작업을 진행했습니다. 관련한 정보는 <a href=\"https://github.com/vitejs/vite/issues/1149#issuecomment-857686209\">Vite Issue</a> 확인해보시면 좋을 것 같습니다.</p>\n</blockquote>\n<h3 id=\"ejs-템플릿-문법을-위한-플러그인-추가-및-변경\"><a class=\"anchor\" href=\"#ejs-템플릿-문법을-위한-플러그인-추가-및-변경\">EJS 템플릿 문법을 위한 플러그인 추가 및 변경</a></h3>\n<p>CRA에서는 기본적으로 <a href=\"https://ccusean.tistory.com/entry/Express-%ED%85%9C%ED%94%8C%EB%A6%BF-%EC%97%94%EC%A7%84-ejs-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0\">EJS 템플릿 문법</a>을 지원하는 반면, Vite에서는 EJS 플러그인을 추가해주어야 템플릿 문법을 사용할 수 있습니다. 이를 위해 vite-plugin-ejs 패키지를 설치하고, 다음과 같이 플러그인을 적용해두었습니다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">plugins</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: [</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      ViteEjsPlugin</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">        // 여기에는 사용하고자 하는 변수를 선언해주면 됩니다. 예컨대,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        exampleVar: </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">meta</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.env?.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">VITE_EXAMPLE_VAR</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ||</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      }),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    ],</span></span></code></pre></figure>\n<p>그리고 Vite에서 지원하지 않는 기능을 사용하기 위해서 플러그인을 추가했습니다. (23.06.02에는 적용이 안되었는데 지금은 적용이 될 수 있습니다.)</p>\n<ul>\n<li>vite-plugin-svgr: SVG 그래픽을 리액트 컴포넌트처럼 사용하기 위한 플러그인</li>\n<li>vite-plugin-eslint: ESLint와 관련된 오류를 알려주는 플러그인</li>\n<li>vite-tsconfig-paths: tsconfig.json에 정의된 paths 매핑을 사용하기 위한 플러그인</li>\n</ul>\n<blockquote>\n<p>추가로 사내 프로젝트에 Jqeury가 있어서 @rollup/plugin-inject을 사용하고 있습니다. 이 플러그인은 코드 번들링 과정 중에 지정된 변수를 주입하여 코드를 변경하는 데 사용되고, jQuery를 $ 및 jQuery 변수로 주입하여 전역으로 사용할 수 있도록 해주고 있습니다. ~~제거해야되는데!!!!!!!~~</p>\n</blockquote>\n<p>CRA 에서 Vite로 플러그인과 함께 알아보니 지원되는 것이 많다는 것을 알게되었네요..ㅋㅋ</p>\n<h3 id=\"indexhtml-수정-및-경로-변경\"><a class=\"anchor\" href=\"#indexhtml-수정-및-경로-변경\">index.html 수정 및 경로 변경</a></h3>\n<p>vite는 개발모드에서 ESBuild를 사용하기 때문에 추가 번들링 없이 index.html 파일이 앱의 진입점이 되도록 변경했다. 그렇기 때문에 public 폴더에 위치해 있는 index.html 파일을 프로젝트 최상단에 위치하도록 이동시키고, Vite는 CRA와 다른 메커니즘으로 assets를 다루기 때문에 index.html 파일에 포함된 <code>%PUBLIC_URL%</code> 경로는 모두 지워준다. 그 후 파일의 <code>&#x3C;body></code> 를 아래와 같이 수정해주면 됩니다!</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">body</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">noscript</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>You need to enable JavaScript to run </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> app.</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">noscript</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">div id</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'root'</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;/</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">script type</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'module'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> src</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'/src/index.jsx'</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;/</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">script</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">body</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span></code></pre></figure>\n<h3 id=\"config-수정\"><a class=\"anchor\" href=\"#config-수정\">config 수정</a></h3>\n<p>vite.config.ts 와 tsconfig.json을 루트 디렉토리에 만들어주고 세부설정을 추가해주면 된다. 사내에서 사용하는 설정이여서 공개하기는 염려되기 때문에 몇가지 설정만 공유해볼려고 한다.</p>\n<ul>\n<li><strong>vite.config.ts</strong>\n<ul>\n<li>터미널 명령어로 script를 실행했을 때 변경 될 환경들을 defineConfig로 정의한다.(sentry, sourceMaps, version, branch)</li>\n<li>build에 연관 되어있는 react-router-dom과 assets 폴더의 chunkFile 생성에 관여한다.</li>\n<li>Module Alias를 설정해서 긴 경로에 별칭을 사용할 수 있도록 지정한다.</li>\n</ul>\n</li>\n<li><strong>tsconfig.json</strong></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"compilerOptions\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"experimentalDecorators\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//클래스 및 클래스 멤버에 메타데이터를 추가를 위한 실험적 데코레이터(decorator) 문법을 활성</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"target\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"ESNext\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// TypeScript가 생성하는 JavaScript 코드의 ECMAScript 목표 버전을 지정하는데, 여기서는 \"ESNext\"를 지정하여 가장 최신의 ECMAScript 표준을 대상으로 컴파일하도록 설정되어 있다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"lib\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"dom\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"dom.iterable\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"esnext\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">], </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 컴파일러가 사용할 라이브러리를 지정하는데, 여기서는 DOM 및 ESNext와 함께 dom.iterable도 사용하고 이것은 컴파일러가 코드에서 사용되는 기능 및 API에 대한 정적 검사와 IntelliSense를 제공하기 위해서 사용한다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"types\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"vite/client\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"vite-plugin-svgr/client\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">], </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 프로젝트에서 사용하는 타입 정의 파일을 지정하는데, 여기서는 Vite와 SVGR 관련 타입 정의 파일을 명시</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"baseUrl\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"./src\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 상대 모듈 참조 및 별칭을 해결할 기본 경로를 설정하는데, 여기서는 ./src 폴더를 기본 경로로 설정하고 있다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"allowJs\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// JavaScript 파일을 컴파일할 수 있도록 허용하는 옵션</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"skipLibCheck\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 리이브러리 파일의 검사를 건너뛰도록 설정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"esModuleInterop\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// ES 모듈을 CommonJS 모듈과 상호 운용할 수 있도록 설정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"allowSyntheticDefaultImports\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// import 문에서 default를 사용할 수 있도록 허용</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"strict\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 엄격한 타입 검사 옵션을 활성화</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"forceConsistentCasingInFileNames\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 파일 이름의 일관된 대소문자를 강제하기 위해서 사용</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"noFallthroughCasesInSwitch\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// switch 문에서의 case 절에 대한 fall-through를 허용하지 않기 위해서 사용</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"module\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"ESNext\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//  모듈 코드 생성 방식을 지정하는데, 여기서는 \"ESNext\"로 설정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"moduleResolution\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"node\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 모듈 해결 방식을 설정하는데, 여기서는 \"node\"로 설정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"resolveJsonModule\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// JSON 파일을 모듈로 불러올 수 있도록 설정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"isolatedModules\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 파일 간의 독립적인 컴파일을 활성화</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"noEmit\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 컴파일 결과물을 생성하지 않도록 설정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"noImplicitAny\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"noImplicitReturns\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"strictNullChecks\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // noImplicitAny, noImplicitReturns, strictNullChecks은 TypeScript의 엄격한 타입 검사 관련 옵션들을 설정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"jsx\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"react-jsx\"</span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\"> // JSX 파일의 파싱 방법을 설정하는데, 여기서는 \"react-jsx\"로 설정되어 있으므로 React의 JSX 문법을 사용할 수 있음</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"include\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"src\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h3 id=\"해치웠나\"><a class=\"anchor\" href=\"#해치웠나\">해치웠나..?</a></h3>\n<p><img src=\"/content/240304/13.jpeg\" alt=\"13.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>이 정도면 얼추 CRA에서 Vite로 변경하는 데에 큰 문제는 없었다. 하지만 생각하지 못한 문제들이 너무 많았다. 라이브러리, node 버전(사내에서는 Back-End가 node.js 기반이어서 더 신경을 써야 됐는데...) 등등... 여러분들은 이런 실수없어서 순탄한 마이그레이션을 했으면 좋겠다!!</p>\n<p>참고로 위 과정에서 dependencies를 수정해줘야 되고, react-scripts 처럼 사용하지 않는 모듈을 삭제해 줘야 된다. 꼭 확인해서 불필요한 모듈을 지워주면 좋겠다!</p>\n<h2 id=\"그-다음은-어떤-것이-더-필요할까\"><a class=\"anchor\" href=\"#그-다음은-어떤-것이-더-필요할까\">그 다음은 어떤 것이 더 필요할까?</a></h2>\n<p>우여곡절 끝에 마이그레이션에 성공했다! 과정은 짧아 보이지만... 엄청 시간이 오래 걸렸다. ~~잘 알아보지 않아서.. 특히 BE와.. 라이브러리 호환성.. 등등~~ 작업을 하고 나서 피드백을 해보았다 빌드시간이 평균 40% 정도 줄었고 모듈 해석 속도가 향상되고 HMR 덕분에 개발 생산성을 향상했다. 점차 플러그인 생태계가 Vite에 적합하게 발전함에 따라 프로젝트가 안정성을 찾지 않을까 하는 기대가 있다.</p>\n<p>이후에는 어떤 것을 다뤄야 될까? 라는 고민을 잠깐해보았는데 변화된 생태계에 맞추고 프로젝트 안정성을 높이기 위해서 테스트 작성과 캐싱, 프리픽싱 설정을 하고 여러가지 플러그인에 대해서 알아 볼 예정이다!</p>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<p><a href=\"https://ko.vitejs.dev/guide/why.html\">Vite 공식 홈페이지</a></p>\n<p><a href=\"https://www.heropy.dev/p/x8iedW\">번들러와 빌드 도구</a></p>\n<p><a href=\"https://junghan92.medium.com/%EB%B2%88%EC%97%AD-create-react-app-%EA%B6%8C%EC%9E%A5%EC%9D%84-vite%EB%A1%9C-%EB%8C%80%EC%B2%B4-pr-%EB%8C%80%ED%95%9C-dan-abramov%EC%9D%98-%EB%8B%B5%EB%B3%80-3050b5678ac8\">Create React App 권장을 Vite로 대체하자는 PR 관련 글</a></p>\n<p><a href=\"https://rajaraodv.medium.com/webpack-hot-module-replacement-hmr-e756a726a07\">Webpack 과 HMR</a></p>\n<p><a href=\"https://github.com/reactjs/react.dev/pull/5487\">CRA 대신에 Vite를 쓰자는 React issue</a></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240304/index.md",
    "_raw": {
      "sourceFilePath": "240304/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240304",
      "contentType": "markdown",
      "flattenedPath": "240304"
    },
    "type": "Post",
    "slug": "/240304",
    "categoryArray": [
      "프론트엔드",
      "React"
    ],
    "readingTime": "32 min read",
    "excerpt": "CRA(Create React App) 2016년 이전에는 Create React App(CRA)가 등장하기 전에 프론트엔드 개발 환경이 통합되어 있지 않아서, 기존 앱에 리액트를 추가하기 위해 npm에서 import한 후 기존 빌드 구성을 수정하는 번거로움이 있었다고 한다! 여러 도구를 설치하고 JSX를 사용하기 위한 사전 설정을 진행하며, 개발과 프로덕..."
  },
  {
    "title": "👉 클릭해봐! 너도 브라우저 렌더링에 100점짜리 대답을 할 수 있어!!",
    "date": "2024-03-29T00:00:00.000Z",
    "categories": "프론트엔드",
    "body": {
      "raw": "\nWeb에 대해 공부하면서 **렌더링이 무엇이고 어떻게 작동되는가?** 에 대한 궁금증을 가지지 못했다. 취업을 해야된다는 막연한 생각때문에 과정없이 면접에 자주나오는 키워드만 암기했다.\n\nCS에 기초지식이 없으니 누군가에게 대답하는 형식으로 달달 외우기만 했다. 조금만 응용되어도 이론이 복잡하게 꼬여 버렸다. 그래서 **언젠가는 이런 정리 안 된 내 지식을 정리해야지🔥🔥** 라는 계획을 하다 이번에 렌더링이라는 키워드를 연관성에 맞춰서 상세하게 기록해보려고 한다.\n\n작은 소망이라면 렌더링, 브라우저, DOM 등 다양한 키워드에 대해 궁금할 때 나의 글이 생각나고 흐름을 파악하면 좋겠다.\n\n![1.jpeg](1.jpeg)\n\n웹 렌더링이라는 주제를 정한 후 **어떠한 순서로 웹 렌더링에 대해서 글을 써야 할까?** 에 대해 많은 고민을 하였다. 이론적인 단계로 쓸 수 있고, 중요한 순서대로도 쓸 수 있다. 하지만 내가 선택한 방법은 내가 공부하면서 느꼈던 키워드의 연관성을 흐름에 맞춰서 기록해보려 한다.\n\n예를들어! 🍎 사과에 대해서 글을 쓰고 싶을때 **사과는 이름이 왜 사과고 => 어떠한 특성이 있고 => 그래서 어떠하다** 라는 흐름으로 사과를 알아보는 것이 아닌, **사과는 뭘까? => 사과는 과일이구나, 뭘 과일이라고 하지? => 과일은 또 어떤 게 있을까?** 이런 식으로 질문에 꼬리에 꼬리를 무는 방식(꼬꼬무)으로 글을 작성할 예정이다!!\n\n서론이 너무 길었다!! 자칫하면 너무 어렵고, 진부 할 수 있는 내용이지만 누군가에게 필요할 것이라 생각해 자세히 설명해보려고 한다. 만약 필요한 내용만 찾고싶으면 `목차`, `command + f` , `ctrl+f` 를 적극적으로 사용해서 필요한 내용을 알차게 찾아가면 좋겠다!!\n\n<br>\n\n## 중요하게 알아야 될 키워드\n\n<br>\n\n### 파싱과 렌더링\n\n**파싱**은 HTML 파일을 해석하여 DOM(Document Object Model) Tree를 구성하는 단계를 말하고, **렌더링**이란 HTML, CSS, JS로 작성된 문서를 파싱하여 브라우저에 사용자가 눈으로 볼 수 있도록 시각적으로 출력하는 것을 말한다.\n\n<br>\n\n### 요청과 응답\n\n![3.png](3.png)\n\n브라우저에 URL을 입력하면 URL에 적힌 값을 파싱하고 HTTP 요청 메시지를 만들어 웹 서버로 전송한다. 브라우저는 메시지를 네트워크에 직접 송출할 수 없기때문에 OS에 의뢰해서 메시지를 전달한다. OS에 송신을 의뢰하기 위해서는, IP 주소로 메시지를 받을 상대를 지정해야되기 때문에, DNS(Domain Name Server)를 조회해야 한다.\n\n이후, 브라우저가 요청한 메시지가 웹서버 측 LAN에 도착하면 방화벽이 검사를 하는데, 캐시서버를 통해 웹서버까지 가야하는 지 아닌지 조사한다. 페이지의 데이터 중 다시 이용할 수 있는 것은 캐시 서버에 저장되고 액세스한 페이지의 데이터가 캐시서버에 있으면 웹서버에 의뢰하지 않고 바로 값을 읽을 수 있다.\n\n웹서버에 도착하면 패킷에 담긴 메시지를 복원해서 WAS에 넘기고, WAS은 요청 메시지에 따른 데이터를 응답 메시지에 넣어 클라이언트로 다시 보낸다. 웹 브라우저는 역으로 웹 서버로부터 HTTP를 따라 데이터를 전송받고, 렌더링 엔진을 사용해 이를 텍스트 및 이미지 등으로 변환한다. 브라우저는 최종 화면을 사용자에게 표시하는 역할을 한다.\n\n한마디로 브라우저를 열고 URL을 입력하는 순간부터 **HTTP 요청(Request)이** 시작되고, 브라우저는 사용자가 입력한 URL주소에 해당하는 목적지(웹서버)에 도착해서 데이터를 요청하고, 그 **목적지(웹서버)에서 응답한 데이터를 응답 받아서(Response)** 화면에 보여주게 된다.\n\n## 브라우저 렌더링 과정\n\n![2.png](2.png)\n\n우리는 왜 브라우저 렌더링 과정의 원리를 알아야할까??\n\nC언어, JAVA와 같은 프로그래밍 언어는 OS나 가상머신 위에서 실행된다. 물론 자바스크립트도 런타임 환경에서 사용하게 되면 이야기가 다르겠지만 프론트엔드 개발자의 관점에서는 웹 브라우저에서 실행된다. 웹 브라우저를 다루는 프론트엔드 입장에서는 어느 시점에서 어떻게 렌더링이 되는지 파악하고 있어야 효율적인 코드를 작성할 수 있고, 수정할 수 있다.\n\n브라우저가 렌더링을 하게 되면 **DOM(The Document Object Model)** 을 만들어내는데 만들어지는 과정에 대해 알아보자.\n\n> **🙋🏻‍♂️ 잠깐! DOM은 무엇일까?**\n>\n> 문서의 구조화된 표현을 제공하며 프로그래밍 언어가 DOM 구조에 접근할 수 있는 방법을 제공하여 그들이 문서 구조, 스타일, 내용 등을 변경할 수 있게 돕는다.\n>\n> nodes와 objects로 문서를 표현하는데 이들은 웹 페이지를 스크립트 또는 프로그래밍 언어들에서 사용될 수 있게 연결시켜주는 역할을 담당한다.\n\n<br>\n\n### HTML 파싱\n\nHTML 파싱은 웹 브라우저가 서버에서 받은 HTML 문서를 문자열로 받아들이고, 이를 파싱하여 이해 가능한 구조로 변환하는 과정을 의미하는데 브라우저는 HTML 문서를 위에서 아래로 읽으며, 태그와 내용을 파악하고 각 요소의 의미와 관계를 이해한다.\n\n> ⚠️ 파싱(Parsing)은 컴퓨터 과학 및 프로그래밍에서 특정 형식으로 구성된 데이터를 분석하고 그 의미를 이해하는 과정을 의미한다. 그 중에서 HTML 파싱에 대해서 설명한 것 뿐이니 [👉 여기서](http://wiki.hash.kr/index.php/%ED%8C%8C%EC%8B%B1)에서 자세한 내용을 찾아보는 것을 권장한다\n\n이 과정에서 오류가 발생할 경우 브라우저는 오류 복구 기능을 사용하여 최대한 문제를 해결하고, 유효한 HTML 문서 구조를 만든다. 결과적으로 **HTML 문서를 기반으로 브라우저가 메모리 상에 DOM 트리를 구축하는 번역하는 과정(DOM 생성 과정)이 필요하다**\n\n<br>\n\n### DOM 생성 과정\n\n![4.png](4.png)\n\n1. 서버는 브라우저가 요청한 HTML 파일을 읽어 들여 메모리에 저장한 다음, 메모리에 저장된 **바이트(2진수)로** 응답한다.\n2. 브라우저는 응답받은 바이트 형태의 HTML 문서를 **meta태그의 charset 어트리뷰트로 지정해 둔 인코딩 방식(ex. UTF-8)을 기준으로 문자열로** 변환한다.\n3. 문자열로 변환된 HTML 문서를 읽어 들여 문법적으로 더 이상 나눌 수 없는 기본적인 언어 요소인 **토큰(token)들로** 분해한다.\n4. 각 토큰들을 객체로 변환하여 컴퓨터 과학에 쓰이는 기초적인 단위인 **노드(node)를** 생성한다. **노드는 이후 DOM을 구성하는 기본 요소**가 된다.\n5. 이러한 노드들은 body 태그 안에 div를 넣고 그 안에 또 p를 넣듯이 중첩될 수 있는데, 이러한 중첩 관계에 의해 부자관계가 형성된다. 부자관계를 반영하여 모든 노드들을 **트리 자료구조로** 구성한다.\n\n<br>\n\n### CSS파싱과 CSSOM(CSS Object Model) 생성\n\n![5.png](5.png)\n\n렌더링 엔진은 처음부터 한 줄씩 순차적으로 파싱하며 DOM을 생성하는데, 중간에 CSS를 로드하는 link나 style 태그를 만나면 DOM 생성을 일시 중단한다.\n\n그 후 CSS 파일을 서버에 요청하고 응답받은 CSS 파일을 HTML과 동일한 파싱과정을 거치며 해석해 CSSOM을 생성한다. 그리고 CSS 파싱이 완료되면 HTML 파싱이 중단된 시점으로 돌아가 다시 HTML을 파싱한다.\n\n> **브라우저 엔진**\n>\n> > 브라우저에서 웹 콘텐츠의 표시 및 상호 작용을 처리하는 소프트웨어 구성요소이다. 여기에는 네트워킹 계층, JS 엔진 및 렌더링 엔진과 같은 여러 구성 요소가 포함된다.\n>\n> > 웹 서버에서 리소스를 가져오고, HTML, CSS, JS 및 기타 웹 기술을 파싱하고, 사용자 장치에서 콘텐츠를 렌더링하는 역할을 한다.\n>\n> **렌더링 엔진**\n>\n> > 웹 콘텐츠의 렌더링을 처리하는 브라우저 엔진의 특정 구성 요소이다. HTML 및 CSS 코드 구문 분석, DOM 트리 및 CSSOM 생성, 페이지에 요소 배치 및 스타일 지정, 최종적으로 사용자 장치에 페이지 렌더링을 담당한다.\n>\n> **결과: 렌더링 엔진은 브라우저 엔진에 포함되는 개념인 것 같다!**\n\n<br>\n\n### 렌더 트리\n\n<br>\n\n![6.png](6.png)\n\n**렌더링 트리 구축**\n\n- DOM 트리의 루트에서부터 시작하여 페이지를 렌더링하는데 필요한 노드만 남기는데 이때 스크립트 태그나 메타 태그 같은 요소는 렌더링에 반영되지 않고, css의 display: none; 속성도 렌더링 트리에 포함되지 않는 (⚠️ visibility: hidden;은 보이지는 않지만 공간을 차지하기 때문에 렌더링 트리에 포함)\n- 화면에 표시되는 모든 노드의 컨텐츠 및 스타일 정보들을 포함하는 구조로 이루어진 렌더링 트리가 최종적으로 구축된다.\n\n**렌더링 트리 배치**\n\n- 사용자의 뷰포트 기준으로 렌더링 트리가 그려질 위치와 크기들을 계산하는 단계이다.\n- 페이지에서 각 객체의 정확한 크기와 위치를 파악하기 위해 렌더링 엔진은 다시 렌더링 트리의 루트에서부터 계산에 들어간다.\n- 각 노드들의 정확한 위치와 크기가 계산되어 레이아웃이 완료되면 렌더링 엔진은 Paint Setup 및 Paint 이벤트를 발생시킨다.\n\n**렌더링 트리 그리기**\n\n- 이 과정에서 스타일이 복잡할 수록 페인팅에 걸리는 시간이 늘어난다. 이렇게 렌더링 과정을 거치게 되며 만약 DOM이나 CSSOM이 수정되면 화면에 다시 렌더링할 필요가 있는 픽셀을 파악하려면, 전부 처음부터 반복해야한다.\n\n<br>\n\n> ✋ **Render Tree와 DOM Tree의 차이점**\n>\n> - Render Tree는 DOM과 CSSOM을 합한 후에 최종적으로 브라우저에 표기할 노드들만 선별되어 트리가 생성이 된다.\n> - Render Tree는 브라우저에 보이지만, DOM은 브라우저에 보이지 않는다\n> - 뷰포트에 무엇을 렌더링할지 결정하기 위해 사용되는 것이 DOM이고 Render Tree는 뷰포트에 무엇을 렌더링할지 결정된 최종적인 트리다.\n\n<br>\n\n### 자바스크립트 엔진 처리 방식\n\nDOM API는 DOM의 각 노드와 상호작용하기 위한 인터페이스, 또는 HTML을 JS에서 제어하기 위한 명령들의 집합이며 대표적으로 자바스크립트에서 자주 사용하는 `document.querySelector()` 등을 예로 들 수 있다. 이러한 DOM API를 사용하면 이미 생성된 DOM을 동적으로 조작할 수 있다.\n\nCSS를 파싱할때 DOM 생성을 멈추고 CSSOM을 생성한 것처럼 `script 태그`도 동일하다. 하지만 CSSOM은 렌더링 엔진이 만들었고, script는 렌더링 엔진이 자바스크립트 엔진에게 제어를 넘겨서 HTML 파싱이 중단된 시점부터 다시 DOM 생성을 시작한다.\n\n<br>\n\n**자바스크립트 엔진 처리 순서**\n\n1. 토큰화(Tokenization): 코드를 토큰 단위(변수, 키워드, 연산자 등의 의미 있는 단위)로 나누는 과정\n2. 파싱(Parsing): 토큰을 구문 트리 또는 AST(코드의 구조를 이해하고 트리로 표현하는 과정)로 변환\n3. 컴파일(Compilation): 일부 엔진은 AST를 중간 코드로 컴파일하는데 이 단계에서 최적화가 수행되기도 함\n4. 실행(Execution)\n   - 파싱된 코드를 실행하는 단계로, 엔진은 파싱된 AST를 기반으로 실제로 코드를 실행하며, 이를 위해 다양한 작업을 수행함\n   - 변수와 함수를 메모리에 할당하고, 연산을 수행하며, 조건문과 반복문을 실행하는 등이 포함되고, 실행 단계에서는 코드의 결과를 생성하고 반환함\n\n<br>\n\n### 자바스크립트 리플로우, 리페인트\n\n자바스크립트 코드에 DOM이나 CSSOM을 변경하는 DOM API가 사용된 경우 DOM이나 CSSOM이 변경된다. 변경된 DOM과 CSSOM은 다시 렌더 트리로 결합되며 리렌더링이 되는데 이것을 **레이아웃을 다시 계산해주는 리플로우** 와 **재결합된 렌더 트리를 기반으로 다시 페인트 해주는 리페인트**가 있다.\n\n<br>\n\n![7.png](7.png)\n\n<br>\n\n**리플로우(Reflow)**\n\n레이아웃의 변경으로 인해 해당 요소와 그 자식 요소의 위치와 크기를 다시 계산하는 과정을 말하며 페이지의 레이아웃을 재조정하므로 비용이 많이 드는 작업이고 성능에 영향을 미칠 수 있으니 주의해야 한다. 리플로우가 발생하는 상황은 아래와 같으니 주의해야한다!\n\n- 요소의 크기, 위치, 혹은 내용이 변경되는 경우\n- 윈도우의 크기를 조절하거나 스크롤을 하는 경우\n- 요소의 추가, 제거, 숨김, 보임과 같은 레이아웃 변경이 발생하는 경우\n- CSS 속성 변경이 발생하여 레이아웃에 영향을 주는 경우\n\n<br>\n\n**리페인트(Repaint)**\n\n요소의 스타일이 변경되어 새로운 픽셀로 그려지는 과정을 말한다. 하지만 요소의 크기나 위치는 변경되지 않는다. 리페인트는 리플로우보다 비용이 적게 드는 작업이지만, 렌더링 성능에는 영향을 미친다. 리페인트가 발생하는 상황은 아래와 같다!\n\n- 요소의 색상, 투명도, 그림자 등의 스타일 속성이 변경되는 경우.\n- 요소의 클래스가 변경되어 스타일이 변경되는 경우.\n- 브라우저 창이 활성화되거나 숨겨진 요소가 다시 표시되는 경우.\n\n<br>\n\n## 마무리\n\n사실 여기서 **웹 렌더링 방식(CSR, SSR 등)** 에 대한 것과 **React Virtual DOM**에 대해서도 기록하고 공부하려고 했다. 하지만 공부하다 보니 브라우저 자체의 렌더링 방식도 알아야 할 것들이 많다고 생각해서 주제를 분리해서 기록, 공부할 예정이다.\n\n![8.png](8.png)\n\n<br>\n\n![9.png](9.png)\n\n브라우저에 관해서 공부를 해보면서 Javascript 언어로 브라우저 개발을 할 때 렌더링을 다루는 것에 대해서 잘 알고 있어야 된다고 생각하기는 했지만, 리 렌더링에까지 생각하지는 못하고 급급하게 렌더링이라는 1차 목표만 다뤘다고 생각한다. React에서 hook을 다루거나 복잡한 코드를 다룰수록 작동, 호출 방식에 신경을 써야 되는데 좋은 개발자(재사용성이 높은 코드를 작성하는)가 되기 위해서 어떤 것에 관심을 두어야 할까를 생각해볼 좋은 기회였다고 생각한다.\n\n윗글은 24년 4월 9일에 마무리를 지었지만, 몇 번 읽으면서 브라우저 렌더링에 관해 내용이 필요하면 더 기록해봐야겠다. 분리해서 작성할 필요를 느끼면 링크를 남겨놓겠다!\n\n![10.jpeg](10.jpeg)\n\n<hr>\n\n```toc\n\n```\n",
      "html": "<p>Web에 대해 공부하면서 <strong>렌더링이 무엇이고 어떻게 작동되는가?</strong> 에 대한 궁금증을 가지지 못했다. 취업을 해야된다는 막연한 생각때문에 과정없이 면접에 자주나오는 키워드만 암기했다.</p>\n<p>CS에 기초지식이 없으니 누군가에게 대답하는 형식으로 달달 외우기만 했다. 조금만 응용되어도 이론이 복잡하게 꼬여 버렸다. 그래서 <strong>언젠가는 이런 정리 안 된 내 지식을 정리해야지🔥🔥</strong> 라는 계획을 하다 이번에 렌더링이라는 키워드를 연관성에 맞춰서 상세하게 기록해보려고 한다.</p>\n<p>작은 소망이라면 렌더링, 브라우저, DOM 등 다양한 키워드에 대해 궁금할 때 나의 글이 생각나고 흐름을 파악하면 좋겠다.</p>\n<p><img src=\"/content/240329/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>웹 렌더링이라는 주제를 정한 후 <strong>어떠한 순서로 웹 렌더링에 대해서 글을 써야 할까?</strong> 에 대해 많은 고민을 하였다. 이론적인 단계로 쓸 수 있고, 중요한 순서대로도 쓸 수 있다. 하지만 내가 선택한 방법은 내가 공부하면서 느꼈던 키워드의 연관성을 흐름에 맞춰서 기록해보려 한다.</p>\n<p>예를들어! 🍎 사과에 대해서 글을 쓰고 싶을때 <strong>사과는 이름이 왜 사과고 => 어떠한 특성이 있고 => 그래서 어떠하다</strong> 라는 흐름으로 사과를 알아보는 것이 아닌, <strong>사과는 뭘까? => 사과는 과일이구나, 뭘 과일이라고 하지? => 과일은 또 어떤 게 있을까?</strong> 이런 식으로 질문에 꼬리에 꼬리를 무는 방식(꼬꼬무)으로 글을 작성할 예정이다!!</p>\n<p>서론이 너무 길었다!! 자칫하면 너무 어렵고, 진부 할 수 있는 내용이지만 누군가에게 필요할 것이라 생각해 자세히 설명해보려고 한다. 만약 필요한 내용만 찾고싶으면 <code>목차</code>, <code>command + f</code> , <code>ctrl+f</code> 를 적극적으로 사용해서 필요한 내용을 알차게 찾아가면 좋겠다!!</p>\n<h2 id=\"중요하게-알아야-될-키워드\"><a class=\"anchor\" href=\"#중요하게-알아야-될-키워드\">중요하게 알아야 될 키워드</a></h2>\n<h3 id=\"파싱과-렌더링\"><a class=\"anchor\" href=\"#파싱과-렌더링\">파싱과 렌더링</a></h3>\n<p><strong>파싱</strong>은 HTML 파일을 해석하여 DOM(Document Object Model) Tree를 구성하는 단계를 말하고, <strong>렌더링</strong>이란 HTML, CSS, JS로 작성된 문서를 파싱하여 브라우저에 사용자가 눈으로 볼 수 있도록 시각적으로 출력하는 것을 말한다.</p>\n<h3 id=\"요청과-응답\"><a class=\"anchor\" href=\"#요청과-응답\">요청과 응답</a></h3>\n<p><img src=\"/content/240329/3.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>브라우저에 URL을 입력하면 URL에 적힌 값을 파싱하고 HTTP 요청 메시지를 만들어 웹 서버로 전송한다. 브라우저는 메시지를 네트워크에 직접 송출할 수 없기때문에 OS에 의뢰해서 메시지를 전달한다. OS에 송신을 의뢰하기 위해서는, IP 주소로 메시지를 받을 상대를 지정해야되기 때문에, DNS(Domain Name Server)를 조회해야 한다.</p>\n<p>이후, 브라우저가 요청한 메시지가 웹서버 측 LAN에 도착하면 방화벽이 검사를 하는데, 캐시서버를 통해 웹서버까지 가야하는 지 아닌지 조사한다. 페이지의 데이터 중 다시 이용할 수 있는 것은 캐시 서버에 저장되고 액세스한 페이지의 데이터가 캐시서버에 있으면 웹서버에 의뢰하지 않고 바로 값을 읽을 수 있다.</p>\n<p>웹서버에 도착하면 패킷에 담긴 메시지를 복원해서 WAS에 넘기고, WAS은 요청 메시지에 따른 데이터를 응답 메시지에 넣어 클라이언트로 다시 보낸다. 웹 브라우저는 역으로 웹 서버로부터 HTTP를 따라 데이터를 전송받고, 렌더링 엔진을 사용해 이를 텍스트 및 이미지 등으로 변환한다. 브라우저는 최종 화면을 사용자에게 표시하는 역할을 한다.</p>\n<p>한마디로 브라우저를 열고 URL을 입력하는 순간부터 <strong>HTTP 요청(Request)이</strong> 시작되고, 브라우저는 사용자가 입력한 URL주소에 해당하는 목적지(웹서버)에 도착해서 데이터를 요청하고, 그 <strong>목적지(웹서버)에서 응답한 데이터를 응답 받아서(Response)</strong> 화면에 보여주게 된다.</p>\n<h2 id=\"브라우저-렌더링-과정\"><a class=\"anchor\" href=\"#브라우저-렌더링-과정\">브라우저 렌더링 과정</a></h2>\n<p><img src=\"/content/240329/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>우리는 왜 브라우저 렌더링 과정의 원리를 알아야할까??</p>\n<p>C언어, JAVA와 같은 프로그래밍 언어는 OS나 가상머신 위에서 실행된다. 물론 자바스크립트도 런타임 환경에서 사용하게 되면 이야기가 다르겠지만 프론트엔드 개발자의 관점에서는 웹 브라우저에서 실행된다. 웹 브라우저를 다루는 프론트엔드 입장에서는 어느 시점에서 어떻게 렌더링이 되는지 파악하고 있어야 효율적인 코드를 작성할 수 있고, 수정할 수 있다.</p>\n<p>브라우저가 렌더링을 하게 되면 <strong>DOM(The Document Object Model)</strong> 을 만들어내는데 만들어지는 과정에 대해 알아보자.</p>\n<blockquote>\n<p><strong>🙋🏻‍♂️ 잠깐! DOM은 무엇일까?</strong></p>\n<p>문서의 구조화된 표현을 제공하며 프로그래밍 언어가 DOM 구조에 접근할 수 있는 방법을 제공하여 그들이 문서 구조, 스타일, 내용 등을 변경할 수 있게 돕는다.</p>\n<p>nodes와 objects로 문서를 표현하는데 이들은 웹 페이지를 스크립트 또는 프로그래밍 언어들에서 사용될 수 있게 연결시켜주는 역할을 담당한다.</p>\n</blockquote>\n<h3 id=\"html-파싱\"><a class=\"anchor\" href=\"#html-파싱\">HTML 파싱</a></h3>\n<p>HTML 파싱은 웹 브라우저가 서버에서 받은 HTML 문서를 문자열로 받아들이고, 이를 파싱하여 이해 가능한 구조로 변환하는 과정을 의미하는데 브라우저는 HTML 문서를 위에서 아래로 읽으며, 태그와 내용을 파악하고 각 요소의 의미와 관계를 이해한다.</p>\n<blockquote>\n<p>⚠️ 파싱(Parsing)은 컴퓨터 과학 및 프로그래밍에서 특정 형식으로 구성된 데이터를 분석하고 그 의미를 이해하는 과정을 의미한다. 그 중에서 HTML 파싱에 대해서 설명한 것 뿐이니 <a href=\"http://wiki.hash.kr/index.php/%ED%8C%8C%EC%8B%B1\">👉 여기서</a>에서 자세한 내용을 찾아보는 것을 권장한다</p>\n</blockquote>\n<p>이 과정에서 오류가 발생할 경우 브라우저는 오류 복구 기능을 사용하여 최대한 문제를 해결하고, 유효한 HTML 문서 구조를 만든다. 결과적으로 <strong>HTML 문서를 기반으로 브라우저가 메모리 상에 DOM 트리를 구축하는 번역하는 과정(DOM 생성 과정)이 필요하다</strong></p>\n<h3 id=\"dom-생성-과정\"><a class=\"anchor\" href=\"#dom-생성-과정\">DOM 생성 과정</a></h3>\n<p><img src=\"/content/240329/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<ol>\n<li>서버는 브라우저가 요청한 HTML 파일을 읽어 들여 메모리에 저장한 다음, 메모리에 저장된 <strong>바이트(2진수)로</strong> 응답한다.</li>\n<li>브라우저는 응답받은 바이트 형태의 HTML 문서를 <strong>meta태그의 charset 어트리뷰트로 지정해 둔 인코딩 방식(ex. UTF-8)을 기준으로 문자열로</strong> 변환한다.</li>\n<li>문자열로 변환된 HTML 문서를 읽어 들여 문법적으로 더 이상 나눌 수 없는 기본적인 언어 요소인 <strong>토큰(token)들로</strong> 분해한다.</li>\n<li>각 토큰들을 객체로 변환하여 컴퓨터 과학에 쓰이는 기초적인 단위인 <strong>노드(node)를</strong> 생성한다. <strong>노드는 이후 DOM을 구성하는 기본 요소</strong>가 된다.</li>\n<li>이러한 노드들은 body 태그 안에 div를 넣고 그 안에 또 p를 넣듯이 중첩될 수 있는데, 이러한 중첩 관계에 의해 부자관계가 형성된다. 부자관계를 반영하여 모든 노드들을 <strong>트리 자료구조로</strong> 구성한다.</li>\n</ol>\n<h3 id=\"css파싱과-cssomcss-object-model-생성\"><a class=\"anchor\" href=\"#css파싱과-cssomcss-object-model-생성\">CSS파싱과 CSSOM(CSS Object Model) 생성</a></h3>\n<p><img src=\"/content/240329/5.png\" alt=\"5.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>렌더링 엔진은 처음부터 한 줄씩 순차적으로 파싱하며 DOM을 생성하는데, 중간에 CSS를 로드하는 link나 style 태그를 만나면 DOM 생성을 일시 중단한다.</p>\n<p>그 후 CSS 파일을 서버에 요청하고 응답받은 CSS 파일을 HTML과 동일한 파싱과정을 거치며 해석해 CSSOM을 생성한다. 그리고 CSS 파싱이 완료되면 HTML 파싱이 중단된 시점으로 돌아가 다시 HTML을 파싱한다.</p>\n<blockquote>\n<p><strong>브라우저 엔진</strong></p>\n<blockquote>\n<p>브라우저에서 웹 콘텐츠의 표시 및 상호 작용을 처리하는 소프트웨어 구성요소이다. 여기에는 네트워킹 계층, JS 엔진 및 렌더링 엔진과 같은 여러 구성 요소가 포함된다.</p>\n</blockquote>\n<blockquote>\n<p>웹 서버에서 리소스를 가져오고, HTML, CSS, JS 및 기타 웹 기술을 파싱하고, 사용자 장치에서 콘텐츠를 렌더링하는 역할을 한다.</p>\n</blockquote>\n<p><strong>렌더링 엔진</strong></p>\n<blockquote>\n<p>웹 콘텐츠의 렌더링을 처리하는 브라우저 엔진의 특정 구성 요소이다. HTML 및 CSS 코드 구문 분석, DOM 트리 및 CSSOM 생성, 페이지에 요소 배치 및 스타일 지정, 최종적으로 사용자 장치에 페이지 렌더링을 담당한다.</p>\n</blockquote>\n<p><strong>결과: 렌더링 엔진은 브라우저 엔진에 포함되는 개념인 것 같다!</strong></p>\n</blockquote>\n<h3 id=\"렌더-트리\"><a class=\"anchor\" href=\"#렌더-트리\">렌더 트리</a></h3>\n<p><img src=\"/content/240329/6.png\" alt=\"6.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p><strong>렌더링 트리 구축</strong></p>\n<ul>\n<li>DOM 트리의 루트에서부터 시작하여 페이지를 렌더링하는데 필요한 노드만 남기는데 이때 스크립트 태그나 메타 태그 같은 요소는 렌더링에 반영되지 않고, css의 display: none; 속성도 렌더링 트리에 포함되지 않는 (⚠️ visibility: hidden;은 보이지는 않지만 공간을 차지하기 때문에 렌더링 트리에 포함)</li>\n<li>화면에 표시되는 모든 노드의 컨텐츠 및 스타일 정보들을 포함하는 구조로 이루어진 렌더링 트리가 최종적으로 구축된다.</li>\n</ul>\n<p><strong>렌더링 트리 배치</strong></p>\n<ul>\n<li>사용자의 뷰포트 기준으로 렌더링 트리가 그려질 위치와 크기들을 계산하는 단계이다.</li>\n<li>페이지에서 각 객체의 정확한 크기와 위치를 파악하기 위해 렌더링 엔진은 다시 렌더링 트리의 루트에서부터 계산에 들어간다.</li>\n<li>각 노드들의 정확한 위치와 크기가 계산되어 레이아웃이 완료되면 렌더링 엔진은 Paint Setup 및 Paint 이벤트를 발생시킨다.</li>\n</ul>\n<p><strong>렌더링 트리 그리기</strong></p>\n<ul>\n<li>이 과정에서 스타일이 복잡할 수록 페인팅에 걸리는 시간이 늘어난다. 이렇게 렌더링 과정을 거치게 되며 만약 DOM이나 CSSOM이 수정되면 화면에 다시 렌더링할 필요가 있는 픽셀을 파악하려면, 전부 처음부터 반복해야한다.</li>\n</ul>\n<blockquote>\n<p>✋ <strong>Render Tree와 DOM Tree의 차이점</strong></p>\n<ul>\n<li>Render Tree는 DOM과 CSSOM을 합한 후에 최종적으로 브라우저에 표기할 노드들만 선별되어 트리가 생성이 된다.</li>\n<li>Render Tree는 브라우저에 보이지만, DOM은 브라우저에 보이지 않는다</li>\n<li>뷰포트에 무엇을 렌더링할지 결정하기 위해 사용되는 것이 DOM이고 Render Tree는 뷰포트에 무엇을 렌더링할지 결정된 최종적인 트리다.</li>\n</ul>\n</blockquote>\n<h3 id=\"자바스크립트-엔진-처리-방식\"><a class=\"anchor\" href=\"#자바스크립트-엔진-처리-방식\">자바스크립트 엔진 처리 방식</a></h3>\n<p>DOM API는 DOM의 각 노드와 상호작용하기 위한 인터페이스, 또는 HTML을 JS에서 제어하기 위한 명령들의 집합이며 대표적으로 자바스크립트에서 자주 사용하는 <code>document.querySelector()</code> 등을 예로 들 수 있다. 이러한 DOM API를 사용하면 이미 생성된 DOM을 동적으로 조작할 수 있다.</p>\n<p>CSS를 파싱할때 DOM 생성을 멈추고 CSSOM을 생성한 것처럼 <code>script 태그</code>도 동일하다. 하지만 CSSOM은 렌더링 엔진이 만들었고, script는 렌더링 엔진이 자바스크립트 엔진에게 제어를 넘겨서 HTML 파싱이 중단된 시점부터 다시 DOM 생성을 시작한다.</p>\n<p><strong>자바스크립트 엔진 처리 순서</strong></p>\n<ol>\n<li>토큰화(Tokenization): 코드를 토큰 단위(변수, 키워드, 연산자 등의 의미 있는 단위)로 나누는 과정</li>\n<li>파싱(Parsing): 토큰을 구문 트리 또는 AST(코드의 구조를 이해하고 트리로 표현하는 과정)로 변환</li>\n<li>컴파일(Compilation): 일부 엔진은 AST를 중간 코드로 컴파일하는데 이 단계에서 최적화가 수행되기도 함</li>\n<li>실행(Execution)\n<ul>\n<li>파싱된 코드를 실행하는 단계로, 엔진은 파싱된 AST를 기반으로 실제로 코드를 실행하며, 이를 위해 다양한 작업을 수행함</li>\n<li>변수와 함수를 메모리에 할당하고, 연산을 수행하며, 조건문과 반복문을 실행하는 등이 포함되고, 실행 단계에서는 코드의 결과를 생성하고 반환함</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"자바스크립트-리플로우-리페인트\"><a class=\"anchor\" href=\"#자바스크립트-리플로우-리페인트\">자바스크립트 리플로우, 리페인트</a></h3>\n<p>자바스크립트 코드에 DOM이나 CSSOM을 변경하는 DOM API가 사용된 경우 DOM이나 CSSOM이 변경된다. 변경된 DOM과 CSSOM은 다시 렌더 트리로 결합되며 리렌더링이 되는데 이것을 <strong>레이아웃을 다시 계산해주는 리플로우</strong> 와 <strong>재결합된 렌더 트리를 기반으로 다시 페인트 해주는 리페인트</strong>가 있다.</p>\n<p><img src=\"/content/240329/7.png\" alt=\"7.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p><strong>리플로우(Reflow)</strong></p>\n<p>레이아웃의 변경으로 인해 해당 요소와 그 자식 요소의 위치와 크기를 다시 계산하는 과정을 말하며 페이지의 레이아웃을 재조정하므로 비용이 많이 드는 작업이고 성능에 영향을 미칠 수 있으니 주의해야 한다. 리플로우가 발생하는 상황은 아래와 같으니 주의해야한다!</p>\n<ul>\n<li>요소의 크기, 위치, 혹은 내용이 변경되는 경우</li>\n<li>윈도우의 크기를 조절하거나 스크롤을 하는 경우</li>\n<li>요소의 추가, 제거, 숨김, 보임과 같은 레이아웃 변경이 발생하는 경우</li>\n<li>CSS 속성 변경이 발생하여 레이아웃에 영향을 주는 경우</li>\n</ul>\n<p><strong>리페인트(Repaint)</strong></p>\n<p>요소의 스타일이 변경되어 새로운 픽셀로 그려지는 과정을 말한다. 하지만 요소의 크기나 위치는 변경되지 않는다. 리페인트는 리플로우보다 비용이 적게 드는 작업이지만, 렌더링 성능에는 영향을 미친다. 리페인트가 발생하는 상황은 아래와 같다!</p>\n<ul>\n<li>요소의 색상, 투명도, 그림자 등의 스타일 속성이 변경되는 경우.</li>\n<li>요소의 클래스가 변경되어 스타일이 변경되는 경우.</li>\n<li>브라우저 창이 활성화되거나 숨겨진 요소가 다시 표시되는 경우.</li>\n</ul>\n<h2 id=\"마무리\"><a class=\"anchor\" href=\"#마무리\">마무리</a></h2>\n<p>사실 여기서 <strong>웹 렌더링 방식(CSR, SSR 등)</strong> 에 대한 것과 <strong>React Virtual DOM</strong>에 대해서도 기록하고 공부하려고 했다. 하지만 공부하다 보니 브라우저 자체의 렌더링 방식도 알아야 할 것들이 많다고 생각해서 주제를 분리해서 기록, 공부할 예정이다.</p>\n<p><img src=\"/content/240329/8.png\" alt=\"8.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/240329/9.png\" alt=\"9.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>브라우저에 관해서 공부를 해보면서 Javascript 언어로 브라우저 개발을 할 때 렌더링을 다루는 것에 대해서 잘 알고 있어야 된다고 생각하기는 했지만, 리 렌더링에까지 생각하지는 못하고 급급하게 렌더링이라는 1차 목표만 다뤘다고 생각한다. React에서 hook을 다루거나 복잡한 코드를 다룰수록 작동, 호출 방식에 신경을 써야 되는데 좋은 개발자(재사용성이 높은 코드를 작성하는)가 되기 위해서 어떤 것에 관심을 두어야 할까를 생각해볼 좋은 기회였다고 생각한다.</p>\n<p>윗글은 24년 4월 9일에 마무리를 지었지만, 몇 번 읽으면서 브라우저 렌더링에 관해 내용이 필요하면 더 기록해봐야겠다. 분리해서 작성할 필요를 느끼면 링크를 남겨놓겠다!</p>\n<p><img src=\"/content/240329/10.jpeg\" alt=\"10.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240329/index.md",
    "_raw": {
      "sourceFilePath": "240329/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240329",
      "contentType": "markdown",
      "flattenedPath": "240329"
    },
    "type": "Post",
    "slug": "/240329",
    "categoryArray": [
      "프론트엔드"
    ],
    "readingTime": "22 min read",
    "excerpt": "Web에 대해 공부하면서 렌더링이 무엇이고 어떻게 작동되는가? 에 대한 궁금증을 가지지 못했다. 취업을 해야된다는 막연한 생각때문에 과정없이 면접에 자주나오는 키워드만 암기했다. CS에 기초지식이 없으니 누군가에게 대답하는 형식으로 달달 외우기만 했다. 조금만 응용되어도 이론이 복잡하게 꼬여 버렸다. 그래서 언젠가는 이런 정리 안 된 내 지식을 정리해야지 ..."
  },
  {
    "title": "[IT 커뮤니티 연합 해커톤] 유니톤 11회에 프론트엔드 개발자로..",
    "date": "2024-04-07T00:00:00.000Z",
    "categories": "대외활동",
    "body": {
      "raw": "\n## ✋ Welcome Unithon\n\n<br>\n\n![12.jpeg](12.jpeg)\n\n<br>\n\n평소와 똑같이 회사, 집을 무한하게 반복하던 삶에서 UNITHON이라는 해커톤에 대한 정보를 듣게 되었다!!\n운영진을 해볼까.. 아니면 참여자가 되어볼까.. 고민을 하던 중 아직 경험해보지 않았으니 이번에는 해커톤 참여자를 해보자!! 라는 비장한 다짐과 함께 신청서를 작성했다!\n\n경쟁률이 엄청 높다고 들어서 될까? 라는 걱정이 있었지만.. 근무 중에 산뜻한(!?) 이메일을 받았다!!\n\n<br>\n\n![2.png](2.png)\n\n<br>\n\n아니!!!!!! 이런 말은 부끄럽지만... 요즘 이런저런 생각을 하는 나에게!!!!!! 엄청 오랜만에 합격 이메일이..ㅋㅋㅋㅋㅋ **너무너무너무너무너무 x 1000** 기분이 좋았다!!!\n\n<br>\n\n<h4>Love UNITHON, Thank UNITHON , Together UNITHON</h4>\n\n<br>\n\n![3.gif](3.gif)\n\n<br>\n\n## 해커톤 준비 과정\n\n나는 UNITHON의 7조가 되었다! 처음 디스코드에 초대되었을 때 서로에 대한 정보가 없어서 긴장되었다..\n하지만 우리 팀은 해커톤에 대한 열정이 넘쳤다. 미리 기술스택과 주제에 대한 이야기도 해보고 다양한 이야기를 디코에서 나누었다.\n\n> 민규님께서는 vite+tailwind+zustand의 세팅도 해주셨다!!! (너무너무 감사합니다 ㅋㅋ) 🙏🙏\n\n<br>\n\n### 첫 만남\n\n이번 해커톤은 성수동 엘리스랩에서 19시에 시작되었다. 총 6명씩 x 10팀이 참가하였다. 주제가 정해지지 않은 채 사람들과 아이스브레이킹을 진행했다!\n\n사실 너무너무 긴장해서 뭐 말이라도 할까 싶었지만, 이 사람들 텐션이 너무 좋다.. 뭘 말해도 잘 반응해주고 좋은 팀이라는 게 느껴지는.. ㅋㅋ\n\n<br>\n\n### 해커톤 소개와 주제 발표\n\n<br>\n\n![1.png](1.png)\n\n이번 UNITHON은 다양한 후원사와 함께한다. (능력자 UNITHON 운영진들 칭찬합니다!!) 대경님의 UNITHON 소개가 너무너무 재미있고 긴장되는 마음을 해소시켜주어서 감사했다\n\n그리고 중간 쉬는 시간에 팀원들과 수다 떨면서 어떤 주제가 안 나오면 좋겠어요?? 이야기를 했을 때 기후와 평화가 대부분이었다..\n\n뭐.. 그 다음은 예상가겠지만 **주제는 기후와 평화**가 되었다 ㅋㅋㅋ\n\n<br>\n\n![4.jpeg](4.jpeg)\n\n<br>\n\n그래도 마음을 가다듬고 아이데이션을 시작했다. 본격적인 해커톤 시작!\n\n<br>\n\n## 해커톤 시작!\n\n### Day-1 아이데이션\n\n거의 22시 30분부터 아이데이션을 진행했다. 2박 3일 해커톤이여서 첫날은 무리없이 귀가하자는 의견이 많아 12시면 끝나겠지? 라고 생각했지만 열정적인 팀원들과 새벽 3시까지 회의하고 이야기를 진행했다.\n\n![5.png](5.png)\n\n팀명은 성수 불막 사우나로 결정했다. ~~(중간에 피곤할 때 불막 사우나를 갔기 때문 ㅋㅋ)~~\n\n디자인 초안을 몇개 확인했는데 우리 갓 능력자 디자이너 예지님 덕분에 너무너무 편한 마음으로 찜질방으로 달려갔다! (짧은 시간동안 몇마디로 구름을 그려내고 로고를 만들어내는 당신 존경..)\n\n이렇게 Day-1을 마무리 짓고(사실 Day-1,2,3가 의미 있나 싶긴하지만) 4시간 정도 취침 후에 다시 모였다!\n\n> 뭐 중간마다 에피소드가 있는데 사우나에서도 수다떨다가 아이데이션도 하고, 매점앞에서 자다가 오픈시간이여서 쫓겨나서 일찍 시작한 것도 있지만 ~~이미지 포장..~~\n\n<br>\n\n### Day-2 디자인, 개발\n\n전날 아이데이션을 기반으로 기획에 대한 최종 회의를 오전까지 진행했다. 그 이후에 점심 식사를 하고나서 산책을 다녀오고 바로 개발을 시작하였다.\n\n<br>\n\n![7.jpeg](7.jpeg)\n\n<br>\n\n> 좋은 사진을 찍어주신 미경님 Thank you 😁\n\nFE, BE가 프로젝트 세팅에 필요한 것들을 정리하면서 기획, 디자인이 이루어졌고 먼저 소셜로그인과 공통으로 쓰는 UI를 만들었다. 사실 해커톤에 처음 참여해서 정보가 없었다. 사람들과 잘 아이데이션하면서 개발을 진행하면 되겠다 싶어서 중간에 산책도 다니고 사진도 찍으러 다녔다.. 수다도 많이 떨구... 다른 조 분들에게는 너무 정신 없어서 시끄러웠을 것 같아서 죄송한 마음이 든다..ㅠㅠ\n\n어찌저찌해서 개발을 16~17시까지 진행하고 디자인이 정리가 되어서 본격적인 개발이 시작되었다. (물론 저녁먹고 ㅋㅋ)\n\n저녁먹고나서 급한 마음에 개발을 계속했다~!! UNITHON에서 불타는 경쟁이 아닌 사람들과 잘 어울려서 해커톤을 진행하면 좋겠다고 안내를 받았는데 중간중간 재미있는 미션, 게임을 진행해서 상품도 받고 사진도 많이 찍었다.\n\n<br>\n\n![8.jpeg](8.jpeg)\n\n<br>\n\n### Day-3 초 집중\n\n<br>\n\n![13.jpeg](13.jpeg)\n\n> 해커톤이니 맥주 탈락! 비타민!\n\n이제는 BE와 API도 연결해야 되고 그전까지 UI 작업은 마무리 지어야되어서 정신없이 불꽃 코딩을 했다. 그러고 새벽에 또 중랑천으로 산책을 나갔다 ㅋㅋ (우리팀 애정해..) 산책 다녀와서는 거의 아침 9시 발표할때까지 미친듯이 작업을 했다.(중간에 체력적 이슈가 있지만... 잘 버텼다 30분뺴고 ㅋㅋ)\n\n그렇게 해서 우리의 **속삭임(Whisper)** 가 완성되었다!!!\n\n![6.png](6.png)\n\n너무너무 감사하게도 디자이너 예지님이랑 PM 상환님께서 발표를 위한 자료들을 다 만들어주셨다.. 그래서 조금 여유가 생겼고.. 바로 발표가 진행되었다.\n\n**발표자료가 궁금하면 [여기를](https://unit-center.notion.site/4b29b6b0050b409fbb004aa13cf3458c?pvs=4) 확인해보세요!**\n\n<br>\n\n### Day-3 발표, 시연, 수상\n\n사람들의 발표를 보는데 다들 열심히 하신게 보이고 저런 아이디어를 내고 기획, 구현한 것에 대해서 너무너무 존경스러웠다. 우리팀 상환님께서 발표를 너무 재미있고 잘 진행해주셧다 (감사합니다!)\n\n평가하시는 분들이 와서 엄청 떨면서 시연발표를 했다! 반응도 좋았고 끝나자마자 긴장이 풀려서 주저앉았버렸다. 우리팀 열심히 해서 수상에 대해 욕심을 내보았지만!! 아쉽게도 수상은 못했다. 그래도 시연 때 돌아다니면서 우와 여기팀 잘했다!! 생각했던 팀들이 수상해서 너무 기분이 좋았다 특히 9팀이 인상 깊었다!! (혹시.. 9팀분들 제 블로그 보시면 연락한번 주세요ㅠㅠ 친해지고싶어요..ㅋㅋ)\n\n<br>\n\n## 짧은 편지\n\n![10.jpeg](10.jpeg)\n\n### To.. 7조\n\n이렇게 내 첫 번째 해커톤이 마무리되었다. 중간에 재미있는 게임을 진행해주시고 너무너무 맛있는 음식들을 준비해주신 **UNITHON 운영진분들께 너무 감사하다.** 뽑아준 것도 너무너무!\n\n백앤드에서 든든하게 작업해주고 분위기 좋도록 텐션 이끌어주시고 새벽에 자는 거 깨워서 API 수정요청했을 때 웃으면서 해주신 **미경님과 준수님** 너무 감사합니다. 제가 장난도 많이 치고 정신 없었을 텐데 감사합니다.\n\n우리의 나약한 아이디어를 효과적으로 디자인해주신 **예지님** 너무너무 존경하고 멋집니다!!! 집중하는 모습 존경스러웠습니다. 당신은 좋은 디자이너가 될 것 같아요.\n\n우리 아이디어에서 요점을 잘 잡아주시고 좋은 방향으로 이끌어주고, 자료를 만들고 발표도 재미있게 해주신 우리 **상환님** 너무 감사합디다\n\n저와 같이 FE하느라 고생 많으신 **민규님** 구름 둥둥 띄우는 모습 열정 있고 너무 보기 좋았습니다. 다음 주에 만나기로 했으니!! 그때 또 커피챗 진행해보아요~!!!!\n\n![11.png](11.png)\n\n<br>\n\n### To.. me\n\n이번 해커톤으로 엄청나게 힐링을 많이하고 많은 생각을 하게 되었다. 요즘 이것저것 해야될 것이 많아서 힘들다는 생각을 많이했는데 어떤 것에 집중해서 작업을 했더니 첫 개발을 시작한 추억이 생각이 조금씨 회상되었다.\n\n그때 당시에는 뭘해도 불타고 열심히 했는데 스스로가 기만하여 요즘 나를 힘들게 하지 않았나? 라는 반성을 하기도 하고.. 좋은 사람들을 1년동안 너무 많이 만나서 내가 어떤 것을 할 수 있는 원동력이 되고 있다. 뭐 주절주절.. 말하는 거지만 이런 과정들 덕분에 앞으로의 삶이 너무 기대되고 많은 것을 하고싶다는 생각이 든다!\n\n> 이런 좋은 감정 해커톤 마지막에 발표하고싶었는데 심장이 작아서 못했다. 다음에는 핑계대지말고 하자ㅠ\n\n참고로 요즘 rust랑 go 도 관심이 많아서 하나씩 두들겨 볼 예정!!!\n\n좋은 추억과 많은 생각을 하게 된 해커톤 이야기\n\n<br>\n\n![9.jpeg](9.jpeg)\n\n<br>\n<br>\n<br>\n\n<h2>그리고 운영진이나 해커톤 참여하신 분들 연락주시면 감사하겠습니다! 친해지고싶어요!</h2>\n\n```toc\n\n```\n",
      "html": "<h2 id=\"-welcome-unithon\"><a class=\"anchor\" href=\"#-welcome-unithon\">✋ Welcome Unithon</a></h2>\n<p><img src=\"/content/240407/12.jpeg\" alt=\"12.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>평소와 똑같이 회사, 집을 무한하게 반복하던 삶에서 UNITHON이라는 해커톤에 대한 정보를 듣게 되었다!!\n운영진을 해볼까.. 아니면 참여자가 되어볼까.. 고민을 하던 중 아직 경험해보지 않았으니 이번에는 해커톤 참여자를 해보자!! 라는 비장한 다짐과 함께 신청서를 작성했다!</p>\n<p>경쟁률이 엄청 높다고 들어서 될까? 라는 걱정이 있었지만.. 근무 중에 산뜻한(!?) 이메일을 받았다!!</p>\n<p><img src=\"/content/240407/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>아니!!!!!! 이런 말은 부끄럽지만... 요즘 이런저런 생각을 하는 나에게!!!!!! 엄청 오랜만에 합격 이메일이..ㅋㅋㅋㅋㅋ <strong>너무너무너무너무너무 x 1000</strong> 기분이 좋았다!!!</p>\n<p><img src=\"/content/240407/3.gif\" alt=\"3.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"해커톤-준비-과정\"><a class=\"anchor\" href=\"#해커톤-준비-과정\">해커톤 준비 과정</a></h2>\n<p>나는 UNITHON의 7조가 되었다! 처음 디스코드에 초대되었을 때 서로에 대한 정보가 없어서 긴장되었다..\n하지만 우리 팀은 해커톤에 대한 열정이 넘쳤다. 미리 기술스택과 주제에 대한 이야기도 해보고 다양한 이야기를 디코에서 나누었다.</p>\n<blockquote>\n<p>민규님께서는 vite+tailwind+zustand의 세팅도 해주셨다!!! (너무너무 감사합니다 ㅋㅋ) 🙏🙏</p>\n</blockquote>\n<h3 id=\"첫-만남\"><a class=\"anchor\" href=\"#첫-만남\">첫 만남</a></h3>\n<p>이번 해커톤은 성수동 엘리스랩에서 19시에 시작되었다. 총 6명씩 x 10팀이 참가하였다. 주제가 정해지지 않은 채 사람들과 아이스브레이킹을 진행했다!</p>\n<p>사실 너무너무 긴장해서 뭐 말이라도 할까 싶었지만, 이 사람들 텐션이 너무 좋다.. 뭘 말해도 잘 반응해주고 좋은 팀이라는 게 느껴지는.. ㅋㅋ</p>\n<h3 id=\"해커톤-소개와-주제-발표\"><a class=\"anchor\" href=\"#해커톤-소개와-주제-발표\">해커톤 소개와 주제 발표</a></h3>\n<p><img src=\"/content/240407/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>이번 UNITHON은 다양한 후원사와 함께한다. (능력자 UNITHON 운영진들 칭찬합니다!!) 대경님의 UNITHON 소개가 너무너무 재미있고 긴장되는 마음을 해소시켜주어서 감사했다</p>\n<p>그리고 중간 쉬는 시간에 팀원들과 수다 떨면서 어떤 주제가 안 나오면 좋겠어요?? 이야기를 했을 때 기후와 평화가 대부분이었다..</p>\n<p>뭐.. 그 다음은 예상가겠지만 <strong>주제는 기후와 평화</strong>가 되었다 ㅋㅋㅋ</p>\n<p><img src=\"/content/240407/4.jpeg\" alt=\"4.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>그래도 마음을 가다듬고 아이데이션을 시작했다. 본격적인 해커톤 시작!</p>\n<h2 id=\"해커톤-시작\"><a class=\"anchor\" href=\"#해커톤-시작\">해커톤 시작!</a></h2>\n<h3 id=\"day-1-아이데이션\"><a class=\"anchor\" href=\"#day-1-아이데이션\">Day-1 아이데이션</a></h3>\n<p>거의 22시 30분부터 아이데이션을 진행했다. 2박 3일 해커톤이여서 첫날은 무리없이 귀가하자는 의견이 많아 12시면 끝나겠지? 라고 생각했지만 열정적인 팀원들과 새벽 3시까지 회의하고 이야기를 진행했다.</p>\n<p><img src=\"/content/240407/5.png\" alt=\"5.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>팀명은 성수 불막 사우나로 결정했다. ~~(중간에 피곤할 때 불막 사우나를 갔기 때문 ㅋㅋ)~~</p>\n<p>디자인 초안을 몇개 확인했는데 우리 갓 능력자 디자이너 예지님 덕분에 너무너무 편한 마음으로 찜질방으로 달려갔다! (짧은 시간동안 몇마디로 구름을 그려내고 로고를 만들어내는 당신 존경..)</p>\n<p>이렇게 Day-1을 마무리 짓고(사실 Day-1,2,3가 의미 있나 싶긴하지만) 4시간 정도 취침 후에 다시 모였다!</p>\n<blockquote>\n<p>뭐 중간마다 에피소드가 있는데 사우나에서도 수다떨다가 아이데이션도 하고, 매점앞에서 자다가 오픈시간이여서 쫓겨나서 일찍 시작한 것도 있지만 ~~이미지 포장..~~</p>\n</blockquote>\n<h3 id=\"day-2-디자인-개발\"><a class=\"anchor\" href=\"#day-2-디자인-개발\">Day-2 디자인, 개발</a></h3>\n<p>전날 아이데이션을 기반으로 기획에 대한 최종 회의를 오전까지 진행했다. 그 이후에 점심 식사를 하고나서 산책을 다녀오고 바로 개발을 시작하였다.</p>\n<p><img src=\"/content/240407/7.jpeg\" alt=\"7.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>좋은 사진을 찍어주신 미경님 Thank you 😁</p>\n</blockquote>\n<p>FE, BE가 프로젝트 세팅에 필요한 것들을 정리하면서 기획, 디자인이 이루어졌고 먼저 소셜로그인과 공통으로 쓰는 UI를 만들었다. 사실 해커톤에 처음 참여해서 정보가 없었다. 사람들과 잘 아이데이션하면서 개발을 진행하면 되겠다 싶어서 중간에 산책도 다니고 사진도 찍으러 다녔다.. 수다도 많이 떨구... 다른 조 분들에게는 너무 정신 없어서 시끄러웠을 것 같아서 죄송한 마음이 든다..ㅠㅠ</p>\n<p>어찌저찌해서 개발을 16~17시까지 진행하고 디자인이 정리가 되어서 본격적인 개발이 시작되었다. (물론 저녁먹고 ㅋㅋ)</p>\n<p>저녁먹고나서 급한 마음에 개발을 계속했다~!! UNITHON에서 불타는 경쟁이 아닌 사람들과 잘 어울려서 해커톤을 진행하면 좋겠다고 안내를 받았는데 중간중간 재미있는 미션, 게임을 진행해서 상품도 받고 사진도 많이 찍었다.</p>\n<p><img src=\"/content/240407/8.jpeg\" alt=\"8.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"day-3-초-집중\"><a class=\"anchor\" href=\"#day-3-초-집중\">Day-3 초 집중</a></h3>\n<p><img src=\"/content/240407/13.jpeg\" alt=\"13.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>해커톤이니 맥주 탈락! 비타민!</p>\n</blockquote>\n<p>이제는 BE와 API도 연결해야 되고 그전까지 UI 작업은 마무리 지어야되어서 정신없이 불꽃 코딩을 했다. 그러고 새벽에 또 중랑천으로 산책을 나갔다 ㅋㅋ (우리팀 애정해..) 산책 다녀와서는 거의 아침 9시 발표할때까지 미친듯이 작업을 했다.(중간에 체력적 이슈가 있지만... 잘 버텼다 30분뺴고 ㅋㅋ)</p>\n<p>그렇게 해서 우리의 <strong>속삭임(Whisper)</strong> 가 완성되었다!!!</p>\n<p><img src=\"/content/240407/6.png\" alt=\"6.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>너무너무 감사하게도 디자이너 예지님이랑 PM 상환님께서 발표를 위한 자료들을 다 만들어주셨다.. 그래서 조금 여유가 생겼고.. 바로 발표가 진행되었다.</p>\n<p><strong>발표자료가 궁금하면 <a href=\"https://unit-center.notion.site/4b29b6b0050b409fbb004aa13cf3458c?pvs=4\">여기를</a> 확인해보세요!</strong></p>\n<h3 id=\"day-3-발표-시연-수상\"><a class=\"anchor\" href=\"#day-3-발표-시연-수상\">Day-3 발표, 시연, 수상</a></h3>\n<p>사람들의 발표를 보는데 다들 열심히 하신게 보이고 저런 아이디어를 내고 기획, 구현한 것에 대해서 너무너무 존경스러웠다. 우리팀 상환님께서 발표를 너무 재미있고 잘 진행해주셧다 (감사합니다!)</p>\n<p>평가하시는 분들이 와서 엄청 떨면서 시연발표를 했다! 반응도 좋았고 끝나자마자 긴장이 풀려서 주저앉았버렸다. 우리팀 열심히 해서 수상에 대해 욕심을 내보았지만!! 아쉽게도 수상은 못했다. 그래도 시연 때 돌아다니면서 우와 여기팀 잘했다!! 생각했던 팀들이 수상해서 너무 기분이 좋았다 특히 9팀이 인상 깊었다!! (혹시.. 9팀분들 제 블로그 보시면 연락한번 주세요ㅠㅠ 친해지고싶어요..ㅋㅋ)</p>\n<h2 id=\"짧은-편지\"><a class=\"anchor\" href=\"#짧은-편지\">짧은 편지</a></h2>\n<p><img src=\"/content/240407/10.jpeg\" alt=\"10.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"to-7조\"><a class=\"anchor\" href=\"#to-7조\">To.. 7조</a></h3>\n<p>이렇게 내 첫 번째 해커톤이 마무리되었다. 중간에 재미있는 게임을 진행해주시고 너무너무 맛있는 음식들을 준비해주신 <strong>UNITHON 운영진분들께 너무 감사하다.</strong> 뽑아준 것도 너무너무!</p>\n<p>백앤드에서 든든하게 작업해주고 분위기 좋도록 텐션 이끌어주시고 새벽에 자는 거 깨워서 API 수정요청했을 때 웃으면서 해주신 <strong>미경님과 준수님</strong> 너무 감사합니다. 제가 장난도 많이 치고 정신 없었을 텐데 감사합니다.</p>\n<p>우리의 나약한 아이디어를 효과적으로 디자인해주신 <strong>예지님</strong> 너무너무 존경하고 멋집니다!!! 집중하는 모습 존경스러웠습니다. 당신은 좋은 디자이너가 될 것 같아요.</p>\n<p>우리 아이디어에서 요점을 잘 잡아주시고 좋은 방향으로 이끌어주고, 자료를 만들고 발표도 재미있게 해주신 우리 <strong>상환님</strong> 너무 감사합디다</p>\n<p>저와 같이 FE하느라 고생 많으신 <strong>민규님</strong> 구름 둥둥 띄우는 모습 열정 있고 너무 보기 좋았습니다. 다음 주에 만나기로 했으니!! 그때 또 커피챗 진행해보아요~!!!!</p>\n<p><img src=\"/content/240407/11.png\" alt=\"11.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"to-me\"><a class=\"anchor\" href=\"#to-me\">To.. me</a></h3>\n<p>이번 해커톤으로 엄청나게 힐링을 많이하고 많은 생각을 하게 되었다. 요즘 이것저것 해야될 것이 많아서 힘들다는 생각을 많이했는데 어떤 것에 집중해서 작업을 했더니 첫 개발을 시작한 추억이 생각이 조금씨 회상되었다.</p>\n<p>그때 당시에는 뭘해도 불타고 열심히 했는데 스스로가 기만하여 요즘 나를 힘들게 하지 않았나? 라는 반성을 하기도 하고.. 좋은 사람들을 1년동안 너무 많이 만나서 내가 어떤 것을 할 수 있는 원동력이 되고 있다. 뭐 주절주절.. 말하는 거지만 이런 과정들 덕분에 앞으로의 삶이 너무 기대되고 많은 것을 하고싶다는 생각이 든다!</p>\n<blockquote>\n<p>이런 좋은 감정 해커톤 마지막에 발표하고싶었는데 심장이 작아서 못했다. 다음에는 핑계대지말고 하자ㅠ</p>\n</blockquote>\n<p>참고로 요즘 rust랑 go 도 관심이 많아서 하나씩 두들겨 볼 예정!!!</p>\n<p>좋은 추억과 많은 생각을 하게 된 해커톤 이야기</p>\n<p><img src=\"/content/240407/9.jpeg\" alt=\"9.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240407/index.md",
    "_raw": {
      "sourceFilePath": "240407/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240407",
      "contentType": "markdown",
      "flattenedPath": "240407"
    },
    "type": "Post",
    "slug": "/240407",
    "categoryArray": [
      "대외활동"
    ],
    "readingTime": "13 min read",
    "excerpt": "Welcome Unithon 평소와 똑같이 회사, 집을 무한하게 반복하던 삶에서 UNITHON이라는 해커톤에 대한 정보를 듣게 되었다!! 운영진을 해볼까.. 아니면 참여자가 되어볼까.. 고민을 하던 중 아직 경험해보지 않았으니 이번에는 해커톤 참여자를 해보자!! 라는 비장한 다짐과 함께 신청서를 작성했다! 경쟁률이 엄청 높다고 들어서 될까? 라는 걱정이 있..."
  },
  {
    "title": "웹 렌더링 방식: CSR vs SSR vs SSG vs ISR 등 모든 것 알아보기",
    "date": "2024-04-09T00:00:00.000Z",
    "categories": "프론트엔드",
    "body": {
      "raw": "\n<br>\n\n> 🚨 해당 게시글은 [브라우저 렌더링의 모든 것](https://hooninedev.com/240329/)의 후편이니 읽고 오시면 이해가 더 잘됩니다!!\n\n<br>\n\n![1.png](1.png)\n\n<br>\n\n먼저, 웹 렌더링이란 웹 페이지를 사용자가 볼 수 있는 형태로 변환하는 프로세스를 의미한다. 렌더링 방식에 따라 로딩 속도, 검색 엔진 최적화(SEO), 사용자 경험 등이 달라지기 때문에 우리는 방식을 선택할 때 많이 고민할 수 밖에 없다.\n\n고민을 하다보면 CSR,SSR,SPA,MPA,SSG 등등.. 다양한 단축어에 대해 당황하게 된다. 모든 것들에 대해서 살펴보고 어떤 차이점이 있는지 알아보자.\n\n해당 글은 **웹 애플리케이션의 특성과 차이점(SPA,MPA)** 에 대해 설명을 한 후에 **웹 렌더링 방식(CSR,SSR,SSG,ISR,Universal Rendering)** 에 대해 설명해보겠다!\n\n<br>\n\n<br>\n\n## SPA vs MPA (웹 애플리케이션 특성)\n\n<br>\n\n![9.gif](9.gif)\n\n<br>\n\n### Single Page Application(SPA)\n\nSPA는 하나의 브라우저 내에서 동작하는 애플리케이션이며 사용하는 동한 페이지 로딩을 필요로 하지 않는다. Gmail, Google Maps, Facebook, GitHub 등이 SPA에 해당한다.\n\n모든 SPA들은 브라우저에 자연스러운 환경을 모방하려고 하며, 훌륭한 UX를 제공하면서 페이지 리로드가 없으며, 별도의 기다리는 시간도 없다. 우리가 방문하고 사용하는 모든 컨텐츠는 하나의 웹페이지 이며, Javascript를 사용해서 로드 되기 때문에 크게 의존적이다.\n\nSPA는 마크업과 데이터를 각각 요청후, 브라우저에서 바로 페이지를 그린다. 우리는 AngularJS, Ember.js, Meteor.js, Knockout.js와 같은 진보한 Javascript를 이용하여 이 작업을 진행할 수 있다.\n\n단일 페이지 사이트들은 사용자에게 심플하면서도 쉽고 실용성있는 컨텐츠를 제공해주는 편안한 웹 공간에 사용자가 머물도록 돕는다는 장점을 가지고 있다.\n\n<br>\n\n### Multi Page Application(MPA)\n\n멀티페이지 애플리케이션들은 브라우저에서 변경사항이 있을 때서버로 서브밋 데이터를 전달하여 새로운페이지 렌더링을 요청하고 그 데이터를 표시한다. MPA는 SPA보다는 규모가 더 크다.\n\n많은 컨텐츠로 인해, 많은 UI 레벨을 갖게 된다. AJAX 덕분에 우리는 크고 복잡한 애플리케이션들이 서버와 브라우저사이에서 많은 데이터를 전송해야 하는 문제 없이 필요한 것만 데이터를 요청 할 수 있다.\n\n<br>\n\n## Client Side Rendering (CSR)\n\n![2.png](2.png)\n\n<br>\n\nCSR은 클라이언트(브라우저)에서 웹 페이지를 렌더링 하는 것이다. 모든 로직, 데이터, 템플릿, 라우팅 등을 서버가 아닌 클라이언트에서 처리하게 된다.\n\nCSR은 브라우저가 페이지 초기 HTML을 받은 후에 Javascript 파일을 다운로드하고 해석해야 되는데, 번들 크기가 크면 초기 로딩 시간이 길어지고 사용자 인터렉션이 감소해 이탈율이 높아 질 수 있기 때문에 번들 크기를 고려해야 한다.\n\n<br>\n\n### CSR 동작 방식\n\n<br>\n\n**1. 브라우저가 index.html 다운로드**\n\n사용자가 웹 페이지를 방문하면, 브라우저는 해당 웹 서버에 HTTP 요청을 보내고, 서버는 클라이언트에게 index.html 파일을 포함한 초기 응답을 보낸다. index.html 파일은 `<script>`, `<meta>`, `<link>` 와 같은 태그들을 포함하고 있으며, 일반적으로 기본 레이아웃 및 초기 구조를 정의한다.\n\n**2. 자바스크립트 번들 파일 다운로드**\n\n브라우저는 index.html을 다운로드한 후, 이 파일에 포함된 자바스크립트 번들 파일을 다운로드하는데, 해당 자바스크립트 파일에는 웹 애플리케이션의 논리 및 동작 방식에 대한 코드들이 포함되어 있다.\n\n**3. API 요청 및 동적 컨텐츠 가져오기**\n\n자바스크립트가 다운로드되면, 브라우저는 해당 파일을 해석하고 실행하게 되는데 AJAX나 Fetch API를 사용하여 서버로부터 동적 데이터를 가져오는 API 요청을 수행한다. 이러한 API 요청을 통해 서버로부터 데이터를 받아오고, 이 데이터를 파싱하여 웹 페이지에 동적으로 추가될 수 있는 형식으로 가공한다.\n\n**4. 최종 컨텐츠 렌더링**\n\nAPI 요청을 통해 받은 데이터를 가지고, 자바스크립트는 웹 페이지의 최종 컨텐츠를 동적으로 생성한다. 이 컨텐츠는 보통 사용자에게 보여질 데이터이며, 브라우저는 이를 HTML DOM(Document Object Model)에 추가하여 렌더링한다.\n\n**5. 페이지 이동 시 자바스크립트 재사용**\n\n사용자가 페이지를 이동할 때, 새로운 HTML 파일을 서버에 요청하는 대신, 이미 다운로드된 자바스크립트를 재사용하여 새로운 데이터를 가져오고 렌더링한다. 페이지 이동 시에는 전체 페이지를 다시 로드하는 것이 아니라, 필요한 부분만을 업데이트하여 사용자에게 빠른 반응성을 제공한다.\n\n<br>\n\n### CSR 장점\n\n- CSR은 이미 모든 `script`, `meta`, `link` 등이 사전에 로드되었기 때문에 로드 시간이 줄어들고, 서버를 호출할 때마다 전체 UI를 다시 로드할 필요가 없다.\n\n- 스크립트가 이미 캐싱된 경우 인터넷 없이도 해당 CSR 웹 애플리케이션을 실행할 수 있어서 지연 로딩 모듈이나 별도 API가 필요하지 않다.\n\n<br>\n\n### CSR 단점\n\n- CSR을 사용하면 브라우저는 브라우저에서 사용 가능한 컨텐츠로 HTML을 컴파일하기 전에 기본 HTML, CSS 및 모든 필수 스크립트를 로드하기 때문에 초기 로드 시간이 SSR보다 느리다.\n\n- 브라우저가 페이지를 표시하기 전에 HTML 및 JavaScript 파일을 다운로드하고 프레임 워크를 실행하는 동안 사용자는 빈페이지를 보게 되므로 사용자 경험이 좋지 않다.\n\n- 한 페이지에서 다른 페이지로 변할 경우 이를 인지 시켜주기 위해 각 페이지에 대한 메타 데이터를 설정하고 클라이언트에서 렌더링하기 위해 추가 노력이 필요하다.\n\n- 검색 엔진 크롤러가 해당 페이지에 처음 방문했을때는 빈 페이지이기 때문에 SEO에 친화적이지 않다.\n\n  > 물론 자바스크립트를 실행시킬 수 있는 구글 크롤러와 같은 검색엔진 크롤러가 등장하고 있긴하지만, 아직 많은 검색 엔진 크롤러들이 지원되지 않는다.\n\n<br>\n\n## Server Side Rendering (SSR)\n\n<br>\n\n![2.png](3.png)\n\n클라이언트 측이나 유니버셜 앱(Universal App)을 서버의 HTML로 렌더링하는 방식으로, 웹 애플리케이션의 **초기 렌더링을 서버에서 처리하고, 클라이언트에 전달하는 방식** 을 의미한다. 이를 통해 클라이언트가 서버로부터 응답을 받기 전에 데이터 패칭 및 템플릿 작성이 처리되므로 클라이언트에서 추가적인 네트워크 왕복이 발생하지 않는다.\n\n<br>\n\n### SSR 동작 방식\n\n<br>\n\n**1. 사용자 요청 처리**\n\n사용자가 웹 페이지를 방문하면, 해당 요청은 서버로 전송된다.\n\n**2. 서버 측 렌더링**\n\n서버는 필요한 데이터를 데이터베이스 또는 다른 소스로부터 가져오는 걸 시작으로 해당 요청에 대한 처리를 시작한다.\n서버는 페이지에 포함된 서버 측 스크립트를 실행하여 데이터를 가져와 페이지의 동적인 부분을 채워 초기 상태를 생성하고, 이 초기 상태와 함께 HTML 템플릿을 사용하여 전체 페이지의 HTML을 컴파일한다.\n\n**3. HTML 응답 전송**\n\n서버는 생성된 HTML을 클라이언트에게 응답으로 보내고, 이 HTML은 초기 상태와 함께 클라이언트에게 전송됩니다.\n\n**4. 브라우저에서 HTML 및 자바스크립트 처리**\n\n브라우저는 서버로부터 받은 HTML을 받은 후 화면에 표시를 하게되는데, 이 단계에서 사용자는 초기 페이지를 볼 수 있다.\n페이지를 대화형으로 만드는 데 필요한 자바스크립트 코드를 다운로드하고 실행한다. 이후에는 클라이언트 측 자바스크립트가 활성화되어 사용자의 상호작용에 따라 페이지를 업데이트하고 추가적인 데이터를 요청하고 렌더링한다.\n\n**5. 페이지 이동 시 작업 반복**\n\n사용자가 페이지를 이동할 때, 클라이언트는 서버로 새로운 요청을 보내고 SSR 프로세스가 다시 시작된다. 새로운 HTML이 서버로부터 다운로드되고 브라우저에 의해 처리되며, 이 과정에서 추가적인 상호작용이 가능한 페이지를 사용자에게 제공한다.\n\n<br>\n\n### SSR 장점\n\n- 렌더링이 준비된 HTML 파일을 브라우저에서 로드하기 때문에 CSR에 비해 초기 페이지 로드시간이 더 빠르다.(FP 및 FCP가 더 빠르다)\n\n  > FP(First Paint): 첫번째 픽셀이 스크린에 페인팅 되었을 때(시간)\n  >\n  > FCP(First Contentful Paint): DOM에 속해있는 컨텐츠 조각이 스크린에 페인팅 되는 순간(시간)\n  >\n  > FPM(First Meaningful Paint): 브라우저가 유저가 관심있어 할 만한 컨텐츠를 페인트하여 나타냈을 때까지의 시간\n\n- 서버에서 페이지 로직 및 렌더링을 실행하면 많은 자바스크립트를 클라이언트에 보내지 않아도 되므로 TTI를 빠르게 수행할 수 있다.\n\n  > TTI(Time to Interactive)는 페이지가 안정적으로 사용자 상호 작용이 가능한 상태가 된 첫 번째 콘텐츠 페인트(FCP) 이후 가장 빠른 시간을 측정\n\n- 이미 다 만들어진 페이지를 검색엔진 크롤러가 요청에 대한 응답으로 받기 때문에 SEO에 친화적이다.\n\n- 컴퓨팅 성능이 훨씬 더 뛰어난 서버를 이용해 소프트웨어 성능 영향을 줄이게 되고, 클라이언트의 부담감이 줄게 된다.\n\n<br>\n\n### SSR 단점\n\n- 페이지 이동시마다 서버에서 페이지를 생성하는데 시간이 걸리기 때문에 TTFB(Time to First Byte)가 느리다.\n\n- 초기 페이지 로드시 많은 데이터가 필요하다면 사용자 경험을 해칠 위험이 있다.\n\n- 서버는 항상 각 요청이 올때마다 HTML파일을 생성하기 때문에 CDN 수준에서의 컨텐츠 캐시가 되지 않는다.\n\n- 클라이언트에서 자바스크립트를 이용해 렌더링하는 CSR에 비해 서버 사이드에서 HTML파일과 안에 내용을 생성해야 하기 때문에 서버 호스팅이 필요하다.\n\n- SSR 프레임워크를 사용한다면 추가적인 러닝 커브에 대한 비용이 발생하고 개발 노력이 필요하다.\n\n<br>\n\n## Static Site Generator(SSG)\n\n![4.png](4.png)\n\nNext.js와 같은 프레임워크에서도 권장되는 렌더링 방식 중 하나로 SSR과는 다르게 HTML 파일의 생성 시점이 빌드 타임(build time)에 이루어진다. 그리고 사이트 생성 후 백엔드가 필요하지 않으므로 콘텐츠 전송 네트워크(CDN)을 사용한다.\n\n대체로 SSG는 제품 페이지, 뉴스 기사, 소프트웨어 문서, 블로그 등 거의 변경되지 않는 정보성 콘텐츠에 사용된다.\n\n<br>\n\n### SSG 동작 방식\n\n<br>\n\n**1. 빌드 타임 생성**\n\nSSG에서 웹 페이지의 HTML은 빌드 타임(build time)에 생성된다. 빌드 타임에는 웹 애플리케이션의 모든 페이지가 사전에 렌더링되고, 필요한 데이터가 사전에 수집되어 페이지의 내용이 정적인 HTML로 컴파된.\n\n**2. 정적 파일 생성**\n\n빌드 타임에 생성된 HTML 파일들은 서버에서 호스팅되는 정적 파일로 저장되는데, 이 파일들은 클라이언트에 의한 요청이 있을 때마다 서버에서 바로 제공되고 각 HTML 파일은 해당 페이지에 대한 모든 콘텐츠와 구조를 포함하고 있으며, 독립적으로 사용될 수 있다.\n\n**3. 엣지 캐싱**\n\nSSG에서는 엣지 캐싱(edge caching)이 일반적으로 사용되는데, **엣지 캐싱은 정적 파일을 CDN(Content Delivery Network)의 엣지 서버에 저장하여 전 세계의 사용자에게 빠르게 제공하는 기술** 이다.\nCDN은 사용자의 요청이 해당하는 정적 파일을 요구할 때, 가장 가까운 엣지 서버에서 캐시된 파일을 반환하여 응답 시간을 최소화한다.\n\n**4. HTML 응답 전송**\n\n클라이언트가 웹 페이지를 요청하면, 엣지 캐싱된 HTML 파일이 클라이언트에게 반환되고 받은 HTML 파일을 브라우저에서 렌더링하여 사용자에게 페이지를 표시한다.\n\n**5. 자바스크립트 처리**\n\n페이지가 이미 빌드 타임에 정적으로 생성되었기 때문에, 서버에 추가적인 요청을 보내지 않고도 초기 페이지를 표시할 수 있다. 그렇기 때문에 클라이언트 측 JavaScript의 사용이 제한된다. 하지만 필요에 따라 클라이언트 측 JavaScript를 사용하여 추가적인 동적 상호작용이나 기능을 구현할 수도 있다.\n\n<br>\n\n### SSG 장점\n\n- 빌드 타임에 HTML 파일이 생성되기 때문에 빠른 FP, FCP, TTI를 제공한다. 또한 매 요청마다 생성하는 것이 아니므로, SSR과 달리 일관성있게 빠른 TFB를 달성할 수 있다.\n\n- 이미 생성된 HTML 파일을 받기 때문에 SEO 친화적이다.\n\n- build 명령은 실제로 사이트를 방문하는 사람의 워크플로를 벗어나므로 시간이 좀 걸리더라도 문제되지 않는다.\n\n<br>\n\n### SSG 단점\n\n- 모든 URL에 대해 개별 HTML 파일을 생성해야 한다. 따라서 URL을 미리 예측할 수 없거나 URL을 예측할 수 없으면 적용이 어렵다.\n\n<br>\n\n## Universal Rendering\n\n<br>\n\n![5.jpeg](5.jpeg)\n\n<br>\n\nUniversal Rendering 또는 Isomorphic Rendering이라고도 불리는 개념으로 서버 측 렌더링(Server-Side Rendering, SSR)과 클라이언트 측 렌더링(Client-Side Rendering, CSR)의 장점을 결합한 접근 방식이다. 한 마디로 **브라우저와 서버 양쪽에서 동일한 코드를 실행하여 웹 페이지를 구성하는 방식** 을 의미한다\n\n<br>\n\n### Univeral Rendering 장점\n\n- 초기 로딩 속도가 빠르고 SEO에 유리한 SSR의 장점을 유지하고, 클라이언트 측 자바스크립트를 사용하여 동적 상호작용성을 제공함으로써 CSR의 장점을 활용 할 수 있다.\n- 사용자에게 빠르고 부드러운 페이지 로딩 및 상호작용을 제공하여 사용자 경험을 향상시킬 수 있다.\n\n### Univeral Rendering 단점\n\n- 별도의 서버가 필요하며, 구현 또는 구현을 위한 프레임워크 학습에 들어가는 비용이 크다.\n\n- 페이지가 빨리 로드되며 인터렉션이 가능한 것처럼 보이지만, 실제로 클라이언트에서 자바스크립트가 실행되고 이벤트 핸들러가 적용될 때까지 입력에 응답할 수 없어, 사용자 경험이 안좋아질 수 있다.\n\n<br>\n\n## Incremental Static Regeneration (ISR)\n\n<br>\n\n![6.webp](6.webp)\n\nISR(증분 정적 재생성)은 런타임 중에 정적 페이지를 만들거나 업데이트 수 있도록 해주는 SSG과 SSR의 하이브리드 솔루션\n\n<br>\n\n### ISR 동작 방식\n\n1. 사용자가 웹 페이지를 방문하면(request), 요청에 의해 페이지가 생성되지만 데이터가 오기를 기달려야하는 SSR과 달리 즉시 대체 페이지(fallback page)가 제공된다. 이 단계에서 대부분 placeholder 및 스캘래톤을 표시한다.\n\n2. 데이터가 확인되면 최종 페이지가 캐시되고, 사용자는 SSG와 마 찬가지로 캐시된 버전의 페이지를 받게 된다.\n\n3. 재검증시에도 사용자는 먼저 캐시된 버전을 받고 업데이트된 버전을 받는다. (캐싱 전략: Stale-while-revalidate)\n\n   > stale-while-revalidate는 개발자가 캐싱된 콘텐츠를 즉시 로드하는 즉시성과 갱신된 최신 콘텐츠가 향후에 사용되도록 보장하는 최신성 간의 균형을 유지하는데 도움을 주는 HTTP Cache-Control 확장 디렉티브\n\n<br>\n\n### ISR 장점\n\n- SSR과 달리 페이지가 즉시 제공되며(fallback page), 빠른 경험으로 사용자 경험도 좋아진다.\n\n<br>\n\n### ISR 단점\n\n- 페이지 디자인에 따라 FP를 지연시킬 수도 있다.\n\n<br>\n\n## 그래서 뭘 써야될까??\n\n사실 어떤 것을 쓰는지 정답은 없다. 사용하는 프로젝트의 특성에 대해서 먼저 분석하고 그 결과로 렌더링방식을 결정하면 될 것 같다.\n\n웹/앱 애플리케이션을 만들 때 사용자 경험(UE), 검색 엔지 최적화(SEO), 서버 부하, 동적 데이터 요구, 개발 및 유지보수 용이성 등에 대해서 생각해보면 좋다.\n\n사내에서는 SM,SI 개발을 동시에 하다보니 SEO 특성에 중점을 두는 것 보다는 자주 데이터가 변경되는 ISR 렌더링 방식같이 동적 컨텐츠와 데이터 변경을 다루는 방식을 선호한다. 선택하는 과정이 쉽지 않지만~! 큰 고민은 좋은 공부법이니 여러분들도 많이 고민해보면 좋겠다~\n\n<hr>\n\n## 출처 및 도움되는 링크들\n\n- [콥 노트](https://ajdkfl6445.gitbook.io/study/web/csr-vs-ssr-vs-ssg)\n- [Dev. Ella](https://dev-ellachoi.tistory.com/28)\n- [web.dev](https://web.dev/articles/rendering-on-the-web?hl=ko)\n\n```toc\n\n```\n",
      "html": "<blockquote>\n<p>🚨 해당 게시글은 <a href=\"https://hooninedev.com/240329/\">브라우저 렌더링의 모든 것</a>의 후편이니 읽고 오시면 이해가 더 잘됩니다!!</p>\n</blockquote>\n<p><img src=\"/content/240409/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>먼저, 웹 렌더링이란 웹 페이지를 사용자가 볼 수 있는 형태로 변환하는 프로세스를 의미한다. 렌더링 방식에 따라 로딩 속도, 검색 엔진 최적화(SEO), 사용자 경험 등이 달라지기 때문에 우리는 방식을 선택할 때 많이 고민할 수 밖에 없다.</p>\n<p>고민을 하다보면 CSR,SSR,SPA,MPA,SSG 등등.. 다양한 단축어에 대해 당황하게 된다. 모든 것들에 대해서 살펴보고 어떤 차이점이 있는지 알아보자.</p>\n<p>해당 글은 <strong>웹 애플리케이션의 특성과 차이점(SPA,MPA)</strong> 에 대해 설명을 한 후에 <strong>웹 렌더링 방식(CSR,SSR,SSG,ISR,Universal Rendering)</strong> 에 대해 설명해보겠다!</p>\n<h2 id=\"spa-vs-mpa-웹-애플리케이션-특성\"><a class=\"anchor\" href=\"#spa-vs-mpa-웹-애플리케이션-특성\">SPA vs MPA (웹 애플리케이션 특성)</a></h2>\n<p><img src=\"/content/240409/9.gif\" alt=\"9.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"single-page-applicationspa\"><a class=\"anchor\" href=\"#single-page-applicationspa\">Single Page Application(SPA)</a></h3>\n<p>SPA는 하나의 브라우저 내에서 동작하는 애플리케이션이며 사용하는 동한 페이지 로딩을 필요로 하지 않는다. Gmail, Google Maps, Facebook, GitHub 등이 SPA에 해당한다.</p>\n<p>모든 SPA들은 브라우저에 자연스러운 환경을 모방하려고 하며, 훌륭한 UX를 제공하면서 페이지 리로드가 없으며, 별도의 기다리는 시간도 없다. 우리가 방문하고 사용하는 모든 컨텐츠는 하나의 웹페이지 이며, Javascript를 사용해서 로드 되기 때문에 크게 의존적이다.</p>\n<p>SPA는 마크업과 데이터를 각각 요청후, 브라우저에서 바로 페이지를 그린다. 우리는 AngularJS, Ember.js, Meteor.js, Knockout.js와 같은 진보한 Javascript를 이용하여 이 작업을 진행할 수 있다.</p>\n<p>단일 페이지 사이트들은 사용자에게 심플하면서도 쉽고 실용성있는 컨텐츠를 제공해주는 편안한 웹 공간에 사용자가 머물도록 돕는다는 장점을 가지고 있다.</p>\n<h3 id=\"multi-page-applicationmpa\"><a class=\"anchor\" href=\"#multi-page-applicationmpa\">Multi Page Application(MPA)</a></h3>\n<p>멀티페이지 애플리케이션들은 브라우저에서 변경사항이 있을 때서버로 서브밋 데이터를 전달하여 새로운페이지 렌더링을 요청하고 그 데이터를 표시한다. MPA는 SPA보다는 규모가 더 크다.</p>\n<p>많은 컨텐츠로 인해, 많은 UI 레벨을 갖게 된다. AJAX 덕분에 우리는 크고 복잡한 애플리케이션들이 서버와 브라우저사이에서 많은 데이터를 전송해야 하는 문제 없이 필요한 것만 데이터를 요청 할 수 있다.</p>\n<h2 id=\"client-side-rendering-csr\"><a class=\"anchor\" href=\"#client-side-rendering-csr\">Client Side Rendering (CSR)</a></h2>\n<p><img src=\"/content/240409/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>CSR은 클라이언트(브라우저)에서 웹 페이지를 렌더링 하는 것이다. 모든 로직, 데이터, 템플릿, 라우팅 등을 서버가 아닌 클라이언트에서 처리하게 된다.</p>\n<p>CSR은 브라우저가 페이지 초기 HTML을 받은 후에 Javascript 파일을 다운로드하고 해석해야 되는데, 번들 크기가 크면 초기 로딩 시간이 길어지고 사용자 인터렉션이 감소해 이탈율이 높아 질 수 있기 때문에 번들 크기를 고려해야 한다.</p>\n<h3 id=\"csr-동작-방식\"><a class=\"anchor\" href=\"#csr-동작-방식\">CSR 동작 방식</a></h3>\n<p><strong>1. 브라우저가 index.html 다운로드</strong></p>\n<p>사용자가 웹 페이지를 방문하면, 브라우저는 해당 웹 서버에 HTTP 요청을 보내고, 서버는 클라이언트에게 index.html 파일을 포함한 초기 응답을 보낸다. index.html 파일은 <code>&#x3C;script></code>, <code>&#x3C;meta></code>, <code>&#x3C;link></code> 와 같은 태그들을 포함하고 있으며, 일반적으로 기본 레이아웃 및 초기 구조를 정의한다.</p>\n<p><strong>2. 자바스크립트 번들 파일 다운로드</strong></p>\n<p>브라우저는 index.html을 다운로드한 후, 이 파일에 포함된 자바스크립트 번들 파일을 다운로드하는데, 해당 자바스크립트 파일에는 웹 애플리케이션의 논리 및 동작 방식에 대한 코드들이 포함되어 있다.</p>\n<p><strong>3. API 요청 및 동적 컨텐츠 가져오기</strong></p>\n<p>자바스크립트가 다운로드되면, 브라우저는 해당 파일을 해석하고 실행하게 되는데 AJAX나 Fetch API를 사용하여 서버로부터 동적 데이터를 가져오는 API 요청을 수행한다. 이러한 API 요청을 통해 서버로부터 데이터를 받아오고, 이 데이터를 파싱하여 웹 페이지에 동적으로 추가될 수 있는 형식으로 가공한다.</p>\n<p><strong>4. 최종 컨텐츠 렌더링</strong></p>\n<p>API 요청을 통해 받은 데이터를 가지고, 자바스크립트는 웹 페이지의 최종 컨텐츠를 동적으로 생성한다. 이 컨텐츠는 보통 사용자에게 보여질 데이터이며, 브라우저는 이를 HTML DOM(Document Object Model)에 추가하여 렌더링한다.</p>\n<p><strong>5. 페이지 이동 시 자바스크립트 재사용</strong></p>\n<p>사용자가 페이지를 이동할 때, 새로운 HTML 파일을 서버에 요청하는 대신, 이미 다운로드된 자바스크립트를 재사용하여 새로운 데이터를 가져오고 렌더링한다. 페이지 이동 시에는 전체 페이지를 다시 로드하는 것이 아니라, 필요한 부분만을 업데이트하여 사용자에게 빠른 반응성을 제공한다.</p>\n<h3 id=\"csr-장점\"><a class=\"anchor\" href=\"#csr-장점\">CSR 장점</a></h3>\n<ul>\n<li>\n<p>CSR은 이미 모든 <code>script</code>, <code>meta</code>, <code>link</code> 등이 사전에 로드되었기 때문에 로드 시간이 줄어들고, 서버를 호출할 때마다 전체 UI를 다시 로드할 필요가 없다.</p>\n</li>\n<li>\n<p>스크립트가 이미 캐싱된 경우 인터넷 없이도 해당 CSR 웹 애플리케이션을 실행할 수 있어서 지연 로딩 모듈이나 별도 API가 필요하지 않다.</p>\n</li>\n</ul>\n<h3 id=\"csr-단점\"><a class=\"anchor\" href=\"#csr-단점\">CSR 단점</a></h3>\n<ul>\n<li>\n<p>CSR을 사용하면 브라우저는 브라우저에서 사용 가능한 컨텐츠로 HTML을 컴파일하기 전에 기본 HTML, CSS 및 모든 필수 스크립트를 로드하기 때문에 초기 로드 시간이 SSR보다 느리다.</p>\n</li>\n<li>\n<p>브라우저가 페이지를 표시하기 전에 HTML 및 JavaScript 파일을 다운로드하고 프레임 워크를 실행하는 동안 사용자는 빈페이지를 보게 되므로 사용자 경험이 좋지 않다.</p>\n</li>\n<li>\n<p>한 페이지에서 다른 페이지로 변할 경우 이를 인지 시켜주기 위해 각 페이지에 대한 메타 데이터를 설정하고 클라이언트에서 렌더링하기 위해 추가 노력이 필요하다.</p>\n</li>\n<li>\n<p>검색 엔진 크롤러가 해당 페이지에 처음 방문했을때는 빈 페이지이기 때문에 SEO에 친화적이지 않다.</p>\n<blockquote>\n<p>물론 자바스크립트를 실행시킬 수 있는 구글 크롤러와 같은 검색엔진 크롤러가 등장하고 있긴하지만, 아직 많은 검색 엔진 크롤러들이 지원되지 않는다.</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"server-side-rendering-ssr\"><a class=\"anchor\" href=\"#server-side-rendering-ssr\">Server Side Rendering (SSR)</a></h2>\n<p><img src=\"/content/240409/3.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>클라이언트 측이나 유니버셜 앱(Universal App)을 서버의 HTML로 렌더링하는 방식으로, 웹 애플리케이션의 <strong>초기 렌더링을 서버에서 처리하고, 클라이언트에 전달하는 방식</strong> 을 의미한다. 이를 통해 클라이언트가 서버로부터 응답을 받기 전에 데이터 패칭 및 템플릿 작성이 처리되므로 클라이언트에서 추가적인 네트워크 왕복이 발생하지 않는다.</p>\n<h3 id=\"ssr-동작-방식\"><a class=\"anchor\" href=\"#ssr-동작-방식\">SSR 동작 방식</a></h3>\n<p><strong>1. 사용자 요청 처리</strong></p>\n<p>사용자가 웹 페이지를 방문하면, 해당 요청은 서버로 전송된다.</p>\n<p><strong>2. 서버 측 렌더링</strong></p>\n<p>서버는 필요한 데이터를 데이터베이스 또는 다른 소스로부터 가져오는 걸 시작으로 해당 요청에 대한 처리를 시작한다.\n서버는 페이지에 포함된 서버 측 스크립트를 실행하여 데이터를 가져와 페이지의 동적인 부분을 채워 초기 상태를 생성하고, 이 초기 상태와 함께 HTML 템플릿을 사용하여 전체 페이지의 HTML을 컴파일한다.</p>\n<p><strong>3. HTML 응답 전송</strong></p>\n<p>서버는 생성된 HTML을 클라이언트에게 응답으로 보내고, 이 HTML은 초기 상태와 함께 클라이언트에게 전송됩니다.</p>\n<p><strong>4. 브라우저에서 HTML 및 자바스크립트 처리</strong></p>\n<p>브라우저는 서버로부터 받은 HTML을 받은 후 화면에 표시를 하게되는데, 이 단계에서 사용자는 초기 페이지를 볼 수 있다.\n페이지를 대화형으로 만드는 데 필요한 자바스크립트 코드를 다운로드하고 실행한다. 이후에는 클라이언트 측 자바스크립트가 활성화되어 사용자의 상호작용에 따라 페이지를 업데이트하고 추가적인 데이터를 요청하고 렌더링한다.</p>\n<p><strong>5. 페이지 이동 시 작업 반복</strong></p>\n<p>사용자가 페이지를 이동할 때, 클라이언트는 서버로 새로운 요청을 보내고 SSR 프로세스가 다시 시작된다. 새로운 HTML이 서버로부터 다운로드되고 브라우저에 의해 처리되며, 이 과정에서 추가적인 상호작용이 가능한 페이지를 사용자에게 제공한다.</p>\n<h3 id=\"ssr-장점\"><a class=\"anchor\" href=\"#ssr-장점\">SSR 장점</a></h3>\n<ul>\n<li>\n<p>렌더링이 준비된 HTML 파일을 브라우저에서 로드하기 때문에 CSR에 비해 초기 페이지 로드시간이 더 빠르다.(FP 및 FCP가 더 빠르다)</p>\n<blockquote>\n<p>FP(First Paint): 첫번째 픽셀이 스크린에 페인팅 되었을 때(시간)</p>\n<p>FCP(First Contentful Paint): DOM에 속해있는 컨텐츠 조각이 스크린에 페인팅 되는 순간(시간)</p>\n<p>FPM(First Meaningful Paint): 브라우저가 유저가 관심있어 할 만한 컨텐츠를 페인트하여 나타냈을 때까지의 시간</p>\n</blockquote>\n</li>\n<li>\n<p>서버에서 페이지 로직 및 렌더링을 실행하면 많은 자바스크립트를 클라이언트에 보내지 않아도 되므로 TTI를 빠르게 수행할 수 있다.</p>\n<blockquote>\n<p>TTI(Time to Interactive)는 페이지가 안정적으로 사용자 상호 작용이 가능한 상태가 된 첫 번째 콘텐츠 페인트(FCP) 이후 가장 빠른 시간을 측정</p>\n</blockquote>\n</li>\n<li>\n<p>이미 다 만들어진 페이지를 검색엔진 크롤러가 요청에 대한 응답으로 받기 때문에 SEO에 친화적이다.</p>\n</li>\n<li>\n<p>컴퓨팅 성능이 훨씬 더 뛰어난 서버를 이용해 소프트웨어 성능 영향을 줄이게 되고, 클라이언트의 부담감이 줄게 된다.</p>\n</li>\n</ul>\n<h3 id=\"ssr-단점\"><a class=\"anchor\" href=\"#ssr-단점\">SSR 단점</a></h3>\n<ul>\n<li>\n<p>페이지 이동시마다 서버에서 페이지를 생성하는데 시간이 걸리기 때문에 TTFB(Time to First Byte)가 느리다.</p>\n</li>\n<li>\n<p>초기 페이지 로드시 많은 데이터가 필요하다면 사용자 경험을 해칠 위험이 있다.</p>\n</li>\n<li>\n<p>서버는 항상 각 요청이 올때마다 HTML파일을 생성하기 때문에 CDN 수준에서의 컨텐츠 캐시가 되지 않는다.</p>\n</li>\n<li>\n<p>클라이언트에서 자바스크립트를 이용해 렌더링하는 CSR에 비해 서버 사이드에서 HTML파일과 안에 내용을 생성해야 하기 때문에 서버 호스팅이 필요하다.</p>\n</li>\n<li>\n<p>SSR 프레임워크를 사용한다면 추가적인 러닝 커브에 대한 비용이 발생하고 개발 노력이 필요하다.</p>\n</li>\n</ul>\n<h2 id=\"static-site-generatorssg\"><a class=\"anchor\" href=\"#static-site-generatorssg\">Static Site Generator(SSG)</a></h2>\n<p><img src=\"/content/240409/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Next.js와 같은 프레임워크에서도 권장되는 렌더링 방식 중 하나로 SSR과는 다르게 HTML 파일의 생성 시점이 빌드 타임(build time)에 이루어진다. 그리고 사이트 생성 후 백엔드가 필요하지 않으므로 콘텐츠 전송 네트워크(CDN)을 사용한다.</p>\n<p>대체로 SSG는 제품 페이지, 뉴스 기사, 소프트웨어 문서, 블로그 등 거의 변경되지 않는 정보성 콘텐츠에 사용된다.</p>\n<h3 id=\"ssg-동작-방식\"><a class=\"anchor\" href=\"#ssg-동작-방식\">SSG 동작 방식</a></h3>\n<p><strong>1. 빌드 타임 생성</strong></p>\n<p>SSG에서 웹 페이지의 HTML은 빌드 타임(build time)에 생성된다. 빌드 타임에는 웹 애플리케이션의 모든 페이지가 사전에 렌더링되고, 필요한 데이터가 사전에 수집되어 페이지의 내용이 정적인 HTML로 컴파된.</p>\n<p><strong>2. 정적 파일 생성</strong></p>\n<p>빌드 타임에 생성된 HTML 파일들은 서버에서 호스팅되는 정적 파일로 저장되는데, 이 파일들은 클라이언트에 의한 요청이 있을 때마다 서버에서 바로 제공되고 각 HTML 파일은 해당 페이지에 대한 모든 콘텐츠와 구조를 포함하고 있으며, 독립적으로 사용될 수 있다.</p>\n<p><strong>3. 엣지 캐싱</strong></p>\n<p>SSG에서는 엣지 캐싱(edge caching)이 일반적으로 사용되는데, <strong>엣지 캐싱은 정적 파일을 CDN(Content Delivery Network)의 엣지 서버에 저장하여 전 세계의 사용자에게 빠르게 제공하는 기술</strong> 이다.\nCDN은 사용자의 요청이 해당하는 정적 파일을 요구할 때, 가장 가까운 엣지 서버에서 캐시된 파일을 반환하여 응답 시간을 최소화한다.</p>\n<p><strong>4. HTML 응답 전송</strong></p>\n<p>클라이언트가 웹 페이지를 요청하면, 엣지 캐싱된 HTML 파일이 클라이언트에게 반환되고 받은 HTML 파일을 브라우저에서 렌더링하여 사용자에게 페이지를 표시한다.</p>\n<p><strong>5. 자바스크립트 처리</strong></p>\n<p>페이지가 이미 빌드 타임에 정적으로 생성되었기 때문에, 서버에 추가적인 요청을 보내지 않고도 초기 페이지를 표시할 수 있다. 그렇기 때문에 클라이언트 측 JavaScript의 사용이 제한된다. 하지만 필요에 따라 클라이언트 측 JavaScript를 사용하여 추가적인 동적 상호작용이나 기능을 구현할 수도 있다.</p>\n<h3 id=\"ssg-장점\"><a class=\"anchor\" href=\"#ssg-장점\">SSG 장점</a></h3>\n<ul>\n<li>\n<p>빌드 타임에 HTML 파일이 생성되기 때문에 빠른 FP, FCP, TTI를 제공한다. 또한 매 요청마다 생성하는 것이 아니므로, SSR과 달리 일관성있게 빠른 TFB를 달성할 수 있다.</p>\n</li>\n<li>\n<p>이미 생성된 HTML 파일을 받기 때문에 SEO 친화적이다.</p>\n</li>\n<li>\n<p>build 명령은 실제로 사이트를 방문하는 사람의 워크플로를 벗어나므로 시간이 좀 걸리더라도 문제되지 않는다.</p>\n</li>\n</ul>\n<h3 id=\"ssg-단점\"><a class=\"anchor\" href=\"#ssg-단점\">SSG 단점</a></h3>\n<ul>\n<li>모든 URL에 대해 개별 HTML 파일을 생성해야 한다. 따라서 URL을 미리 예측할 수 없거나 URL을 예측할 수 없으면 적용이 어렵다.</li>\n</ul>\n<h2 id=\"universal-rendering\"><a class=\"anchor\" href=\"#universal-rendering\">Universal Rendering</a></h2>\n<p><img src=\"/content/240409/5.jpeg\" alt=\"5.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Universal Rendering 또는 Isomorphic Rendering이라고도 불리는 개념으로 서버 측 렌더링(Server-Side Rendering, SSR)과 클라이언트 측 렌더링(Client-Side Rendering, CSR)의 장점을 결합한 접근 방식이다. 한 마디로 <strong>브라우저와 서버 양쪽에서 동일한 코드를 실행하여 웹 페이지를 구성하는 방식</strong> 을 의미한다</p>\n<h3 id=\"univeral-rendering-장점\"><a class=\"anchor\" href=\"#univeral-rendering-장점\">Univeral Rendering 장점</a></h3>\n<ul>\n<li>초기 로딩 속도가 빠르고 SEO에 유리한 SSR의 장점을 유지하고, 클라이언트 측 자바스크립트를 사용하여 동적 상호작용성을 제공함으로써 CSR의 장점을 활용 할 수 있다.</li>\n<li>사용자에게 빠르고 부드러운 페이지 로딩 및 상호작용을 제공하여 사용자 경험을 향상시킬 수 있다.</li>\n</ul>\n<h3 id=\"univeral-rendering-단점\"><a class=\"anchor\" href=\"#univeral-rendering-단점\">Univeral Rendering 단점</a></h3>\n<ul>\n<li>\n<p>별도의 서버가 필요하며, 구현 또는 구현을 위한 프레임워크 학습에 들어가는 비용이 크다.</p>\n</li>\n<li>\n<p>페이지가 빨리 로드되며 인터렉션이 가능한 것처럼 보이지만, 실제로 클라이언트에서 자바스크립트가 실행되고 이벤트 핸들러가 적용될 때까지 입력에 응답할 수 없어, 사용자 경험이 안좋아질 수 있다.</p>\n</li>\n</ul>\n<h2 id=\"incremental-static-regeneration-isr\"><a class=\"anchor\" href=\"#incremental-static-regeneration-isr\">Incremental Static Regeneration (ISR)</a></h2>\n<p><img src=\"/content/240409/6.webp\" alt=\"6.webp\" loading=\"lazy\" decoding=\"async\"></p>\n<p>ISR(증분 정적 재생성)은 런타임 중에 정적 페이지를 만들거나 업데이트 수 있도록 해주는 SSG과 SSR의 하이브리드 솔루션</p>\n<h3 id=\"isr-동작-방식\"><a class=\"anchor\" href=\"#isr-동작-방식\">ISR 동작 방식</a></h3>\n<ol>\n<li>\n<p>사용자가 웹 페이지를 방문하면(request), 요청에 의해 페이지가 생성되지만 데이터가 오기를 기달려야하는 SSR과 달리 즉시 대체 페이지(fallback page)가 제공된다. 이 단계에서 대부분 placeholder 및 스캘래톤을 표시한다.</p>\n</li>\n<li>\n<p>데이터가 확인되면 최종 페이지가 캐시되고, 사용자는 SSG와 마 찬가지로 캐시된 버전의 페이지를 받게 된다.</p>\n</li>\n<li>\n<p>재검증시에도 사용자는 먼저 캐시된 버전을 받고 업데이트된 버전을 받는다. (캐싱 전략: Stale-while-revalidate)</p>\n<blockquote>\n<p>stale-while-revalidate는 개발자가 캐싱된 콘텐츠를 즉시 로드하는 즉시성과 갱신된 최신 콘텐츠가 향후에 사용되도록 보장하는 최신성 간의 균형을 유지하는데 도움을 주는 HTTP Cache-Control 확장 디렉티브</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"isr-장점\"><a class=\"anchor\" href=\"#isr-장점\">ISR 장점</a></h3>\n<ul>\n<li>SSR과 달리 페이지가 즉시 제공되며(fallback page), 빠른 경험으로 사용자 경험도 좋아진다.</li>\n</ul>\n<h3 id=\"isr-단점\"><a class=\"anchor\" href=\"#isr-단점\">ISR 단점</a></h3>\n<ul>\n<li>페이지 디자인에 따라 FP를 지연시킬 수도 있다.</li>\n</ul>\n<h2 id=\"그래서-뭘-써야될까\"><a class=\"anchor\" href=\"#그래서-뭘-써야될까\">그래서 뭘 써야될까??</a></h2>\n<p>사실 어떤 것을 쓰는지 정답은 없다. 사용하는 프로젝트의 특성에 대해서 먼저 분석하고 그 결과로 렌더링방식을 결정하면 될 것 같다.</p>\n<p>웹/앱 애플리케이션을 만들 때 사용자 경험(UE), 검색 엔지 최적화(SEO), 서버 부하, 동적 데이터 요구, 개발 및 유지보수 용이성 등에 대해서 생각해보면 좋다.</p>\n<p>사내에서는 SM,SI 개발을 동시에 하다보니 SEO 특성에 중점을 두는 것 보다는 자주 데이터가 변경되는 ISR 렌더링 방식같이 동적 컨텐츠와 데이터 변경을 다루는 방식을 선호한다. 선택하는 과정이 쉽지 않지만~! 큰 고민은 좋은 공부법이니 여러분들도 많이 고민해보면 좋겠다~</p>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<ul>\n<li><a href=\"https://ajdkfl6445.gitbook.io/study/web/csr-vs-ssr-vs-ssg\">콥 노트</a></li>\n<li><a href=\"https://dev-ellachoi.tistory.com/28\">Dev. Ella</a></li>\n<li><a href=\"https://web.dev/articles/rendering-on-the-web?hl=ko\">web.dev</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240409/index.md",
    "_raw": {
      "sourceFilePath": "240409/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240409",
      "contentType": "markdown",
      "flattenedPath": "240409"
    },
    "type": "Post",
    "slug": "/240409",
    "categoryArray": [
      "프론트엔드"
    ],
    "readingTime": "24 min read",
    "excerpt": "해당 게시글은 브라우저 렌더링의 모든 것의 후편이니 읽고 오시면 이해가 더 잘됩니다!! 먼저, 웹 렌더링이란 웹 페이지를 사용자가 볼 수 있는 형태로 변환하는 프로세스를 의미한다. 렌더링 방식에 따라 로딩 속도, 검색 엔진 최적화(SEO), 사용자 경험 등이 달라지기 때문에 우리는 방식을 선택할 때 많이 고민할 수 밖에 없다. 고민을 하다보면 CSR,SSR..."
  },
  {
    "title": "useEffect의 Dependency로 useRef를 사용해보자!",
    "date": "2024-04-19T00:00:00.000Z",
    "categories": "소박한궁금증 React",
    "body": {
      "raw": "\n<br>\n\n갑자기 작업하다가 궁금해져서 적는 첫번째 오이소박한 궁금증!!\n\n![1.jpeg](1.jpeg)\n\n<br>\n\n## useEffect의 dependency에 useRef를 넣으면?\n\nuseEffect 의 []에 의존성(dependency)를 넣을 수 있다! ~~이건 다 알고 있겠죠!?~~\n\n그러면 리렌더링이 될 때 어느 시점에 의존성이 작동 될 까!?\n\n긴말 말고 예시코드를 보자!\n\n![2.png](2.png)\n\n<br>\n\n위 코드는 useRef의 current, useState의 state를 handleButtonClick 함수를 이용해서 1씩 올려주는 코드다.\n\nuseEffect의 dependency에 useRef의 ref와 ref.current 의 값을 넣어보고 동작을 비교해보자~!!\n\n<br>\n\n### [ref]\n\n<br>\n\n```typescript\nuseEffect(() => {\n  conosle.log('Ref의 값:', ref);\n}, [ref]);\n```\n\n<br>\n\n<video width=\"700\" height=\"500\" controls>\n  <source src=\"3.mov\" type=\"video/mp4\">\n</video>\n\n<br>\n\nuseRef의 ref 객체를 dependency에 직접 넣어주게 되면 useEffect가 변경사항을 감지하지 못하고 리렌더링 되지 않는다.. 하지만 값은 변경된다!!!\n\n<br>\n\n### [ref.current]\n\n<br>\n\n```typescript\nuseEffect(() => {\n  conosle.log('Ref의 값:', ref);\n}, [ref.current]);\n```\n\n<br>\n\n<video width=\"700\" height=\"500\" controls >\n  <source src=\"4.mov\" type=\"video/mp4\">\n</video>\n\n<br>\n\n그리고 useRef의 ref.current 값 을 dependency에 직접 넣어주게 되면 useEffect가 변경사항을 감지하고 리렌더링을 하게된다.\n\n<br>\n\n## 왜 이럴까??\n\n![5.jpeg](5.jpeg)\n\nuseEffect의 의존성 배열에 ref를 직접 넣으면 리렌더링이 발생하지 않는 이유는 useEffect의 의존성 배열은 값의 변경 여부를 기준으로 한다.\n\n> ⚠️⚠️ useEffect dependency\n>\n> 값들의 변경 여부를 판단할 때 얕은 비교(shallow comparison)가 이루어지기 때문에 배열 내부의 값들이 단순한 원시값(숫자, 문자열 등)이거나 참조 타입의 경우에는 그 참조가 동일한지를 확인한다.\n>\n> 만약 배열 내부의 객체나 배열과 같은 참조 타입의 값이 변경되었다고 해도, 배열 내의 객체나 배열의 참조 자체가 변경되지 않으면 useEffect는 다시 실행되지 않는다.\n\nref 변수 자체는 컴포넌트 내부에서 변경되는 것이 아니라, 그 안에 있는 current 속성이 변경될 때만 의존성이 작동해야 한다. 그러나 ref 변수의 참조 자체는 항상 동일하므로 의존성 배열에 ref를 직접 넣는다고 해서 useEffect가 리렌더링을 유도하지 않는다.\n\n반면에 ref.current를 의존성 배열에 넣으면 useEffect는 ref.current 값이 변경될 때마다 다시 실행된다. ref.current 값은 직접 변경되는 값이므로 이를 의존성으로 사용하면 useEffect는 해당 값의 변경을 감지하여 다시 실행되고, 리렌더링이 발생한다.\n\n이를 통해 useEffect의 의존성 배열에는 값의 변경을 감지할 수 있는 항목을 포함해야 하며, ref 변수의 경우에는 주로 ref.current와 같은 값을 사용하여 의존성을 설정하는 것이 적절하다.\n\n<br>\n\n<strong>한줄요약 : ref 변수의 참조 자체가 변경되는 것이 아니라 current 속성이 변경될 때만 의존성이 작동 </strong>\n\n```toc\n\n```\n",
      "html": "<p>갑자기 작업하다가 궁금해져서 적는 첫번째 오이소박한 궁금증!!</p>\n<p><img src=\"/content/240419/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"useeffect의-dependency에-useref를-넣으면\"><a class=\"anchor\" href=\"#useeffect의-dependency에-useref를-넣으면\">useEffect의 dependency에 useRef를 넣으면?</a></h2>\n<p>useEffect 의 []에 의존성(dependency)를 넣을 수 있다! ~~이건 다 알고 있겠죠!?~~</p>\n<p>그러면 리렌더링이 될 때 어느 시점에 의존성이 작동 될 까!?</p>\n<p>긴말 말고 예시코드를 보자!</p>\n<p><img src=\"/content/240419/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>위 코드는 useRef의 current, useState의 state를 handleButtonClick 함수를 이용해서 1씩 올려주는 코드다.</p>\n<p>useEffect의 dependency에 useRef의 ref와 ref.current 의 값을 넣어보고 동작을 비교해보자~!!</p>\n<h3 id=\"ref\"><a class=\"anchor\" href=\"#ref\">[ref]</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  conosle.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Ref의 값:'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, ref);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, [ref]);</span></span></code></pre></figure>\n<p>useRef의 ref 객체를 dependency에 직접 넣어주게 되면 useEffect가 변경사항을 감지하지 못하고 리렌더링 되지 않는다.. 하지만 값은 변경된다!!!</p>\n<h3 id=\"refcurrent\"><a class=\"anchor\" href=\"#refcurrent\">[ref.current]</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  conosle.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Ref의 값:'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, ref);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, [ref.current]);</span></span></code></pre></figure>\n<p>그리고 useRef의 ref.current 값 을 dependency에 직접 넣어주게 되면 useEffect가 변경사항을 감지하고 리렌더링을 하게된다.</p>\n<h2 id=\"왜-이럴까\"><a class=\"anchor\" href=\"#왜-이럴까\">왜 이럴까??</a></h2>\n<p><img src=\"/content/240419/5.jpeg\" alt=\"5.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>useEffect의 의존성 배열에 ref를 직접 넣으면 리렌더링이 발생하지 않는 이유는 useEffect의 의존성 배열은 값의 변경 여부를 기준으로 한다.</p>\n<blockquote>\n<p>⚠️⚠️ useEffect dependency</p>\n<p>값들의 변경 여부를 판단할 때 얕은 비교(shallow comparison)가 이루어지기 때문에 배열 내부의 값들이 단순한 원시값(숫자, 문자열 등)이거나 참조 타입의 경우에는 그 참조가 동일한지를 확인한다.</p>\n<p>만약 배열 내부의 객체나 배열과 같은 참조 타입의 값이 변경되었다고 해도, 배열 내의 객체나 배열의 참조 자체가 변경되지 않으면 useEffect는 다시 실행되지 않는다.</p>\n</blockquote>\n<p>ref 변수 자체는 컴포넌트 내부에서 변경되는 것이 아니라, 그 안에 있는 current 속성이 변경될 때만 의존성이 작동해야 한다. 그러나 ref 변수의 참조 자체는 항상 동일하므로 의존성 배열에 ref를 직접 넣는다고 해서 useEffect가 리렌더링을 유도하지 않는다.</p>\n<p>반면에 ref.current를 의존성 배열에 넣으면 useEffect는 ref.current 값이 변경될 때마다 다시 실행된다. ref.current 값은 직접 변경되는 값이므로 이를 의존성으로 사용하면 useEffect는 해당 값의 변경을 감지하여 다시 실행되고, 리렌더링이 발생한다.</p>\n<p>이를 통해 useEffect의 의존성 배열에는 값의 변경을 감지할 수 있는 항목을 포함해야 하며, ref 변수의 경우에는 주로 ref.current와 같은 값을 사용하여 의존성을 설정하는 것이 적절하다.</p>\n<p>한줄요약 : ref 변수의 참조 자체가 변경되는 것이 아니라 current 속성이 변경될 때만 의존성이 작동 </p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240419/index.md",
    "_raw": {
      "sourceFilePath": "240419/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240419",
      "contentType": "markdown",
      "flattenedPath": "240419"
    },
    "type": "Post",
    "slug": "/240419",
    "categoryArray": [
      "소박한궁금증",
      "React"
    ],
    "readingTime": "4 min read",
    "excerpt": "갑자기 작업하다가 궁금해져서 적는 첫번째 오이소박한 궁금증!! useEffect의 dependency에 useRef를 넣으면? useEffect 의 []에 의존성(dependency)를 넣을 수 있다! 이건 다 알고 있겠죠!? 그러면 리렌더링이 될 때 어느 시점에 의존성이 작동 될 까!? 긴말 말고 예시코드를 보자! 위 코드는 useRef의 current,..."
  },
  {
    "title": "LinkedList vs ArrayList : 어떤 것을 선택해야 할까요?",
    "date": "2024-04-24T00:00:00.000Z",
    "categories": "소박한궁금증 자료구조",
    "draft": true,
    "body": {
      "raw": "\n![3.png](2.png)\n\n<br>\n\n<h4>링크드인을 접속할려고 했다.</h4>\n\n<br>\n\n![1.png](1.png)\n\n<br>\n\nLinked... 라고 치는데 밑에 LinkedList가 나왔다.. ~~(그 와중에 린다닷컴은 뭐지?)~~\n\n그 이후에 새로 알게된 내용이 많아 기록을 남겨볼려고한다.\n\n<br>\n\n## LikedList\n\nLinkedList는 내부적으로 양방향의 연결 리스트로 구성되어 있어 참조하려는 원소에 따라 처음부터 정방향 또는 역순으로 순회할 수 있다.\n\n적은 양의 데이터를 추가하거나 삭제할 때는 문제가 없지만, 양이 많아질수록 속도가 늦어지는 배열의 단점을 보완하기 위해 LinkedList가 생겨났다.\n\nLinkedList는 순차적 접근이고, 해당 위치의 노드를 찾는 데에 시간이 소비되어 검색의 속도가 느리다. 그렇지만 LinkedList는 데이터를 추가·삭제시 가리키고 있는 주소 값만 변경해주면 되기 때문에 ArrayList에 비해 상당히 효율적이고 중간에 있는 노드를 삭제해주면 양쪽에 있는 노드를 서로 이어주면 되기 때문에 ArrayList보다 상대적으로 작업이 빠르다.\n\n<br>\n\n### 단점\n\n데이터를 get 하는 과정에서 ArrayList는 무작위 접근이 가능하지만, **LinkedList에서는 순차접근만 가능**하다. 그렇기 때문에 여러 곳은 산재해 저장되어있는 노드들을 접근하는데 있어서 긴 시간이 소요된다. 특히 singly LinkedList는 단방향성을 지니고 있기 때문에, index를 이용하여 자료를 검색하는 애플리케이션에는 적합하지 않다.\n\n참조자(next, prev)를 위해 추가적인 메모리를 할당해야되어서 **추가적인 공간이 필요**하다.\n\n<br>\n\n## ArrayList\n\nArrayList는 기본적으로 배열을 사용하지만 일반 배열과 차이점이 있다.\n\n일반 배열은 처음에 메모리를 할당할 때 크기를 지정해주어야 하지만, ArrayList는 크기를 지정하지 않고 동적으로 값을 삽입하고 삭제할 수 있다.\n\nArrayList는 각 데이터의 index를 가지고 있고 무작위 접근이 가능하기 때문에, 해당 index의 데이터를 한번에 가져올 수 있고 데이터의 삽입과 삭제시 위치에 따라 그 위치까지 이동하는 시간이 발생한다. 삽입과 삭제가 많다면 ArrayList는 비효율적이다.\n\n### 단점\n\n데이터들이 지속적으로 삭제되는 과정에서 ArrayList에서는 그 공간 만큼 낭비되는 메모리가 많아지게 되고, **리사이징 처리에서 시간이 많이 소모**된다.\n\n<br>\n\n## 그래서 뭘 써야할까?\n\n![4.png](4.png)\n\nArrayList 와 LinkedList 중에 어느걸 사용하면 되냐고 묻는다면, **삽입 / 삭제가 빈번하면 LinkedList**를, **요소 가져오기가 빈번하면 ArrayList**를 사용하면 된다.\n\n하지만 실질적으로 별 차이가 없다(테스트 진행할 때 나노초까지 비교해야 차이가 보이기 때문)\n\n<br>\n\n## 출처 및 도움되는 링크들\n\n- [LinkedList](https://opentutorials.org/module/1335/8821)\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/240424/2.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/240424/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Linked... 라고 치는데 밑에 LinkedList가 나왔다.. ~~(그 와중에 린다닷컴은 뭐지?)~~</p>\n<p>그 이후에 새로 알게된 내용이 많아 기록을 남겨볼려고한다.</p>\n<h2 id=\"likedlist\"><a class=\"anchor\" href=\"#likedlist\">LikedList</a></h2>\n<p>LinkedList는 내부적으로 양방향의 연결 리스트로 구성되어 있어 참조하려는 원소에 따라 처음부터 정방향 또는 역순으로 순회할 수 있다.</p>\n<p>적은 양의 데이터를 추가하거나 삭제할 때는 문제가 없지만, 양이 많아질수록 속도가 늦어지는 배열의 단점을 보완하기 위해 LinkedList가 생겨났다.</p>\n<p>LinkedList는 순차적 접근이고, 해당 위치의 노드를 찾는 데에 시간이 소비되어 검색의 속도가 느리다. 그렇지만 LinkedList는 데이터를 추가·삭제시 가리키고 있는 주소 값만 변경해주면 되기 때문에 ArrayList에 비해 상당히 효율적이고 중간에 있는 노드를 삭제해주면 양쪽에 있는 노드를 서로 이어주면 되기 때문에 ArrayList보다 상대적으로 작업이 빠르다.</p>\n<h3 id=\"단점\"><a class=\"anchor\" href=\"#단점\">단점</a></h3>\n<p>데이터를 get 하는 과정에서 ArrayList는 무작위 접근이 가능하지만, <strong>LinkedList에서는 순차접근만 가능</strong>하다. 그렇기 때문에 여러 곳은 산재해 저장되어있는 노드들을 접근하는데 있어서 긴 시간이 소요된다. 특히 singly LinkedList는 단방향성을 지니고 있기 때문에, index를 이용하여 자료를 검색하는 애플리케이션에는 적합하지 않다.</p>\n<p>참조자(next, prev)를 위해 추가적인 메모리를 할당해야되어서 <strong>추가적인 공간이 필요</strong>하다.</p>\n<h2 id=\"arraylist\"><a class=\"anchor\" href=\"#arraylist\">ArrayList</a></h2>\n<p>ArrayList는 기본적으로 배열을 사용하지만 일반 배열과 차이점이 있다.</p>\n<p>일반 배열은 처음에 메모리를 할당할 때 크기를 지정해주어야 하지만, ArrayList는 크기를 지정하지 않고 동적으로 값을 삽입하고 삭제할 수 있다.</p>\n<p>ArrayList는 각 데이터의 index를 가지고 있고 무작위 접근이 가능하기 때문에, 해당 index의 데이터를 한번에 가져올 수 있고 데이터의 삽입과 삭제시 위치에 따라 그 위치까지 이동하는 시간이 발생한다. 삽입과 삭제가 많다면 ArrayList는 비효율적이다.</p>\n<h3 id=\"단점-1\"><a class=\"anchor\" href=\"#단점-1\">단점</a></h3>\n<p>데이터들이 지속적으로 삭제되는 과정에서 ArrayList에서는 그 공간 만큼 낭비되는 메모리가 많아지게 되고, <strong>리사이징 처리에서 시간이 많이 소모</strong>된다.</p>\n<h2 id=\"그래서-뭘-써야할까\"><a class=\"anchor\" href=\"#그래서-뭘-써야할까\">그래서 뭘 써야할까?</a></h2>\n<p><img src=\"/content/240424/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>ArrayList 와 LinkedList 중에 어느걸 사용하면 되냐고 묻는다면, <strong>삽입 / 삭제가 빈번하면 LinkedList</strong>를, <strong>요소 가져오기가 빈번하면 ArrayList</strong>를 사용하면 된다.</p>\n<p>하지만 실질적으로 별 차이가 없다(테스트 진행할 때 나노초까지 비교해야 차이가 보이기 때문)</p>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<ul>\n<li><a href=\"https://opentutorials.org/module/1335/8821\">LinkedList</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240424/index.md",
    "_raw": {
      "sourceFilePath": "240424/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240424",
      "contentType": "markdown",
      "flattenedPath": "240424"
    },
    "type": "Post",
    "slug": "/240424",
    "categoryArray": [
      "소박한궁금증",
      "자료구조"
    ],
    "readingTime": "5 min read",
    "excerpt": "링크드인을 접속할려고 했다. Linked... 라고 치는데 밑에 LinkedList가 나왔다.. (그 와중에 린다닷컴은 뭐지?) 그 이후에 새로 알게된 내용이 많아 기록을 남겨볼려고한다. LikedList LinkedList는 내부적으로 양방향의 연결 리스트로 구성되어 있어 참조하려는 원소에 따라 처음부터 정방향 또는 역순으로 순회할 수 있다. 적은 양의 ..."
  },
  {
    "title": "비전공 프론트엔드 2년차 개발자 멘티 일지: 1주차 - 으아 떨려...",
    "date": "2024-05-07T00:00:00.000Z",
    "categories": "멘토링 자바스크립트",
    "body": {
      "raw": "\n독학으로 공부를 계속하다 회사에 다닌 지 1년이 넘은 현시점에서, 스스로를 객관적으로 돌이켜보기 위해서 멘토링을 신청하게 되었다!\n\n멘토링을 하면서 느낀 경험을 1주일 단위 회고 형식으로 진행해보려 한다.\n\n첫 번째 주차의 회고를 진행해보겠다 **(24.04.30 ~ 24.05.06)**\n\n<br>\n\n## 일단.. 다시 공부가 필요한 것들 복습하자\n\n돌이켜 생각해보면 잘 몰랐던 것들은 계속 모르거나 헷갈리고 있다. ~~(나 자신을 똥 멍청이라 생각한다ㅠ.. 그래도 천재가 되기 위해서 차근차근 복습해보자)~~\n\n![1.gif](1.gif)\n\n<br>\n\n### 깊은 복사와 얕은 복사의 차이\n\n**얕은 복사(Shallow Copy)는** 원본 객체의 최상위 수준의 속성들을 복사하고, 내부의 객체는 참조를 공유한다. 즉, 내부 객체에 대한 변경은 복사된 객체와 원본 객체 양쪽에 모두 영향을 주고, 최상위 수준의 속성이 필요한 경우에 사용한다.\n\n- Object.assign()을 이용한 얕은 복사\n\n```javascript\nconst item = {\n  a: '메론',\n  price: {\n    small: '20000',\n    large: '30000',\n  },\n};\n\nconst copyItem = Object.assign({}, item);\ncopyItem.price.small = '22000';\n\nconsole.log(item === copyItem); // false\nconsole.log(item.price.small === copyItem.price.small); //true\n```\n\n- Spread 연산자를 이용한 얕은 복사\n\n```javascript\nconst item = {\n  a: '메론',\n  price: {\n    small: '20000',\n    large: '30000',\n  },\n};\n\nconst copyItem = { ...item };\n\nconsole.log(item === copyItem); // false\nconsole.log(item.price.small === copyItem.price.small); //true\n```\n\n<br>\n\n**깊은 복사(Deep Copy)는** 원본 객체의 모든 속성들을 재귀적으로 복사해 원본 객체와 완전한 독립이다.(원본과의 참조가 완전히 끊어진 객체) 내부 객체까지 새로운 객체로 복사되어, 다른 객체에 영향을 주지 않고 복잡한 구조를 가진 객체를 다루기위해 사용한다.\n\n- JSON.parse, JSON.stringify를 이용한 깊은 복사\n\n```javascript\nconst item = {\n  a: '메론',\n  price: {\n    small: '20000',\n    large: '30000',\n  },\n  place: ['강남점', '역삼점', '송파점'],\n};\n\nconst copyItem = JSON.parse(JSON.stringify(item));\n\ncopyItem.price.small = '24000';\ncopyItem.place.push('잠실점');\n\nconsole.log(item === copyItem); //false\nconsole.log(item.price.small === copyItem.price.small); //false\nconsole.log(item.place === copyItem.place); //false\nconsole.log(item); // {\"a\": \"메론\",\"price\": {\"small\": \"20000\",\"large\": \"30000\"},\"place\": [\"강남점\",\"역삼점\",\"송파점\"]}\nconsole.log(copyItem); // {\"a\": \"메론\",\"price\": {\"small\": \"24000\",\"large\": \"30000\"},\"place\": [\"강남점\",\"역삼점\",\"송파점\",\"잠실점\"]}\n```\n\n- 재귀 함수를 이용해 깊은 복사\n- lodash 라이브러리 **[cloneDeep 사용](https://lodash.com/docs/4.17.15#cloneDeep)** 해서 깊은 복사\n\n<br>\n\n### 왜 모던 웹에서 불변성을 지켜야할까?\n\n내가 뭐라고 했는지 정확히 기억나지 않지만, 불변성을 지켜야 의도하지 않은 데이터 변경을 막을 수 있다고 했던 것 같다. 비슷하긴 하지만 찾아보니 더 다양한 내용이 있다는 걸 알게되었다~!\n\n1. 불변성을 유지하면 **상태 변경을 추적하고 이전 상태로 되돌리는 것이 수월**해 관리하는 데 도움이 된다.\n2. 불변성을 유지하면 **코드의 동작이 예측 가능해 디버깅에 수월**하다.\n3. 불변성 덕분에 변경이 없는 객체 또는 배열을 공유할 수 있고, 메모리를 절약해 변경 감지를 위한 **추가적인 비용을 줄일 수 있다.**\n4. 불변성은 다중 스레드 환경에서 데이터 공유를 안전하게 만들기 때문에, 여러 스레드가 동시에 데이터를 변경하려고 할 때와 같이 **예기치 않은 결과를 방지하고 동기화 문제를 피할 수 있다.**\n5. **순수 함수**(동일한 입력에 대해 항상 동일한 출력을 반환하는 함수이다. 외부 상태에 의존하지 않고, 상태를 변경하지 않아 영향을 미치지 않아서 부작용이 없다)와 함께 사용 가능하다.\n\n<br>\n\n### 실행 컨텍스트에 대해서\n\n실행 컨텍스트 공부 엄청했다ㅠㅠ.. 그런데 말을 못하겠어.. 일단 영어단어도 너무너무 어렵고.. 하지만 더 공부해서 그림까지 완벽하게 그려보도록 하겠다.\n\n해당하는 자료들은 책에도 너무너무 많고. 동영상도 너무 많다. 내가 여기에 기록하지 않고 좋은 자료를 첨부하도록 하겠다! => 솔직히 이거 2개만 다 이해하면 당신은 JS엔진\n\n- [설명 킹왕짱 시니어코딩님](https://www.youtube.com/watch?v=pfQfEwnJHRs&t=1597s)\n- [이게 공짜라니.. 제로초님의 인간 JS 엔진 되기](https://www.youtube.com/playlist?list=PLcqDmjxt30Rt9wmSlw1u6sBYr-aZmpNB3)\n\n<br>\n\n> **콜 스택과 실행 컨텍스트는 어떤 연관이 있을까??**\n>\n> 실행 컨텍스트와 콜 스택은 서로 상호 작용하여 코드의 실행 흐름을 관리한다. 함수가 호출되면 해당 함수의 실행 컨텍스트가 콜 스택에 푸시(Push)되고, 해당 함수의 실행이 완료되면 콜 스택에서 팝(Pop)된다. 이러한 과정을 통해 자바스크립트 엔진은 코드의 실행 순서를 유지하고 실행 중인 함수의 상태를 추적한다.\n>\n> 실행 컨텍스트는 실행 환경을 추상화하고 관리하며, 콜 스택은 실행 중인 실행 컨텍스트의 순서를 관리하여 코드의 실행 흐름을 유지\n\n<br>\n\n> **자바스크립트 한 함수의 생명주기 (with 실행 컨텍스트)**\n>\n> 생성(Create) => 호출(Call) => 실행(Execute) => 완료(Complete)\n>\n> 함수가 정의되어, 메모리가 로드되고 함수 객체가 생성된다. 함수 객체는 코드와 스코프 체인을 포함한 실행 컨텍스트를 생성 (생성)\n>\n> 함수가 호출되면 새로운 실행 컨텍스트가 생성되는데, 이 실행 컨텍스트는 함수의 변수, 매개변수, 스코프 체인 등을 포함하며, 콜 스택에 푸시된다. (호출)\n>\n> 실행 컨텍스트가 활성화되면 함수의 코드가 실행되고, 그 동안 변수의 값이 변경되고, 새로운 함수가 호출되거나 반환될 수 있다. (실행)\n>\n> 함수의 실행이 완료되면 실행 컨텍스트가 콜 스택에서 팝되고, 메모리에서 제거되어 함수의 결과가 반환됨 (완료)\n\n<br>\n\n> **이벤트 루프(Event Loop)**\n>\n> 콜 스택과 백그라운드(Task Queue 또는 Microtask Queue)를 모니터링하고, 이벤트 루프가 비어있을 때 백그라운드에서 실행된 작업(Task Queue)을 콜 스택으로 이동시켜주는데, Task Queue에 있는 작업들은 비동기적인 작업의 결과뿐만 아니라, 이벤트 핸들러나 타이머 콜백 등도 포함된다.\n>\n> 또한 마이크로테스크 큐(Microtask Queue)를 모니터링하여 콜 스택의 작업이 완료된 후에 마이크로테스크를 우선적으로 처리합니다.\n\n<br>\n\n### 마이크로테스크와 매크로테스크 차이점은??\n\n솔직히!! 콜스텍에 대해서 공부하면서 보았는데..ㅠㅠ 말로 대답하려니 엄~~청 햇갈려서 대답 못했다ㅠㅠ.. 다시 복습하자!!!\n\n![2.jpeg](2.jpeg)\n\n우선 마이크로테스크(Microtask)와 매크로테스크(Macrotask)는 자바스크립트 비동기 처리에 사용되는 용어다!\n\n**실행 시점의 차이**\n\n- 매크로테스크: 매크로테스크는 브라우저의 이벤트 루프에서 처리되는 비동기 작업으로, 주로 큐(Queue)에 들어간 이벤트 핸들러(DOM 이벤트 핸들러)나 타이머 콜백(setTimeout, setInterval) 등이 해당된다.\n- 마이크로테스크: 매크로테스크보다 더 높은 우선순위를 가지며, Promise의 then, catch, finally 메서드와 같은 비동기 작업이 해당된다. 마이크로테스크는 현재 매크로테스크 큐의 처리가 끝나고 다음 태스크를 실행하기 전에 처리된다.\n\n<br>\n\n**실행 순서의 차이**\n\n- 매크로테스크: **이벤트 루프의 한 사이클이 완료된 후에 실행된다.** 현재 실행 중인 코드 블록이 완료되지 않아도 처리된다.\n- 마이크로테스크: 매크로테스크보다 더 높은 우선순위를 가지므로, **현재 실행 중인 코드 블록이 완료된 후에 처리된다.** 따라서 마이크로테스크는 매크로테스크보다 먼저 실행됩니다.\n\n<br>\n\n### 스코프체인과 스코프\n\n**스코프(Scope)는** 변수와 함수에 대한 접근성 및 가시성을 결정하는 개념으로 자바스크립트에서는 스코프를 정적으로 지정한다. 코드가 실행되기 전에 어디서 변수나 함수에 접근할 수 있는지 결정된다. 스코프는 코드의 블록(함수, if문, for문 등) 내에서 변수와 함수에 접근할 수 있는 범위를 정의한다.\n\n**스코프체인(Scope Chain)은** 변수와 함수에 대한 접근을 결정하기 위한 메커니즘으로, 변수나 함수를 참조할 때 해당 식별자를 검색하는 순서를 결정한다. 일반적으로 스코프체인은 현재 실행 중인 컨텍스트의 변수 객체와 그 부모 컨텍스트의 변수 객체를 연결한 체인이다.\n\n> 간단하게 생각하면 **스코프는 해당 코드의 범위를 의미** 하고 **스코프체인은 자기 자신의 스코프를 제외한 자신과 가장 가까운 변수 객체의 모든 스코프들이라고 생각한다!**\n\n<br>\n\n### 함수 스코프와 블록 스코프\n\n내가 뭐라고했더라.. ㅋㅋㅋ 함수선언 내부 범위가 함수 스코프고 블록 스코프는 함수를 제외한 변수, 객체의 내부 범위가 블록 스코프라고 했다. 뭐 얼추만 비슷하기에 정확히 알아보자!\n\n**함수 스코프는** 변수가 선언된 함수 내에서만 유효한 스코프로 함수 내에서 선언된 변수는 함수 내에서만 접근할 수 있다. 함수 스코프 내부에서 선언된 변수는 내부에서만 유효하기 때문에 함수 외부에서는 접근할 수 없다\n\n**블록 스코프는** 변수가 선언된 블록 내에서만 유효한 스코프로, 블록은 중괄호 {}로 묶인 코드 영역을 의미한다. 블록 스코프는 주로 if, for, while과 같은 제어문의 블록 내에서 변수를 선언할 때 사용되고 블록 스코프 내부의 변수는 블록 내에서만 유효하면 블록 외부에서는 접근할 수 없다\n\n> 간단하게 요약하면 **함수 스코프는 변수가 선언된 함수 내에서만 유효**하고, **블록 스코프는 변수가 선언된 블록 내에서만 유효**하다.\n\n<br>\n\n### 생성자 함수의 this, 메서드의 this\n\n**메서드(Method)에서의 this는** 해당 메서드가 속한 객체를 가리키고 메서드가 호출된 객체에 바인딩된다. 이를 통해 메서드는 자신이 속한 객체의 속성에 접근할 수 있다.\n\n```javascript\nconst obj = {\n  name: 'Jihoon',\n  greet: function () {\n    console.log('Hello, ' + this.name);\n  },\n};\nobj.greet(); // 출력: \"Hello, Jihoon\"\n```\n\n**생성자 함수(Constructor Function)에서의 this는** 새로 생성되는 객체를 가리킨다. 생성자 함수는 new 키워드를 사용하여 호출될 때마다 새로운 객체가 생성되고, 이 객체가 this에 바인딩된다.\n\n```javascript\nfunction Person(name) {\n  this.name = name;\n  this.greet = function () {\n    console.log('Hello, ' + this.name);\n  };\n}\nconst Jihoon = new Person('Jihoon');\nJihoon.greet(); // 출력: \"Hello, Jihoon\"\n```\n\n<br>\n\n### 일급 함수(First-class Function)\n\n사이드 이팩트가 없고 부작용이 없는 순수함수는 들어보았지만, 1급 함수에 대한 개념은 잡혀있지 않았다. 과연 뭘까?\n\n일급 함수는 프로그래밍 언어에서 함수를 일반 값과 동등하게 취급하는 것을 의미하고 아래 조건을 만족한다.\n\n**1. 변수에 할당하여 함수를 변수로 사용할 수 있다.**\n\n```javascript\nconst myFunc = function () {\n  console.log('Hello, world!');\n};\nmyFunc(); // 출력: \"Hello, world!\"\n```\n\n**2. 함수를 다른 함수의 매개변수로 전달할 수 있다.**\n\n```javascript\nfunction greet(func) {\n  func();\n}\ngreet(function () {\n  console.log('Hello, world!');\n}); // 출력: \"Hello, world!\"\n```\n\n**3. 함수가 다른 함수의 반환값으로 사용될 수 있다.**\n\n```javascript\nfunction createFunc() {\n  return function () {\n    console.log('Hello, world!');\n  };\n}\nconst myFunc = createFunc();\nmyFunc(); // 출력: \"Hello, world!\"\n```\n\n<br>\n\n## 5월 첫째 주 회고\n\n![5.jpeg](5.jpeg)\n\n> 멘토링 처음 받아본 한주 회고 시작!\n\n### 이번 주 좋은 것과 나쁜 것\n\n- 휴일이 많아서 회사에서 못한 부분을 개인 시간에 진행할 수 있었다.\n- 멘토링을 본격적으로 시작하기전 사람들과 사람들을 많이 만나고, 이야기를 나누는 시간을 가져서 체력적으로 좀 피곤했다.\n\n### 이번주 진행했던 학습/개발 내용은??\n\n- 사내의 Devextreme 으로 구성된 것을 Mui + react-hook-form + zod 를 이용하는 것으로 바꾸고 있으며, Custom UI를 만들고 있다.\n- 사내 동료들에게 실행컨텍스트, 콜스택, 클로저의 개념에 대해서 발표하는 시간을 가졌다.\n- 코어 자바스크립트 1~3장 읽으며 멘토링을 준비하였다.\n\n### 가장 고민했던 부분은 무엇이었나요?\n\n- 제네릭을 효율적으로 쓰는 방법? 그리고 어떠한 상황에 써야 되는지 고민 진행 중입니다.\n- 사내 프로젝트에서 상태관리가 너무 복잡하게 되어있어서, 이것을 top-down, bottom-up 방식을 동시에 써야 할지 고민 중입니다.\n- 동아리에서 youdontknowjs 의 클로저 부분을 읽고 자료를 정리해야 되는데, 어떤 내용을 중점으로 다룰지 고민 중입니다.\n\n### 아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?\n\n- 어떤 것을 집중해서 맡은 것을 끝내려는 집중력이 필요합니다.\n- 여러 가지를 동시에 해내는 것은 불가능하다고 생각하니, 여유를 가지는 것도 중요하다고 생각합니다\n- 다양한 회사에서 원하는 JD 파악을 해야 합니다.\n\n### 다음 주는 어떻게 보낼 예정인가요?\n\n- 멘토링이 끝난 당일과 다음날은 복습 위주로 진행할 것입니다\n- 동아리에서 맡은 역할이 있어서 해결할 예정입니다. (클로저, react hook에 대한 자료정리)\n- 동아리에서 진행하는 행사 계획에 대한 회의를 진행할 것 입니다\n- 앞의 복습내용을 바탕으로 코어 자바스크립트 4~6장을 읽을 예정입니다\n- 5/9 우당탕탕 책방이라는 모임에서 CSS 라이브러리에 관한 이야기를 진행해서 준비할 예정입니다.\n\n<br>\n\n### 메타인지\n\n메타인지를 위해서 자기평가를 진행해보았다. 내가 어떠한 사람이 되고 싶을까? 생각했을 때 모든 형태가 고르게 있는 것도 중요하겠지만 기술적인 부분과 팀 내부의 역할(역량)을 키우는 것이 내 성향에 적합하다고 생각한다.\n\n해당하는 메타인지하는 사이트는 **[여기를 참고하면 됩니다👇👇](https://www.engineeringladders.com/)**\n\n![4.png](4.png)\n\n> 자기 객관화에 짱이다..\n\n**Technology** - **Evangelizes**: 연구 조사, 개념 증명(POC)을 만들고, 새로운 기술을 팀에 소개\n\n- 사내 기술 스터디 운영중\n- 외부 활동으로 스터디 하는 내용들 사내에 공유 및 개인 시간에 사내 로직 적용해보고 회의를 통해 기술 도입(react-hook-form, react-query, zustand, zod, uuid v4 등등)\n- 사내에서 발생한 일(빌드 속도, 오류, 캐싱, 성능)을 파악해서 정리 ⇒ 발생할 수 있는 이유를 분석 ⇒ 개선점 분석 후 FE 사수에게 제안 ⇒ 팀 발표 진행\n- 시스템에서 맡은 부분의 지식은 있지만, 접근해보지 않은 Socket, Qr, DocuSign, DevOps Tool, Server, Network에 대한 이해도가 낮음\n- **추구하는 방향은 Creates입니다.** 팀에서 사용하는 데 문제가 있거나, 더 좋은 성능과 효과를 위해서 진행할 수 있는 방향이 있으면 제안하고 디자인하고 만들 의향이 있고, 제가 추구하는 공동의 편의성에 적합한 개념이라고 생각합니다\n\n**System** - **Designs**: 중형에서 대형 사이즈의 기능을 기술 부채를 제거하면서 디자인하고 구현\n\n- 사내에 도입되어있는 devextreme를 제거해 디자이너와 MUI를 이용한 디자인시스템 논의 후 구현\n- 사내에서 사용하는 jQuery 문법으로 동작하는 DOM 직접 접근 방식을 Virtual DOM을 이용해 접근하도록 코드 수정하고 라이브러리 충돌 문제 해결\n- 하지만 프로덕션의 운영을 해본 경험과 결정에 대한 책임 경험 없음\n- **추구하는 방향은 Evolves입니다.** 미래의 요구사항을 미리 파악하거나, 대응할 수 있도록 넓은 시야를 가져서 빠르고 정확하게 대응하고 싶습니다.\n\n**People** - **Supports**: 다른 팀원들을 적극적으로 지원하고 성공할 수 있도록 돕습니다\n\n- 사실 Mentors와 고민을 했습니다. 사내에 FE에 신입 2명이 입사해서, 하지만 Mentor로 정확히 명하기 어렵고, 제가 공부한 내용에 대한 가이드 역할만 해주어서 Supports를 선택했습니다.\n- **제가 이 역할에서 Manages가 되고 싶습니다.** 사람의 역량을 끌어올리고, 분배하고, 공동의 목표를 긍정적인 방향으로 진행하는 것을 추구하기 때문입니다.\n- 지금은 팀원에게 방향을 잡아주고 적응을 할 수 있도록 안내해주고 있습니다.\n\n**Process** - **Challenges**: 팀 프로세스를 개선할 수 있는 방법을 찾고 시도해봅니다.\n\n- 사내 입사했을 때 개발에 관한 Jira & Atlassian의 체계가 잡혀있지 않았습니다. 배포하는 과정, 테스트 과정, 개발하는 과정의 시간 시점을 분리하는 것을 제안하였고, 각자의 역할에 대해 분석해 발표를 진행했습니다.\n- putty를 이용해 배포하는 과정에서 많은 시간이 소비되는 문제점을 파악했습니다. 해당 과정을 변경하는 작업을 사내에서 진행했습니다.\n- **추구하는 방향은 Adjusts입니다.** 서로 대화를 통한 피드백으로 공동의 프로세스의 긍정적 방향을 위해 조정하고 제안하고 싶습니다. 이러한 변화를 통해 불필요한 시간을 사전에 제거하고 더 많은 소통의 환경을 만들고 싶습니다\n\n**Influence** - **Team**: 특정 부분만이 아니라 팀 전체에 영향을 끼칩니다\n\n- 사내는 nodejs 기반이다. 백앤드는 nest, 프론트엔드는 react/vite 바쁘거나, 코드의 문제점이 있으면 백앤드 코드를 살펴보고 백앤드에 제안을합니다. 그런 과정을 통해 문제해결 시간을 단축합니다.\n- Figma, XD를 다뤄본 경험이 있습니다. 이를 토대로 디자이너, 퍼블리셔에게 요구사항을 전달할 때 보다 필요하지 않은 시간 소비를 최대한 줄인 채로 문재해결을 진행하고 있습니다.\n- **추구하는 방향은 Community입니다.** 사내에서뿐만 아니라 개인적으로 선호하는 기술스택(vanilla-extract, zustand)등 과 같은 다양한 개발 생태계에 관심을 가지고 참여하고 싶습니다.\n\n<br>\n\n<br>\n\n![3.jpeg](3.jpeg)\n\n## 출처 및 도움되는 링크들\n\n- [thumb-hyeok님의 리엑트 불변성](https://velog.io/@thumb_hyeok/%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%97%90-%EB%B6%88%EB%B3%80%EC%84%B1%EC%9D%B4-%EC%99%9C-%ED%95%84%EC%9A%94%ED%95%A0%EA%B9%8C)\n\n```toc\n\n```\n",
      "html": "<p>독학으로 공부를 계속하다 회사에 다닌 지 1년이 넘은 현시점에서, 스스로를 객관적으로 돌이켜보기 위해서 멘토링을 신청하게 되었다!</p>\n<p>멘토링을 하면서 느낀 경험을 1주일 단위 회고 형식으로 진행해보려 한다.</p>\n<p>첫 번째 주차의 회고를 진행해보겠다 <strong>(24.04.30 ~ 24.05.06)</strong></p>\n<h2 id=\"일단-다시-공부가-필요한-것들-복습하자\"><a class=\"anchor\" href=\"#일단-다시-공부가-필요한-것들-복습하자\">일단.. 다시 공부가 필요한 것들 복습하자</a></h2>\n<p>돌이켜 생각해보면 잘 몰랐던 것들은 계속 모르거나 헷갈리고 있다. ~~(나 자신을 똥 멍청이라 생각한다ㅠ.. 그래도 천재가 되기 위해서 차근차근 복습해보자)~~</p>\n<p><img src=\"/content/240507/1.gif\" alt=\"1.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"깊은-복사와-얕은-복사의-차이\"><a class=\"anchor\" href=\"#깊은-복사와-얕은-복사의-차이\">깊은 복사와 얕은 복사의 차이</a></h3>\n<p><strong>얕은 복사(Shallow Copy)는</strong> 원본 객체의 최상위 수준의 속성들을 복사하고, 내부의 객체는 참조를 공유한다. 즉, 내부 객체에 대한 변경은 복사된 객체와 원본 객체 양쪽에 모두 영향을 주고, 최상위 수준의 속성이 필요한 경우에 사용한다.</p>\n<ul>\n<li>Object.assign()을 이용한 얕은 복사</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> item</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  a: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'메론'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  price: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    small: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'20000'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    large: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'30000'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> copyItem</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Object.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">assign</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({}, item);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">copyItem.price.small </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '22000'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(item </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> copyItem); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// false</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(item.price.small </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> copyItem.price.small); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//true</span></span></code></pre></figure>\n<ul>\n<li>Spread 연산자를 이용한 얕은 복사</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> item</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  a: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'메론'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  price: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    small: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'20000'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    large: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'30000'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> copyItem</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">item };</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(item </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> copyItem); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// false</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(item.price.small </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> copyItem.price.small); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//true</span></span></code></pre></figure>\n<p><strong>깊은 복사(Deep Copy)는</strong> 원본 객체의 모든 속성들을 재귀적으로 복사해 원본 객체와 완전한 독립이다.(원본과의 참조가 완전히 끊어진 객체) 내부 객체까지 새로운 객체로 복사되어, 다른 객체에 영향을 주지 않고 복잡한 구조를 가진 객체를 다루기위해 사용한다.</p>\n<ul>\n<li>JSON.parse, JSON.stringify를 이용한 깊은 복사</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> item</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  a: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'메론'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  price: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    small: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'20000'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    large: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'30000'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  place: [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'강남점'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'역삼점'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'송파점'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> copyItem</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> JSON</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">parse</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">JSON</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">stringify</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(item));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">copyItem.price.small </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '24000'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">copyItem.place.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'잠실점'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(item </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> copyItem); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//false</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(item.price.small </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> copyItem.price.small); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//false</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(item.place </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> copyItem.place); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//false</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(item); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// {\"a\": \"메론\",\"price\": {\"small\": \"20000\",\"large\": \"30000\"},\"place\": [\"강남점\",\"역삼점\",\"송파점\"]}</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(copyItem); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// {\"a\": \"메론\",\"price\": {\"small\": \"24000\",\"large\": \"30000\"},\"place\": [\"강남점\",\"역삼점\",\"송파점\",\"잠실점\"]}</span></span></code></pre></figure>\n<ul>\n<li>재귀 함수를 이용해 깊은 복사</li>\n<li>lodash 라이브러리 <strong><a href=\"https://lodash.com/docs/4.17.15#cloneDeep\">cloneDeep 사용</a></strong> 해서 깊은 복사</li>\n</ul>\n<h3 id=\"왜-모던-웹에서-불변성을-지켜야할까\"><a class=\"anchor\" href=\"#왜-모던-웹에서-불변성을-지켜야할까\">왜 모던 웹에서 불변성을 지켜야할까?</a></h3>\n<p>내가 뭐라고 했는지 정확히 기억나지 않지만, 불변성을 지켜야 의도하지 않은 데이터 변경을 막을 수 있다고 했던 것 같다. 비슷하긴 하지만 찾아보니 더 다양한 내용이 있다는 걸 알게되었다~!</p>\n<ol>\n<li>불변성을 유지하면 <strong>상태 변경을 추적하고 이전 상태로 되돌리는 것이 수월</strong>해 관리하는 데 도움이 된다.</li>\n<li>불변성을 유지하면 <strong>코드의 동작이 예측 가능해 디버깅에 수월</strong>하다.</li>\n<li>불변성 덕분에 변경이 없는 객체 또는 배열을 공유할 수 있고, 메모리를 절약해 변경 감지를 위한 <strong>추가적인 비용을 줄일 수 있다.</strong></li>\n<li>불변성은 다중 스레드 환경에서 데이터 공유를 안전하게 만들기 때문에, 여러 스레드가 동시에 데이터를 변경하려고 할 때와 같이 <strong>예기치 않은 결과를 방지하고 동기화 문제를 피할 수 있다.</strong></li>\n<li><strong>순수 함수</strong>(동일한 입력에 대해 항상 동일한 출력을 반환하는 함수이다. 외부 상태에 의존하지 않고, 상태를 변경하지 않아 영향을 미치지 않아서 부작용이 없다)와 함께 사용 가능하다.</li>\n</ol>\n<h3 id=\"실행-컨텍스트에-대해서\"><a class=\"anchor\" href=\"#실행-컨텍스트에-대해서\">실행 컨텍스트에 대해서</a></h3>\n<p>실행 컨텍스트 공부 엄청했다ㅠㅠ.. 그런데 말을 못하겠어.. 일단 영어단어도 너무너무 어렵고.. 하지만 더 공부해서 그림까지 완벽하게 그려보도록 하겠다.</p>\n<p>해당하는 자료들은 책에도 너무너무 많고. 동영상도 너무 많다. 내가 여기에 기록하지 않고 좋은 자료를 첨부하도록 하겠다! => 솔직히 이거 2개만 다 이해하면 당신은 JS엔진</p>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=pfQfEwnJHRs&#x26;t=1597s\">설명 킹왕짱 시니어코딩님</a></li>\n<li><a href=\"https://www.youtube.com/playlist?list=PLcqDmjxt30Rt9wmSlw1u6sBYr-aZmpNB3\">이게 공짜라니.. 제로초님의 인간 JS 엔진 되기</a></li>\n</ul>\n<blockquote>\n<p><strong>콜 스택과 실행 컨텍스트는 어떤 연관이 있을까??</strong></p>\n<p>실행 컨텍스트와 콜 스택은 서로 상호 작용하여 코드의 실행 흐름을 관리한다. 함수가 호출되면 해당 함수의 실행 컨텍스트가 콜 스택에 푸시(Push)되고, 해당 함수의 실행이 완료되면 콜 스택에서 팝(Pop)된다. 이러한 과정을 통해 자바스크립트 엔진은 코드의 실행 순서를 유지하고 실행 중인 함수의 상태를 추적한다.</p>\n<p>실행 컨텍스트는 실행 환경을 추상화하고 관리하며, 콜 스택은 실행 중인 실행 컨텍스트의 순서를 관리하여 코드의 실행 흐름을 유지</p>\n</blockquote>\n<blockquote>\n<p><strong>자바스크립트 한 함수의 생명주기 (with 실행 컨텍스트)</strong></p>\n<p>생성(Create) => 호출(Call) => 실행(Execute) => 완료(Complete)</p>\n<p>함수가 정의되어, 메모리가 로드되고 함수 객체가 생성된다. 함수 객체는 코드와 스코프 체인을 포함한 실행 컨텍스트를 생성 (생성)</p>\n<p>함수가 호출되면 새로운 실행 컨텍스트가 생성되는데, 이 실행 컨텍스트는 함수의 변수, 매개변수, 스코프 체인 등을 포함하며, 콜 스택에 푸시된다. (호출)</p>\n<p>실행 컨텍스트가 활성화되면 함수의 코드가 실행되고, 그 동안 변수의 값이 변경되고, 새로운 함수가 호출되거나 반환될 수 있다. (실행)</p>\n<p>함수의 실행이 완료되면 실행 컨텍스트가 콜 스택에서 팝되고, 메모리에서 제거되어 함수의 결과가 반환됨 (완료)</p>\n</blockquote>\n<blockquote>\n<p><strong>이벤트 루프(Event Loop)</strong></p>\n<p>콜 스택과 백그라운드(Task Queue 또는 Microtask Queue)를 모니터링하고, 이벤트 루프가 비어있을 때 백그라운드에서 실행된 작업(Task Queue)을 콜 스택으로 이동시켜주는데, Task Queue에 있는 작업들은 비동기적인 작업의 결과뿐만 아니라, 이벤트 핸들러나 타이머 콜백 등도 포함된다.</p>\n<p>또한 마이크로테스크 큐(Microtask Queue)를 모니터링하여 콜 스택의 작업이 완료된 후에 마이크로테스크를 우선적으로 처리합니다.</p>\n</blockquote>\n<h3 id=\"마이크로테스크와-매크로테스크-차이점은\"><a class=\"anchor\" href=\"#마이크로테스크와-매크로테스크-차이점은\">마이크로테스크와 매크로테스크 차이점은??</a></h3>\n<p>솔직히!! 콜스텍에 대해서 공부하면서 보았는데..ㅠㅠ 말로 대답하려니 엄~~청 햇갈려서 대답 못했다ㅠㅠ.. 다시 복습하자!!!</p>\n<p><img src=\"/content/240507/2.jpeg\" alt=\"2.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>우선 마이크로테스크(Microtask)와 매크로테스크(Macrotask)는 자바스크립트 비동기 처리에 사용되는 용어다!</p>\n<p><strong>실행 시점의 차이</strong></p>\n<ul>\n<li>매크로테스크: 매크로테스크는 브라우저의 이벤트 루프에서 처리되는 비동기 작업으로, 주로 큐(Queue)에 들어간 이벤트 핸들러(DOM 이벤트 핸들러)나 타이머 콜백(setTimeout, setInterval) 등이 해당된다.</li>\n<li>마이크로테스크: 매크로테스크보다 더 높은 우선순위를 가지며, Promise의 then, catch, finally 메서드와 같은 비동기 작업이 해당된다. 마이크로테스크는 현재 매크로테스크 큐의 처리가 끝나고 다음 태스크를 실행하기 전에 처리된다.</li>\n</ul>\n<p><strong>실행 순서의 차이</strong></p>\n<ul>\n<li>매크로테스크: <strong>이벤트 루프의 한 사이클이 완료된 후에 실행된다.</strong> 현재 실행 중인 코드 블록이 완료되지 않아도 처리된다.</li>\n<li>마이크로테스크: 매크로테스크보다 더 높은 우선순위를 가지므로, <strong>현재 실행 중인 코드 블록이 완료된 후에 처리된다.</strong> 따라서 마이크로테스크는 매크로테스크보다 먼저 실행됩니다.</li>\n</ul>\n<h3 id=\"스코프체인과-스코프\"><a class=\"anchor\" href=\"#스코프체인과-스코프\">스코프체인과 스코프</a></h3>\n<p><strong>스코프(Scope)는</strong> 변수와 함수에 대한 접근성 및 가시성을 결정하는 개념으로 자바스크립트에서는 스코프를 정적으로 지정한다. 코드가 실행되기 전에 어디서 변수나 함수에 접근할 수 있는지 결정된다. 스코프는 코드의 블록(함수, if문, for문 등) 내에서 변수와 함수에 접근할 수 있는 범위를 정의한다.</p>\n<p><strong>스코프체인(Scope Chain)은</strong> 변수와 함수에 대한 접근을 결정하기 위한 메커니즘으로, 변수나 함수를 참조할 때 해당 식별자를 검색하는 순서를 결정한다. 일반적으로 스코프체인은 현재 실행 중인 컨텍스트의 변수 객체와 그 부모 컨텍스트의 변수 객체를 연결한 체인이다.</p>\n<blockquote>\n<p>간단하게 생각하면 <strong>스코프는 해당 코드의 범위를 의미</strong> 하고 <strong>스코프체인은 자기 자신의 스코프를 제외한 자신과 가장 가까운 변수 객체의 모든 스코프들이라고 생각한다!</strong></p>\n</blockquote>\n<h3 id=\"함수-스코프와-블록-스코프\"><a class=\"anchor\" href=\"#함수-스코프와-블록-스코프\">함수 스코프와 블록 스코프</a></h3>\n<p>내가 뭐라고했더라.. ㅋㅋㅋ 함수선언 내부 범위가 함수 스코프고 블록 스코프는 함수를 제외한 변수, 객체의 내부 범위가 블록 스코프라고 했다. 뭐 얼추만 비슷하기에 정확히 알아보자!</p>\n<p><strong>함수 스코프는</strong> 변수가 선언된 함수 내에서만 유효한 스코프로 함수 내에서 선언된 변수는 함수 내에서만 접근할 수 있다. 함수 스코프 내부에서 선언된 변수는 내부에서만 유효하기 때문에 함수 외부에서는 접근할 수 없다</p>\n<p><strong>블록 스코프는</strong> 변수가 선언된 블록 내에서만 유효한 스코프로, 블록은 중괄호 {}로 묶인 코드 영역을 의미한다. 블록 스코프는 주로 if, for, while과 같은 제어문의 블록 내에서 변수를 선언할 때 사용되고 블록 스코프 내부의 변수는 블록 내에서만 유효하면 블록 외부에서는 접근할 수 없다</p>\n<blockquote>\n<p>간단하게 요약하면 <strong>함수 스코프는 변수가 선언된 함수 내에서만 유효</strong>하고, <strong>블록 스코프는 변수가 선언된 블록 내에서만 유효</strong>하다.</p>\n</blockquote>\n<h3 id=\"생성자-함수의-this-메서드의-this\"><a class=\"anchor\" href=\"#생성자-함수의-this-메서드의-this\">생성자 함수의 this, 메서드의 this</a></h3>\n<p><strong>메서드(Method)에서의 this는</strong> 해당 메서드가 속한 객체를 가리키고 메서드가 호출된 객체에 바인딩된다. 이를 통해 메서드는 자신이 속한 객체의 속성에 접근할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> obj</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  name: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Jihoon'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  greet</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Hello, '</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> +</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.name);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">obj.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">greet</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 출력: \"Hello, Jihoon\"</span></span></code></pre></figure>\n<p><strong>생성자 함수(Constructor Function)에서의 this는</strong> 새로 생성되는 객체를 가리킨다. 생성자 함수는 new 키워드를 사용하여 호출될 때마다 새로운 객체가 생성되고, 이 객체가 this에 바인딩된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Person</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">name</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.name </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> name;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">greet</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Hello, '</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> +</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.name);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Jihoon</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Person</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Jihoon'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Jihoon.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">greet</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 출력: \"Hello, Jihoon\"</span></span></code></pre></figure>\n<h3 id=\"일급-함수first-class-function\"><a class=\"anchor\" href=\"#일급-함수first-class-function\">일급 함수(First-class Function)</a></h3>\n<p>사이드 이팩트가 없고 부작용이 없는 순수함수는 들어보았지만, 1급 함수에 대한 개념은 잡혀있지 않았다. 과연 뭘까?</p>\n<p>일급 함수는 프로그래밍 언어에서 함수를 일반 값과 동등하게 취급하는 것을 의미하고 아래 조건을 만족한다.</p>\n<p><strong>1. 변수에 할당하여 함수를 변수로 사용할 수 있다.</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> myFunc</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Hello, world!'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">myFunc</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 출력: \"Hello, world!\"</span></span></code></pre></figure>\n<p><strong>2. 함수를 다른 함수의 매개변수로 전달할 수 있다.</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> greet</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">func</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  func</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">greet</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Hello, world!'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 출력: \"Hello, world!\"</span></span></code></pre></figure>\n<p><strong>3. 함수가 다른 함수의 반환값으로 사용될 수 있다.</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createFunc</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Hello, world!'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> myFunc</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createFunc</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">myFunc</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 출력: \"Hello, world!\"</span></span></code></pre></figure>\n<h2 id=\"5월-첫째-주-회고\"><a class=\"anchor\" href=\"#5월-첫째-주-회고\">5월 첫째 주 회고</a></h2>\n<p><img src=\"/content/240507/5.jpeg\" alt=\"5.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>멘토링 처음 받아본 한주 회고 시작!</p>\n</blockquote>\n<h3 id=\"이번-주-좋은-것과-나쁜-것\"><a class=\"anchor\" href=\"#이번-주-좋은-것과-나쁜-것\">이번 주 좋은 것과 나쁜 것</a></h3>\n<ul>\n<li>휴일이 많아서 회사에서 못한 부분을 개인 시간에 진행할 수 있었다.</li>\n<li>멘토링을 본격적으로 시작하기전 사람들과 사람들을 많이 만나고, 이야기를 나누는 시간을 가져서 체력적으로 좀 피곤했다.</li>\n</ul>\n<h3 id=\"이번주-진행했던-학습개발-내용은\"><a class=\"anchor\" href=\"#이번주-진행했던-학습개발-내용은\">이번주 진행했던 학습/개발 내용은??</a></h3>\n<ul>\n<li>사내의 Devextreme 으로 구성된 것을 Mui + react-hook-form + zod 를 이용하는 것으로 바꾸고 있으며, Custom UI를 만들고 있다.</li>\n<li>사내 동료들에게 실행컨텍스트, 콜스택, 클로저의 개념에 대해서 발표하는 시간을 가졌다.</li>\n<li>코어 자바스크립트 1~3장 읽으며 멘토링을 준비하였다.</li>\n</ul>\n<h3 id=\"가장-고민했던-부분은-무엇이었나요\"><a class=\"anchor\" href=\"#가장-고민했던-부분은-무엇이었나요\">가장 고민했던 부분은 무엇이었나요?</a></h3>\n<ul>\n<li>제네릭을 효율적으로 쓰는 방법? 그리고 어떠한 상황에 써야 되는지 고민 진행 중입니다.</li>\n<li>사내 프로젝트에서 상태관리가 너무 복잡하게 되어있어서, 이것을 top-down, bottom-up 방식을 동시에 써야 할지 고민 중입니다.</li>\n<li>동아리에서 youdontknowjs 의 클로저 부분을 읽고 자료를 정리해야 되는데, 어떤 내용을 중점으로 다룰지 고민 중입니다.</li>\n</ul>\n<h3 id=\"아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\"><a class=\"anchor\" href=\"#아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\">아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?</a></h3>\n<ul>\n<li>어떤 것을 집중해서 맡은 것을 끝내려는 집중력이 필요합니다.</li>\n<li>여러 가지를 동시에 해내는 것은 불가능하다고 생각하니, 여유를 가지는 것도 중요하다고 생각합니다</li>\n<li>다양한 회사에서 원하는 JD 파악을 해야 합니다.</li>\n</ul>\n<h3 id=\"다음-주는-어떻게-보낼-예정인가요\"><a class=\"anchor\" href=\"#다음-주는-어떻게-보낼-예정인가요\">다음 주는 어떻게 보낼 예정인가요?</a></h3>\n<ul>\n<li>멘토링이 끝난 당일과 다음날은 복습 위주로 진행할 것입니다</li>\n<li>동아리에서 맡은 역할이 있어서 해결할 예정입니다. (클로저, react hook에 대한 자료정리)</li>\n<li>동아리에서 진행하는 행사 계획에 대한 회의를 진행할 것 입니다</li>\n<li>앞의 복습내용을 바탕으로 코어 자바스크립트 4~6장을 읽을 예정입니다</li>\n<li>5/9 우당탕탕 책방이라는 모임에서 CSS 라이브러리에 관한 이야기를 진행해서 준비할 예정입니다.</li>\n</ul>\n<h3 id=\"메타인지\"><a class=\"anchor\" href=\"#메타인지\">메타인지</a></h3>\n<p>메타인지를 위해서 자기평가를 진행해보았다. 내가 어떠한 사람이 되고 싶을까? 생각했을 때 모든 형태가 고르게 있는 것도 중요하겠지만 기술적인 부분과 팀 내부의 역할(역량)을 키우는 것이 내 성향에 적합하다고 생각한다.</p>\n<p>해당하는 메타인지하는 사이트는 <strong><a href=\"https://www.engineeringladders.com/\">여기를 참고하면 됩니다👇👇</a></strong></p>\n<p><img src=\"/content/240507/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>자기 객관화에 짱이다..</p>\n</blockquote>\n<p><strong>Technology</strong> - <strong>Evangelizes</strong>: 연구 조사, 개념 증명(POC)을 만들고, 새로운 기술을 팀에 소개</p>\n<ul>\n<li>사내 기술 스터디 운영중</li>\n<li>외부 활동으로 스터디 하는 내용들 사내에 공유 및 개인 시간에 사내 로직 적용해보고 회의를 통해 기술 도입(react-hook-form, react-query, zustand, zod, uuid v4 등등)</li>\n<li>사내에서 발생한 일(빌드 속도, 오류, 캐싱, 성능)을 파악해서 정리 ⇒ 발생할 수 있는 이유를 분석 ⇒ 개선점 분석 후 FE 사수에게 제안 ⇒ 팀 발표 진행</li>\n<li>시스템에서 맡은 부분의 지식은 있지만, 접근해보지 않은 Socket, Qr, DocuSign, DevOps Tool, Server, Network에 대한 이해도가 낮음</li>\n<li><strong>추구하는 방향은 Creates입니다.</strong> 팀에서 사용하는 데 문제가 있거나, 더 좋은 성능과 효과를 위해서 진행할 수 있는 방향이 있으면 제안하고 디자인하고 만들 의향이 있고, 제가 추구하는 공동의 편의성에 적합한 개념이라고 생각합니다</li>\n</ul>\n<p><strong>System</strong> - <strong>Designs</strong>: 중형에서 대형 사이즈의 기능을 기술 부채를 제거하면서 디자인하고 구현</p>\n<ul>\n<li>사내에 도입되어있는 devextreme를 제거해 디자이너와 MUI를 이용한 디자인시스템 논의 후 구현</li>\n<li>사내에서 사용하는 jQuery 문법으로 동작하는 DOM 직접 접근 방식을 Virtual DOM을 이용해 접근하도록 코드 수정하고 라이브러리 충돌 문제 해결</li>\n<li>하지만 프로덕션의 운영을 해본 경험과 결정에 대한 책임 경험 없음</li>\n<li><strong>추구하는 방향은 Evolves입니다.</strong> 미래의 요구사항을 미리 파악하거나, 대응할 수 있도록 넓은 시야를 가져서 빠르고 정확하게 대응하고 싶습니다.</li>\n</ul>\n<p><strong>People</strong> - <strong>Supports</strong>: 다른 팀원들을 적극적으로 지원하고 성공할 수 있도록 돕습니다</p>\n<ul>\n<li>사실 Mentors와 고민을 했습니다. 사내에 FE에 신입 2명이 입사해서, 하지만 Mentor로 정확히 명하기 어렵고, 제가 공부한 내용에 대한 가이드 역할만 해주어서 Supports를 선택했습니다.</li>\n<li><strong>제가 이 역할에서 Manages가 되고 싶습니다.</strong> 사람의 역량을 끌어올리고, 분배하고, 공동의 목표를 긍정적인 방향으로 진행하는 것을 추구하기 때문입니다.</li>\n<li>지금은 팀원에게 방향을 잡아주고 적응을 할 수 있도록 안내해주고 있습니다.</li>\n</ul>\n<p><strong>Process</strong> - <strong>Challenges</strong>: 팀 프로세스를 개선할 수 있는 방법을 찾고 시도해봅니다.</p>\n<ul>\n<li>사내 입사했을 때 개발에 관한 Jira &#x26; Atlassian의 체계가 잡혀있지 않았습니다. 배포하는 과정, 테스트 과정, 개발하는 과정의 시간 시점을 분리하는 것을 제안하였고, 각자의 역할에 대해 분석해 발표를 진행했습니다.</li>\n<li>putty를 이용해 배포하는 과정에서 많은 시간이 소비되는 문제점을 파악했습니다. 해당 과정을 변경하는 작업을 사내에서 진행했습니다.</li>\n<li><strong>추구하는 방향은 Adjusts입니다.</strong> 서로 대화를 통한 피드백으로 공동의 프로세스의 긍정적 방향을 위해 조정하고 제안하고 싶습니다. 이러한 변화를 통해 불필요한 시간을 사전에 제거하고 더 많은 소통의 환경을 만들고 싶습니다</li>\n</ul>\n<p><strong>Influence</strong> - <strong>Team</strong>: 특정 부분만이 아니라 팀 전체에 영향을 끼칩니다</p>\n<ul>\n<li>사내는 nodejs 기반이다. 백앤드는 nest, 프론트엔드는 react/vite 바쁘거나, 코드의 문제점이 있으면 백앤드 코드를 살펴보고 백앤드에 제안을합니다. 그런 과정을 통해 문제해결 시간을 단축합니다.</li>\n<li>Figma, XD를 다뤄본 경험이 있습니다. 이를 토대로 디자이너, 퍼블리셔에게 요구사항을 전달할 때 보다 필요하지 않은 시간 소비를 최대한 줄인 채로 문재해결을 진행하고 있습니다.</li>\n<li><strong>추구하는 방향은 Community입니다.</strong> 사내에서뿐만 아니라 개인적으로 선호하는 기술스택(vanilla-extract, zustand)등 과 같은 다양한 개발 생태계에 관심을 가지고 참여하고 싶습니다.</li>\n</ul>\n<p><img src=\"/content/240507/3.jpeg\" alt=\"3.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<ul>\n<li><a href=\"https://velog.io/@thumb_hyeok/%EB%A6%AC%EC%95%A1%ED%8A%B8%EC%97%90-%EB%B6%88%EB%B3%80%EC%84%B1%EC%9D%B4-%EC%99%9C-%ED%95%84%EC%9A%94%ED%95%A0%EA%B9%8C\">thumb-hyeok님의 리엑트 불변성</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240507/index.md",
    "_raw": {
      "sourceFilePath": "240507/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240507",
      "contentType": "markdown",
      "flattenedPath": "240507"
    },
    "type": "Post",
    "slug": "/240507",
    "categoryArray": [
      "멘토링",
      "자바스크립트"
    ],
    "readingTime": "26 min read",
    "excerpt": "독학으로 공부를 계속하다 회사에 다닌 지 1년이 넘은 현시점에서, 스스로를 객관적으로 돌이켜보기 위해서 멘토링을 신청하게 되었다! 멘토링을 하면서 느낀 경험을 1주일 단위 회고 형식으로 진행해보려 한다. 첫 번째 주차의 회고를 진행해보겠다 (24.04.30 ~ 24.05.06) 일단.. 다시 공부가 필요한 것들 복습하자 돌이켜 생각해보면 잘 몰랐던 것들은 ..."
  },
  {
    "title": "IT동아리 SIPE 전반기 회고 & SIPE 1차 미션 YouDontKnowJsYet팀 활동 후기",
    "date": "2024-05-09T00:00:00.000Z",
    "categories": "대외활동",
    "body": {
      "raw": "\n나는 SIPE라는 IT 동아리에서 1차 미션으로 **YouDontKnowJS** 라는 책을 읽고, **React의 hook의 작동원리에 대해서** 스터디하고 있다. 5주 정도 시간이 흘러 그동안 공부한 내용들을 정리해보려고 한다.\n\n![1.avif](1.avif)\n\n앞서 말한 데로 책은 카일 심슨의 YouDontKnowJs Yet(2024.01.12)으로 시작하였다. ~~=> 넌 아직 JS를 몰라, ㅋㅋ 아직도!!! 라는 뜻인가?!?~~\n2판인 Yet에서는 자바스크립트에 대한 설명과 코드 패턴들 그리고 의문점들이 추가되었다. 1판만 가지고 계신 분들에게도 좋은 내용이 많으니 구매해서 읽어보시는 것을 추천한다!\n\n<br>\n\n## 책을 읽고 새롭게 알게 된 지식들\n\n- JavaScript는 ECMAScript의 스펙을 지원하는 개발언어이며, 하위호환을 존중하는 언어이다.\n- 렉시컬 스코프 스펙을 지원하기 위해 구문 분석과 같은 컴파일이 필요하고 **실제 동작은 인터프린터 방식을 취한다.**\n- **Function에 대한 일급 객체를 지원한다.**\n- 클로저, 프로토타입을 활용하여 function을 추상화 및 캡슐화하였고 상속 개념처럼 활용할 수 있도록 발전하다가 추후에는 class 문법을 지원하게 되었다.\n- 클로저를 변수의 순간 상태를 기록한 것을 스냅숍이라 착각하지만, 언제든지 접근할 수 있도록 관계를 맺어주는 **라이브 링크**의 개념이 더 적합하다. 그렇기 때문에 **값을 읽는 것뿐만 아니라 수정(재할당)도 가능**하다.\n- 클로저는 2가지 관점에서 정의 가능하다\n  - **관찰 가능성 관점**\n    - 반드시 함수와 관련이 있어야된다.\n    - 외부 스코프의 변수를 적어도 하나 이상 참조해야된다.\n    - 참조하려는 변수가 있는 스코프 체인의 다른 분기에서 함수를 호출해야한다.\n  - **구현 관점**\n    - 프로그램의 다른 부분에서 해당 함수 인스턴스에 대한 참조가 존재하는 한 함수 인스턴스와 그 전체 스코프 환경 체인을 살아있게 유지하는 마법\n- **필자는 var 사용을 권장함.** 굳이 불변성이라는 이름에 맞춰서 let, const에 집중해야할까? => 해당 내용은 꼭 읽어보시기를 추천합니다 ~~(이런거 신입 면접 때 말하면 간지나겠다)~~\n- **동기 클로저** : 함수 내부에서 비동기적으로 처리되는 작업이 있을 때, 그 작업이 완료된 후에 특정 동작을 수행해야 할 경우 사용한다. 주로 콜백 함수(callback function)나 이벤트 핸들러(event handler)에서 사용한다.\n- **AMD(비동기 모듈 정의) 와 UMD 패턴** => **한번 찾아보시는 것 추천!👍👍**\n  - UMD 패턴은 모듈이 AMD, CommonJS, 그리고 전역 객체(Global object) 등 다양한 환경에서 사용될 수 있도록 하기 위해 모듈이 있는지 여부를 체크하고, 해당 환경에 맞게 모듈을 정의하는 방식\n  - AMD는 자바스크립트 모듈을 비동기적으로 로드하고 정의하는 모듈화 방식으로 브라우저 환경에서 모듈화를 구현하는 데 사용\n\n<br>\n\n![2.jpeg](2.jpeg)\n\n<br>\n\n작년 초에 클로저를 사용하는 것을 지양해야 된다는 글을 보았다. 글에서 클로저 지양을 주장한 이유는 클로저를 남발해서 사용하다 보면, 변화에 대한 인지가 어려울 수 있고, 변수의 변화가 GC(가비지 컬랙터)를 예기치 않게 막아 메모리 사용을 급증시키는 요인이 되기 때문이었다. 1년여 시간이 지난 지금 IT 분야에서 메모리 사용에 대한 중요성이 주목받으면서 해당 내용이 어떤 의미로 작성된 것인지 간략하게 알게되었다.\n\n그래도 개인적인 생각에는 클로저의 특성을 잘 사용하면 효율적이고 성능이 뛰어난 프로그램을 구축하는 데 큰 영향을 준다고 생각한다. 단, 필요하지 않은 함수 참조와 그에 따른 클로저를 제때 잘 삭제하는 것이 중요하다고 생각한다!\n\n<br>\n\n## React hooks 파GO파GO\n\n<br>\n\n![3.png](3.png)\n\n<br>\n\n클로저의 개념을 이용한 것들이 아주아주 많다. 비동기 처리, React의 다양한 훅들, 컴포넌트의 구성 등등....\n\n많이 사용하는 것 중에 어떤 것이 있고, 어떻게 사용하고 또 어떻게 개선할 수 있을까 등에 관해서 공부해 보았다.\n\n<br>\n\n### useState\n\n우선 useState는 예~~전에 블로그에 작성해두어서, 해당 부분 복습할겸 다시 찾아보았다. 해당하는 내용은 **[여기를](https://hooninedev.com/230820/)** 참조해보시면 됩니다\n\n비동기 처리와 오래된 클로저 함수를 사용할 때 캡처에 관해서 문제가 생긴다. 그래서 캡처하는 시점을 파악해서 지연을 주거나, 새롭게 값을 할당할 수 있도록 해야 한다. 자세한 건 아래의 예시 코드를 확인해보자\n\n```javascript\nfunction DelayedCount() {\n  const [count, setCount] = useState(0);\n\n  function handleClickAsync() {\n    setTimeout(function delay() {\n      setCount(count + 1);\n    }, 1000);\n  }\n\n  return (\n    <div>\n      {count}\n      <button onClick={handleClickAsync}>Increase async</button>\n    </div>\n  );\n}\n```\n\n버튼을 클릭할 때마다 setTimeout이 1초의 delay()의 실행을 예약한다. 위 경우에서 버튼을 연달아 2번 클릭하게 되면 두 번째 클릭의 delay()가 오래된 count의 값을 0으로 캡처하기 때문에 count가 1만 올라가게된다\n\n위 오류를 해결해주기 위해서는 delay() 내부를 아래와 같이 바꾸면 된다.\n\n```javascript\nsetTimeout(function delay() {\n  setCount((count) => count + 1);\n}, 1000);\n```\n\n**이전 상태를 기반으로 새 상태를 반환하는 콜백이 상태 업데이트 함수에 제공되면 React는 최신 상태 값이 해당 콜백의 인수로 제공되도록 변경이 필요해 위 처럼 변경해야된다.** 그렇게 하면 빠르게 2번 클릭해도 값이 정상적으로 count가 2가 된다.\n\n간단하지만 예시지만 복잡한 코드를 구현할 때 비동기 처리와 여러 상태를 동시에 다루다 보면 캡처의 시점을 제대로 파악하지 못하는 경우가 종종 있다. 그래서 이전값에서 새로운 값을 업데이트해 줄 경우에 **Arrow Function을 사용하는 것을 권장한다!**\n\n<br>\n\n### useEffect\n\nuseEffect는 hook을 사용하면서 useCallback과 함께 제일 많은 사이드 이펙트가 발생한다. 그러므로 많이 중요하다고 생각해서 하나의 블로그 주제로 다룰 예정이기에 여기에서는 새롭게 알게 된 부분과 유의해서 사용될 부분에 대해서 기록하도록 하겠다!\n\n우선 아래 useEffect 코드를 실행해보고 작동 순서를 파악해보자\n\n```javascript\nimport React, { useEffect, useState } from 'react';\n\nfunction Home() {\n  const [state, setState] = useState(0);\n  console.log(state);\n\n  useEffect(() => {\n    setState((state) => state + 1);\n  }, []);\n\n  useEffect(() => {\n    console.log(state);\n    setTimeout(() => {\n      console.log(state);\n    }, 100);\n  }, []);\n\n  return null;\n}\n\nexport default Home;\n\n// 0\n// 0\n// 1\n// 0\n```\n\n일단 첫 번째 렌더링에서 console.log(state)에 의해서 **console.log(0)이 출력된다.** 그 후에 setState의 callback 함수가 호출되고 여전히 **console.log(state)는 0으로 출력된다.** 그 이후 setTimeout으로 0.1초의 기다림 후에 **setState가 1이 된다.** 2번째 렌더링이 발생하고 **console.log(state)는 1이 출력**되고 setTimeOut 함수의 클로저 때문에 **마지막으로 0이 출력된다.**\n\n그럼 조금 더 응용해보자. 우리는 useEffect를 사용하지만 **useInsertionEffect, useLayoutEffect도 사용한다.** 작동의 우선순위를 생각해보며 아래 코드를 실행해보자\n\n```javascript\nimport { useEffect, useInsertionEffect, useLayoutEffect, useState } from 'react';\n\nconst Home = () => {\n  console.log(1);\n  const [state, setState] = useState(0);\n  useEffect(() => {\n    setState((state) => state + 1);\n  }, []);\n\n  useEffect(() => {\n    console.log(2);\n    return () => {\n      console.log(3);\n    };\n  }, [state]);\n\n  useEffect(() => {\n    console.log(4);\n    return () => {\n      console.log(5);\n    };\n  }, [state]);\n\n  useLayoutEffect(() => {\n    console.log(6);\n    return () => {\n      console.log(7);\n    };\n  }, [state]);\n\n  useInsertionEffect(() => {\n    console.log(8);\n    return () => {\n      console.log(9);\n    };\n  }, [state]);\n  console.log(10);\n  return null;\n};\n\nexport default Home;\n\n// **첫 번째 렌더링 출력값**\n// 1\n// 10\n// 8\n// 6\n// 2\n// 4\n// 첫 번째 렌더링 출력값\n// 1\n// 10\n// 9\n// 8\n// 7\n// 6\n// 3\n// 5\n// 2\n// 4\n```\n\n일단 알아야 될 것은 렌더링 우선순위는 높은 순서에서 낮은 순서대로 Main thread => useInsertionEffect => useLayoutEffect => useEffect 이다.\n\n그리고 리렌더링의 우선순위는 높은 순서에서 낮은 순서대로 Main thread => useInsertionEffect 정리 후 즉시 실행 => useLayoutEffect 정리 후 즉시 실행 => useEffect 모두 정리 => 순서대로 하나씩 useEffect 실행\n\n<br>\n\n### 번외로.. useEffectOnce\n\n여러분들은 useEffectOnce를 사용하시나요? 저는 한번의 useEffectOnce를 custom Hook으로 사용합니다. 사내에서 useEffect를 많이 사용하다보니, 꼭 사이드 이펙트를 방지해야되는 코드를 명시적으로 보기 위해서 사용하는데..!!\n\n```javascript\nimport { useEffect } from 'react';\n\nfunction useEffectOnce(effect) {\n  useEffect(effect, []);\n}\n```\n\n> 이 부분에 대해서 피드백 해주시면 감사하겠습니다🙇🙇‍♂️\n\n<br>\n\n## 아 그리고.. 번외로!\n\n나 생각해보니까 5주동안 동아리에서 이것저것 많이 했어요.. 사이프 공식 행사도 진행하고, 진짜 아티클도 많이 읽고 책도 읽고!!! 제가 위 주제로 사이프 1차 미션을 진행하면서 읽은 아티클 링크 걸어두겠습니다! 그중에 좋다고 생각하는 것들 따로 표시해놓을 거니깐 꼭 읽어보세여~!!\n\n5주동안 어떤 것을 열심히 했는지 대략적으로 확인해보겠습니다~!\n\n### SIPE 운영진\n\n처음으로 IT 동아리 운영진을 했습니다! 여러 가지 행사에 참여해서, 대화를 이끌어가 보기도 해보고, 행사의 사진 찍는 역할도 해보고, MC도 해보고, 사람들이랑 맛있는 것도 먹고, 스터디도 진행하고, 같이 운동도 하는 보람찬 시간을 보냈네요!!\n\n|                 |                 |                   |\n| --------------- | --------------- | ----------------- |\n| ![8.JPG](8.JPG) | ![9.JPG](9.JPG) | ![10.JPG](10.JPG) |\n\n<br>\n\n### closure\n\n사실 내가 클로저를 공부하면서 느낀 부분 중 하나는 생각보다 다양한 곳에서 쓰고 있다라는 것을 알게 되었다. 그리고 작년 10월쯤 파랑님의 스터디에서 **커링** 이라는 개념에 대해서 들은 적 있는데 해당 개념이 클로저의 원리를 잘 사용한 문법이라고 생각해서 재미있는 샘플 코드를 작성해두니 꼭 해보시면 좋겠다!\n\n```javascript\nlet dev = 'bfe';\n\nfunction a() {\n  let dev = 'BFE';\n  return function () {\n    console.log(dev);\n  };\n}\n\ndev = 'bigfrontend';\n\na()(); // \"BFE\"\n```\n\n위 코드의 출력값은 뭐가 될까? 정답은 **\"BFE\"가** 출력된다.\n\n왜냐하면 클로저는 함수 실행이 완료된 후에도 함수 내부의 반환 함수가 함수 변수 dev = BFE에 대한 참조를 유지하도록 함수 a가 정의될 때 생성되기 때문이다. 위 코드에서 let을 사용하여 선언된 dev라는 외부 변수도 있는데, 이 변수는 나중에 bigfrontend에 재할당된다.\n\n그러나 a()() 커링함수를 실행할 때 외부 dev 값 bigfrontend에 관계없이 클로저 값 \"BFE\"를 로깅하고 있기 때문에 \"BEF\"가 출력된다.\n\n<br>\n\n### closure을 이용한 데이터 은닉화\n\n```javascript\nvar Account = (function () {\n  var balance = 0;\n\n  function checkIsPositive(amount) {\n    if (typeof amount !== 'number' || amount <= 0) {\n      throw new Error('Invalid amount');\n    }\n  }\n\n  return {\n    deposit: function (amount) {\n      checkIsPositive(amount);\n      balance += amount;\n      console.log('Deposit:', amount);\n    },\n    withdraw: function (amount) {\n      checkIsPositive(amount);\n      if (balance >= amount) {\n        balance -= amount;\n        console.log('Withdraw:', amount);\n      } else {\n        console.log('Insufficient funds');\n      }\n    },\n    getBalance: function () {\n      return balance;\n    },\n  };\n})();\n\nconsole.log('Current Balance:', Account.getBalance()); // 0\nAccount.deposit(100);\nconsole.log('Current Balance:', Account.getBalance()); // 100\nAccount.withdraw(50);\nconsole.log('Current Balance:', Account.getBalance()); // 50\n```\n\n이 코드에서 Account 모듈은 클로저를 사용하여 balance 변수를 숨기고, deposit, withdraw, getBalance 메서드를 통해 이 변수에만 접근할 수 있도록 할 수 있다.\n\n이렇게 함으로써 외부에서 balance 변수를 직접 수정하는 것을 방지하고, 데이터를 안전하게 은닉할 수 있다.\n\n**모듈은** 관련 있는 기능을 묶어서 캡슐화하고, 외부에는 필요한 인터페이스만 노출하여 사용자가 쉽게 사용할 수 있도록 하는 것을 의미하는데, 모듈 패턴은 프로그램을 더 모듈화하고 유지보수하기 쉽게 만들어주는 디자인 패턴 중 하나로 코드의 재사용성을 높이고, 의도치 않은 상태 변화나 충돌을 방지할 수 있다.\n\n<br>\n\n### useHook-ts\n\n![5.png](5.png)\n\n저희 팀 미션에서 **[useHook-ts에 PR도 올려보고,](https://github.com/juliencrn/usehooks-ts)** 이슈에 태클을 걸어보기로 했어요!! 그래서.. 엄청 대단한 거는 아니지만, 회사에서 배열을 관리하는 코드를 자주 사용하는데 그것을 훅으로 간단하게 만들어서 PR 올려두고 다른 분들의 코드를 보면서 이런 것도 훅이 될 수 있구나.. 하고 찾아보았습니다! 그리고 이슈에 댓글도 달아보았는데 사람들이 생각보다 답장을 잘 해주셔서 놀랬다는?!\n\n제가 만든 훅은 **useArray** 입니다. 해당 코드는 **[요기를👇👇](https://github.com/juliencrn/usehooks-ts/pull/597)** 보면 확인 할 수 있습니다!\n\nuseArray 훅을 만들어보면서 테스트도 작성해보고, 다른 custom TS Hook들을 살펴볼 수 있었습니다. 평상시에 쉽게 사용하던 부분인데 타입, 사이드 이팩트에 대해서 생각해볼 수 있는 좋은 기회였습니다~!\n\n그리고 다른 분들의 PR과 Issues에 댓글 남겨보면서 대화도 해보았습니다. ~~ㅋㅋ 사소한 행복..~~\n\n![4.png](4.png)\n\n> 사랑스럽게 댓글 달아주시는.. 좋은 분들\n\n<br>\n\n### 기본적이지만 짚고 넘어가자!!\n\n작업을 하다 보면 기본적인 것을 잊을 때가 있다. 2가지를 생각하고 코드를 구현했으면 좋겠다. 첫 번째는 **최상위에서만 Hook을 호출해야 한다.** 나처럼.. 잊는 실수 안 했으면 좋겠다.\n\n두 번째는 **오직 React 함수 내에서 Hook을 호출해야 한다.** 우리가 구현한 코드에서는 필수적이지 않지만, 항상 코드의 어떤 부분이 상태 관련 로직에 의존하는지 명확하게 구분하는 습관이 중요하다고 생각한다.\n(긍정적인 부수효과로, 반복문과 조건문 내부에서 일반 JavaScript 함수처럼 이름 붙여진 상태 관련 함수를 호출하는 실수를 하지 않게 되기 때문이다.)\n\n<br>\n\n## 회고..\n\n스스로에 대한 피드백..을 진행해볼 때! 솔직히 열심히 했다!!!!! 책도 읽고, PR도 남겨보고, 아티클도 많이 읽고, 사내 코드에서도 다양한 관점으로 접근했다.\n\n뭐 잘했다는 이야기만 하고 싶은 것은 아니다. 명확하지 못한 주제와 계획으로 팀 활동을 병행하면서 소통이 너무 적었다. 아쉽아쉽..ㅠㅠ 미션 외에서 팀원들과 외부 활동을 할 때 너무너무 좋았는데!!!\n\n이러한 경험을 잘 피드백해서 2차 미션도 잘 해내고 싶다!! 1차미션 함께해준 팀원들 감사했습니다~!!!\n\n|                 |                 |\n| --------------- | --------------- |\n| ![6.jpg](6.jpg) | ![7.jpg](7.jpg) |\n\n<br>\n\n## 출처 및 도움되는 링크들\n\n- [JSer.dev](https://jser.dev/series/react-source-code-walkthrough)\n- [React Github의 ReactHooks.js](https://github.com/facebook/react/blob/main/packages/react/src/ReactHooks.js#L141)\n- [React Hook의 실제 동작 분석](https://hewonjeong.github.io/deep-dive-how-do-react-hooks-really-work-ko/) => **꼭 읽어보시길!**\n- [MDN Closure](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures)\n- [Memory Management wit Closure](https://medium.com/@srinumadhav36/memory-management-with-closures-in-node-js-6bf09b3adfde)\n- [Closure 관련 퀴즈](https://www.codeguage.com/courses/js/functions-closures-quiz)\n- [Goodbye, useEffect](https://www.youtube.com/watch?v=bGzanfKVFeU&ab_channel=BeJS)\n  - [위 영상 발표자 : David Khourshid](https://github.com/davidkpiano)\n- [Bye-bye useState & useEffect](https://medium.com/@emmanuelodii80/bye-bye-usestate-useeffect-revolutionizing-react-development-d91f95891adb) => **꼭 읽어보시길!**\n- [useState & useEffect 사용할 때 실수하는 것들](https://www.youtube.com/watch?v=-yIsQPp31L0&pp=ygUKdXNlRWZmZWN0IA%3D%3D)\n\n<br>\n\n```toc\n\n```\n",
      "html": "<p>나는 SIPE라는 IT 동아리에서 1차 미션으로 <strong>YouDontKnowJS</strong> 라는 책을 읽고, <strong>React의 hook의 작동원리에 대해서</strong> 스터디하고 있다. 5주 정도 시간이 흘러 그동안 공부한 내용들을 정리해보려고 한다.</p>\n<p><img src=\"/content/240509/1.avif\" alt=\"1.avif\" loading=\"lazy\" decoding=\"async\"></p>\n<p>앞서 말한 데로 책은 카일 심슨의 YouDontKnowJs Yet(2024.01.12)으로 시작하였다. ~~=> 넌 아직 JS를 몰라, ㅋㅋ 아직도!!! 라는 뜻인가?!?~~\n2판인 Yet에서는 자바스크립트에 대한 설명과 코드 패턴들 그리고 의문점들이 추가되었다. 1판만 가지고 계신 분들에게도 좋은 내용이 많으니 구매해서 읽어보시는 것을 추천한다!</p>\n<h2 id=\"책을-읽고-새롭게-알게-된-지식들\"><a class=\"anchor\" href=\"#책을-읽고-새롭게-알게-된-지식들\">책을 읽고 새롭게 알게 된 지식들</a></h2>\n<ul>\n<li>JavaScript는 ECMAScript의 스펙을 지원하는 개발언어이며, 하위호환을 존중하는 언어이다.</li>\n<li>렉시컬 스코프 스펙을 지원하기 위해 구문 분석과 같은 컴파일이 필요하고 <strong>실제 동작은 인터프린터 방식을 취한다.</strong></li>\n<li><strong>Function에 대한 일급 객체를 지원한다.</strong></li>\n<li>클로저, 프로토타입을 활용하여 function을 추상화 및 캡슐화하였고 상속 개념처럼 활용할 수 있도록 발전하다가 추후에는 class 문법을 지원하게 되었다.</li>\n<li>클로저를 변수의 순간 상태를 기록한 것을 스냅숍이라 착각하지만, 언제든지 접근할 수 있도록 관계를 맺어주는 <strong>라이브 링크</strong>의 개념이 더 적합하다. 그렇기 때문에 <strong>값을 읽는 것뿐만 아니라 수정(재할당)도 가능</strong>하다.</li>\n<li>클로저는 2가지 관점에서 정의 가능하다\n<ul>\n<li><strong>관찰 가능성 관점</strong>\n<ul>\n<li>반드시 함수와 관련이 있어야된다.</li>\n<li>외부 스코프의 변수를 적어도 하나 이상 참조해야된다.</li>\n<li>참조하려는 변수가 있는 스코프 체인의 다른 분기에서 함수를 호출해야한다.</li>\n</ul>\n</li>\n<li><strong>구현 관점</strong>\n<ul>\n<li>프로그램의 다른 부분에서 해당 함수 인스턴스에 대한 참조가 존재하는 한 함수 인스턴스와 그 전체 스코프 환경 체인을 살아있게 유지하는 마법</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>필자는 var 사용을 권장함.</strong> 굳이 불변성이라는 이름에 맞춰서 let, const에 집중해야할까? => 해당 내용은 꼭 읽어보시기를 추천합니다 ~~(이런거 신입 면접 때 말하면 간지나겠다)~~</li>\n<li><strong>동기 클로저</strong> : 함수 내부에서 비동기적으로 처리되는 작업이 있을 때, 그 작업이 완료된 후에 특정 동작을 수행해야 할 경우 사용한다. 주로 콜백 함수(callback function)나 이벤트 핸들러(event handler)에서 사용한다.</li>\n<li><strong>AMD(비동기 모듈 정의) 와 UMD 패턴</strong> => <strong>한번 찾아보시는 것 추천!👍👍</strong>\n<ul>\n<li>UMD 패턴은 모듈이 AMD, CommonJS, 그리고 전역 객체(Global object) 등 다양한 환경에서 사용될 수 있도록 하기 위해 모듈이 있는지 여부를 체크하고, 해당 환경에 맞게 모듈을 정의하는 방식</li>\n<li>AMD는 자바스크립트 모듈을 비동기적으로 로드하고 정의하는 모듈화 방식으로 브라우저 환경에서 모듈화를 구현하는 데 사용</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/content/240509/2.jpeg\" alt=\"2.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>작년 초에 클로저를 사용하는 것을 지양해야 된다는 글을 보았다. 글에서 클로저 지양을 주장한 이유는 클로저를 남발해서 사용하다 보면, 변화에 대한 인지가 어려울 수 있고, 변수의 변화가 GC(가비지 컬랙터)를 예기치 않게 막아 메모리 사용을 급증시키는 요인이 되기 때문이었다. 1년여 시간이 지난 지금 IT 분야에서 메모리 사용에 대한 중요성이 주목받으면서 해당 내용이 어떤 의미로 작성된 것인지 간략하게 알게되었다.</p>\n<p>그래도 개인적인 생각에는 클로저의 특성을 잘 사용하면 효율적이고 성능이 뛰어난 프로그램을 구축하는 데 큰 영향을 준다고 생각한다. 단, 필요하지 않은 함수 참조와 그에 따른 클로저를 제때 잘 삭제하는 것이 중요하다고 생각한다!</p>\n<h2 id=\"react-hooks-파go파go\"><a class=\"anchor\" href=\"#react-hooks-파go파go\">React hooks 파GO파GO</a></h2>\n<p><img src=\"/content/240509/3.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>클로저의 개념을 이용한 것들이 아주아주 많다. 비동기 처리, React의 다양한 훅들, 컴포넌트의 구성 등등....</p>\n<p>많이 사용하는 것 중에 어떤 것이 있고, 어떻게 사용하고 또 어떻게 개선할 수 있을까 등에 관해서 공부해 보았다.</p>\n<h3 id=\"usestate\"><a class=\"anchor\" href=\"#usestate\">useState</a></h3>\n<p>우선 useState는 예~~전에 블로그에 작성해두어서, 해당 부분 복습할겸 다시 찾아보았다. 해당하는 내용은 <strong><a href=\"https://hooninedev.com/230820/\">여기를</a></strong> 참조해보시면 됩니다</p>\n<p>비동기 처리와 오래된 클로저 함수를 사용할 때 캡처에 관해서 문제가 생긴다. 그래서 캡처하는 시점을 파악해서 지연을 주거나, 새롭게 값을 할당할 수 있도록 해야 한다. 자세한 건 아래의 예시 코드를 확인해보자</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> DelayedCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">count</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> handleClickAsync</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> delay</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(count </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      {count}</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">button</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{handleClickAsync}>Increase async&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">button</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>버튼을 클릭할 때마다 setTimeout이 1초의 delay()의 실행을 예약한다. 위 경우에서 버튼을 연달아 2번 클릭하게 되면 두 번째 클릭의 delay()가 오래된 count의 값을 0으로 캡처하기 때문에 count가 1만 올라가게된다</p>\n<p>위 오류를 해결해주기 위해서는 delay() 내부를 아래와 같이 바꾸면 된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> delay</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">count</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> count </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span></code></pre></figure>\n<p><strong>이전 상태를 기반으로 새 상태를 반환하는 콜백이 상태 업데이트 함수에 제공되면 React는 최신 상태 값이 해당 콜백의 인수로 제공되도록 변경이 필요해 위 처럼 변경해야된다.</strong> 그렇게 하면 빠르게 2번 클릭해도 값이 정상적으로 count가 2가 된다.</p>\n<p>간단하지만 예시지만 복잡한 코드를 구현할 때 비동기 처리와 여러 상태를 동시에 다루다 보면 캡처의 시점을 제대로 파악하지 못하는 경우가 종종 있다. 그래서 이전값에서 새로운 값을 업데이트해 줄 경우에 <strong>Arrow Function을 사용하는 것을 권장한다!</strong></p>\n<h3 id=\"useeffect\"><a class=\"anchor\" href=\"#useeffect\">useEffect</a></h3>\n<p>useEffect는 hook을 사용하면서 useCallback과 함께 제일 많은 사이드 이펙트가 발생한다. 그러므로 많이 중요하다고 생각해서 하나의 블로그 주제로 다룰 예정이기에 여기에서는 새롭게 알게 된 부분과 유의해서 사용될 부분에 대해서 기록하도록 하겠다!</p>\n<p>우선 아래 useEffect 코드를 실행해보고 작동 순서를 파악해보자</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> React, { useEffect, useState } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Home</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(state);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, []);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(state);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(state);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">100</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, []);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> default</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Home;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 0</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 0</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 1</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 0</span></span></code></pre></figure>\n<p>일단 첫 번째 렌더링에서 console.log(state)에 의해서 <strong>console.log(0)이 출력된다.</strong> 그 후에 setState의 callback 함수가 호출되고 여전히 <strong>console.log(state)는 0으로 출력된다.</strong> 그 이후 setTimeout으로 0.1초의 기다림 후에 <strong>setState가 1이 된다.</strong> 2번째 렌더링이 발생하고 <strong>console.log(state)는 1이 출력</strong>되고 setTimeOut 함수의 클로저 때문에 <strong>마지막으로 0이 출력된다.</strong></p>\n<p>그럼 조금 더 응용해보자. 우리는 useEffect를 사용하지만 <strong>useInsertionEffect, useLayoutEffect도 사용한다.</strong> 작동의 우선순위를 생각해보며 아래 코드를 실행해보자</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { useEffect, useInsertionEffect, useLayoutEffect, useState } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Home</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, []);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, [state]);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, [state]);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useLayoutEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">6</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">7</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, [state]);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useInsertionEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">8</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">9</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, [state]);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">10</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> default</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Home;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// **첫 번째 렌더링 출력값**</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 1</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 10</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 8</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 6</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 2</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 4</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 첫 번째 렌더링 출력값</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 1</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 10</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 9</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 8</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 7</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 6</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 3</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 5</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 2</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 4</span></span></code></pre></figure>\n<p>일단 알아야 될 것은 렌더링 우선순위는 높은 순서에서 낮은 순서대로 Main thread => useInsertionEffect => useLayoutEffect => useEffect 이다.</p>\n<p>그리고 리렌더링의 우선순위는 높은 순서에서 낮은 순서대로 Main thread => useInsertionEffect 정리 후 즉시 실행 => useLayoutEffect 정리 후 즉시 실행 => useEffect 모두 정리 => 순서대로 하나씩 useEffect 실행</p>\n<h3 id=\"번외로-useeffectonce\"><a class=\"anchor\" href=\"#번외로-useeffectonce\">번외로.. useEffectOnce</a></h3>\n<p>여러분들은 useEffectOnce를 사용하시나요? 저는 한번의 useEffectOnce를 custom Hook으로 사용합니다. 사내에서 useEffect를 많이 사용하다보니, 꼭 사이드 이펙트를 방지해야되는 코드를 명시적으로 보기 위해서 사용하는데..!!</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { useEffect } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useEffectOnce</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">effect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(effect, []);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<blockquote>\n<p>이 부분에 대해서 피드백 해주시면 감사하겠습니다🙇🙇‍♂️</p>\n</blockquote>\n<h2 id=\"아-그리고-번외로\"><a class=\"anchor\" href=\"#아-그리고-번외로\">아 그리고.. 번외로!</a></h2>\n<p>나 생각해보니까 5주동안 동아리에서 이것저것 많이 했어요.. 사이프 공식 행사도 진행하고, 진짜 아티클도 많이 읽고 책도 읽고!!! 제가 위 주제로 사이프 1차 미션을 진행하면서 읽은 아티클 링크 걸어두겠습니다! 그중에 좋다고 생각하는 것들 따로 표시해놓을 거니깐 꼭 읽어보세여~!!</p>\n<p>5주동안 어떤 것을 열심히 했는지 대략적으로 확인해보겠습니다~!</p>\n<h3 id=\"sipe-운영진\"><a class=\"anchor\" href=\"#sipe-운영진\">SIPE 운영진</a></h3>\n<p>처음으로 IT 동아리 운영진을 했습니다! 여러 가지 행사에 참여해서, 대화를 이끌어가 보기도 해보고, 행사의 사진 찍는 역할도 해보고, MC도 해보고, 사람들이랑 맛있는 것도 먹고, 스터디도 진행하고, 같이 운동도 하는 보람찬 시간을 보냈네요!!</p>\n<p>|                 |                 |                   |\n| --------------- | --------------- | ----------------- |\n| <img src=\"/content/240509/8.JPG\" alt=\"8.JPG\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240509/9.JPG\" alt=\"9.JPG\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240509/10.JPG\" alt=\"10.JPG\" loading=\"lazy\" decoding=\"async\"> |</p>\n<h3 id=\"closure\"><a class=\"anchor\" href=\"#closure\">closure</a></h3>\n<p>사실 내가 클로저를 공부하면서 느낀 부분 중 하나는 생각보다 다양한 곳에서 쓰고 있다라는 것을 알게 되었다. 그리고 작년 10월쯤 파랑님의 스터디에서 <strong>커링</strong> 이라는 개념에 대해서 들은 적 있는데 해당 개념이 클로저의 원리를 잘 사용한 문법이라고 생각해서 재미있는 샘플 코드를 작성해두니 꼭 해보시면 좋겠다!</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> dev </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'bfe'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> a</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> dev </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'BFE'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(dev);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">dev </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'bigfrontend'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">a</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// \"BFE\"</span></span></code></pre></figure>\n<p>위 코드의 출력값은 뭐가 될까? 정답은 <strong>\"BFE\"가</strong> 출력된다.</p>\n<p>왜냐하면 클로저는 함수 실행이 완료된 후에도 함수 내부의 반환 함수가 함수 변수 dev = BFE에 대한 참조를 유지하도록 함수 a가 정의될 때 생성되기 때문이다. 위 코드에서 let을 사용하여 선언된 dev라는 외부 변수도 있는데, 이 변수는 나중에 bigfrontend에 재할당된다.</p>\n<p>그러나 a()() 커링함수를 실행할 때 외부 dev 값 bigfrontend에 관계없이 클로저 값 \"BFE\"를 로깅하고 있기 때문에 \"BEF\"가 출력된다.</p>\n<h3 id=\"closure을-이용한-데이터-은닉화\"><a class=\"anchor\" href=\"#closure을-이용한-데이터-은닉화\">closure을 이용한 데이터 은닉화</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Account </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> balance </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> checkIsPositive</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">amount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">typeof</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> amount </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">!==</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'number'</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ||</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> amount </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      throw</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Invalid amount'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    deposit</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">amount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      checkIsPositive</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(amount);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      balance </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> amount;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Deposit:'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, amount);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    withdraw</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">amount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      checkIsPositive</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(amount);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (balance </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">>=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> amount) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        balance </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> amount;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Withdraw:'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, amount);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">else</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Insufficient funds'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    getBalance</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> balance;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">})();</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Current Balance:'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, Account.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getBalance</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 0</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Account.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">deposit</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">100</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Current Balance:'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, Account.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getBalance</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 100</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Account.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">withdraw</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">50</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Current Balance:'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, Account.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getBalance</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 50</span></span></code></pre></figure>\n<p>이 코드에서 Account 모듈은 클로저를 사용하여 balance 변수를 숨기고, deposit, withdraw, getBalance 메서드를 통해 이 변수에만 접근할 수 있도록 할 수 있다.</p>\n<p>이렇게 함으로써 외부에서 balance 변수를 직접 수정하는 것을 방지하고, 데이터를 안전하게 은닉할 수 있다.</p>\n<p><strong>모듈은</strong> 관련 있는 기능을 묶어서 캡슐화하고, 외부에는 필요한 인터페이스만 노출하여 사용자가 쉽게 사용할 수 있도록 하는 것을 의미하는데, 모듈 패턴은 프로그램을 더 모듈화하고 유지보수하기 쉽게 만들어주는 디자인 패턴 중 하나로 코드의 재사용성을 높이고, 의도치 않은 상태 변화나 충돌을 방지할 수 있다.</p>\n<h3 id=\"usehook-ts\"><a class=\"anchor\" href=\"#usehook-ts\">useHook-ts</a></h3>\n<p><img src=\"/content/240509/5.png\" alt=\"5.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>저희 팀 미션에서 <strong><a href=\"https://github.com/juliencrn/usehooks-ts\">useHook-ts에 PR도 올려보고,</a></strong> 이슈에 태클을 걸어보기로 했어요!! 그래서.. 엄청 대단한 거는 아니지만, 회사에서 배열을 관리하는 코드를 자주 사용하는데 그것을 훅으로 간단하게 만들어서 PR 올려두고 다른 분들의 코드를 보면서 이런 것도 훅이 될 수 있구나.. 하고 찾아보았습니다! 그리고 이슈에 댓글도 달아보았는데 사람들이 생각보다 답장을 잘 해주셔서 놀랬다는?!</p>\n<p>제가 만든 훅은 <strong>useArray</strong> 입니다. 해당 코드는 <strong><a href=\"https://github.com/juliencrn/usehooks-ts/pull/597\">요기를👇👇</a></strong> 보면 확인 할 수 있습니다!</p>\n<p>useArray 훅을 만들어보면서 테스트도 작성해보고, 다른 custom TS Hook들을 살펴볼 수 있었습니다. 평상시에 쉽게 사용하던 부분인데 타입, 사이드 이팩트에 대해서 생각해볼 수 있는 좋은 기회였습니다~!</p>\n<p>그리고 다른 분들의 PR과 Issues에 댓글 남겨보면서 대화도 해보았습니다. ~~ㅋㅋ 사소한 행복..~~</p>\n<p><img src=\"/content/240509/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>사랑스럽게 댓글 달아주시는.. 좋은 분들</p>\n</blockquote>\n<h3 id=\"기본적이지만-짚고-넘어가자\"><a class=\"anchor\" href=\"#기본적이지만-짚고-넘어가자\">기본적이지만 짚고 넘어가자!!</a></h3>\n<p>작업을 하다 보면 기본적인 것을 잊을 때가 있다. 2가지를 생각하고 코드를 구현했으면 좋겠다. 첫 번째는 <strong>최상위에서만 Hook을 호출해야 한다.</strong> 나처럼.. 잊는 실수 안 했으면 좋겠다.</p>\n<p>두 번째는 <strong>오직 React 함수 내에서 Hook을 호출해야 한다.</strong> 우리가 구현한 코드에서는 필수적이지 않지만, 항상 코드의 어떤 부분이 상태 관련 로직에 의존하는지 명확하게 구분하는 습관이 중요하다고 생각한다.\n(긍정적인 부수효과로, 반복문과 조건문 내부에서 일반 JavaScript 함수처럼 이름 붙여진 상태 관련 함수를 호출하는 실수를 하지 않게 되기 때문이다.)</p>\n<h2 id=\"회고\"><a class=\"anchor\" href=\"#회고\">회고..</a></h2>\n<p>스스로에 대한 피드백..을 진행해볼 때! 솔직히 열심히 했다!!!!! 책도 읽고, PR도 남겨보고, 아티클도 많이 읽고, 사내 코드에서도 다양한 관점으로 접근했다.</p>\n<p>뭐 잘했다는 이야기만 하고 싶은 것은 아니다. 명확하지 못한 주제와 계획으로 팀 활동을 병행하면서 소통이 너무 적었다. 아쉽아쉽..ㅠㅠ 미션 외에서 팀원들과 외부 활동을 할 때 너무너무 좋았는데!!!</p>\n<p>이러한 경험을 잘 피드백해서 2차 미션도 잘 해내고 싶다!! 1차미션 함께해준 팀원들 감사했습니다~!!!</p>\n<p>|                 |                 |\n| --------------- | --------------- |\n| <img src=\"/content/240509/6.jpg\" alt=\"6.jpg\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240509/7.jpg\" alt=\"7.jpg\" loading=\"lazy\" decoding=\"async\"> |</p>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<ul>\n<li><a href=\"https://jser.dev/series/react-source-code-walkthrough\">JSer.dev</a></li>\n<li><a href=\"https://github.com/facebook/react/blob/main/packages/react/src/ReactHooks.js#L141\">React Github의 ReactHooks.js</a></li>\n<li><a href=\"https://hewonjeong.github.io/deep-dive-how-do-react-hooks-really-work-ko/\">React Hook의 실제 동작 분석</a> => <strong>꼭 읽어보시길!</strong></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures\">MDN Closure</a></li>\n<li><a href=\"https://medium.com/@srinumadhav36/memory-management-with-closures-in-node-js-6bf09b3adfde\">Memory Management wit Closure</a></li>\n<li><a href=\"https://www.codeguage.com/courses/js/functions-closures-quiz\">Closure 관련 퀴즈</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=bGzanfKVFeU&#x26;ab_channel=BeJS\">Goodbye, useEffect</a>\n<ul>\n<li><a href=\"https://github.com/davidkpiano\">위 영상 발표자 : David Khourshid</a></li>\n</ul>\n</li>\n<li><a href=\"https://medium.com/@emmanuelodii80/bye-bye-usestate-useeffect-revolutionizing-react-development-d91f95891adb\">Bye-bye useState &#x26; useEffect</a> => <strong>꼭 읽어보시길!</strong></li>\n<li><a href=\"https://www.youtube.com/watch?v=-yIsQPp31L0&#x26;pp=ygUKdXNlRWZmZWN0IA%3D%3D\">useState &#x26; useEffect 사용할 때 실수하는 것들</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240509/index.md",
    "_raw": {
      "sourceFilePath": "240509/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240509",
      "contentType": "markdown",
      "flattenedPath": "240509"
    },
    "type": "Post",
    "slug": "/240509",
    "categoryArray": [
      "대외활동"
    ],
    "readingTime": "21 min read",
    "excerpt": "나는 SIPE라는 IT 동아리에서 1차 미션으로 YouDontKnowJS 라는 책을 읽고, React의 hook의 작동원리에 대해서 스터디하고 있다. 5주 정도 시간이 흘러 그동안 공부한 내용들을 정리해보려고 한다. 앞서 말한 데로 책은 카일 심슨의 YouDontKnowJs Yet(2024.01.12)으로 시작하였다. => 넌 아직 JS를 몰라, ㅋㅋ 아직..."
  },
  {
    "title": "자바스크립트 Promise를 퀴즈로 쉽게 익히기 with 예제 코드",
    "date": "2024-05-14T00:00:00.000Z",
    "categories": "소박한궁금증 자바스크립트",
    "body": {
      "raw": "\n![1.jpeg](1.jpeg)\n\n<br>\n\n## Promise에 대해서 공부해보자\n\n나는 개인적으로 프론트엔드의 꽃은 Promise와 비동기라고 생각한다. 백엔드를 공부하는 친구들이 가장 어려워하는 부분이기도 하고, 나의 러닝 커브가 가장 길었기 때문이다!\n\n어차피 해당하는 내용은 공부를 미리 진행한 적 있어서 블로그 링크를 첨부하고 퀴즈를 통해 작동에 방법을 익히고, 활용해볼 예정이다!!\n\n> Promise를 이해하기 위한 선행학습자료는 **[여기에](https://hooninedev.com/230816/)** 첨부하니 확인해보시길 권장드립니다.\n\n<br>\n\n### Promise.all()\n\n```javascript\n(async () => {\n  await Promise.all([]).then(\n    (value) => {\n      console.log(value);\n    },\n    (error) => {\n      console.log(error);\n    },\n  );\n\n  await Promise.all([1, 2, Promise.resolve(3), Promise.resolve(4)]).then(\n    (value) => {\n      console.log(value);\n    },\n    (error) => {\n      console.log(error);\n    },\n  );\n\n  await Promise.all([1, 2, Promise.resolve(3), Promise.reject('error')]).then(\n    (value) => {\n      console.log(value);\n    },\n    (error) => {\n      console.log(error);\n    },\n  );\n})();\n\n// 결과값\n\n// []\n// [1,2,3,4]\n// \"error\"\n```\n\n위 코드의 결과값에서 3번째 Promise.all()에서 1,2,3이 출력되지 않고 error만 출력된 이유는 **Promise.all()에서 입력 값으로 들어온 프로미스 중 하나라도 거부당하면 즉시 거부하기 때문이다.**\n\nPromise.all()의 개념이 더 궁금하면 **[MDN 자료를](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/all)** 확인해보시면 됩니다. ✔️\n\n<br>\n\n### Promise Order\n\n```javascript\nconsole.log(1);\n\nsetTimeout(() => {\n  console.log(2);\n}, 10);\n\nsetTimeout(() => {\n  console.log(3);\n}, 0);\n\nnew Promise((_, reject) => {\n  console.log(4);\n  reject(5);\n  console.log(6);\n})\n  .then(() => console.log(7))\n  .catch(() => console.log(8))\n  .then(() => console.log(9))\n  .catch(() => console.log(10))\n  .then(() => console.log(11))\n  .then(console.log)\n  .finally(() => console.log(12));\n\nconsole.log(13);\n\n// 결과값\n\n// 1\n// 4\n// 6\n// 13\n// 8\n// 9\n// 11\n// undefined\n// 12\n// 3\n// 2\n```\n\n위 코드는 어떤 순서로 값이 출력될까?\n\n우선 동기식 코드(synchronous code) 1이 출력되고나서 3,2가 태크로테스크 대기열에 들어가는데 3이 2보다 지연값이 적기 때문에 먼저 들어간다.\n\n4,6은 Promise 내부에서 출력되고, Promise는 마이크로테스크 대기열에 들어가고 13이 동기식 코드로 출력된다.\n\n이렇게 되면 콜 스택은 비어있다. **우선순위가 먼저인 마이크로테스크 대기열의 프로미스가 먼저 실행되고,** reject 상태이기 떄문에 catch로 넘어가게 되고 8이 출력된다.\n\n오류가 발생하지 않기 때문에 프로미스 체인으로 인해 9, 11 그리고 undefined가 실행되고 12가 출력이 된다.\n\n마지막으로 큐에 대기 중인 setTimeouts이 실행되어 3과 2가 출력된다.\n\n위 코드를 실행해보니 우선순위는 **동기식 코드(synchronous code) > 마이크로 테스크 => 매크로 테스크** 순서대로 실행되는 것을 확인해 볼 수 있다.\n\n<br>\n\n### Promise.prototype.finally()\n\n```javascript\nPromise.resolve(1)\n  .finally((data) => {\n    console.log(data);\n    return Promise.reject('error');\n  })\n  .catch((error) => {\n    console.log(error);\n    throw 'error2';\n  })\n  .finally((data) => {\n    console.log(data);\n    return Promise.resolve(2).then(console.log);\n  })\n  .then(console.log)\n  .catch(console.log);\n\n// 결과값\n\n// undefined;\n// error;\n// undefined;\n// 2;\n// error2;\n```\n\n우선 Promise의 finally에 대해서 알아보면, **finally의 특징에는 fulfilled 또는 rejected 되든 상관없이 항상 실행되는 콜백 함수를 지정할 수** 있게 해준다. 그리고 **인자를 받지 않고 이전 상태를 유지해준다.**\n\n위 내용을 알고 코드의 실행 과정을 살펴보자\n\n처음에 Promise.resolve(1)이 호출되면서 즉시 이행된 Promise가 생성된다. 그리고 **finally 블록이 Promise의 최종 상태와 관계없이 실행된다.** 하지만 finally는 인자를 받지 않기 때문에 data는 undefined가 출력된다.\n\nfinally 블록에서 Promise.reject('error')를 반환하여, 체인은 거부된 상태가 된다.\n\ncatch 블록은 거부된 Promise를 처리하는데, 여기서 error는 'error'가 되어 출력되고, catch 블록에서 'error2'를 던지는데, 이로 인해 이후의 체인은 다시 거부된 상태가 된다.\n\n그리고 finally 블록도 실행되지만, 인자를 받지 않기 때문에 data는 undefined가 출력된다. 그 이후 finally 블록에서 Promise.resolve(2).then(console.log)를 반환하여 2라는 값을 가지게 된다.\n\nPromise.resolve(2)는 이행된 Promise를 반환하며, then 블록에서 console.log를 호출하여 2를 출력한다. 두 번째 finally 블록은 여전히 'error2'로 인해 거부된 상태로 catch가 실행되어 'error2' 인자를 받아 error2가 출력된다.\n\n<br>\n\n### Promise then callbacks\n\n```javascript\nPromise.resolve(1)\n  .then(() => 2)\n  .then(3)\n  .then((value) => value * 3)\n  .then(Promise.resolve(4))\n  .then(console.log);\n\n// 결과값\n\n// 6\n```\n\n위 코드는 어떻게 작동하는지 알아보기 전에 **then 메서드에 전달되는 인자는 함수여야 한다.** 함수가 아닌 값은 무시가 되고 이전 값이 그대로 전달된다. 그리고 **Promise.resolve로** 생성된 Promise를 then에 전달하면 **체인에 영향을 주지 않고 무시**된다는 것을 알고 코드를 실행해보자!\n\nPromise.resolve(1)은 즉시 이행된 Promise를 생성하며, 그 값은 1이 된다.\n\n.then(()=>2)에서 이전 값 1을 사용하지 않고, 대신 2를 반환한다.\n\n.then(3)에서 then은 함수여야 하는데, 3은 함수가 아니므로 이 단계는 무시되어 이전 값 2가 그대로 전달된다.\n\nthen((value) => value _ 3)에서 이전 값 2를 받아서 2 _ 3 = 6을 반환하여 6이 된다.\n\nthen(Promise.resolve(4))에서 then은 함수여야 하는데, Promise.resolve(4)는 함수가 아니므로 즉시 이행된 Promise가 반환되어 이전 값 6만 전달되고 6이 출력된다.\n\n<br>\n\n## 여러분들은 어떻게 쓰고 계신가요!?\n\n우선 저는 사내에서 Promise를 직접적으로 구현해서 쓰지 않습니다. 왜? 라는 생각을 해보았는데 한줄로 설명하면 **더 높은 수준에서 추상화한 라이브러리나 기능들을 사용하고 있기 때문이라** 생각합니다.\n\nClient에서 데이터 페칭을 위해서 React-Query를 사용하고, 비동기 코드 작성할 때 복잡성과 가독성을 위해 Promise 대신 async/await 문법을 더 많이 사용합니다.\n\n전역에서 상태관리 할 때에는 Context API를 사용하거나 상태관리 라이브러리를 사용하고 있습니다. 이런 이유 때문에 직접적으로 Promise를 다루지는 않네요.\n\n올해 1월에 아이슬란드 여행 가기 전에 신입분들이 입사할 것 같다는 말을 듣고, Promise 관련한 재사용 코드를 만들어서 전달해야겠다고 생각했습니다. 여러가지 조건들을 찾아본 결과 아래와 같이 네트워크 오류가 발생하여 데이터를 제대로 호출하지 않았을 때 자동 재 호출하는 **FetchAutoRetry 코드를 작성해서** Promise의 개념을 설명해주곤 합니다.\n\n```typescript\nasync function fetchAutoRetry<T>(\n  fetcher: () => Promise<T>,\n  maximumRetryCount: number,\n  delay: number = 1000,\n): Promise<T> {\n  try {\n    return await fetcher();\n  } catch (e) {\n    if (maximumRetryCount <= 0) {\n      throw e;\n    } else {\n      await new Promise((resolve) => setTimeout(resolve, delay));\n      return fetchAutoRetry(fetcher, maximumRetryCount - 1, delay);\n    }\n  }\n}\n```\n\n> 현재에는 React-Query를 사용하기에 위 코드를 사용하지는 않지만, 좋은 예시가 된다고 생각합니다!\n\n이번에 Promise를 공부하면서, Promise가 어떻게 어떠한 원리로 만들어졌는지 궁금해서 MDN 사이트를 참조했습니다. 만들어진 Promise에 대해 구경을 할 수 있지만 구현 방법에 대해서 많이 궁금해졌습니다.\n\n그러다가 Promise 동작을 하나하나 구현해보면서 실습할 예시 코드를 확인하게 되어서 주말에 진행해보려 합니다. 해당하는 작업은 Class 내부에 Promise를 구현하는 방법인데 최대한으로 작업해보고 공유하도록 하겠습니다.\n\n다른 분들도 해보실 수 있도록 **[링크 전달해드리니](https://youtu.be/1l4wHWQCCIc)** 시간 되실 때 해보시면 좋을 것 같습니다!\n\n<br>\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/240514/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"promise에-대해서-공부해보자\"><a class=\"anchor\" href=\"#promise에-대해서-공부해보자\">Promise에 대해서 공부해보자</a></h2>\n<p>나는 개인적으로 프론트엔드의 꽃은 Promise와 비동기라고 생각한다. 백엔드를 공부하는 친구들이 가장 어려워하는 부분이기도 하고, 나의 러닝 커브가 가장 길었기 때문이다!</p>\n<p>어차피 해당하는 내용은 공부를 미리 진행한 적 있어서 블로그 링크를 첨부하고 퀴즈를 통해 작동에 방법을 익히고, 활용해볼 예정이다!!</p>\n<blockquote>\n<p>Promise를 이해하기 위한 선행학습자료는 <strong><a href=\"https://hooninedev.com/230816/\">여기에</a></strong> 첨부하니 확인해보시길 권장드립니다.</p>\n</blockquote>\n<h3 id=\"promiseall\"><a class=\"anchor\" href=\"#promiseall\">Promise.all()</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">async</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  await</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">all</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([]).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  await</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">all</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)]).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  await</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">all</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'error'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)]).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">})();</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 결과값</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// []</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// [1,2,3,4]</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// \"error\"</span></span></code></pre></figure>\n<p>위 코드의 결과값에서 3번째 Promise.all()에서 1,2,3이 출력되지 않고 error만 출력된 이유는 <strong>Promise.all()에서 입력 값으로 들어온 프로미스 중 하나라도 거부당하면 즉시 거부하기 때문이다.</strong></p>\n<p>Promise.all()의 개념이 더 궁금하면 <strong><a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\">MDN 자료를</a></strong> 확인해보시면 됩니다. ✔️</p>\n<h3 id=\"promise-order\"><a class=\"anchor\" href=\"#promise-order\">Promise Order</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">10</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">new</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">_</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">6</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">})</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">7</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">8</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">9</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">10</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">11</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(console.log)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">finally</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">12</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">13</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 결과값</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 1</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 4</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 6</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 13</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 8</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 9</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 11</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// undefined</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 12</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 3</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 2</span></span></code></pre></figure>\n<p>위 코드는 어떤 순서로 값이 출력될까?</p>\n<p>우선 동기식 코드(synchronous code) 1이 출력되고나서 3,2가 태크로테스크 대기열에 들어가는데 3이 2보다 지연값이 적기 때문에 먼저 들어간다.</p>\n<p>4,6은 Promise 내부에서 출력되고, Promise는 마이크로테스크 대기열에 들어가고 13이 동기식 코드로 출력된다.</p>\n<p>이렇게 되면 콜 스택은 비어있다. <strong>우선순위가 먼저인 마이크로테스크 대기열의 프로미스가 먼저 실행되고,</strong> reject 상태이기 떄문에 catch로 넘어가게 되고 8이 출력된다.</p>\n<p>오류가 발생하지 않기 때문에 프로미스 체인으로 인해 9, 11 그리고 undefined가 실행되고 12가 출력이 된다.</p>\n<p>마지막으로 큐에 대기 중인 setTimeouts이 실행되어 3과 2가 출력된다.</p>\n<p>위 코드를 실행해보니 우선순위는 <strong>동기식 코드(synchronous code) > 마이크로 테스크 => 매크로 테스크</strong> 순서대로 실행되는 것을 확인해 볼 수 있다.</p>\n<h3 id=\"promiseprototypefinally\"><a class=\"anchor\" href=\"#promiseprototypefinally\">Promise.prototype.finally()</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">finally</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(data);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'error'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    throw</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'error2'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">finally</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(data);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(console.log);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(console.log)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(console.log);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 결과값</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// undefined;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// error;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// undefined;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 2;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// error2;</span></span></code></pre></figure>\n<p>우선 Promise의 finally에 대해서 알아보면, <strong>finally의 특징에는 fulfilled 또는 rejected 되든 상관없이 항상 실행되는 콜백 함수를 지정할 수</strong> 있게 해준다. 그리고 <strong>인자를 받지 않고 이전 상태를 유지해준다.</strong></p>\n<p>위 내용을 알고 코드의 실행 과정을 살펴보자</p>\n<p>처음에 Promise.resolve(1)이 호출되면서 즉시 이행된 Promise가 생성된다. 그리고 <strong>finally 블록이 Promise의 최종 상태와 관계없이 실행된다.</strong> 하지만 finally는 인자를 받지 않기 때문에 data는 undefined가 출력된다.</p>\n<p>finally 블록에서 Promise.reject('error')를 반환하여, 체인은 거부된 상태가 된다.</p>\n<p>catch 블록은 거부된 Promise를 처리하는데, 여기서 error는 'error'가 되어 출력되고, catch 블록에서 'error2'를 던지는데, 이로 인해 이후의 체인은 다시 거부된 상태가 된다.</p>\n<p>그리고 finally 블록도 실행되지만, 인자를 받지 않기 때문에 data는 undefined가 출력된다. 그 이후 finally 블록에서 Promise.resolve(2).then(console.log)를 반환하여 2라는 값을 가지게 된다.</p>\n<p>Promise.resolve(2)는 이행된 Promise를 반환하며, then 블록에서 console.log를 호출하여 2를 출력한다. 두 번째 finally 블록은 여전히 'error2'로 인해 거부된 상태로 catch가 실행되어 'error2' 인자를 받아 error2가 출력된다.</p>\n<h3 id=\"promise-then-callbacks\"><a class=\"anchor\" href=\"#promise-then-callbacks\">Promise then callbacks</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">*</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(console.log);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 결과값</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 6</span></span></code></pre></figure>\n<p>위 코드는 어떻게 작동하는지 알아보기 전에 <strong>then 메서드에 전달되는 인자는 함수여야 한다.</strong> 함수가 아닌 값은 무시가 되고 이전 값이 그대로 전달된다. 그리고 <strong>Promise.resolve로</strong> 생성된 Promise를 then에 전달하면 <strong>체인에 영향을 주지 않고 무시</strong>된다는 것을 알고 코드를 실행해보자!</p>\n<p>Promise.resolve(1)은 즉시 이행된 Promise를 생성하며, 그 값은 1이 된다.</p>\n<p>.then(()=>2)에서 이전 값 1을 사용하지 않고, 대신 2를 반환한다.</p>\n<p>.then(3)에서 then은 함수여야 하는데, 3은 함수가 아니므로 이 단계는 무시되어 이전 값 2가 그대로 전달된다.</p>\n<p>then((value) => value _ 3)에서 이전 값 2를 받아서 2 _ 3 = 6을 반환하여 6이 된다.</p>\n<p>then(Promise.resolve(4))에서 then은 함수여야 하는데, Promise.resolve(4)는 함수가 아니므로 즉시 이행된 Promise가 반환되어 이전 값 6만 전달되고 6이 출력된다.</p>\n<h2 id=\"여러분들은-어떻게-쓰고-계신가요\"><a class=\"anchor\" href=\"#여러분들은-어떻게-쓰고-계신가요\">여러분들은 어떻게 쓰고 계신가요!?</a></h2>\n<p>우선 저는 사내에서 Promise를 직접적으로 구현해서 쓰지 않습니다. 왜? 라는 생각을 해보았는데 한줄로 설명하면 <strong>더 높은 수준에서 추상화한 라이브러리나 기능들을 사용하고 있기 때문이라</strong> 생각합니다.</p>\n<p>Client에서 데이터 페칭을 위해서 React-Query를 사용하고, 비동기 코드 작성할 때 복잡성과 가독성을 위해 Promise 대신 async/await 문법을 더 많이 사용합니다.</p>\n<p>전역에서 상태관리 할 때에는 Context API를 사용하거나 상태관리 라이브러리를 사용하고 있습니다. 이런 이유 때문에 직접적으로 Promise를 다루지는 않네요.</p>\n<p>올해 1월에 아이슬란드 여행 가기 전에 신입분들이 입사할 것 같다는 말을 듣고, Promise 관련한 재사용 코드를 만들어서 전달해야겠다고 생각했습니다. 여러가지 조건들을 찾아본 결과 아래와 같이 네트워크 오류가 발생하여 데이터를 제대로 호출하지 않았을 때 자동 재 호출하는 <strong>FetchAutoRetry 코드를 작성해서</strong> Promise의 개념을 설명해주곤 합니다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">async</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> fetchAutoRetry</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  fetcher</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  maximumRetryCount</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  delay</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> await</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> fetcher</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (e) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (maximumRetryCount </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      throw</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> e;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">else</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      await</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(resolve, delay));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> fetchAutoRetry</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(fetcher, maximumRetryCount </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, delay);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<blockquote>\n<p>현재에는 React-Query를 사용하기에 위 코드를 사용하지는 않지만, 좋은 예시가 된다고 생각합니다!</p>\n</blockquote>\n<p>이번에 Promise를 공부하면서, Promise가 어떻게 어떠한 원리로 만들어졌는지 궁금해서 MDN 사이트를 참조했습니다. 만들어진 Promise에 대해 구경을 할 수 있지만 구현 방법에 대해서 많이 궁금해졌습니다.</p>\n<p>그러다가 Promise 동작을 하나하나 구현해보면서 실습할 예시 코드를 확인하게 되어서 주말에 진행해보려 합니다. 해당하는 작업은 Class 내부에 Promise를 구현하는 방법인데 최대한으로 작업해보고 공유하도록 하겠습니다.</p>\n<p>다른 분들도 해보실 수 있도록 <strong><a href=\"https://youtu.be/1l4wHWQCCIc\">링크 전달해드리니</a></strong> 시간 되실 때 해보시면 좋을 것 같습니다!</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240514/index.md",
    "_raw": {
      "sourceFilePath": "240514/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240514",
      "contentType": "markdown",
      "flattenedPath": "240514"
    },
    "type": "Post",
    "slug": "/240514",
    "categoryArray": [
      "소박한궁금증",
      "자바스크립트"
    ],
    "readingTime": "10 min read",
    "excerpt": "Promise에 대해서 공부해보자 나는 개인적으로 프론트엔드의 꽃은 Promise와 비동기라고 생각한다. 백엔드를 공부하는 친구들이 가장 어려워하는 부분이기도 하고, 나의 러닝 커브가 가장 길었기 때문이다! 어차피 해당하는 내용은 공부를 미리 진행한 적 있어서 블로그 링크를 첨부하고 퀴즈를 통해 작동에 방법을 익히고, 활용해볼 예정이다!! Promise를 ..."
  },
  {
    "title": "비전공 프론트엔드 2년차 개발자 멘티 일지: 2주차 - 복습의 지옥",
    "date": "2024-05-16T00:00:00.000Z",
    "categories": "멘토링 자바스크립트",
    "body": {
      "raw": "\n으아아아ㅏ 멘토링 두번째 회고 및 복습 시작!!!\n\n<br>\n\n## 복습.. 또 복습\n\n![5.jpeg](5.jpeg)\n\n복습은 복숭아다.. ~~(복숭아가 너무너무 먹고싶다.)~~ 이번 주도 어김없이 아는 것을 설명하지 못하고, 계속 반복된 이야기만 했다. 아직 잘 몰라서 그런 것 같다. 미숙하지만 **더더더더! 공부하자 We Can Do It**\n\n<br>\n\n### const, let, var의 호이스팅에서 차이점\n\n우선 **호이스팅이란 실행 컨텍스트 생성 시 렉시컬 스코프 내의 선언이 끌어올려 지는 것을 의미**한다.\n\n변수 생성 과정은 선언 단계(Declaration phase) => 초기화 단계(Initialization phase) => 할당 단계(Assignment phase) 이렇게 총 세 단계를 거쳐 생성되고, 변수를 선언 및 초기화 하기전에 사용하게 되는 영역을 **TDZ(Temporal Dead Zone)라고 한다.**\n\n![2.png](2.png)\n\n**var :** 선언한 변수는 호이스팅 시 undefined로 초기화되어, 변수 선언 이전에 해당 변수를 참조할 수 있다. 변수 선언과 동시에 undefined로 초기화된다.\n초기화 이후에 값을 할당할 수 있고, 동일한 변수 이름으로 재선언이 가능하고, 변수에 새로운 값을 할당할 수 있다.\n\n**let :** 선언한 변수는 호이스팅 시 초기화되지 않으며, 선언 전에 참조하면 참조 오류(ReferenceError)가 발생한다. 그리고 메모리 공간은 확보되지만 초기화는 선언 단계에서 이루어지지 않는다.\n선언 이후에 값을 할당할 수 있고, 선언 시 값을 할당하지 않아도 오류가 발생하지 않는다. 또한 동일한 변수 이름으로 재선언할 수 없지만, 변수에 새로운 값을 할당할 수 있다.\n\n**const :** 선언한 변수도 let과 마찬가지로 호이스팅 시 초기화되지 않으며, 선언 전에 참조하면 참조 오류가 발생한다. 또한 선언과 동시에 반드시 초기화(값 할당)가 이루어져야 한다.\n선언 시 할당된 값을 변경할 수 없고, 동일한 변수 이름으로 재선언할 수 없으며, 값을 재할당할 수 없다.\n\n<br>\n\n### 그래서 TDZ란?\n\n위에서 말한 대로 변수를 선언, 초기화하기 전 사이의 사각지대를 TDZ라고한다.\n\nTDZ의 영향을 받는 것들은 const 변수, let 변수, class 구문 등이 있고, 영향을 받지 않는 구문은 var 변수, function, import 구문이 있다.\n\n<br>\n\n### node_modules의 호이스팅으로 발생하는 문제\n\n질문을 받자마자 든 생각은 엥..? 이었다. 도대체 node_modules랑 호이스팅이랑 어떠한 문제가 있는 것일까? 내가 알기로 호이스팅은 변수와 함수에 일어나는 것이 아닌가.. 깊게 공부한 내용을 기록해보겠다.\n\n![1.png](1.png)\n\n우선 자바스크립트 내에서 호이스팅은 인터프리터가 코드를 실행하기 전에 함수, 변수, 클래스 또는 임포트(import)의 선언문을 해당 범위의 맨 위로 이동시키는 과정을 의미하는 것을 알아야 한다.\n\nnode_modules의 호이스팅으로 발생하는 가장 큰 문제는 **비효율적인 의존성 검색과 유령 의존성 발생이라고 생각한다.**\n\nNPM은 패키지를 찾기 위해서 계속 상위 디렉토리의 node_modules 폴더를 탐색하게 되고, 바로 찾지 못하면 호출이 반복이 되어 탐색이 비효율적이게 된다. 또한 상위 디렉토리 환경에 영향을 받아 잘못된 의존성을 불러올 수 있다.\n\n제일 큰 문제점은 **유령 의존성(Phantom Dependency)이다.** 호이스팅에 따라 직접 의존하고 있지 않은 라이브러리를 require(), import() 할 수 있는 현상을 의미하는데, 명시하지않은 라이브러리를 조용히 사라지게 해서, 의존성 관리를 혼란스럽게 하게된다.\n\n구글링해보니 이러한 이유때문에 큰 프로젝트나, 모노레퍼에서는 의존성 문제를 효율적으로 해결하기 위해 pnpm 또는 Yarn Berry 사용을 권장하고 있다.\n\n<br>\n\n### Lexical Scope에 대해 이해해보자\n\n렉시컬 스코프(정적 스코프)를 간단히 표현하면 함수를 어디서 호출하는지가 아니라 어디서 선언하였는지에 따라 상위 스코프를 결정하는 것이다.\n\n```javascript\nvar item = '첫 번째';\n\nfunction first() {\n  var item = '십만 번째';\n  second();\n}\n\nfunction second() {\n  console.log(item);\n}\n\nfirst();\nsecond();\n```\n\n위 코드를 실행하면 \"첫 번째\"가 두 번 출력된다. 왜냐하면 자바스크립트에서 **실행 단계에 코드들의 스코프를 결정하기 때문이다.**\n\n그러므로, second() 함수가 first() 함수 안에서 호출된 것과 상관없이 second() 함수는 global 범위에 선언되어 있으므로, global 범위에 있는 변수 item의 값인 \"첫 번째\"가 두 번 출력된 것이다.\n\n**자바스크립트 엔진은 코드가 로드될 때 실행 컨텍스트를 생성하고 그 안에 선언된 변수, 함수를 실행 컨텍스트 최상단으로 호이스팅하는데, 이러한 범위를 렉시컬 스코프라 한다.**\n\n> 이와 반대로 함수 호출에 따라 상위 스코프가 정해지는 **Dynamic Scope**도 있다.\n\n<br>\n\n### Class와 프로토타입의 개념 차이\n\n![7.jpeg](6.jpeg)\n\n자바스크립트에서 클래스와 프로토타입은 객체 지향 프로그래밍을 구현하는 핵심적인 방법이다. 자바스크립트의 다양한 기능과 패턴을 보다 효과적으로 활용하기 위해서는 반드시 알아야 할 개념이라고 생각한다. 위 내용을 아래 키워드를 가지고 비교해보면서 공부해보자!\n\n<br>\n\n<h4>🤔 Q1) 자바스크립트는 프로토타입언어인데 프로토타입이 뭘까?</h4>\n\n정확히는 **자바스크립트는 기존의 객체를 복사하여 새로운 객체를 생성하는 프로토타입 기반 객체지향 프로그래밍 언어**이다. Java, C++과 같은 클래스 기반 객체지향 프로그래밍이랑은 다르다.\n\nJavascript에서 기본 데이터 타입을 제외한 모든 것이 객체다. 객체가 만들어지기 위해서는 자신을 만드는 데 사용된 원형인 프로토타입 객체를 이용하여 객체를 만든다. 이 때 객체 안에 **`__proto__`** 속성이 자신을 만들어낸 원형을 의미하는 프로토타입 객체를 참조하는 숨겨진 링크가 존재하는데 이것을 프로토타입이라고 정의한다.\n\n<br>\n\n<h4>🤔 Q2) Class와 프로토타입의 차이가 뭘까?</h4>\n\n- 프로토타입 기반 상속은 Object.create()나 new 연산자를 사용하여 프로토타입 객체를 상속하거나 프로토타입 체인을 활용하지만, 클래스는 extends 키워드를 사용하여 다른 클래스를 상속한다.\n\n- 생성자 함수와 프로토타입 매서드는 함수 호이스팅의 영향을 받을 수 있지만, 클래스와 클래스 메서드는 블록 스코프를 따르며 호이스팅이 발생하지 않는다.\n\n- 클래스는 new 키워드를 사용하여 인스턴스를 생성한다. 프로토타입도 new 키워드를 사용하지만, 생성자 함수와 프로토타입 체인을 설정하는 과정이 추가로 필요하다.\n\n<br>\n\n<h4>🤔 Q3) 실행 컨텍스트 같은 문법은 자바스크립트에서 왜 필요했을까?</h4>\n\n우선 실행 컨텍스트에 대해 알아보자. 실행 컨텍스트는 아래와 같이 3가지 종류가 있고 자동으로 생성되는 전역공간과 eval을 제외하면 함수를 실행하는 시점에 실행 컨텍스트가 실행 된다.\n\n- **Global Execution Context (전역 실행 컨텍스트)의** 종류는 브라우저의 경우, window 객체 / Node.js경우, global 객체다.\n- **Functional Execution Context (함수 실행 컨텍스트)는** 함수가 실행될 때마다 만들어지는 실행 컨텍스트로 각 함수는 고유의 실행 컨텍스트를 가지며, 함수가 실행되거나 호출될때 생성된다.\n\n- **Eval Function Execution Context는** eval 함수로 실행되는 코드다.\n\n자바스크립트 엔진은 웹 성능의 최적화와 복잡성을 효율적으로 관리하기 위해 실행 컨텍스트를 사용한다. 코드가 잘 실행되려면 스코프, 식별자, 코드 실행 순서등의 관리가 필요한데 이런 것들을 실행 컨텍스트가 관리해준다.\n\n<br>\n\n### What is Heap Memory?\n\n힙 메모리는 프로그램에서 동적으로 할당된 메모리를 관리하는데 사용되는 영역이다. 프로그램이 실행될 때, 운영체제는 프로그램에 메모리 공간을 할당하며, 스택 과 힙으로 구성되어 있다. **스택은 지역 변수와 함수 호출 시 생성되는 변수들을 저장하는 영역이고, 힙은 동적으로 할당되는 메모리를 저장하는 영역이다.**\n\n힙 메모리는 프로그램에서 필요한 만큼의 메모리를 동적으로 할당하여 사용한다. 힙 메모리는 스택과 달리, 메모리 블록을 계속 할당하거나 해제할 수 있어서 메모리 누수가 발생하기 쉽다.\n\n![3.png](3.png)\n\n참조형 데이터와 힙 메모리는 어떠한 연관성이 있을까? 위 그림을 살펴보자.\n\n우선 10이라는 **값 자체는 원시 타입이므로 콜 스택에 저장**되고, 변수 a에는 10이 저장된 콜 스택 메모리의 주소값이 저장된다. 변수 식별자 a 자체는 콜스택 상의 실행 컨텍스트(Execution Context)의 렉시컬 환경(Lexical Environment)에 저장된다.\n\n**참조 타입 데이터인 b(배열), c(객체), d(함수)는 참조 타입이므로 메모리 힙에 저장**된다. 참조타입 데이터가 저장된 메모리 힙의 주소값은 콜스택에 각각 저장되고, 메모리힙의 주소 값이 저장된 콜 스택의 주소값은 각각 변수 b, c, d에 저장된다. 마찬가지로, 변수 식별자 b, c, d 이름 자체는 콜스택 상의 '실행 컨텍스트(Execution Context)의 렉시컬 환경(Lexical Environment)에 저장된다.\n\n<br>\n\n<br>\n\n### 객체와 배열의 연관성\n\n자바스크립트에서 객체는 아래와 같은 특징들을 가지고 있다.\n\n- 변수지만, 많은 값이 포함될 수 있고, 변수처럼 단일 값을 포함 할 수 있다.\n- 중괄호 표기를 이용하여 만들 수 있다.\n- 각각의 key/value에 대한 정보를 나열할 수 있어야 하고, key는 문자열 또는 기호여야 하며, value는 모든 유형이 될 수 있다.\n- 한 쌍의 key/value 뒤에 쉼표를 이용하여 그 뒤에 오는 key/value와 구분해주어야 한다.\n- 객체에서 명명된 값을 Properties라고 한다.\n- 변수는 예약어의 이름을 가질 수 없지만 객체는 어떠한 이름이어도 상관없다.\n- 객체 변수를 복사하면 참조가 복사되고 객체가 복제되지 않는다.\n\n배열은 객체와 구조는 같지만, 키는 항상 숫자이며, 값은 요소다. 그러면 배열은 객체가 될 수 있을까?\n\n질문의 대답은 **YES다.** 배열은 Array 클래스의 인스턴스로서, 배열의 프로토타입 체인에 Object가 있으며, Object의 모든 메서드와 속성을 상속받기 때문이다.\n\n<br>\n\n### 객체를 어떻게 분류하고 ECMA Script에서는 객체를 어떻게 구성하고 있을까?\n\n1. **JavaScript 내장 객체 (Built-in Object)는** JavaScript 엔진이 구동되는 시점에서 바로 제공되며 JavaScript코드 어디에서든 사용이 가능하다. 아래의 내장 객체들 외에도 많은 내장 객체들이 있다.\n\n   - Global\n   - Object\n   - String\n   - Number\n   - Boolean\n   - Date\n   - Array\n\n2. **브라우저 내장 객체 (Native Object)도** JavaScript가 구동되는 시점에서 바로 사용이 가능한 객체들이며 내장 객체이다. 하지만 브라우저마다 브라우저 내장 객체를 사용함에 있어 구성을 달리하는 경우가 있기 때문에 JavaScript 내장 객체와 구분되고 있다.. 하지만 브라우저 내장 객체는 브라우저, 즉 JavaScript 엔진을 구동하는 것들에서 build되는 객체들이다. 이 객체들은 자바스크립트 내장객체가 구성된 후에 구성이 된다.\n\n   - 브라우저 객체 모델 (BOM)\n   - 문서 객체 모델 (DOM)\n\n3. **사용자 정의 객체 (Host Object)는** 말 그대로 사용자가 생성한 객체들로 생성자 함수 또는 객체 리터럴을 통해 사용자가 객체를 정의하고 확장시킨 객체들이기 때문에 내장 객체들이 구성된 이후에 구성되어 진다.\n\n<br>\n\n## 5월 둘째 주 회고\n\n![4.jpeg](4.jpeg)\n\n회고를 하기 전에 이런저런 많은 생각을 하였다. 나 스스로에 대해서 잘 알고 있다. 마음 잡히면 잘하지만, 잡히는 과정이 오래 걸린다는 것을.. 또한 하고 싶은 게 너~~무 많아서 걱정에 앞서 모든 일을 저지르고 생각한다. 이러한 나의 문제점을 잘 해결해서 더 좋은 방향으로 갈 수 있도록 여유 있는 일정을 잡아야겠다.\n\n### 이번 주 좋은 것과 나쁜 것\n\n- 날씨가 좋은 것 빼고는 별 차이가 없는 1주일이었습니다.\n- 5/6에 쉬는날이여서 멘토링을 빨리 진행해 7일까지 멘토링에 대한 복습을 진행할 수 있었습니다.\n\n### 이번주 진행했던 학습/개발 내용은??\n\n- 동아리에서 5~6주 활동의 결과 발표를 진행했습니다. (https://hooninedev.com/240509/)\n- 멘토링 끝난 2일동안 멘토링 과정 복습을 진행했습니다.\n- 멘토링 과제들을 진행했습니다.\n- 우당탕탕 책방 스터디에서 CSS 라이브러리에 대한 이야기를 1시간동안 진행하기 위해 제가 자주 사용위해서\n  제가 자주 사용하는 라이브러리 styled.component, tailwindcss 에 대해 공부했고, 사람들의 인사이트를 공유했습니다\n- 깊은 복사와 얕은 복사의 개념과 자료형,참조형 데이터에 대한 내용이 헷갈려서 코드를 작성하며 복습을 했습니다.\n\n### 가장 고민했던 부분은 무엇이었나요?\n\n- 사내에서 공통적으로 사용할 수 있도록 zod를 작성하는 것에 대해 고민 했습니다.\n- 테스트 코드를 작성해보려 하는데, api 와 UI 테스트 코드를 작성하고 있습니다. 특히 목데이터를 어떻게 다루는지와 외부라이브러리는 어떻게 테스트 할 것인지 고민중입니다.\n\n### 아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?\n\n- 심리적으로 여유가 부족한 것 같습니다.\n- 제가 생각한 일정에서 어긋난다고 생각하면 스트레스가 됩니다.\n- 이번주부터 러닝을 진행하려 합니다.\n\n### 다음 주는 어떻게 보낼 예정인가요?\n\n- 멘토링에 대한 복습을 할 예정입니다\n- Promise에 대해 복습하려합니다.\n- 이력서 수정하려합니다.\n\n<br>\n\n## 출처 및 도움되는 링크들\n\n- [힙 메모리](https://charming-kyu.tistory.com/19)\n- [자바스크립트는 왜 프토토타입을 선택했을까? - 미디움(임성묵님)](https://medium.com/@limsungmook/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%8A%94-%EC%99%9C-%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85%EC%9D%84-%EC%84%A0%ED%83%9D%ED%96%88%EC%9D%84%EA%B9%8C-997f985adb42)\n- [자바스크립트 클래스와 프로토타입의 이해 - Flab](https://f-lab.kr/insight/understanding-javascript-class-and-prototype)\n- [evan님의 프로토타입 정리](https://evan-moon.github.io/2019/10/23/js-prototype/)\n- [Steady-Dev의 실행 컨텍스트](https://www.datoybi.com/execution-context/)\n- [thumb-hyeok님이 프로토타입 장점](https://velog.io/@thumb_hyeok/%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85%EC%9D%98-%EC%9E%A5%EC%A0%90%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C)\n\n```toc\n\n```\n",
      "html": "<p>으아아아ㅏ 멘토링 두번째 회고 및 복습 시작!!!</p>\n<h2 id=\"복습-또-복습\"><a class=\"anchor\" href=\"#복습-또-복습\">복습.. 또 복습</a></h2>\n<p><img src=\"/content/240516/5.jpeg\" alt=\"5.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>복습은 복숭아다.. ~~(복숭아가 너무너무 먹고싶다.)~~ 이번 주도 어김없이 아는 것을 설명하지 못하고, 계속 반복된 이야기만 했다. 아직 잘 몰라서 그런 것 같다. 미숙하지만 <strong>더더더더! 공부하자 We Can Do It</strong></p>\n<h3 id=\"const-let-var의-호이스팅에서-차이점\"><a class=\"anchor\" href=\"#const-let-var의-호이스팅에서-차이점\">const, let, var의 호이스팅에서 차이점</a></h3>\n<p>우선 <strong>호이스팅이란 실행 컨텍스트 생성 시 렉시컬 스코프 내의 선언이 끌어올려 지는 것을 의미</strong>한다.</p>\n<p>변수 생성 과정은 선언 단계(Declaration phase) => 초기화 단계(Initialization phase) => 할당 단계(Assignment phase) 이렇게 총 세 단계를 거쳐 생성되고, 변수를 선언 및 초기화 하기전에 사용하게 되는 영역을 <strong>TDZ(Temporal Dead Zone)라고 한다.</strong></p>\n<p><img src=\"/content/240516/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p><strong>var :</strong> 선언한 변수는 호이스팅 시 undefined로 초기화되어, 변수 선언 이전에 해당 변수를 참조할 수 있다. 변수 선언과 동시에 undefined로 초기화된다.\n초기화 이후에 값을 할당할 수 있고, 동일한 변수 이름으로 재선언이 가능하고, 변수에 새로운 값을 할당할 수 있다.</p>\n<p><strong>let :</strong> 선언한 변수는 호이스팅 시 초기화되지 않으며, 선언 전에 참조하면 참조 오류(ReferenceError)가 발생한다. 그리고 메모리 공간은 확보되지만 초기화는 선언 단계에서 이루어지지 않는다.\n선언 이후에 값을 할당할 수 있고, 선언 시 값을 할당하지 않아도 오류가 발생하지 않는다. 또한 동일한 변수 이름으로 재선언할 수 없지만, 변수에 새로운 값을 할당할 수 있다.</p>\n<p><strong>const :</strong> 선언한 변수도 let과 마찬가지로 호이스팅 시 초기화되지 않으며, 선언 전에 참조하면 참조 오류가 발생한다. 또한 선언과 동시에 반드시 초기화(값 할당)가 이루어져야 한다.\n선언 시 할당된 값을 변경할 수 없고, 동일한 변수 이름으로 재선언할 수 없으며, 값을 재할당할 수 없다.</p>\n<h3 id=\"그래서-tdz란\"><a class=\"anchor\" href=\"#그래서-tdz란\">그래서 TDZ란?</a></h3>\n<p>위에서 말한 대로 변수를 선언, 초기화하기 전 사이의 사각지대를 TDZ라고한다.</p>\n<p>TDZ의 영향을 받는 것들은 const 변수, let 변수, class 구문 등이 있고, 영향을 받지 않는 구문은 var 변수, function, import 구문이 있다.</p>\n<h3 id=\"node_modules의-호이스팅으로-발생하는-문제\"><a class=\"anchor\" href=\"#node_modules의-호이스팅으로-발생하는-문제\">node_modules의 호이스팅으로 발생하는 문제</a></h3>\n<p>질문을 받자마자 든 생각은 엥..? 이었다. 도대체 node_modules랑 호이스팅이랑 어떠한 문제가 있는 것일까? 내가 알기로 호이스팅은 변수와 함수에 일어나는 것이 아닌가.. 깊게 공부한 내용을 기록해보겠다.</p>\n<p><img src=\"/content/240516/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>우선 자바스크립트 내에서 호이스팅은 인터프리터가 코드를 실행하기 전에 함수, 변수, 클래스 또는 임포트(import)의 선언문을 해당 범위의 맨 위로 이동시키는 과정을 의미하는 것을 알아야 한다.</p>\n<p>node_modules의 호이스팅으로 발생하는 가장 큰 문제는 <strong>비효율적인 의존성 검색과 유령 의존성 발생이라고 생각한다.</strong></p>\n<p>NPM은 패키지를 찾기 위해서 계속 상위 디렉토리의 node_modules 폴더를 탐색하게 되고, 바로 찾지 못하면 호출이 반복이 되어 탐색이 비효율적이게 된다. 또한 상위 디렉토리 환경에 영향을 받아 잘못된 의존성을 불러올 수 있다.</p>\n<p>제일 큰 문제점은 <strong>유령 의존성(Phantom Dependency)이다.</strong> 호이스팅에 따라 직접 의존하고 있지 않은 라이브러리를 require(), import() 할 수 있는 현상을 의미하는데, 명시하지않은 라이브러리를 조용히 사라지게 해서, 의존성 관리를 혼란스럽게 하게된다.</p>\n<p>구글링해보니 이러한 이유때문에 큰 프로젝트나, 모노레퍼에서는 의존성 문제를 효율적으로 해결하기 위해 pnpm 또는 Yarn Berry 사용을 권장하고 있다.</p>\n<h3 id=\"lexical-scope에-대해-이해해보자\"><a class=\"anchor\" href=\"#lexical-scope에-대해-이해해보자\">Lexical Scope에 대해 이해해보자</a></h3>\n<p>렉시컬 스코프(정적 스코프)를 간단히 표현하면 함수를 어디서 호출하는지가 아니라 어디서 선언하였는지에 따라 상위 스코프를 결정하는 것이다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> item </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '첫 번째'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> first</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  var</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> item </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '십만 번째'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  second</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> second</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(item);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">first</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">second</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span></code></pre></figure>\n<p>위 코드를 실행하면 \"첫 번째\"가 두 번 출력된다. 왜냐하면 자바스크립트에서 <strong>실행 단계에 코드들의 스코프를 결정하기 때문이다.</strong></p>\n<p>그러므로, second() 함수가 first() 함수 안에서 호출된 것과 상관없이 second() 함수는 global 범위에 선언되어 있으므로, global 범위에 있는 변수 item의 값인 \"첫 번째\"가 두 번 출력된 것이다.</p>\n<p><strong>자바스크립트 엔진은 코드가 로드될 때 실행 컨텍스트를 생성하고 그 안에 선언된 변수, 함수를 실행 컨텍스트 최상단으로 호이스팅하는데, 이러한 범위를 렉시컬 스코프라 한다.</strong></p>\n<blockquote>\n<p>이와 반대로 함수 호출에 따라 상위 스코프가 정해지는 <strong>Dynamic Scope</strong>도 있다.</p>\n</blockquote>\n<h3 id=\"class와-프로토타입의-개념-차이\"><a class=\"anchor\" href=\"#class와-프로토타입의-개념-차이\">Class와 프로토타입의 개념 차이</a></h3>\n<p><img src=\"/content/240516/6.jpeg\" alt=\"7.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>자바스크립트에서 클래스와 프로토타입은 객체 지향 프로그래밍을 구현하는 핵심적인 방법이다. 자바스크립트의 다양한 기능과 패턴을 보다 효과적으로 활용하기 위해서는 반드시 알아야 할 개념이라고 생각한다. 위 내용을 아래 키워드를 가지고 비교해보면서 공부해보자!</p>\n<p>정확히는 <strong>자바스크립트는 기존의 객체를 복사하여 새로운 객체를 생성하는 프로토타입 기반 객체지향 프로그래밍 언어</strong>이다. Java, C++과 같은 클래스 기반 객체지향 프로그래밍이랑은 다르다.</p>\n<p>Javascript에서 기본 데이터 타입을 제외한 모든 것이 객체다. 객체가 만들어지기 위해서는 자신을 만드는 데 사용된 원형인 프로토타입 객체를 이용하여 객체를 만든다. 이 때 객체 안에 <strong><code>__proto__</code></strong> 속성이 자신을 만들어낸 원형을 의미하는 프로토타입 객체를 참조하는 숨겨진 링크가 존재하는데 이것을 프로토타입이라고 정의한다.</p>\n<ul>\n<li>\n<p>프로토타입 기반 상속은 Object.create()나 new 연산자를 사용하여 프로토타입 객체를 상속하거나 프로토타입 체인을 활용하지만, 클래스는 extends 키워드를 사용하여 다른 클래스를 상속한다.</p>\n</li>\n<li>\n<p>생성자 함수와 프로토타입 매서드는 함수 호이스팅의 영향을 받을 수 있지만, 클래스와 클래스 메서드는 블록 스코프를 따르며 호이스팅이 발생하지 않는다.</p>\n</li>\n<li>\n<p>클래스는 new 키워드를 사용하여 인스턴스를 생성한다. 프로토타입도 new 키워드를 사용하지만, 생성자 함수와 프로토타입 체인을 설정하는 과정이 추가로 필요하다.</p>\n</li>\n</ul>\n<p>우선 실행 컨텍스트에 대해 알아보자. 실행 컨텍스트는 아래와 같이 3가지 종류가 있고 자동으로 생성되는 전역공간과 eval을 제외하면 함수를 실행하는 시점에 실행 컨텍스트가 실행 된다.</p>\n<ul>\n<li>\n<p><strong>Global Execution Context (전역 실행 컨텍스트)의</strong> 종류는 브라우저의 경우, window 객체 / Node.js경우, global 객체다.</p>\n</li>\n<li>\n<p><strong>Functional Execution Context (함수 실행 컨텍스트)는</strong> 함수가 실행될 때마다 만들어지는 실행 컨텍스트로 각 함수는 고유의 실행 컨텍스트를 가지며, 함수가 실행되거나 호출될때 생성된다.</p>\n</li>\n<li>\n<p><strong>Eval Function Execution Context는</strong> eval 함수로 실행되는 코드다.</p>\n</li>\n</ul>\n<p>자바스크립트 엔진은 웹 성능의 최적화와 복잡성을 효율적으로 관리하기 위해 실행 컨텍스트를 사용한다. 코드가 잘 실행되려면 스코프, 식별자, 코드 실행 순서등의 관리가 필요한데 이런 것들을 실행 컨텍스트가 관리해준다.</p>\n<h3 id=\"what-is-heap-memory\"><a class=\"anchor\" href=\"#what-is-heap-memory\">What is Heap Memory?</a></h3>\n<p>힙 메모리는 프로그램에서 동적으로 할당된 메모리를 관리하는데 사용되는 영역이다. 프로그램이 실행될 때, 운영체제는 프로그램에 메모리 공간을 할당하며, 스택 과 힙으로 구성되어 있다. <strong>스택은 지역 변수와 함수 호출 시 생성되는 변수들을 저장하는 영역이고, 힙은 동적으로 할당되는 메모리를 저장하는 영역이다.</strong></p>\n<p>힙 메모리는 프로그램에서 필요한 만큼의 메모리를 동적으로 할당하여 사용한다. 힙 메모리는 스택과 달리, 메모리 블록을 계속 할당하거나 해제할 수 있어서 메모리 누수가 발생하기 쉽다.</p>\n<p><img src=\"/content/240516/3.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>참조형 데이터와 힙 메모리는 어떠한 연관성이 있을까? 위 그림을 살펴보자.</p>\n<p>우선 10이라는 <strong>값 자체는 원시 타입이므로 콜 스택에 저장</strong>되고, 변수 a에는 10이 저장된 콜 스택 메모리의 주소값이 저장된다. 변수 식별자 a 자체는 콜스택 상의 실행 컨텍스트(Execution Context)의 렉시컬 환경(Lexical Environment)에 저장된다.</p>\n<p><strong>참조 타입 데이터인 b(배열), c(객체), d(함수)는 참조 타입이므로 메모리 힙에 저장</strong>된다. 참조타입 데이터가 저장된 메모리 힙의 주소값은 콜스택에 각각 저장되고, 메모리힙의 주소 값이 저장된 콜 스택의 주소값은 각각 변수 b, c, d에 저장된다. 마찬가지로, 변수 식별자 b, c, d 이름 자체는 콜스택 상의 '실행 컨텍스트(Execution Context)의 렉시컬 환경(Lexical Environment)에 저장된다.</p>\n<h3 id=\"객체와-배열의-연관성\"><a class=\"anchor\" href=\"#객체와-배열의-연관성\">객체와 배열의 연관성</a></h3>\n<p>자바스크립트에서 객체는 아래와 같은 특징들을 가지고 있다.</p>\n<ul>\n<li>변수지만, 많은 값이 포함될 수 있고, 변수처럼 단일 값을 포함 할 수 있다.</li>\n<li>중괄호 표기를 이용하여 만들 수 있다.</li>\n<li>각각의 key/value에 대한 정보를 나열할 수 있어야 하고, key는 문자열 또는 기호여야 하며, value는 모든 유형이 될 수 있다.</li>\n<li>한 쌍의 key/value 뒤에 쉼표를 이용하여 그 뒤에 오는 key/value와 구분해주어야 한다.</li>\n<li>객체에서 명명된 값을 Properties라고 한다.</li>\n<li>변수는 예약어의 이름을 가질 수 없지만 객체는 어떠한 이름이어도 상관없다.</li>\n<li>객체 변수를 복사하면 참조가 복사되고 객체가 복제되지 않는다.</li>\n</ul>\n<p>배열은 객체와 구조는 같지만, 키는 항상 숫자이며, 값은 요소다. 그러면 배열은 객체가 될 수 있을까?</p>\n<p>질문의 대답은 <strong>YES다.</strong> 배열은 Array 클래스의 인스턴스로서, 배열의 프로토타입 체인에 Object가 있으며, Object의 모든 메서드와 속성을 상속받기 때문이다.</p>\n<h3 id=\"객체를-어떻게-분류하고-ecma-script에서는-객체를-어떻게-구성하고-있을까\"><a class=\"anchor\" href=\"#객체를-어떻게-분류하고-ecma-script에서는-객체를-어떻게-구성하고-있을까\">객체를 어떻게 분류하고 ECMA Script에서는 객체를 어떻게 구성하고 있을까?</a></h3>\n<ol>\n<li>\n<p><strong>JavaScript 내장 객체 (Built-in Object)는</strong> JavaScript 엔진이 구동되는 시점에서 바로 제공되며 JavaScript코드 어디에서든 사용이 가능하다. 아래의 내장 객체들 외에도 많은 내장 객체들이 있다.</p>\n<ul>\n<li>Global</li>\n<li>Object</li>\n<li>String</li>\n<li>Number</li>\n<li>Boolean</li>\n<li>Date</li>\n<li>Array</li>\n</ul>\n</li>\n<li>\n<p><strong>브라우저 내장 객체 (Native Object)도</strong> JavaScript가 구동되는 시점에서 바로 사용이 가능한 객체들이며 내장 객체이다. 하지만 브라우저마다 브라우저 내장 객체를 사용함에 있어 구성을 달리하는 경우가 있기 때문에 JavaScript 내장 객체와 구분되고 있다.. 하지만 브라우저 내장 객체는 브라우저, 즉 JavaScript 엔진을 구동하는 것들에서 build되는 객체들이다. 이 객체들은 자바스크립트 내장객체가 구성된 후에 구성이 된다.</p>\n<ul>\n<li>브라우저 객체 모델 (BOM)</li>\n<li>문서 객체 모델 (DOM)</li>\n</ul>\n</li>\n<li>\n<p><strong>사용자 정의 객체 (Host Object)는</strong> 말 그대로 사용자가 생성한 객체들로 생성자 함수 또는 객체 리터럴을 통해 사용자가 객체를 정의하고 확장시킨 객체들이기 때문에 내장 객체들이 구성된 이후에 구성되어 진다.</p>\n</li>\n</ol>\n<h2 id=\"5월-둘째-주-회고\"><a class=\"anchor\" href=\"#5월-둘째-주-회고\">5월 둘째 주 회고</a></h2>\n<p><img src=\"/content/240516/4.jpeg\" alt=\"4.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>회고를 하기 전에 이런저런 많은 생각을 하였다. 나 스스로에 대해서 잘 알고 있다. 마음 잡히면 잘하지만, 잡히는 과정이 오래 걸린다는 것을.. 또한 하고 싶은 게 너~~무 많아서 걱정에 앞서 모든 일을 저지르고 생각한다. 이러한 나의 문제점을 잘 해결해서 더 좋은 방향으로 갈 수 있도록 여유 있는 일정을 잡아야겠다.</p>\n<h3 id=\"이번-주-좋은-것과-나쁜-것\"><a class=\"anchor\" href=\"#이번-주-좋은-것과-나쁜-것\">이번 주 좋은 것과 나쁜 것</a></h3>\n<ul>\n<li>날씨가 좋은 것 빼고는 별 차이가 없는 1주일이었습니다.</li>\n<li>5/6에 쉬는날이여서 멘토링을 빨리 진행해 7일까지 멘토링에 대한 복습을 진행할 수 있었습니다.</li>\n</ul>\n<h3 id=\"이번주-진행했던-학습개발-내용은\"><a class=\"anchor\" href=\"#이번주-진행했던-학습개발-내용은\">이번주 진행했던 학습/개발 내용은??</a></h3>\n<ul>\n<li>동아리에서 5~6주 활동의 결과 발표를 진행했습니다. (https://hooninedev.com/240509/)</li>\n<li>멘토링 끝난 2일동안 멘토링 과정 복습을 진행했습니다.</li>\n<li>멘토링 과제들을 진행했습니다.</li>\n<li>우당탕탕 책방 스터디에서 CSS 라이브러리에 대한 이야기를 1시간동안 진행하기 위해 제가 자주 사용위해서\n제가 자주 사용하는 라이브러리 styled.component, tailwindcss 에 대해 공부했고, 사람들의 인사이트를 공유했습니다</li>\n<li>깊은 복사와 얕은 복사의 개념과 자료형,참조형 데이터에 대한 내용이 헷갈려서 코드를 작성하며 복습을 했습니다.</li>\n</ul>\n<h3 id=\"가장-고민했던-부분은-무엇이었나요\"><a class=\"anchor\" href=\"#가장-고민했던-부분은-무엇이었나요\">가장 고민했던 부분은 무엇이었나요?</a></h3>\n<ul>\n<li>사내에서 공통적으로 사용할 수 있도록 zod를 작성하는 것에 대해 고민 했습니다.</li>\n<li>테스트 코드를 작성해보려 하는데, api 와 UI 테스트 코드를 작성하고 있습니다. 특히 목데이터를 어떻게 다루는지와 외부라이브러리는 어떻게 테스트 할 것인지 고민중입니다.</li>\n</ul>\n<h3 id=\"아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\"><a class=\"anchor\" href=\"#아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\">아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?</a></h3>\n<ul>\n<li>심리적으로 여유가 부족한 것 같습니다.</li>\n<li>제가 생각한 일정에서 어긋난다고 생각하면 스트레스가 됩니다.</li>\n<li>이번주부터 러닝을 진행하려 합니다.</li>\n</ul>\n<h3 id=\"다음-주는-어떻게-보낼-예정인가요\"><a class=\"anchor\" href=\"#다음-주는-어떻게-보낼-예정인가요\">다음 주는 어떻게 보낼 예정인가요?</a></h3>\n<ul>\n<li>멘토링에 대한 복습을 할 예정입니다</li>\n<li>Promise에 대해 복습하려합니다.</li>\n<li>이력서 수정하려합니다.</li>\n</ul>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<ul>\n<li><a href=\"https://charming-kyu.tistory.com/19\">힙 메모리</a></li>\n<li><a href=\"https://medium.com/@limsungmook/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%8A%94-%EC%99%9C-%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85%EC%9D%84-%EC%84%A0%ED%83%9D%ED%96%88%EC%9D%84%EA%B9%8C-997f985adb42\">자바스크립트는 왜 프토토타입을 선택했을까? - 미디움(임성묵님)</a></li>\n<li><a href=\"https://f-lab.kr/insight/understanding-javascript-class-and-prototype\">자바스크립트 클래스와 프로토타입의 이해 - Flab</a></li>\n<li><a href=\"https://evan-moon.github.io/2019/10/23/js-prototype/\">evan님의 프로토타입 정리</a></li>\n<li><a href=\"https://www.datoybi.com/execution-context/\">Steady-Dev의 실행 컨텍스트</a></li>\n<li><a href=\"https://velog.io/@thumb_hyeok/%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85%EC%9D%98-%EC%9E%A5%EC%A0%90%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\">thumb-hyeok님이 프로토타입 장점</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240516/index.md",
    "_raw": {
      "sourceFilePath": "240516/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240516",
      "contentType": "markdown",
      "flattenedPath": "240516"
    },
    "type": "Post",
    "slug": "/240516",
    "categoryArray": [
      "멘토링",
      "자바스크립트"
    ],
    "readingTime": "21 min read",
    "excerpt": "으아아아ㅏ 멘토링 두번째 회고 및 복습 시작!!! 복습.. 또 복습 복습은 복숭아다.. (복숭아가 너무너무 먹고싶다.) 이번 주도 어김없이 아는 것을 설명하지 못하고, 계속 반복된 이야기만 했다. 아직 잘 몰라서 그런 것 같다. 미숙하지만 더더더더! 공부하자 We Can Do It const, let, var의 호이스팅에서 차이점 우선 호이스팅이란 실행 컨..."
  },
  {
    "title": "비전공 프론트엔드 2년차 개발자 멘티 일지: 3주차 - 기초를 위한 과제 폭탄",
    "date": "2024-05-21T00:00:00.000Z",
    "categories": "멘토링 자바스크립트",
    "body": {
      "raw": "\n<br>\n\n## 한 주 소감 및 복습 내용\n\n![1.jpeg](1.jpeg)\n\n이번 주부터 과제가 엄청나게 많다. 그리고 이전에 했던 과제들에 대한 복습들도 이루어져야 되기 때문에, 개념적인 공부는 위 과제들을 진행하면서 해당 게시글을 여기에 리포스팅할 예정이다.\n\n이번주에 멘토링을 진행하면서 다시 공부해보면 좋을 것 같은 부분은 아래와 같다. 하나씩 차근차근 천천히 준비하면서 폭 깊은 개발자가 되어보자!\n\n- [자바스크립트에서 함수의 \"동적\"이랑 \"정적\"의 의미를 이해하기](#자바스크립트의-함수에서-동적과-정적에-대해)\n- [const 호이스팅에 대해서 깊이 학습](#const와-호이스팅에-대해)\n- [좋은 함수에 대해 생각해보기](#좋은-함수란)\n- [Promise를 만들어보자](https://hooninedev.com/240525/)\n- useState를 직접 구현해보자!\n- 자바스크립트 이벤트루프 시뮬레이션 도구를 직접 구현해보자! **(추후 링크 참조)**\n- 브라우저 렌더링에 관한 아티클들 읽어보자\n\n  - [Naver D2 - 브라우저는 어떻게 동작하는가?](https://d2.naver.com/helloworld/59361)\n  - [Toast UI - 성능 최적화](https://ui.toast.com/fe-guide/ko_PERFORMANCE)\n  - [웹 성능 최적화에 필요한 브라우저의 모든 것](https://www.slideshare.net/deview/125-119068291)\n\n  <br>\n\n### 자바스크립트의 함수에서 동적과 정적에 대해\n\n자바스크립트에서 **동적(Dynamic)** 과 **정적(Static)** 이라는 용어를 주로 Scope와 bind를 다룰 때 사용한다.\n\n우선 자바스크립트는 정적 스코프를 사용한다. 함수의 호출이 아닌 정의될 때의 스코프 체인 기반으로 변수의 스코프를 정의한다. 동적으로 사용되면, 호출 때마다 스코프의 범주가 예상하지 못하게 동작이 되어 개발자에게 큰 오류가 될 것이다.\n\n정적 스코프에서 함수가 정의될 때의 스코프를 기억하여 함수가 호출될 때도 그 스코프에 접근할 수 있게 해주는 메커니즘을 클로저를 사용하고 있다.\n\n자바스크립트에서는 항상 정적 스코프를 다루고 있다는 것을 명심해야 한다.\n\n<br>\n\n### const와 호이스팅에 대해\n\n```javascript\nconsole.log(a);\nconst a = '1000';\n```\n\nconst와 호이스팅에 대한 내용은 위 코드를 예시로 확인해보겠다.\n\n우선 위 코드는 Reference Error가 발생한다. const는 선언과 동시에 초기화가 되어야 하는데, 블록 스코프를 가지는 const는 호이스팅이 되어 선언은 되었지만, 초기화가 되지 않아 일시적 사각지대(TDZ)에 들어가기 때문이다.\n\nconst, let, var에 대한 내용은 **[여기에 기록해두었으니, 참고 바랍니다.](https://hooninedev.com/240516/#const-let-var%EC%9D%98-%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85%EC%97%90%EC%84%9C-%EC%B0%A8%EC%9D%B4%EC%A0%90)**\n\n<br>\n\n### 좋은 함수란?\n\n우선 구글링을 하다가 아주 좋은 글을 찾아서 공유 드립니다! **[👇 향로님의 좋은 함수란?](https://jojoldu.tistory.com/697)**\n\n내가 생각한 좋은 함수란 순수함수여야 한다고 생각했다. 여기서 생각하는 순수함수는 같은 입력일 경우 항상 동일한 출력을 반환하고 부작용이 없는, 명확하게 하나의 기능을 하는 함수를 의미했다.\n\n사실 내가 생각한 것도 좋은 함수를 작성하는 기준이 된다. 하지만 리팩터링과 테스트의 영역에서는 생각해보지 못하였다. 향로님의 글을 읽다 보니 **책임을 명확하게 하고, 테스트를 쉽게 하며, 순수 함수로 모든 것을 작성하기 어려우니 그에 반하는 부작용 함수를 만들어 격리시키는 것**까지 생각을 하는 것이 좋은 함수를 작성할 자세라는 것을 알게되었다.\n\n내가 저 질문에 대답을 못한 이유도 아직 테스트에 대한 생각이 부족해서라고 생각한다. 위 개념을 생각해보며 테스트를 작성해보는 습관을 지녀야겠다!\n\n<br>\n\n## 5월 셋째 주 회고\n\n### 이번 주 좋은 것과 나쁜 것\n\n- 본격적으로 공부하기 위해서 주말 동안 고향에 가서 가족과 시간을 보냈습니다.\n- 그동안 해야겠다고 생각하고 있는 복잡한 것들에 대해 정리해서 구체적인 계획을 세웠습니다.\n- 공부하면서 부족하다고 느낀 부분에 대해 다시 복습을 진행했습니다.\n- 주말에 가족과 등산도 가고, 음식도 먹고, 이야기를 나누는 시간을 많이 보내 주말 동안 작업 및 공부를 진행하지 못했습니다만 좋은 시간이고 평일에 시간을 더 많이 할애해서 나쁘지 않다고 생각합니다\n\n### 이번 주 진행했던 학습/개발 내용은??\n\n- 클래스와 프로토타입을 비교해보면서 공부했습니다.\n- 멘토링에서 주어진 숫자 업앤다운을 코드를 작성했습니다. 어렵다고 생각하지는 않았지만, 평소에 생각하지 못한 컨벤션과 문법을 고려하며 작성해보았습니다\n- Mock 데이터를 이용해 Test 코드 작성하는 것이 회사의 업무로 주어져서 공부하면서 개발 진행 중입니다.\n- 콜스택, 실행 컨텍스트, 힙메모리, 스코프 등의 개념을 활용해 예시 코드를 작성해 실행 컨텍스트 기반 동작 원리에 관해서 공부했습니다.\n\n### 가장 고민했던 부분은 무엇이었나요?\n\n- 자바스크립트의 엔진이 어떠한 동작 원리로 작동되는지 고민을 해보았습니다.\n- 내가 어떤 것을 집중해서 공부해야 할지 정리하고, 어떤 것에 부족한지 생각해보았습니다\n\n### 아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?\n\n- 생각이 집중되고 필요한 부분에 대해 명확해진 만큼 집중할 수 있는 시간을 많이 할애할 예정입니다.\n\n### 다음 주는 어떻게 보낼 예정인가요?\n\n- 사내에서 DevOps 관련한 업무를 약간 해보았습니다(frontend 배포환경 구축). 이와 관련해서 **[DevOps 관련해서 AWSKRUG에서 주관하는 밋업이](https://www.meetup.com/awskrug/events/301011378/)** 있어서 수요일에 다녀올 것입니다\n- 이번 주 금요일, 토요일에서 동아리에서 해커톤을 진행하는데, 담당자로 활동할 예정입니다. 행사 시작과 마무리 외에는 관여할 부분이 없어서, 부족한 부분 공부와 프론트엔드 직무 사람들과 이야기를 진행할 것입니다.\n- 5/27에 **[넥스트 스텝에서 주관하는 이펙티브 디버깅 행사에](https://edu.nextstep.camp/c/vSrYViaQ)** 다녀올 것입니다.\n- 이외 시간에는 멘토링 내용에 대해 복습 및 선행학습 진행하고, 회사 업무할 것입니다\n\n<br>\n\n## 출처 및 도움되는 링크들\n\n```toc\n\n```\n",
      "html": "<h2 id=\"한-주-소감-및-복습-내용\"><a class=\"anchor\" href=\"#한-주-소감-및-복습-내용\">한 주 소감 및 복습 내용</a></h2>\n<p><img src=\"/content/240521/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>이번 주부터 과제가 엄청나게 많다. 그리고 이전에 했던 과제들에 대한 복습들도 이루어져야 되기 때문에, 개념적인 공부는 위 과제들을 진행하면서 해당 게시글을 여기에 리포스팅할 예정이다.</p>\n<p>이번주에 멘토링을 진행하면서 다시 공부해보면 좋을 것 같은 부분은 아래와 같다. 하나씩 차근차근 천천히 준비하면서 폭 깊은 개발자가 되어보자!</p>\n<ul>\n<li>\n<p><a href=\"#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%9D%98-%ED%95%A8%EC%88%98%EC%97%90%EC%84%9C-%EB%8F%99%EC%A0%81%EA%B3%BC-%EC%A0%95%EC%A0%81%EC%97%90-%EB%8C%80%ED%95%B4\">자바스크립트에서 함수의 \"동적\"이랑 \"정적\"의 의미를 이해하기</a></p>\n</li>\n<li>\n<p><a href=\"#const%EC%99%80-%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85%EC%97%90-%EB%8C%80%ED%95%B4\">const 호이스팅에 대해서 깊이 학습</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A2%8B%EC%9D%80-%ED%95%A8%EC%88%98%EB%9E%80\">좋은 함수에 대해 생각해보기</a></p>\n</li>\n<li>\n<p><a href=\"https://hooninedev.com/240525/\">Promise를 만들어보자</a></p>\n</li>\n<li>\n<p>useState를 직접 구현해보자!</p>\n</li>\n<li>\n<p>자바스크립트 이벤트루프 시뮬레이션 도구를 직접 구현해보자! <strong>(추후 링크 참조)</strong></p>\n</li>\n<li>\n<p>브라우저 렌더링에 관한 아티클들 읽어보자</p>\n<ul>\n<li><a href=\"https://d2.naver.com/helloworld/59361\">Naver D2 - 브라우저는 어떻게 동작하는가?</a></li>\n<li><a href=\"https://ui.toast.com/fe-guide/ko_PERFORMANCE\">Toast UI - 성능 최적화</a></li>\n<li><a href=\"https://www.slideshare.net/deview/125-119068291\">웹 성능 최적화에 필요한 브라우저의 모든 것</a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"자바스크립트의-함수에서-동적과-정적에-대해\"><a class=\"anchor\" href=\"#자바스크립트의-함수에서-동적과-정적에-대해\">자바스크립트의 함수에서 동적과 정적에 대해</a></h3>\n<p>자바스크립트에서 <strong>동적(Dynamic)</strong> 과 <strong>정적(Static)</strong> 이라는 용어를 주로 Scope와 bind를 다룰 때 사용한다.</p>\n<p>우선 자바스크립트는 정적 스코프를 사용한다. 함수의 호출이 아닌 정의될 때의 스코프 체인 기반으로 변수의 스코프를 정의한다. 동적으로 사용되면, 호출 때마다 스코프의 범주가 예상하지 못하게 동작이 되어 개발자에게 큰 오류가 될 것이다.</p>\n<p>정적 스코프에서 함수가 정의될 때의 스코프를 기억하여 함수가 호출될 때도 그 스코프에 접근할 수 있게 해주는 메커니즘을 클로저를 사용하고 있다.</p>\n<p>자바스크립트에서는 항상 정적 스코프를 다루고 있다는 것을 명심해야 한다.</p>\n<h3 id=\"const와-호이스팅에-대해\"><a class=\"anchor\" href=\"#const와-호이스팅에-대해\">const와 호이스팅에 대해</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(a);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> a</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '1000'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span></code></pre></figure>\n<p>const와 호이스팅에 대한 내용은 위 코드를 예시로 확인해보겠다.</p>\n<p>우선 위 코드는 Reference Error가 발생한다. const는 선언과 동시에 초기화가 되어야 하는데, 블록 스코프를 가지는 const는 호이스팅이 되어 선언은 되었지만, 초기화가 되지 않아 일시적 사각지대(TDZ)에 들어가기 때문이다.</p>\n<p>const, let, var에 대한 내용은 <strong><a href=\"https://hooninedev.com/240516/#const-let-var%EC%9D%98-%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85%EC%97%90%EC%84%9C-%EC%B0%A8%EC%9D%B4%EC%A0%90\">여기에 기록해두었으니, 참고 바랍니다.</a></strong></p>\n<h3 id=\"좋은-함수란\"><a class=\"anchor\" href=\"#좋은-함수란\">좋은 함수란?</a></h3>\n<p>우선 구글링을 하다가 아주 좋은 글을 찾아서 공유 드립니다! <strong><a href=\"https://jojoldu.tistory.com/697\">👇 향로님의 좋은 함수란?</a></strong></p>\n<p>내가 생각한 좋은 함수란 순수함수여야 한다고 생각했다. 여기서 생각하는 순수함수는 같은 입력일 경우 항상 동일한 출력을 반환하고 부작용이 없는, 명확하게 하나의 기능을 하는 함수를 의미했다.</p>\n<p>사실 내가 생각한 것도 좋은 함수를 작성하는 기준이 된다. 하지만 리팩터링과 테스트의 영역에서는 생각해보지 못하였다. 향로님의 글을 읽다 보니 <strong>책임을 명확하게 하고, 테스트를 쉽게 하며, 순수 함수로 모든 것을 작성하기 어려우니 그에 반하는 부작용 함수를 만들어 격리시키는 것</strong>까지 생각을 하는 것이 좋은 함수를 작성할 자세라는 것을 알게되었다.</p>\n<p>내가 저 질문에 대답을 못한 이유도 아직 테스트에 대한 생각이 부족해서라고 생각한다. 위 개념을 생각해보며 테스트를 작성해보는 습관을 지녀야겠다!</p>\n<h2 id=\"5월-셋째-주-회고\"><a class=\"anchor\" href=\"#5월-셋째-주-회고\">5월 셋째 주 회고</a></h2>\n<h3 id=\"이번-주-좋은-것과-나쁜-것\"><a class=\"anchor\" href=\"#이번-주-좋은-것과-나쁜-것\">이번 주 좋은 것과 나쁜 것</a></h3>\n<ul>\n<li>본격적으로 공부하기 위해서 주말 동안 고향에 가서 가족과 시간을 보냈습니다.</li>\n<li>그동안 해야겠다고 생각하고 있는 복잡한 것들에 대해 정리해서 구체적인 계획을 세웠습니다.</li>\n<li>공부하면서 부족하다고 느낀 부분에 대해 다시 복습을 진행했습니다.</li>\n<li>주말에 가족과 등산도 가고, 음식도 먹고, 이야기를 나누는 시간을 많이 보내 주말 동안 작업 및 공부를 진행하지 못했습니다만 좋은 시간이고 평일에 시간을 더 많이 할애해서 나쁘지 않다고 생각합니다</li>\n</ul>\n<h3 id=\"이번-주-진행했던-학습개발-내용은\"><a class=\"anchor\" href=\"#이번-주-진행했던-학습개발-내용은\">이번 주 진행했던 학습/개발 내용은??</a></h3>\n<ul>\n<li>클래스와 프로토타입을 비교해보면서 공부했습니다.</li>\n<li>멘토링에서 주어진 숫자 업앤다운을 코드를 작성했습니다. 어렵다고 생각하지는 않았지만, 평소에 생각하지 못한 컨벤션과 문법을 고려하며 작성해보았습니다</li>\n<li>Mock 데이터를 이용해 Test 코드 작성하는 것이 회사의 업무로 주어져서 공부하면서 개발 진행 중입니다.</li>\n<li>콜스택, 실행 컨텍스트, 힙메모리, 스코프 등의 개념을 활용해 예시 코드를 작성해 실행 컨텍스트 기반 동작 원리에 관해서 공부했습니다.</li>\n</ul>\n<h3 id=\"가장-고민했던-부분은-무엇이었나요\"><a class=\"anchor\" href=\"#가장-고민했던-부분은-무엇이었나요\">가장 고민했던 부분은 무엇이었나요?</a></h3>\n<ul>\n<li>자바스크립트의 엔진이 어떠한 동작 원리로 작동되는지 고민을 해보았습니다.</li>\n<li>내가 어떤 것을 집중해서 공부해야 할지 정리하고, 어떤 것에 부족한지 생각해보았습니다</li>\n</ul>\n<h3 id=\"아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\"><a class=\"anchor\" href=\"#아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\">아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?</a></h3>\n<ul>\n<li>생각이 집중되고 필요한 부분에 대해 명확해진 만큼 집중할 수 있는 시간을 많이 할애할 예정입니다.</li>\n</ul>\n<h3 id=\"다음-주는-어떻게-보낼-예정인가요\"><a class=\"anchor\" href=\"#다음-주는-어떻게-보낼-예정인가요\">다음 주는 어떻게 보낼 예정인가요?</a></h3>\n<ul>\n<li>사내에서 DevOps 관련한 업무를 약간 해보았습니다(frontend 배포환경 구축). 이와 관련해서 <strong><a href=\"https://www.meetup.com/awskrug/events/301011378/\">DevOps 관련해서 AWSKRUG에서 주관하는 밋업이</a></strong> 있어서 수요일에 다녀올 것입니다</li>\n<li>이번 주 금요일, 토요일에서 동아리에서 해커톤을 진행하는데, 담당자로 활동할 예정입니다. 행사 시작과 마무리 외에는 관여할 부분이 없어서, 부족한 부분 공부와 프론트엔드 직무 사람들과 이야기를 진행할 것입니다.</li>\n<li>5/27에 <strong><a href=\"https://edu.nextstep.camp/c/vSrYViaQ\">넥스트 스텝에서 주관하는 이펙티브 디버깅 행사에</a></strong> 다녀올 것입니다.</li>\n<li>이외 시간에는 멘토링 내용에 대해 복습 및 선행학습 진행하고, 회사 업무할 것입니다</li>\n</ul>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240521/index.md",
    "_raw": {
      "sourceFilePath": "240521/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240521",
      "contentType": "markdown",
      "flattenedPath": "240521"
    },
    "type": "Post",
    "slug": "/240521",
    "categoryArray": [
      "멘토링",
      "자바스크립트"
    ],
    "readingTime": "10 min read",
    "excerpt": "한 주 소감 및 복습 내용 이번 주부터 과제가 엄청나게 많다. 그리고 이전에 했던 과제들에 대한 복습들도 이루어져야 되기 때문에, 개념적인 공부는 위 과제들을 진행하면서 해당 게시글을 여기에 리포스팅할 예정이다. 이번주에 멘토링을 진행하면서 다시 공부해보면 좋을 것 같은 부분은 아래와 같다. 하나씩 차근차근 천천히 준비하면서 폭 깊은 개발자가 되어보자! 자..."
  },
  {
    "title": "WebAssembly가 뭐야? 너가 JavaScript를 대체한다고!?!?",
    "date": "2024-05-22T00:00:00.000Z",
    "categories": "소박한궁금증",
    "body": {
      "raw": "\n> 📢 본 글은 **[Will WebAssembly Replace JavaScript?](https://five.co/blog/will-webassembly-replace-javascript/)** 기반으로 작성되었습니다.\n\n<br>\n\n## WebAssembly?\n\n![3.png](3.png)\n\n<br>\n\n> “Because apps compiled to WebAssembly can run as fast as native apps, it has the potential to change the way software is written on the web.”\n>\n> WebAssembly로 컴파일된 앱은 네이티브 앱만큼 빠르게 실행될 수 있기 때문에 웹에서 소프트웨어가 작성되는 방식을 바꿀 수 있는 잠재력을 가지고 있습니다.\n>\n> Evan Wallace – CTO and Co-Founder, Figma\n\n <br>\n\nWebAssembly 또는 줄여서 WASM은 최근 몇 년간 많은 관심을 받고 있는 새로운 기술으로, 스택 기반 가상 머신(VM)을 위한 로우레벨 바이너리 명령어 형식이다. 월드와이드웹 컨소시엄(W3C)의 창설로 등장해서, 2015년에 처음 발표되었고 2년 후인 2017년에 첫 데모가 시연되었다.\n\nWebAssembly를 이용해 C, C++, Rust와 같은 고급 언어를 미리 컴파일(AOT)하기 위한 휴대용 타깃으로 설계되어 클라이언트 측 및 서버 측 애플리케이션을 웹에 배포할 수 있다.\n\nWebAssembly, 즉 WASM은 웹 개발 업계에서 새롭게 떠오르는 신예로 큰 주목을 받고 있다. C, C++, Rust와 같은 언어에 대한 컴파일 대상을 제공하는 WASM 모듈을 통해 웹 플랫폼은 그 기능에 혁신적인 변화를 경험하고있다. **WebAssembly의 텍스트 형식은 언어 간 커뮤니케이션을 더욱 쉽게 만들어주며,** 주요 브라우저는 이미 이 기술을 지원하고있다.\n\n<br>\n\n![7.png](7.png)\n\n> <h3>WebAssembly는 새로운 프로그래밍 언어일까?</h3>\n>\n> NO!!! 🙅🏻 **네이티브 코드를 웹에서 실행하게 해주는 도구**로 보는 것이 더 적합하다.\n>\n> WebAssembly는 개발자가 직접 작성하는 대신 웹 브라우저 내에서 이러한 언어를 **컴파일하고 실행할 수 있게 해줘, 자바스크립트의 성능 한계 해결에 도움을 준다.** WebAssembly는 C++와 같이 전통적으로 대규모 미션 크리티컬 엔터프라이즈 시스템을 구축하는 데 사용되는 언어를 활용함으로써 **브라우저 환경 내에서 접근성을 용이하게한다.**\n>\n> WebAssembly 커뮤니티 그룹은 WASM을 개방형 표준과 웹 개발의 필수적인 부분으로 만들기 위해 열심히 노력하고 있고, 그 결과 WebAssembly는 개발자가 네이티브 앱에 필적하는 원활하고 고성능의 웹 애플리케이션을 만들 수 있는 강력한 도구가 되고 있다.\n\n <br>\n\nWebAssembly는 이제 모든 웹 브라우저(거의 모든 브라우저)와 함께 제공되는 멋진 새 가상 머신이다. 성능에 중요한 비즈니스 로직 **코드를 엄청나게 빠른 속도로 실행할 수 있는** 멋진 가상 머신이다. 물론 신뢰할 수 있는 클라이언트 측 렌더링 프레임워크를 사용하여 JavaScript 프론트엔드에 많은 로직을 넣을 수도 있고, Node.js 백엔드에 로직을 넣고 API를 사용하여 프론트엔드에서 통신할 수도 있다.\n\n<br>\n\n### WebAssembly를 어디에서 사용하고 있을까?\n\n앞서 사용된 Figma CTO의 인용구 내용처럼 Figma가 WebAssembly 코드로 컴파일할 수 있는 언어 중 하나인 C++로 작성되었다고 설명하고있다. 이 접근 방식을 채택함으로써 **Figma는 로드 시간을 3배까지 단축하여 네이티브에 가까운 성능을 달성**할 수 있었다.\n\n2019년까지만 해도 Google Auth는 Chrome 전용 솔루션인 네이티브 클라이언트(NaCl)를 사용하고 있었기 때문에 다른 브라우저에서는 액세스할 수 없었다. 하지만 Google Auth 엔지니어링 팀은 WebAssembly를 채택해, 모든 브라우저에서 광범위하게 지원되는 WebAssembly를 활용함으로써 사용자가 **어떤 브라우저를 선택하든 Google Auth에 액세스**할 수 있게 되었다.\n\nFigma와 Google Auth는 모두 WebAssembly가 복잡한 엔지니어링 및 비즈니스 과제에 적합한 솔루션으로 어떻게 작용하는지 대표하는 예시다. 성능 저하나 전면적인 재작성 없이 대규모 애플리케이션을 웹으로 마이그레이션할 수 있다. 이러한 성공 사례는 다양한 사용 사례를 처리하는 데 있어 WebAssembly의 혁신적 잠재력을 보여주고있다.\n\n<br>\n\n### JavaScript로 로직을 작성할 수 있을까?\n\nYes!! WebAssembly가 등장하기 전에도 그렇게 해왔지만 **성능에 중요한** 비즈니스 로직이라고 말씀드렸던 것을 기억하나요?\n\nWebAssembly는 버튼에 애니메이션을 적용하거나 양식을 제출하기 위한 또 다른 스크립팅 환경이 아니라 네이티브에 가까운 속도로 무거운 워크로드를 실행하기 위한 대안으로 거론되고 있다. 앱 개발자들이 **웹 브라우저는 네이티브 애플리케이션만큼 빠르게 프로그레시브 웹 앱(PWA)을 실행할 수 없다고** 말하던 시절을 이제 옛날 말이 되었다.\n\n성능이 중요한 애플리케이션의 비즈니스 로직을 작성할 때 동적으로 타입이 지정된 해석된 프로그래밍 언어(JavaScript)를 사용하면 적절한 성능을 달성하거나 브라우저에서 실행하기조차 어렵다는 것이 문제다.\n\nWebAssembly를 사용하면 네이티브에 가까운 속도로 **복잡한 계산을 수행할 수 있다.** JavaScript는 동적으로 입력되고 해석되는 언어이기 때문에 복잡한 연산을 수행할 때 속도가 느려질 수 있다. 정적으로 타입이 지정되고 컴파일되는 언어인 WebAssembly는 복잡한 연산을 JavaScript보다 훨씬 빠르게 실행할 수 있기 때문에, 비디오 렌더링, 3D 그래픽 및 기타 계산 집\n약적인 작업과 같은 작업에 WebAssembly가 적합할 수 있다.\n\n<br>\n\n### WebAssembly의 보안성\n\nWebAssembly를 사용하면 보안과 샌드박스를 강화할 수 있다. JavaScript는 고급 언어이며 브라우저의 JavaScript 엔진에 의해 실행되므로 공격에 취약할 수 있지만, WebAssembly는 브라우저의 WebAssembly 엔진에 의해 실행되므로 더 안전하며 샌드박스를 통해 악성 코드가 실행되지 않도록 차단할 수 있기때문에, WebAssembly는 높은 수준의 보안이 필요한 온라인 뱅킹, 결제 처리, 온라인 게임, 보안 문서 서명과 같은 웹 기반 작업에 적합한 옵션이 된다.\n\n<br>\n\n### WebAssembly와 다양한 언어의 상호 작용\n\n필자가 생각하는 WebAssembly의 가장 큰 장점은 **다른 프로그래밍 언어와 상호 작용할 수 있다는** 점이다. WebAssembly 모듈은 C, C++, Rust 등 WebAssembly 바이트코드로 컴파일할 수 있는 모든 언어로 작성할 수 있다. 따라서 개발자는 특정 작업에 선호하는 언어를 사용한 다음 WebAssembly를 사용하여 웹 애플리케이션에 원활하게 통합할 수 있다. 특정 언어에 이미 익숙하고 이를 웹 개발에 사용하려는 개발자에게 특히 유용할 수 있다.\n\n<br>\n\n<br>\n\n<br>\n\n![6.png](6.png)\n\n<br>\n\n## WebAssembly가 JavaScript을 대체할까?\n\n<br>\n\nRust, Go, C++와 같은 프로그래밍 언어로 작성된 웹 프레임워크가 점점 더 많이 개발됨에 따라 개발자가 JavaScript 이외의 언어로 프론트엔드를 작성하는 것이 점점 더 쉬워지고 있기 때문에 WebAssembly 등장이 부담스러운 상황이 될 수 있다.\n\n<br>\n\n|                 |                   |\n| --------------- | ----------------- |\n| ![2.png](2.png) | ![1.jpeg](1.jpeg) |\n\n<br>\n\nWebAssembly를 활용하는 프레임워크의 한 예로 웹 앱 제작을 위한 최신 **Rust 프레임워크인 Yew가 있다.** Yew를 사용하면 개발자가 안전하고 성능이 우수한 코드를 작성하여 WASM으로 컴파일하고 브라우저에서 바로 실행할 수 있다. 즉, Rust 개발자는 이제 JavaScript를 배우지 않고도 웹 앱을 구축할 수 있다.\n\n<br>\n\n또 다른 예로는 개발자가 Go로 프런트엔드 코드를 작성한 다음 JavaScript로 컴파일할 수 있는 트랜스파일러인 **GopherJS가 있다.** 즉, Go 개발자도 JavaScript를 배우지 않고도 웹 앱을 구축할 수 있다.\n\n마찬가지로 **C++ 개발자는 이제 C++ WebAssembly 프레임워크(CWasm)를** 사용하여 웹 앱을 빌드할 수 있다. CWasm은 WebAssembly 가상 머신에 C++ 인터페이스를 제공하는 C++ 라이브러리로, C++ 개발자가 브라우저에서 실행되는 웹 앱을 쉽게 작성할 수 있도록 해준다.\n\n이러한 프레임워크와 솔루션의 등장은 WebAssembly가 프론트엔드 웹 개발에서 JavaScript를 대체할 수 있는 대안이 되고 있음을 의미한다. 이는 앞으로 JavaScript 개발자의 기술 수요가 줄어들 수 있다는 것을 의미하기 때문에 JavaScript 개발자에게는 두려운 전망이다.\n\n그러나 JavaScript는 여전히 웹에서 가장 널리 사용되는 프로그래밍 언어이며, WebAssembly로 완전히 대체되지는 않을 것이라는 점에 유의해야 한다. 대신 **WebAssembly는 JavaScript의 기능을 보완하고 향상시키는 데 사용될 가능성이 높다.**\n\n<br>\n\n### Rust + WebAssembly 코드 만들기\n\n아래의 작업은 **[해당 Repo에서 Clone 받으셔도 됩니다.](https://github.com/jiji-hoon96/wasm_example)**\n\n<br>\n\n1. 먼저 Rust를 설치해주자.\n\n   ```bash\n   curl https://sh.rustup.rs -sSf | sh\n   ```\n\n<br>\n\n2. Wasm-pack을 설치해주자. (wasm-pack은 Rust를 WASM으로 컴파일하는 데 사용할 Rust 라이브러리)\n\n   ```bash\n    > Rust 가 있으면 Cargo도 설치된다.\n\n   cargo install wasm-pack\n   ```\n\n<br>\n\n3. Rust를 이용해서 새 프로젝트를 만든다.\n\n   ```bash\n   cargo new --lib wasm_example\n   ```\n\n<br>\n\n4. Cargo에서 생성한 `Cargo.toml` 파일에 wasm-bindgen 라이브러리를 추가해주기 위해 아래 명령줄을 추가해준다.(wasm-bindgen 라이브러리를 설치해야 Rust와 JavaScript가 상호 작용할 수 있다.)\n\n   ```toml\n   wasm-bindgen = \"0.2\"\n   ```\n\n<br>\n\n5. 그 이후에 아래와 같이 `Cargo.toml` 코드가 작성되어 있는지 확인하고 수정해준다.\n\n   ```toml\n   [package]\n\n   name = \"wasm_example\"\n   version = \"0.1.0\"\n   edition = \"2021\"\n\n   [lib]\n\n   crate-type = [\"cdylib\", \"rlib\"]\n\n   [dependencies]\n\n   wasm-bindgen = \"0.2\"\n   ```\n\n<br>\n\n6. src 디렉토리에서 `lib.rs` 파일을 열고 Rust 코드를 작성해준다.(이미 작성되어 있다면 패스!)\n\n   ```rust\n   use wasm_bindgen::prelude::wasm_bindgen;\n\n   #[wasm_bindgen]\n\n   pub fn add(left: usize, right: usize) -> usize {\n       left + right\n   }\n   ```\n\n<br>\n\n7. `wasm-pack` 도구를 이용해서 빌드를 진행해준다. 이 과정이 진행되면 pkg 디렉토리가 생기고, 내부에는 JavaScript파일과 WebAssembly 파일이있다.\n\n   ```bash\n   wasm-pack build\n   ```\n\n<br>\n\n8. WASM 코드와 상호 작용할 JavaScript 파일을 작성해주기 위해서 `glue.js` 파일을 만들어주고 아래 코드를 넣는다.\n\n   ```javascript\n   const importObject = {};\n\n   const path_to_wasm = './pkg/wasm_example_bg.wasm';\n\n   fetch(path_to_wasm)\n     .then((response) => response.arrayBuffer())\n\n     .then((bytes) => WebAssembly.instantiate(bytes, importObject))\n\n     .then((results) => {\n       const wasm = results.instance.exports;\n\n       console.log(wasm.add(20, 4));\n     });\n   ```\n\n<br>\n\n9. Browser에서 확인해보기 위해 `index.html` 파일을 만들어주고 아래 코드를 입력한다.\n\n   ```html\n   <!DOCTYPE html>\n\n   <html>\n     <head>\n       <title>WASM example</title>\n\n       <script src=\"./glue.js\"></script>\n     </head>\n\n     <body></body>\n   </html>\n   ```\n\n<br>\n\n10. CORS 오류를 방지하기 위해 `http-server` 라는 간단한 도구를 설치하고 사용한다.\n\n    ```bash\n    npm install http-server -g\n    ```\n\n<br>\n\n고생하셨습니다!! 설정은 완료되었습니다~!!\n\n![5.png](5.png)\n\n<br>\n\n### 결과는 어떻게 될까?\n\nJavaScript만 존재하기 때문에, `console.log()`를 확인해야 한다.\n\n모든 것이 정상적으로 작동했다면 콘솔에 숫자가 표시되어야 하는데, 이 숫자는 `glue.js`에서 함수에 전달한 두 숫자의 합계인 `console.log(wasm.add(20, 4));`가 된다. 이 숫자를 변경하여 다른 합계를 얻을 수 있다.\n\n숫자를 변경해도 콘솔에 여전히 같은 숫자가 출력된다면 브라우저가 JavaScript를 캐싱하고 있기 때문이다. 콘솔이 열려 있는 상태에서 Shift 키를 누른 채 새로고침 버튼을 누르면 페이지를 강제 새로고침할 수 있다.\n\n<br>\n\n## 그래서 결론은?\n\nWebAssembly는 JavaScript의 기능을 보완하고 향상시킬 수 있는 잠재력을 지닌 강력한 신기술이라고 생각한다.\n\n![4.png](4.png)\n\nJavaScript가 WebAssembly로 완전히 대체되지는 않겠지만, 네이티브에 가까운 속도로 복잡한 연산을 수행하고 다른 프로그래밍 언어와 상호 작용하며 향상된 보안 및 샌드박싱을 제공하는 데 사용할 수 있을 것 같다. 웹 개발이 계속 발전함에 따라 웹 애플리케이션 개발에서 WebAssembly의 역할이 점점 더 중요해질 것이다.\n\n기술을 확장하고 앞서 나가고자 하는 개발자는 WebAssembly를 배우고 그 기능을 실험해 보는 것을 고려해봐야 할 것 같다.\n\n<br>\n\n## 출처 및 도움되는 링크들\n\n- [Will WebAssembly Replace JavaScript?](https://five.co/blog/will-webassembly-replace-javascript/)\n- [WebAssembly & Low-Code](https://five.co/blog/webassembly-low-code/)\n- [WebAssembly](https://webassembly.org/)\n\n```toc\n\n```\n",
      "html": "<blockquote>\n<p>📢 본 글은 <strong><a href=\"https://five.co/blog/will-webassembly-replace-javascript/\">Will WebAssembly Replace JavaScript?</a></strong> 기반으로 작성되었습니다.</p>\n</blockquote>\n<h2 id=\"webassembly\"><a class=\"anchor\" href=\"#webassembly\">WebAssembly?</a></h2>\n<p><img src=\"/content/240522/3.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>“Because apps compiled to WebAssembly can run as fast as native apps, it has the potential to change the way software is written on the web.”</p>\n<p>WebAssembly로 컴파일된 앱은 네이티브 앱만큼 빠르게 실행될 수 있기 때문에 웹에서 소프트웨어가 작성되는 방식을 바꿀 수 있는 잠재력을 가지고 있습니다.</p>\n<p>Evan Wallace – CTO and Co-Founder, Figma</p>\n</blockquote>\n<p>WebAssembly 또는 줄여서 WASM은 최근 몇 년간 많은 관심을 받고 있는 새로운 기술으로, 스택 기반 가상 머신(VM)을 위한 로우레벨 바이너리 명령어 형식이다. 월드와이드웹 컨소시엄(W3C)의 창설로 등장해서, 2015년에 처음 발표되었고 2년 후인 2017년에 첫 데모가 시연되었다.</p>\n<p>WebAssembly를 이용해 C, C++, Rust와 같은 고급 언어를 미리 컴파일(AOT)하기 위한 휴대용 타깃으로 설계되어 클라이언트 측 및 서버 측 애플리케이션을 웹에 배포할 수 있다.</p>\n<p>WebAssembly, 즉 WASM은 웹 개발 업계에서 새롭게 떠오르는 신예로 큰 주목을 받고 있다. C, C++, Rust와 같은 언어에 대한 컴파일 대상을 제공하는 WASM 모듈을 통해 웹 플랫폼은 그 기능에 혁신적인 변화를 경험하고있다. <strong>WebAssembly의 텍스트 형식은 언어 간 커뮤니케이션을 더욱 쉽게 만들어주며,</strong> 주요 브라우저는 이미 이 기술을 지원하고있다.</p>\n<p><img src=\"/content/240522/7.png\" alt=\"7.png\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>NO!!! 🙅🏻 <strong>네이티브 코드를 웹에서 실행하게 해주는 도구</strong>로 보는 것이 더 적합하다.</p>\n<p>WebAssembly는 개발자가 직접 작성하는 대신 웹 브라우저 내에서 이러한 언어를 <strong>컴파일하고 실행할 수 있게 해줘, 자바스크립트의 성능 한계 해결에 도움을 준다.</strong> WebAssembly는 C++와 같이 전통적으로 대규모 미션 크리티컬 엔터프라이즈 시스템을 구축하는 데 사용되는 언어를 활용함으로써 <strong>브라우저 환경 내에서 접근성을 용이하게한다.</strong></p>\n<p>WebAssembly 커뮤니티 그룹은 WASM을 개방형 표준과 웹 개발의 필수적인 부분으로 만들기 위해 열심히 노력하고 있고, 그 결과 WebAssembly는 개발자가 네이티브 앱에 필적하는 원활하고 고성능의 웹 애플리케이션을 만들 수 있는 강력한 도구가 되고 있다.</p>\n</blockquote>\n<p>WebAssembly는 이제 모든 웹 브라우저(거의 모든 브라우저)와 함께 제공되는 멋진 새 가상 머신이다. 성능에 중요한 비즈니스 로직 <strong>코드를 엄청나게 빠른 속도로 실행할 수 있는</strong> 멋진 가상 머신이다. 물론 신뢰할 수 있는 클라이언트 측 렌더링 프레임워크를 사용하여 JavaScript 프론트엔드에 많은 로직을 넣을 수도 있고, Node.js 백엔드에 로직을 넣고 API를 사용하여 프론트엔드에서 통신할 수도 있다.</p>\n<h3 id=\"webassembly를-어디에서-사용하고-있을까\"><a class=\"anchor\" href=\"#webassembly를-어디에서-사용하고-있을까\">WebAssembly를 어디에서 사용하고 있을까?</a></h3>\n<p>앞서 사용된 Figma CTO의 인용구 내용처럼 Figma가 WebAssembly 코드로 컴파일할 수 있는 언어 중 하나인 C++로 작성되었다고 설명하고있다. 이 접근 방식을 채택함으로써 <strong>Figma는 로드 시간을 3배까지 단축하여 네이티브에 가까운 성능을 달성</strong>할 수 있었다.</p>\n<p>2019년까지만 해도 Google Auth는 Chrome 전용 솔루션인 네이티브 클라이언트(NaCl)를 사용하고 있었기 때문에 다른 브라우저에서는 액세스할 수 없었다. 하지만 Google Auth 엔지니어링 팀은 WebAssembly를 채택해, 모든 브라우저에서 광범위하게 지원되는 WebAssembly를 활용함으로써 사용자가 <strong>어떤 브라우저를 선택하든 Google Auth에 액세스</strong>할 수 있게 되었다.</p>\n<p>Figma와 Google Auth는 모두 WebAssembly가 복잡한 엔지니어링 및 비즈니스 과제에 적합한 솔루션으로 어떻게 작용하는지 대표하는 예시다. 성능 저하나 전면적인 재작성 없이 대규모 애플리케이션을 웹으로 마이그레이션할 수 있다. 이러한 성공 사례는 다양한 사용 사례를 처리하는 데 있어 WebAssembly의 혁신적 잠재력을 보여주고있다.</p>\n<h3 id=\"javascript로-로직을-작성할-수-있을까\"><a class=\"anchor\" href=\"#javascript로-로직을-작성할-수-있을까\">JavaScript로 로직을 작성할 수 있을까?</a></h3>\n<p>Yes!! WebAssembly가 등장하기 전에도 그렇게 해왔지만 <strong>성능에 중요한</strong> 비즈니스 로직이라고 말씀드렸던 것을 기억하나요?</p>\n<p>WebAssembly는 버튼에 애니메이션을 적용하거나 양식을 제출하기 위한 또 다른 스크립팅 환경이 아니라 네이티브에 가까운 속도로 무거운 워크로드를 실행하기 위한 대안으로 거론되고 있다. 앱 개발자들이 <strong>웹 브라우저는 네이티브 애플리케이션만큼 빠르게 프로그레시브 웹 앱(PWA)을 실행할 수 없다고</strong> 말하던 시절을 이제 옛날 말이 되었다.</p>\n<p>성능이 중요한 애플리케이션의 비즈니스 로직을 작성할 때 동적으로 타입이 지정된 해석된 프로그래밍 언어(JavaScript)를 사용하면 적절한 성능을 달성하거나 브라우저에서 실행하기조차 어렵다는 것이 문제다.</p>\n<p>WebAssembly를 사용하면 네이티브에 가까운 속도로 <strong>복잡한 계산을 수행할 수 있다.</strong> JavaScript는 동적으로 입력되고 해석되는 언어이기 때문에 복잡한 연산을 수행할 때 속도가 느려질 수 있다. 정적으로 타입이 지정되고 컴파일되는 언어인 WebAssembly는 복잡한 연산을 JavaScript보다 훨씬 빠르게 실행할 수 있기 때문에, 비디오 렌더링, 3D 그래픽 및 기타 계산 집\n약적인 작업과 같은 작업에 WebAssembly가 적합할 수 있다.</p>\n<h3 id=\"webassembly의-보안성\"><a class=\"anchor\" href=\"#webassembly의-보안성\">WebAssembly의 보안성</a></h3>\n<p>WebAssembly를 사용하면 보안과 샌드박스를 강화할 수 있다. JavaScript는 고급 언어이며 브라우저의 JavaScript 엔진에 의해 실행되므로 공격에 취약할 수 있지만, WebAssembly는 브라우저의 WebAssembly 엔진에 의해 실행되므로 더 안전하며 샌드박스를 통해 악성 코드가 실행되지 않도록 차단할 수 있기때문에, WebAssembly는 높은 수준의 보안이 필요한 온라인 뱅킹, 결제 처리, 온라인 게임, 보안 문서 서명과 같은 웹 기반 작업에 적합한 옵션이 된다.</p>\n<h3 id=\"webassembly와-다양한-언어의-상호-작용\"><a class=\"anchor\" href=\"#webassembly와-다양한-언어의-상호-작용\">WebAssembly와 다양한 언어의 상호 작용</a></h3>\n<p>필자가 생각하는 WebAssembly의 가장 큰 장점은 <strong>다른 프로그래밍 언어와 상호 작용할 수 있다는</strong> 점이다. WebAssembly 모듈은 C, C++, Rust 등 WebAssembly 바이트코드로 컴파일할 수 있는 모든 언어로 작성할 수 있다. 따라서 개발자는 특정 작업에 선호하는 언어를 사용한 다음 WebAssembly를 사용하여 웹 애플리케이션에 원활하게 통합할 수 있다. 특정 언어에 이미 익숙하고 이를 웹 개발에 사용하려는 개발자에게 특히 유용할 수 있다.</p>\n<p><img src=\"/content/240522/6.png\" alt=\"6.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"webassembly가-javascript을-대체할까\"><a class=\"anchor\" href=\"#webassembly가-javascript을-대체할까\">WebAssembly가 JavaScript을 대체할까?</a></h2>\n<p>Rust, Go, C++와 같은 프로그래밍 언어로 작성된 웹 프레임워크가 점점 더 많이 개발됨에 따라 개발자가 JavaScript 이외의 언어로 프론트엔드를 작성하는 것이 점점 더 쉬워지고 있기 때문에 WebAssembly 등장이 부담스러운 상황이 될 수 있다.</p>\n<p>|                 |                   |\n| --------------- | ----------------- |\n| <img src=\"/content/240522/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240522/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"> |</p>\n<p>WebAssembly를 활용하는 프레임워크의 한 예로 웹 앱 제작을 위한 최신 <strong>Rust 프레임워크인 Yew가 있다.</strong> Yew를 사용하면 개발자가 안전하고 성능이 우수한 코드를 작성하여 WASM으로 컴파일하고 브라우저에서 바로 실행할 수 있다. 즉, Rust 개발자는 이제 JavaScript를 배우지 않고도 웹 앱을 구축할 수 있다.</p>\n<p>또 다른 예로는 개발자가 Go로 프런트엔드 코드를 작성한 다음 JavaScript로 컴파일할 수 있는 트랜스파일러인 <strong>GopherJS가 있다.</strong> 즉, Go 개발자도 JavaScript를 배우지 않고도 웹 앱을 구축할 수 있다.</p>\n<p>마찬가지로 <strong>C++ 개발자는 이제 C++ WebAssembly 프레임워크(CWasm)를</strong> 사용하여 웹 앱을 빌드할 수 있다. CWasm은 WebAssembly 가상 머신에 C++ 인터페이스를 제공하는 C++ 라이브러리로, C++ 개발자가 브라우저에서 실행되는 웹 앱을 쉽게 작성할 수 있도록 해준다.</p>\n<p>이러한 프레임워크와 솔루션의 등장은 WebAssembly가 프론트엔드 웹 개발에서 JavaScript를 대체할 수 있는 대안이 되고 있음을 의미한다. 이는 앞으로 JavaScript 개발자의 기술 수요가 줄어들 수 있다는 것을 의미하기 때문에 JavaScript 개발자에게는 두려운 전망이다.</p>\n<p>그러나 JavaScript는 여전히 웹에서 가장 널리 사용되는 프로그래밍 언어이며, WebAssembly로 완전히 대체되지는 않을 것이라는 점에 유의해야 한다. 대신 <strong>WebAssembly는 JavaScript의 기능을 보완하고 향상시키는 데 사용될 가능성이 높다.</strong></p>\n<h3 id=\"rust--webassembly-코드-만들기\"><a class=\"anchor\" href=\"#rust--webassembly-코드-만들기\">Rust + WebAssembly 코드 만들기</a></h3>\n<p>아래의 작업은 <strong><a href=\"https://github.com/jiji-hoon96/wasm_example\">해당 Repo에서 Clone 받으셔도 됩니다.</a></strong></p>\n<ol>\n<li>\n<p>먼저 Rust를 설치해주자.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"bash\" data-theme=\"github-dark github-light\"><code data-language=\"bash\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">curl</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> https://sh.rustup.rs</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> -sSf</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> sh</span></span></code></pre></figure>\n</li>\n</ol>\n<ol start=\"2\">\n<li>\n<p>Wasm-pack을 설치해주자. (wasm-pack은 Rust를 WASM으로 컴파일하는 데 사용할 Rust 라이브러리)</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"bash\" data-theme=\"github-dark github-light\"><code data-language=\"bash\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Rust</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 가</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 있으면</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> Cargo도</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 설치된다.</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">cargo</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> install</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> wasm-pack</span></span></code></pre></figure>\n</li>\n</ol>\n<ol start=\"3\">\n<li>\n<p>Rust를 이용해서 새 프로젝트를 만든다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"bash\" data-theme=\"github-dark github-light\"><code data-language=\"bash\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">cargo</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> new</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> --lib</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> wasm_example</span></span></code></pre></figure>\n</li>\n</ol>\n<ol start=\"4\">\n<li>\n<p>Cargo에서 생성한 <code>Cargo.toml</code> 파일에 wasm-bindgen 라이브러리를 추가해주기 위해 아래 명령줄을 추가해준다.(wasm-bindgen 라이브러리를 설치해야 Rust와 JavaScript가 상호 작용할 수 있다.)</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toml\" data-theme=\"github-dark github-light\"><code data-language=\"toml\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">wasm-bindgen = </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"0.2\"</span></span></code></pre></figure>\n</li>\n</ol>\n<ol start=\"5\">\n<li>\n<p>그 이후에 아래와 같이 <code>Cargo.toml</code> 코드가 작성되어 있는지 확인하고 수정해준다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toml\" data-theme=\"github-dark github-light\"><code data-language=\"toml\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">package</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">name = </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"wasm_example\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">version = </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"0.1.0\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">edition = </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"2021\"</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">lib</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">crate-type = [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"cdylib\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"rlib\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">dependencies</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">wasm-bindgen = </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"0.2\"</span></span></code></pre></figure>\n</li>\n</ol>\n<ol start=\"6\">\n<li>\n<p>src 디렉토리에서 <code>lib.rs</code> 파일을 열고 Rust 코드를 작성해준다.(이미 작성되어 있다면 패스!)</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"rust\" data-theme=\"github-dark github-light\"><code data-language=\"rust\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">use</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> wasm_bindgen</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">::</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">prelude</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">::</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">wasm_bindgen;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">#[wasm_bindgen]</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">pub</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> fn</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> add</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(left</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> usize</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, right</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> usize</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> usize</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    left </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> right</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n</li>\n</ol>\n<ol start=\"7\">\n<li>\n<p><code>wasm-pack</code> 도구를 이용해서 빌드를 진행해준다. 이 과정이 진행되면 pkg 디렉토리가 생기고, 내부에는 JavaScript파일과 WebAssembly 파일이있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"bash\" data-theme=\"github-dark github-light\"><code data-language=\"bash\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">wasm-pack</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> build</span></span></code></pre></figure>\n</li>\n</ol>\n<ol start=\"8\">\n<li>\n<p>WASM 코드와 상호 작용할 JavaScript 파일을 작성해주기 위해서 <code>glue.js</code> 파일을 만들어주고 아래 코드를 넣는다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> importObject</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> path_to_wasm</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> './pkg/wasm_example_bg.wasm'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">fetch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(path_to_wasm)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">response</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> response.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">arrayBuffer</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">())</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">bytes</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> WebAssembly.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">instantiate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(bytes, importObject))</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">results</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> wasm</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> results.instance.exports;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(wasm.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">add</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">20</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span></code></pre></figure>\n</li>\n</ol>\n<ol start=\"9\">\n<li>\n<p>Browser에서 확인해보기 위해 <code>index.html</code> 파일을 만들어주고 아래 코드를 입력한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"html\" data-theme=\"github-dark github-light\"><code data-language=\"html\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;!</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">DOCTYPE</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> html</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">html</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">head</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">title</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>WASM example&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">title</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">script</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> src</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"./glue.js\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">script</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">head</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">body</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">body</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">html</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span></code></pre></figure>\n</li>\n</ol>\n<ol start=\"10\">\n<li>\n<p>CORS 오류를 방지하기 위해 <code>http-server</code> 라는 간단한 도구를 설치하고 사용한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"bash\" data-theme=\"github-dark github-light\"><code data-language=\"bash\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">npm</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> install</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> http-server</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> -g</span></span></code></pre></figure>\n</li>\n</ol>\n<p>고생하셨습니다!! 설정은 완료되었습니다~!!</p>\n<p><img src=\"/content/240522/5.png\" alt=\"5.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"결과는-어떻게-될까\"><a class=\"anchor\" href=\"#결과는-어떻게-될까\">결과는 어떻게 될까?</a></h3>\n<p>JavaScript만 존재하기 때문에, <code>console.log()</code>를 확인해야 한다.</p>\n<p>모든 것이 정상적으로 작동했다면 콘솔에 숫자가 표시되어야 하는데, 이 숫자는 <code>glue.js</code>에서 함수에 전달한 두 숫자의 합계인 <code>console.log(wasm.add(20, 4));</code>가 된다. 이 숫자를 변경하여 다른 합계를 얻을 수 있다.</p>\n<p>숫자를 변경해도 콘솔에 여전히 같은 숫자가 출력된다면 브라우저가 JavaScript를 캐싱하고 있기 때문이다. 콘솔이 열려 있는 상태에서 Shift 키를 누른 채 새로고침 버튼을 누르면 페이지를 강제 새로고침할 수 있다.</p>\n<h2 id=\"그래서-결론은\"><a class=\"anchor\" href=\"#그래서-결론은\">그래서 결론은?</a></h2>\n<p>WebAssembly는 JavaScript의 기능을 보완하고 향상시킬 수 있는 잠재력을 지닌 강력한 신기술이라고 생각한다.</p>\n<p><img src=\"/content/240522/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>JavaScript가 WebAssembly로 완전히 대체되지는 않겠지만, 네이티브에 가까운 속도로 복잡한 연산을 수행하고 다른 프로그래밍 언어와 상호 작용하며 향상된 보안 및 샌드박싱을 제공하는 데 사용할 수 있을 것 같다. 웹 개발이 계속 발전함에 따라 웹 애플리케이션 개발에서 WebAssembly의 역할이 점점 더 중요해질 것이다.</p>\n<p>기술을 확장하고 앞서 나가고자 하는 개발자는 WebAssembly를 배우고 그 기능을 실험해 보는 것을 고려해봐야 할 것 같다.</p>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<ul>\n<li><a href=\"https://five.co/blog/will-webassembly-replace-javascript/\">Will WebAssembly Replace JavaScript?</a></li>\n<li><a href=\"https://five.co/blog/webassembly-low-code/\">WebAssembly &#x26; Low-Code</a></li>\n<li><a href=\"https://webassembly.org/\">WebAssembly</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240522/index.md",
    "_raw": {
      "sourceFilePath": "240522/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240522",
      "contentType": "markdown",
      "flattenedPath": "240522"
    },
    "type": "Post",
    "slug": "/240522",
    "categoryArray": [
      "소박한궁금증"
    ],
    "readingTime": "18 min read",
    "excerpt": "본 글은 Will WebAssembly Replace JavaScript? 기반으로 작성되었습니다. WebAssembly? “Because apps compiled to WebAssembly can run as fast as native apps, it has the potential to change the way software is written on..."
  },
  {
    "title": "자바스크립트 Promise 직접 만들어보자. Promise 너 나와!",
    "date": "2024-05-25T00:00:00.000Z",
    "categories": "멘토링 자바스크립트",
    "body": {
      "raw": "\n## Promise를 직접 만들어보자.\n\n앞서 나는 Promise()에 대한 글을 2번 정도 게시했다.\n\n- [자바스크립트 Promise를 퀴즈로 쉽게 익히기](https://hooninedev.com/240514/)\n- [JavaScript 동기와 비동기 완벽 가이드](https://hooninedev.com/230816/)\n\n위 글을 쓰고 나서 몇 달이 지난 현재, Promise의 내부는 어떻게 동작하고, 어떻게 구성이 되어있는지 궁금했다. 아티클을 읽던 와중에 **[푸만능님의 JavaScript Promise 객체 직접 구현해보기](https://velog.io/@turtle601/JS-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-Promise-%EA%B0%9D%EC%B2%B4-%EC%A7%81%EC%A0%91-%EA%B5%AC%ED%98%84%ED%95%B4%EB%B3%B4%EA%B8%B0#1-simplest-promise)를** 알게 되어서, 위 내용을 실습해보며 내가 새롭게 알게 된 내용들에 대해 공부해보려한다.\n\n<br>\n\n### Promise를 어떻게 만들어볼까?\n\nPromise를 만들기 전에, Promise에 대해 이해해보기 위해, 기능 구현 목록을 작성해보자\n\n우선 Promise는 실행 상태를 나타내기 때문에, **Pending(실행 전), fulfilled(실행 후 성공 => resolve), rejected(실행 후 실패 => rejected)이** 필요하다.\n\n그리고 Promise는 JS 이벤트 루프에서 **Microtask Queue에서 비동기적으로 동작**한다. 또한 then, catch, finally이라는 후속처리 **메서드 체이닝**이 필요하다.\n\n<br>\n\n> 🤔 **메서드 체이닝(Method Chaining)이란?**\n>\n> 연속적인 코드 줄에서 개체의 Method를 반복적으로 호출하는 것을 의미한다. Method가 객체를 반환하면 그 반환 값(객체)\n>\n> 아래 함수를 Method Chaining을 이용하면 `store.enter(2).leave(1).enter(2)` 로 구현할 수 있다.\n>\n> ```javascript\n> const store = {\n>   name: 'see you',\n>   opacity: 30,\n>   peopleCount: 0,\n>   enter(n) {\n>     this.peopleCount += n;\n>   },\n>   leave(n) {\n>     this.peopleCount -= n;\n>   },\n> };\n> ```\n\n<br>\n\n물론 Promise를 위한 정적 메서드인 race(), all()등 다양한 함수등이 있지만 그런 것들은 추후에 공부해보자.\n\n<br>\n\n## 만들어보자.\n\n![1.jpeg](1.jpeg)\n\n본격적으로 Promise를 만들어보자. Promise를 구현해보면서 \"이게 왜 이렇게 동작하지?\", \"이 개념은 뭐지?\" 등 필요한 내용에 대해 차근차근 기록을 남기며 Promise를 만들어보겠다!\n\n모든 것은 Github의 새로운 Repository와 함께한다. 레포를 통해 확인해봐도 좋다. 이름은 **[Mentoring 4주차 - PurePromise](https://github.com/jiji-hoon96/mentoring)**\n\n<br>\n\n### 간단하게 Promise를 만들어보자\n\n```javascript\nclass MyPromise {\n  #value = null;\n\n  constructor(executor) {\n    executor((value) => {\n      this.#value = value;\n    });\n  }\n\n  then(callback) {\n    callback(this.#value);\n\n    return this;\n  }\n}\n\nfunction testMyPromise() {\n  return new MyPromise((resolve) => {\n    resolve('my resolve');\n  });\n}\n\ntestMyPromise().then((value) => console.log(value));\n// my resolve\n```\n\n위 코드에서 신경써서 봐야 할 것은 3가지다.\n\n- #value = null 을 통해 **#value라는 프라이빗 변수를 null로 초기값을 설정**했다.\n- 생성자 함수는 **executor라는 함수를 매개변수**로 받는다.\n- **then 메서드는 콜백 함수를 매개변수**로 받는다.\n\n하지만 아직 부족한 점이 많다. 현재 만들어진 MyPromise 함수는 비동기 처리가 안되어있다. 또한 에러처리를 위한 catch문이 없고, 상태를 다루는 코드도 작성되어 있지 않다.\n\n다음 섹션에서 에러처리에 대한 코드를 추가해보자.\n\n<br>\n\n### then, catch, resolve, reject 함수를 추가해보자\n\n```javascript\nclass MyPromise {\n  #value = null;\n\n  constructor(executor) {\n    this.#value = null;\n\n    try {\n      executor(this.#resolve.bind(this), this.#reject.bind(this));\n    } catch (error) {\n      this.#reject(error);\n    }\n  }\n\n  #resolve(value) {\n    this.#value = value;\n  }\n\n  #reject(error) {\n    this.#value = error;\n  }\n\n  then(callback) {\n    callback(this.#value);\n\n    return this;\n  }\n\n  catch(callback) {\n    callback(this.#value);\n\n    return this;\n  }\n}\n\nfunction testMyPromise() {\n  return new MyPromise((resolve) => {\n    resolve('my resolve');\n  });\n}\n\ntestMyPromise().then((value) => console.log(value)); // my resolve\n```\n\nresolve, reject, then, catch를 구현해서 메서드 체이닝이 일어날 수 있도록 했다.\n\n위 코드에서 궁금한 점은 executor 내부에 bind 메서드를 사용했다는 점이다. 현재 bind 메서드를 사용했기 때문에 this는 항상 MyPromise 인스턴스를 가리킨다. 사용하지 않으면 resolve, reject 메서드를 호출할 때 this가 바뀔 수 있고, 특히 콜백함수에서 차이가 크게 날 수 있기 때문에 **bind 메서드로 강제로 특정 객체를 지정**하도록 해야 한다.\n\n```javascript\nfunction testMyPromise(input) {\n  return new MyPromise((resolve, reject) => {\n    if (input === 1) {\n      resolve('정상적입니다');\n    }\n    reject('입력값이 1이 아닙니다');\n  });\n}\n\ntestMyPromise(1)\n  .then((value) => console.log(value))\n  .catch((error) => console.log(error));\n\n// 입력값이 1이 아닙니다\n// 입력값이 1이 아닙니다\n```\n\n위 코드를 추가해서 실행해보면 then구문과 catch구문 모두 실행된다. 그리고 비동기, 상태 관리 메서드 생성, Error Handling이 부족하다. 다음 세션에서 상태를 추가해 코드를 더 보완해보자.\n\n<br>\n\n### Promise 상태를 추가해 동작 구현해보자.\n\n```javascript\nconst PROMISES_STATE = Object.freeze({\n  pending: 'PENDING',\n  fulfilled: 'fulfilled',\n  rejected: 'rejected',\n});\n\nclass MyPromise {\n  #value = null;\n  #state = PROMISES_STATE.PENDING;\n\n  constructor(executor) {\n    try {\n      executor(this.#resolve.bind(this), this.#reject.bind(this));\n    } catch (error) {\n      this.#reject(error);\n    }\n  }\n\n  #resolve(value) {\n    this.#state = PROMISES_STATE.fulfilled;\n    this.#value = value;\n  }\n\n  #reject(error) {\n    this.#state = PROMISES_STATE.rejected;\n    this.#value = error;\n  }\n\n  then(callback) {\n    if (this.#state === PROMISES_STATE.fulfilled) {\n      callback(this.#value);\n    }\n\n    return this;\n  }\n\n  catch(callback) {\n    if (this.#state === PROMISES_STATE.rejected) {\n      callback(this.#value);\n    }\n\n    return this;\n  }\n}\n\nfunction myPromiseFn2(input) {\n  return new MyPromise((resolve, reject) => {\n    if (input === 1) {\n      resolve('성공');\n    } else {\n      reject('실패');\n    }\n  });\n}\n\nmyPromiseFn2(1)\n  .then((v) => {\n    console.log(v);\n    return '체이닝 확인';\n  })\n  .then((v) => console.log(v))\n  .catch((v) => console.log(v));\n```\n\n위 코드에서 **Object.freeze를 이용해 객체를 동결**했다. 이로서 객체 속성 추가,삭제,변경이 불가능해져서, 객체가 항상 일정한 상태 값을 갖도록 보장한다.\n\n코드를 실행해보면 resolve를 통해 then으로 이동하게 되어 '성공'이 출력되고, '체이닝 확인'이 출력될 것 같지만, '성공'이 두번 출력이 된다. 이것은 then 함수에 리턴값이 변경되지 않았기때문이다.\n\n```javascript\n  then(callback) {\n    if (this.#state === PROMISES_STATE.fulfilled) {\n      return new MyPromise((resolve) => resolve(callback(this.#value)));\n    }\n  }\n\n```\n\nthen, catch 메소드를 위처럼 변경해 My Promise 객체 인스턴스를 then 메서드의 리턴값으로 설정해 프로미스 체이닝이 가능하도록 구현했다.\n\n<br>\n\n### 비동기 구현(then 함수만)\n\n```javascript\nfunction myPromiseFn2(input) {\n  return new MyPromise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(`이것은 ${input}초뒤에 실행됩니다.`);\n    }, 3000);\n  });\n}\n```\n\nmyPromise 내부에 setTimeout을 이용해서 코드를 실행해보면 아래와 같이 오류가 발생한다. myPromiseFn2()를 실행시키면 3초 뒤에 resolve함수가 실행됨으로 then에 대한 리턴값이 undefined가 되기 때문이다.\n\n![2.png](2.png)\n\n그래서 비동기를 구현하려면 어떻게 해야될까?\n\n우리는 Promise를 사용할 때 pending 상태를 두어 대기(비동기)를 하고, fulfilled 상태로 변경이 되면 동기가 된다. 위 내용을 코드에 적용해보자\n\n```javascript\nclass MyPromise {\n  #state = PROMISES_STATE.pending;\n\n  #value = null;\n\n  #lastCallBacks = [];\n\n  constructor(executor) {\n    try {\n      executor(this.#resolve.bind(this), this.#reject.bind(this));\n    } catch (error) {\n      this.#reject(error);\n    }\n  }\n\n  #resolve(value) {\n    this.#state = PROMISES_STATE.fulfilled;\n    this.#value = value;\n    this.#lastCallBacks.forEach((lastcall) => lastcall());\n  }\n\n  #reject(error) {\n    this.#state = PROMISES_STATE.rejected;\n    this.#value = error;\n    this.#lastCallBacks.forEach((lastcall) => lastcall());\n  }\n\n  #asyncResolve(callback) {\n    if (this.#state === PROMISES_STATE.pending) {\n      return new MyPromise((resolve) => this.#lastCallBacks.push(() => resolve(callback(this.#value))));\n    }\n\n    return null;\n  }\n\n  #syncResolve(callback) {\n    if (this.#state === PROMISES_STATE.fulfilled) {\n      return new MyPromise((resolve) => resolve(callback(this.#value)));\n    }\n\n    return null;\n  }\n\n  then(callback) {\n    return this.#asyncResolve(callback) || this.#syncResolve(callback);\n  }\n\n  catch(callback) {\n    if (this.state === PROMISES_STATE.rejected) {\n      callback(this.#value);\n    }\n\n    return this;\n  }\n}\n```\n\nasyncResolve 메서드는 상태가 pending일 때 호출되어, 새로운 MyPromise 인스턴스를 반환하고, 콜백을 lastCallBacks 배열에 저장한다. 또한 syncResolve 메서드는 상태가 fulfilled일 때 호출되어, 새로운 MyPromise 인스턴스를 반환하고, 즉시 콜백을 실행한다.\n\n이후에 then 메서드를 통해 asyncResolve를 호출하여 비동기 처리를 시도하고, 실패하면 syncResolve를 호출하여 동기 처리를 시도한다. (위 코드는 클로저와 스코프의 개념을 적용해서 공부해보면 좋다.)\n\n위 코드를 실행해보면 3초 뒤에 실행이 되고, 체이닝 메서드로 이어지는 것을 확인할 수 있다.\n\n<br>\n\n### MicroTask Queue를 적용해보자\n\nMicroTask Queue를 만들기 위해서는 MacroTask Queue와 차이점, 그리고 콜스택 실행 순서에 대해 알고 있어야한다.\n\n**[해당 내용](https://hooninedev.com/230816/#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%97%94%EC%A7%84v8)을** 숙지하고 아래 코드를 작성해보길 바란다.\n\n```javascript\nfunction myPromiseFn2() {\n  return new MyPromise((resolve, reject) => {\n    resolve('Promise 실행');\n  });\n}\n\nconst test = () => {\n  console.log('첫번째 콜스택 실행');\n  setTimeout(() => console.log('태스크 큐 실행'), 0);\n\n  myPromiseFn2().then((result) => console.log(result));\n\n  console.log('두번째 콜스택 실행');\n};\n\ntest();\n```\n\n예상되는 정답은 첫 번째 콜스택 실행 => 두 번째 실행 => Promise 실행 => Task Queue 실행 이지만 실제 결과는 예상과 다르게 아래처럼 실행된다\n\n![3.png](3.png)\n\n위 문제를 해결하기 위해서 **[MDN-MicroTask Queue](https://developer.mozilla.org/en-US/docs/Web/API/queueMicrotask)을** 이용해 코드를 수정해보면 예상하는 것 처럼 코드가 잘 동작 된다.\n\n![4.png](4.png)\n\n<br>\n\n### catch 함수를 구현해보자\n\n```javascript\nclass MyPromise {\n  #state = PROMISES_STATE.pending;\n\n  #value = null;\n\n  #catchCallbacks = [];\n\n  #thenCallbacks = [];\n\n  constructor(executor) {\n    try {\n      executor(this.#resolve.bind(this), this.#reject.bind(this));\n    } catch (error) {\n      this.#reject(error);\n    }\n  }\n\n  #runCallbacks() {\n    if (this.#state === PROMISES_STATE.fulfilled) {\n      this.#thenCallbacks.forEach((callback) => callback(this.#value));\n      this.#thenCallbacks = [];\n    }\n\n    if (this.#state === PROMISES_STATE.rejected) {\n      this.#catchCallbacks.forEach((callback) => callback(this.#value));\n      this.#catchCallbacks = [];\n    }\n  }\n\n  #update(state, value) {\n    queueMicrotask(() => {\n      this.#state = state;\n      this.#value = value;\n      this.#runCallbacks();\n    });\n  }\n\n  #resolve(value) {\n    this.#update(PROMISES_STATE.fulfilled, value);\n  }\n\n  #reject(error) {\n    this.#update(PROMISES_STATE.rejected, error);\n  }\n\n  then(thenCallback, catchCallback) {\n    return new MyPromise((resolve, reject) => {\n      this.#thenCallbacks.push((value) => {\n        if (!thenCallback) {\n          resolve(value);\n          return;\n        }\n\n        try {\n          resolve(thenCallback(value));\n        } catch (error) {\n          reject(error);\n        }\n      });\n\n      this.#catchCallbacks.push((value) => {\n        if (!catchCallback) {\n          reject(value);\n          return;\n        }\n\n        try {\n          resolve(catchCallback(value));\n        } catch (error) {\n          reject(error);\n        }\n      });\n    });\n  }\n\n  catch(catchCallback) {\n    return this.then(undefined, catchCallback);\n  }\n}\n```\n\nthen 메서드는 thenCallback과 catchCallback을 받아 새로운 MyPromise를 반환한다.\n\nthenCallbacks 배열에 thenCallback을 래핑한 콜백을 추가하는데, 이 콜백은 thenCallback이 없으면 resolve를 호출하고, 예외가 발생하면 reject를 호출한다.\n\ncatchCallbacks 배열에 catchCallback을 래핑한 콜백을 추가하는데, 이 콜백은 catchCallback이 없으면 reject를 호출하고, 예외가 발생하면 reject를 호출한다.\n\ncatch 메서드는 동작 이후에 메서드 체이닝이 가능하도록 구현했다.\n\n```javascript\nfunction myPromiseFn2(input) {\n  return new MyPromise((resolve, reject) => {\n    if (input === 1) {\n      resolve('성공');\n    } else {\n      reject('실패');\n    }\n  });\n}\n\nmyPromiseFn2(2)\n  .then((v) => {\n    console.log(v);\n    return v;\n  })\n  .catch((v) => {\n    console.log(v);\n    return '오류 발생!!!';\n  })\n  .then((v) => console.log(v));\n```\n\n위 예시코드를 실행해보면 **실패 => 오류 발생!!!** 이 출력된다.\n\n<br>\n\n### finally 만들어보기\n\nSettled는 Promise가 이행되거나 거부된 상태를 포괄적으로 표현하는 단어로, Promise가 더 이상 pending 상태가 아닌 상태를 말한다.\n\nfinally 메서드를 구현하기 위해 fulfilled, rejected 상태일 때 동작하도록 아래 코드를 추가해보자.\n\n```javascript\nfinally(callback) {\n    return this.then(\n      (value) => {\n        callback();\n        return value;\n      },\n      (value) => {\n        callback();\n        throw value;\n      }\n    );\n  }\n```\n\n<br>\n\n### 추가적인 예외처리 기능 구현\n\nthen(callback)의 callback 함수 내부에서 새로운 Promise를 만들어 return 하는 코드를 아래처럼 만들어 실행해보자. 예상하는 결과 값은 **첫번째 Promise => 두 번째 Promise**이다\n\n```javascript\nnew MyPromise((resolve, reject) => {\n  setTimeout(() => {\n    resolve('첫 번째 Promise');\n  }, 1000);\n})\n  .then((res) => {\n    console.log(res);\n    return new MyPromise((resolve, reject) => {\n      setTimeout(() => {\n        resolve('두 번째 Promise');\n      }, 1000);\n    });\n  })\n  .then((res) => {\n    console.log(res);\n  });\n```\n\n하지만 결과 값은 두 번째 Promise가 아닌 MyPromise 객체가 출력되었다.\n\n이것을 예상하는 것처럼 출력시키기 위해서는 **#update 내부에 지연 실행**을 추가해줘야한다.\n\n```javascript\n #update(state, value) {\n    queueMicrotask(() => {\n      if (this.#state !== PROMISES_STATE.pending) return;\n      if (value instanceof MyPromise) {\n        value.then(this.#resolve.bind(this), this.#reject.bind(this));\n        return;\n      }\n      this.#state = state;\n      this.#value = value;\n      this.#runCallbacks();\n    });\n  }\n```\n\n<br>\n\n### 타입스크립트로 변환해보자.\n\n타입스크립트로 변환하며 state를 별도의 utils로 분리하였다.\n\n```typescript\nimport PROMISES_STATE from './utils/state';\n\ntype Executor<T> = (resolve: (value: T | MyPromise<T>) => void, reject: (reason?: unknown) => void) => void;\n\nclass MyPromise<T = unknown> {\n  #state: string = PROMISES_STATE.pending;\n  #value: T | null = null;\n\n  #catchCallbacks: ((reason?: unknown) => void)[] = [];\n  #thenCallbacks: ((value: T) => void)[] = [];\n\n  constructor(executor: Executor<T>) {\n    try {\n      executor(this.#resolve.bind(this), this.#reject.bind(this));\n    } catch (error) {\n      this.#reject(error);\n    }\n  }\n\n  #runCallbacks(): void {\n    if (this.#state === PROMISES_STATE.fulfilled) {\n      this.#thenCallbacks.forEach((callback) => callback(this.#value as T));\n      this.#thenCallbacks = [];\n    }\n\n    if (this.#state === PROMISES_STATE.rejected) {\n      this.#catchCallbacks.forEach((callback) => callback(this.#value));\n      this.#catchCallbacks = [];\n    }\n  }\n\n  #update(state: string, value: T | MyPromise<T> | unknown): void {\n    queueMicrotask(() => {\n      if (this.#state !== PROMISES_STATE.pending) return;\n      if (value instanceof MyPromise) {\n        value.then(this.#resolve.bind(this), this.#reject.bind(this));\n        return;\n      }\n      this.#state = state;\n      this.#value = value as T;\n      this.#runCallbacks();\n    });\n  }\n\n  #resolve(value: T | MyPromise<T>): void {\n    this.#update(PROMISES_STATE.fulfilled, value);\n  }\n\n  #reject(error: unknown): void {\n    this.#update(PROMISES_STATE.rejected, error);\n  }\n\n  then<TResult = T>(\n    thenCallback?: (value: T) => TResult | MyPromise<TResult>,\n    catchCallback?: (reason?: unknown) => TResult | MyPromise<TResult>,\n  ): MyPromise<TResult> {\n    return new MyPromise<TResult>((resolve, reject) => {\n      this.#thenCallbacks.push((value: T) => {\n        if (!thenCallback) {\n          resolve(value as unknown as TResult);\n          return;\n        }\n\n        try {\n          resolve(thenCallback(value));\n        } catch (error) {\n          reject(error);\n        }\n      });\n\n      this.#catchCallbacks.push((value) => {\n        if (!catchCallback) {\n          reject(value);\n          return;\n        }\n\n        try {\n          resolve(catchCallback(value));\n        } catch (error) {\n          reject(error);\n        }\n      });\n    });\n  }\n\n  catch<TResult = T>(catchCallback?: (reason?: unknown) => TResult | MyPromise<TResult>): MyPromise<TResult> {\n    return this.then(undefined, catchCallback);\n  }\n\n  finally(callback: () => void): MyPromise<T> {\n    return this.then(\n      (value) => {\n        callback();\n        return value;\n      },\n      (value) => {\n        callback();\n        throw value;\n      },\n    );\n  }\n}\n```\n\nerror가 발생해 catch를 할 때 타입을 어떻게 잡을지 난감해 unknown과 제네릭을 이용해 폭넓게 설정해두었다. 추후 해당하는 작업은 리팩토링을 진행해볼 예정이다.\n\n<br>\n\n### jest를 이용해서 단위테스트를 해보자.\n\n```javascript\ndescribe('MyPromise', () => {\n  test('resolve 정상적으로 작동되는지 테스트', (done) => {\n    new MyPromise((resolve) => {\n      setTimeout(() => resolve('resolved value'), 100);\n    }).then((value) => {\n      expect(value).toBe('resolved value');\n      done();\n    });\n  });\n\n  test('rejects 정상적으로 작동되는지 테스트', (done) => {\n    new MyPromise((resolve, reject) => {\n      setTimeout(() => reject('rejected value'), 100);\n    }).catch((value) => {\n      expect(value).toBe('rejected value');\n      done();\n    });\n  });\n\n  test('Method Chain을 이용해 then 구문이 정확히 동작하는지 테스트', (done) => {\n    new MyPromise((resolve) => {\n      setTimeout(() => resolve('first value'), 100);\n    })\n      .then((value) => {\n        expect(value).toBe('first value');\n        return 'second value';\n      })\n      .then((value) => {\n        expect(value).toBe('second value');\n        done();\n      });\n  });\n\n  test('Method Chain을 이용해 catch 구문이 정확히 동작하는지 테스트', (done) => {\n    new MyPromise((resolve, reject) => {\n      setTimeout(() => reject('first error'), 100);\n    })\n      .catch((value) => {\n        expect(value).toBe('first error');\n        throw 'second error';\n      })\n      .catch((value) => {\n        expect(value).toBe('second error');\n        done();\n      });\n  });\n\n  test('finally가 then 뒤에 정상적으로 작동되는지 테스트', (done) => {\n    let finallyCalled = false;\n    new MyPromise((resolve) => {\n      setTimeout(() => resolve('resolved value'), 100);\n    })\n      .then((value) => {\n        expect(value).toBe('resolved value');\n      })\n      .finally(() => {\n        finallyCalled = true;\n      });\n\n    setTimeout(() => {\n      expect(finallyCalled).toBe(true);\n      done();\n    }, 200);\n  });\n\n  test('finally가 catch 뒤에 정상적으로 작동되는지 테스트', (done) => {\n    let finallyCalled = false;\n    new MyPromise((resolve, reject) => {\n      setTimeout(() => reject('rejected value'), 100);\n    })\n      .catch((value) => {\n        expect(value).toBe('rejected value');\n      })\n      .finally(() => {\n        finallyCalled = true;\n      });\n\n    setTimeout(() => {\n      expect(finallyCalled).toBe(true);\n      done();\n    }, 200);\n  });\n});\n```\n\n<br>\n\n## 으아 험난했다..\n\n![5.jpeg](5.jpeg)\n\n아주 험난한 길이었다.. 사실 모든 것이 완벽하게 이해가 된 것은 아니다. **클로저, 스코프, 재귀적 알고리즘** 등 내가 부족한 부분의 지식들을 응용해서 적용해야 하기 때문이다.\n\n이번 Promise를 구현해보며 혼자서는 힘들었지만, 좋은 교보재 덕분에 만들어볼 수 있었다. 위 내용을 열심히 복습하고 필요한 공부자료를 추가해보도록 해야겠다!!\n\n다시 한번 좋은 자료를 만들어주신, **[황준승님](https://velog.io/@turtle601/posts)께 감사하다는 말을 전달한다.**\n\n<br>\n\n## 출처 및 도움되는 링크들\n\n- [Method Chaining](https://developerntraveler.tistory.com/116)\n- [비동기, Promise, async, await 확실하게 이해하기](https://springfall.cc/article/2022-11/easy-promise-async-await)\n- [Async/await 내부](https://velog.io/@gcback/Asyncawait-%EB%82%B4%EB%B6%80)\n- [Generator](https://ko.javascript.info/generators)\n- [Promise 생성자](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/Promise)\n- [자바스크립트 Promise 객체 직접 구현해보기](https://velog.io/@turtle601/JS-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-Promise-%EA%B0%9D%EC%B2%B4-%EC%A7%81%EC%A0%91-%EA%B5%AC%ED%98%84%ED%95%B4%EB%B3%B4%EA%B8%B0#1-simplest-promise)\n\n```toc\n\n```\n",
      "html": "<h2 id=\"promise를-직접-만들어보자\"><a class=\"anchor\" href=\"#promise를-직접-만들어보자\">Promise를 직접 만들어보자.</a></h2>\n<p>앞서 나는 Promise()에 대한 글을 2번 정도 게시했다.</p>\n<ul>\n<li><a href=\"https://hooninedev.com/240514/\">자바스크립트 Promise를 퀴즈로 쉽게 익히기</a></li>\n<li><a href=\"https://hooninedev.com/230816/\">JavaScript 동기와 비동기 완벽 가이드</a></li>\n</ul>\n<p>위 글을 쓰고 나서 몇 달이 지난 현재, Promise의 내부는 어떻게 동작하고, 어떻게 구성이 되어있는지 궁금했다. 아티클을 읽던 와중에 <strong><a href=\"https://velog.io/@turtle601/JS-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-Promise-%EA%B0%9D%EC%B2%B4-%EC%A7%81%EC%A0%91-%EA%B5%AC%ED%98%84%ED%95%B4%EB%B3%B4%EA%B8%B0#1-simplest-promise\">푸만능님의 JavaScript Promise 객체 직접 구현해보기</a>를</strong> 알게 되어서, 위 내용을 실습해보며 내가 새롭게 알게 된 내용들에 대해 공부해보려한다.</p>\n<h3 id=\"promise를-어떻게-만들어볼까\"><a class=\"anchor\" href=\"#promise를-어떻게-만들어볼까\">Promise를 어떻게 만들어볼까?</a></h3>\n<p>Promise를 만들기 전에, Promise에 대해 이해해보기 위해, 기능 구현 목록을 작성해보자</p>\n<p>우선 Promise는 실행 상태를 나타내기 때문에, <strong>Pending(실행 전), fulfilled(실행 후 성공 => resolve), rejected(실행 후 실패 => rejected)이</strong> 필요하다.</p>\n<p>그리고 Promise는 JS 이벤트 루프에서 <strong>Microtask Queue에서 비동기적으로 동작</strong>한다. 또한 then, catch, finally이라는 후속처리 <strong>메서드 체이닝</strong>이 필요하다.</p>\n<blockquote>\n<p>🤔 <strong>메서드 체이닝(Method Chaining)이란?</strong></p>\n<p>연속적인 코드 줄에서 개체의 Method를 반복적으로 호출하는 것을 의미한다. Method가 객체를 반환하면 그 반환 값(객체)</p>\n<p>아래 함수를 Method Chaining을 이용하면 <code>store.enter(2).leave(1).enter(2)</code> 로 구현할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> store</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  name: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'see you'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  opacity: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">30</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  peopleCount: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  enter</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">n</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.peopleCount </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> n;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  leave</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">n</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.peopleCount </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">-=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> n;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span></code></pre></figure>\n</blockquote>\n<p>물론 Promise를 위한 정적 메서드인 race(), all()등 다양한 함수등이 있지만 그런 것들은 추후에 공부해보자.</p>\n<h2 id=\"만들어보자\"><a class=\"anchor\" href=\"#만들어보자\">만들어보자.</a></h2>\n<p><img src=\"/content/240525/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>본격적으로 Promise를 만들어보자. Promise를 구현해보면서 \"이게 왜 이렇게 동작하지?\", \"이 개념은 뭐지?\" 등 필요한 내용에 대해 차근차근 기록을 남기며 Promise를 만들어보겠다!</p>\n<p>모든 것은 Github의 새로운 Repository와 함께한다. 레포를 통해 확인해봐도 좋다. 이름은 <strong><a href=\"https://github.com/jiji-hoon96/mentoring\">Mentoring 4주차 - PurePromise</a></strong></p>\n<h3 id=\"간단하게-promise를-만들어보자\"><a class=\"anchor\" href=\"#간단하게-promise를-만들어보자\">간단하게 Promise를 만들어보자</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> testMyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'my resolve'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">testMyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">().</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// my resolve</span></span></code></pre></figure>\n<p>위 코드에서 신경써서 봐야 할 것은 3가지다.</p>\n<ul>\n<li>#value = null 을 통해 <strong>#value라는 프라이빗 변수를 null로 초기값을 설정</strong>했다.</li>\n<li>생성자 함수는 <strong>executor라는 함수를 매개변수</strong>로 받는다.</li>\n<li><strong>then 메서드는 콜백 함수를 매개변수</strong>로 받는다.</li>\n</ul>\n<p>하지만 아직 부족한 점이 많다. 현재 만들어진 MyPromise 함수는 비동기 처리가 안되어있다. 또한 에러처리를 위한 catch문이 없고, 상태를 다루는 코드도 작성되어 있지 않다.</p>\n<p>다음 섹션에서 에러처리에 대한 코드를 추가해보자.</p>\n<h3 id=\"then-catch-resolve-reject-함수를-추가해보자\"><a class=\"anchor\" href=\"#then-catch-resolve-reject-함수를-추가해보자\">then, catch, resolve, reject 함수를 추가해보자</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#resolve.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#reject.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> error;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> testMyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'my resolve'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">testMyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">().</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value)); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// my resolve</span></span></code></pre></figure>\n<p>resolve, reject, then, catch를 구현해서 메서드 체이닝이 일어날 수 있도록 했다.</p>\n<p>위 코드에서 궁금한 점은 executor 내부에 bind 메서드를 사용했다는 점이다. 현재 bind 메서드를 사용했기 때문에 this는 항상 MyPromise 인스턴스를 가리킨다. 사용하지 않으면 resolve, reject 메서드를 호출할 때 this가 바뀔 수 있고, 특히 콜백함수에서 차이가 크게 날 수 있기 때문에 <strong>bind 메서드로 강제로 특정 객체를 지정</strong>하도록 해야 한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> testMyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">input</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (input </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'정상적입니다'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'입력값이 1이 아닙니다'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">testMyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 입력값이 1이 아닙니다</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 입력값이 1이 아닙니다</span></span></code></pre></figure>\n<p>위 코드를 추가해서 실행해보면 then구문과 catch구문 모두 실행된다. 그리고 비동기, 상태 관리 메서드 생성, Error Handling이 부족하다. 다음 세션에서 상태를 추가해 코드를 더 보완해보자.</p>\n<h3 id=\"promise-상태를-추가해-동작-구현해보자\"><a class=\"anchor\" href=\"#promise-상태를-추가해-동작-구현해보자\">Promise 상태를 추가해 동작 구현해보자.</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Object.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">freeze</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  pending: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'PENDING'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  fulfilled: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'fulfilled'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  rejected: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'rejected'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #state</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">PENDING</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#resolve.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#reject.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.fulfilled;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.rejected;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> error;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.fulfilled) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.rejected) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> myPromiseFn2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">input</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (input </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'성공'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">else</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'실패'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">myPromiseFn2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">v</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(v);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '체이닝 확인'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">v</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(v))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">v</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(v));</span></span></code></pre></figure>\n<p>위 코드에서 <strong>Object.freeze를 이용해 객체를 동결</strong>했다. 이로서 객체 속성 추가,삭제,변경이 불가능해져서, 객체가 항상 일정한 상태 값을 갖도록 보장한다.</p>\n<p>코드를 실행해보면 resolve를 통해 then으로 이동하게 되어 '성공'이 출력되고, '체이닝 확인'이 출력될 것 같지만, '성공'이 두번 출력이 된다. 이것은 then 함수에 리턴값이 변경되지 않았기때문이다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(callback) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.fulfilled) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value)));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span></code></pre></figure>\n<p>then, catch 메소드를 위처럼 변경해 My Promise 객체 인스턴스를 then 메서드의 리턴값으로 설정해 프로미스 체이닝이 가능하도록 구현했다.</p>\n<h3 id=\"비동기-구현then-함수만\"><a class=\"anchor\" href=\"#비동기-구현then-함수만\">비동기 구현(then 함수만)</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> myPromiseFn2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">input</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">`이것은 ${</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">input</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">}초뒤에 실행됩니다.`</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>myPromise 내부에 setTimeout을 이용해서 코드를 실행해보면 아래와 같이 오류가 발생한다. myPromiseFn2()를 실행시키면 3초 뒤에 resolve함수가 실행됨으로 then에 대한 리턴값이 undefined가 되기 때문이다.</p>\n<p><img src=\"/content/240525/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>그래서 비동기를 구현하려면 어떻게 해야될까?</p>\n<p>우리는 Promise를 사용할 때 pending 상태를 두어 대기(비동기)를 하고, fulfilled 상태로 변경이 되면 동기가 된다. 위 내용을 코드에 적용해보자</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #state</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.pending;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #lastCallBacks</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#resolve.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#reject.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.fulfilled;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#lastCallBacks.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">forEach</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">lastcall</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> lastcall</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.rejected;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> error;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#lastCallBacks.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">forEach</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">lastcall</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> lastcall</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">asyncResolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.pending) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#lastCallBacks.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value))));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">syncResolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.fulfilled) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value)));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#asyncResolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(callback) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">||</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#syncResolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(callback);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.rejected) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>asyncResolve 메서드는 상태가 pending일 때 호출되어, 새로운 MyPromise 인스턴스를 반환하고, 콜백을 lastCallBacks 배열에 저장한다. 또한 syncResolve 메서드는 상태가 fulfilled일 때 호출되어, 새로운 MyPromise 인스턴스를 반환하고, 즉시 콜백을 실행한다.</p>\n<p>이후에 then 메서드를 통해 asyncResolve를 호출하여 비동기 처리를 시도하고, 실패하면 syncResolve를 호출하여 동기 처리를 시도한다. (위 코드는 클로저와 스코프의 개념을 적용해서 공부해보면 좋다.)</p>\n<p>위 코드를 실행해보면 3초 뒤에 실행이 되고, 체이닝 메서드로 이어지는 것을 확인할 수 있다.</p>\n<h3 id=\"microtask-queue를-적용해보자\"><a class=\"anchor\" href=\"#microtask-queue를-적용해보자\">MicroTask Queue를 적용해보자</a></h3>\n<p>MicroTask Queue를 만들기 위해서는 MacroTask Queue와 차이점, 그리고 콜스택 실행 순서에 대해 알고 있어야한다.</p>\n<p><strong><a href=\"https://hooninedev.com/230816/#%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%97%94%EC%A7%84v8\">해당 내용</a>을</strong> 숙지하고 아래 코드를 작성해보길 바란다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> myPromiseFn2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Promise 실행'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> test</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'첫번째 콜스택 실행'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'태스크 큐 실행'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  myPromiseFn2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">().</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">result</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(result));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'두번째 콜스택 실행'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">test</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span></code></pre></figure>\n<p>예상되는 정답은 첫 번째 콜스택 실행 => 두 번째 실행 => Promise 실행 => Task Queue 실행 이지만 실제 결과는 예상과 다르게 아래처럼 실행된다</p>\n<p><img src=\"/content/240525/3.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>위 문제를 해결하기 위해서 <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/queueMicrotask\">MDN-MicroTask Queue</a>을</strong> 이용해 코드를 수정해보면 예상하는 것 처럼 코드가 잘 동작 된다.</p>\n<p><img src=\"/content/240525/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"catch-함수를-구현해보자\"><a class=\"anchor\" href=\"#catch-함수를-구현해보자\">catch 함수를 구현해보자</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #state</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.pending;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #catchCallbacks</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #thenCallbacks</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#resolve.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#reject.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">runCallbacks</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.fulfilled) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#thenCallbacks.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">forEach</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#thenCallbacks </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.rejected) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#catchCallbacks.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">forEach</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#catchCallbacks </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    queueMicrotask</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> state;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#runCallbacks</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.fulfilled, value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.rejected, error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">thenCallback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">catchCallback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#thenCallbacks.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">!</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">thenCallback) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">          return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">thenCallback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#catchCallbacks.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">!</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">catchCallback) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">          return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catchCallback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">catchCallback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">undefined</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, catchCallback);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>then 메서드는 thenCallback과 catchCallback을 받아 새로운 MyPromise를 반환한다.</p>\n<p>thenCallbacks 배열에 thenCallback을 래핑한 콜백을 추가하는데, 이 콜백은 thenCallback이 없으면 resolve를 호출하고, 예외가 발생하면 reject를 호출한다.</p>\n<p>catchCallbacks 배열에 catchCallback을 래핑한 콜백을 추가하는데, 이 콜백은 catchCallback이 없으면 reject를 호출하고, 예외가 발생하면 reject를 호출한다.</p>\n<p>catch 메서드는 동작 이후에 메서드 체이닝이 가능하도록 구현했다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> myPromiseFn2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">input</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (input </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'성공'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">else</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'실패'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">myPromiseFn2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">v</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(v);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> v;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">v</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(v);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '오류 발생!!!'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">v</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(v));</span></span></code></pre></figure>\n<p>위 예시코드를 실행해보면 <strong>실패 => 오류 발생!!!</strong> 이 출력된다.</p>\n<h3 id=\"finally-만들어보기\"><a class=\"anchor\" href=\"#finally-만들어보기\">finally 만들어보기</a></h3>\n<p>Settled는 Promise가 이행되거나 거부된 상태를 포괄적으로 표현하는 단어로, Promise가 더 이상 pending 상태가 아닌 상태를 말한다.</p>\n<p>finally 메서드를 구현하기 위해 fulfilled, rejected 상태일 때 동작하도록 아래 코드를 추가해보자.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">finally</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(callback) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        throw</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span></code></pre></figure>\n<h3 id=\"추가적인-예외처리-기능-구현\"><a class=\"anchor\" href=\"#추가적인-예외처리-기능-구현\">추가적인 예외처리 기능 구현</a></h3>\n<p>then(callback)의 callback 함수 내부에서 새로운 Promise를 만들어 return 하는 코드를 아래처럼 만들어 실행해보자. 예상하는 결과 값은 <strong>첫번째 Promise => 두 번째 Promise</strong>이다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'첫 번째 Promise'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">})</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">res</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(res);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'두 번째 Promise'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      }, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1000</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">res</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(res);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span></code></pre></figure>\n<p>하지만 결과 값은 두 번째 Promise가 아닌 MyPromise 객체가 출력되었다.</p>\n<p>이것을 예상하는 것처럼 출력시키기 위해서는 <strong>#update 내부에 지연 실행</strong>을 추가해줘야한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(state, value) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    queueMicrotask</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">!==</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.pending) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">instanceof</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        value.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#resolve.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#reject.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> state;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#runCallbacks</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span></code></pre></figure>\n<h3 id=\"타입스크립트로-변환해보자\"><a class=\"anchor\" href=\"#타입스크립트로-변환해보자\">타입스크립트로 변환해보자.</a></h3>\n<p>타입스크립트로 변환하며 state를 별도의 utils로 분리하였다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> PROMISES_STATE </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> './utils/state'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">reject</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reason</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> unknown</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> unknown</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #state</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.pending;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #catchCallbacks</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reason</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> unknown</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)[] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  #thenCallbacks</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)[] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">executor</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      executor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#resolve.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#reject.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">runCallbacks</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.fulfilled) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#thenCallbacks.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">forEach</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#thenCallbacks </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.rejected) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#catchCallbacks.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">forEach</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#catchCallbacks </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">|</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> unknown</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    queueMicrotask</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">!==</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.pending) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">instanceof</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        value.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#resolve.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#reject.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">bind</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> state;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#runCallbacks</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.fulfilled, value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  #</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">error</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> unknown</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">#update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">PROMISES_STATE</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.rejected, error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TResult</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    thenCallback</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TResult</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TResult</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    catchCallback</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reason</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> unknown</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TResult</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TResult</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  )</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TResult</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TResult</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#thenCallbacks.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">!</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">thenCallback) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> unknown</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> as</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TResult</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">          return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">thenCallback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">      this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.#catchCallbacks.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">!</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">catchCallback) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">          return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catchCallback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">          reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(error);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TResult</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catchCallback</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reason</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> unknown</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TResult</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TResult</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TResult</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">undefined</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, catchCallback);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  finally</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">callback</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        callback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        throw</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>error가 발생해 catch를 할 때 타입을 어떻게 잡을지 난감해 unknown과 제네릭을 이용해 폭넓게 설정해두었다. 추후 해당하는 작업은 리팩토링을 진행해볼 예정이다.</p>\n<h3 id=\"jest를-이용해서-단위테스트를-해보자\"><a class=\"anchor\" href=\"#jest를-이용해서-단위테스트를-해보자\">jest를 이용해서 단위테스트를 해보자.</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">describe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'MyPromise'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  test</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'resolve 정상적으로 작동되는지 테스트'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'resolved value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">100</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      expect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">toBe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'resolved value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  test</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'rejects 정상적으로 작동되는지 테스트'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'rejected value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">100</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      expect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">toBe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'rejected value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  test</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Method Chain을 이용해 then 구문이 정확히 동작하는지 테스트'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'first value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">100</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        expect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">toBe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'first value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        return</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'second value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        expect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">toBe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'second value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  test</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'Method Chain을 이용해 catch 구문이 정확히 동작하는지 테스트'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'first error'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">100</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        expect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">toBe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'first error'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">        throw</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'second error'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        expect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">toBe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'second error'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  test</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'finally가 then 뒤에 정상적으로 작동되는지 테스트'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> finallyCalled </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'resolved value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">100</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">then</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        expect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">toBe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'resolved value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">finally</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        finallyCalled </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      expect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(finallyCalled).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">toBe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">200</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  test</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'finally가 catch 뒤에 정상적으로 작동되는지 테스트'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> finallyCalled </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> MyPromise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> reject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'rejected value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">), </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">100</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        expect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">toBe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'rejected value'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      })</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      .</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">finally</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        finallyCalled </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setTimeout</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      expect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(finallyCalled).</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">toBe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      done</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">200</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span></code></pre></figure>\n<h2 id=\"으아-험난했다\"><a class=\"anchor\" href=\"#으아-험난했다\">으아 험난했다..</a></h2>\n<p><img src=\"/content/240525/5.jpeg\" alt=\"5.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>아주 험난한 길이었다.. 사실 모든 것이 완벽하게 이해가 된 것은 아니다. <strong>클로저, 스코프, 재귀적 알고리즘</strong> 등 내가 부족한 부분의 지식들을 응용해서 적용해야 하기 때문이다.</p>\n<p>이번 Promise를 구현해보며 혼자서는 힘들었지만, 좋은 교보재 덕분에 만들어볼 수 있었다. 위 내용을 열심히 복습하고 필요한 공부자료를 추가해보도록 해야겠다!!</p>\n<p>다시 한번 좋은 자료를 만들어주신, <strong><a href=\"https://velog.io/@turtle601/posts\">황준승님</a>께 감사하다는 말을 전달한다.</strong></p>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<ul>\n<li><a href=\"https://developerntraveler.tistory.com/116\">Method Chaining</a></li>\n<li><a href=\"https://springfall.cc/article/2022-11/easy-promise-async-await\">비동기, Promise, async, await 확실하게 이해하기</a></li>\n<li><a href=\"https://velog.io/@gcback/Asyncawait-%EB%82%B4%EB%B6%80\">Async/await 내부</a></li>\n<li><a href=\"https://ko.javascript.info/generators\">Generator</a></li>\n<li><a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/Promise\">Promise 생성자</a></li>\n<li><a href=\"https://velog.io/@turtle601/JS-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-Promise-%EA%B0%9D%EC%B2%B4-%EC%A7%81%EC%A0%91-%EA%B5%AC%ED%98%84%ED%95%B4%EB%B3%B4%EA%B8%B0#1-simplest-promise\">자바스크립트 Promise 객체 직접 구현해보기</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240525/index.md",
    "_raw": {
      "sourceFilePath": "240525/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240525",
      "contentType": "markdown",
      "flattenedPath": "240525"
    },
    "type": "Post",
    "slug": "/240525",
    "categoryArray": [
      "멘토링",
      "자바스크립트"
    ],
    "readingTime": "19 min read",
    "excerpt": "Promise를 직접 만들어보자. 앞서 나는 Promise()에 대한 글을 2번 정도 게시했다. 자바스크립트 Promise를 퀴즈로 쉽게 익히기 JavaScript 동기와 비동기 완벽 가이드 위 글을 쓰고 나서 몇 달이 지난 현재, Promise의 내부는 어떻게 동작하고, 어떻게 구성이 되어있는지 궁금했다. 아티클을 읽던 와중에 푸만능님의 JavaScrip..."
  },
  {
    "title": "효율적인 디버깅을 위한 팁: Next Step 이펙티브 디버깅 모임 참여 후기",
    "date": "2024-05-27T00:00:00.000Z",
    "categories": "대외활동",
    "draft": true,
    "body": {
      "raw": "\n<br>\n\n## Next Step의 효율적인 디버깅 모임\n\n![1.png](1.png)\n\nNext Step에서 주관하는 효율적인 디버깅을 위한 스터디에 다녀왔다. 코딩을 하면 디버깅은 밥먹듯이 하는 일이라 궁금증을 가지고 행사에 신청했다!\n\n선릉역 테크 살롱에서 행사가 진행되었다.\n\n행사에서는 사람들과 정보를 공유해서 버전1을 만들고, 직접 코드 디버깅을해서 버전2로 수정하고, 최종으로 UI 디버깅을 통해 버전3의 나만의 디버깅 환경을 만들자라는 방향성으로 진행되었다.\n\n<br>\n\n### 내 경험을 공유해보며 버전 1을 만들어보자.\n\n평소 디버깅을 하면서 목적없이 작업을 진행한 경험이 대부분이었다. 어떤것을 어떻게 해결하고자 하는 생각은 없이...\n\n행사가 시작되고, 다른 사람들과 디버깅 경험을 공유해보았다. 아래는 내가 디버깅하는 과정이다.\n\n```\nUI 관련한 문제가 발생한다 ⇒ 사내에서 사용하는 UI 프레임워크의 공식문서에 가거나 구글링을 진행한다.\n\n간단한 함수 로직을 작성할 때 기능 구현 오류가 발생하면 수작업으로 console과 debug tool을 이용해 작업을 진행하고 완료가\n되면 gpt를 이용해 개선할 사항을 확인 후 반영한다.\n\n타입지정 및 테스트 ⇒ git copilot 을 이용해서 확인해본다.\n\n결론 : sentry 짱짱\n```\n\n<br>\n\n### 본격적인 세션 시작\n\n![2.png](2.png)\n\n진행해주시는 분께서 위와 같은 원인을 분석하는 것에 대해 방향을 제시해주었다.\n\n단순하다고 생각하지만, 사소한 디버깅이여도 목적과 해결하는 방법에 대해 생각하는 것이 인상적이었다. (뭐 대부분의 경험에서 버그 발생 => 바로 수정이 대부분인 나였으니..)\n\n<br>\n\n### 샘플 코드 디버깅에 위 내용을 적용해 버전 2를 만들어보자.\n\n```javascript\nfunction flattenArray(arr) {\n  let result = [];\n\n  for (let i = 0; i < arr.length; i++) {\n    if (Array.isArray(arr[i])) {\n      result = result.concat(flattenArray(arr[i]));\n    } else {\n      result.push(arr);\n    }\n  }\n  return result;\n}\n\nconsole.log(flattenArray([1, [2, 3], [4, [5, 6]]]));\n\n// 실제 결과\n// [\n//  [1, [2, 3], [4, [5, 6]]],\n//  [2, 3],\n//  [2, 3],\n//  [4, [5, 6]],\n//  [5, 6],\n//  [5, 6],\n// ];\n```\n\n**1. 내가 어떤 문제를 풀려고 하는지 한 문장으로 적는다.**\n\n- 배열 내부의 배열을 모두 평탄화 하는 작업을 하고싶다\n\n<br>\n\n**2. 올바르게 동작한다면 어떤 일이 벌어져야 하는지 적어본다**\n\n- 올바르게 동작하면 [1,2,3,4,5,6]이 된다.\n- 현재는 배열의 조건들이 하나씩 출력이 된다.\n\n```javascript\n() => error 발생\n[] => []\n[1] => [1]\n[4,3] => [4,3]\n[[1]] => [1]\n[1, [2, 3], [4, [5, 6]]] => [1,2,3,4,5,6]\n```\n\n<br>\n\n**3. 최소 재현 환경을 구축한다**\n\n- index를 넣어주는 것을 수정해야될 듯?\n- 아니면 현재 코드에서는 concat을 사용했는데 또 다른 javascript method가 없는지 확인해보자\n\n<br>\n\n**4. 재현 환경에서 벌어지는 일을 관찰하고, 2와는 어떻게 다른지 비교한다**\n\n- 현재 코드에서는 concat을 사용하고있는데, concat은 두 개 이상의 배열을 병합할 때 사용되는데 요구사항이랑 다르다.\n\n<br>\n\n**5. 4번와 2번의 차이를 발생시키는 원인이 될 만한 옵션들을 적어본다**\n\n- concat 또는 index의 for문이 예상하는 것과 다르게 동작함\n\n<br>\n\n**6. 옵션 중 하나를 골라서 가설을 세우고 검증한다.**\n\n- flat이라는 javascript method를 사용해보자\n\n```javascript\nfunction flattenArray(arr) {\n  let result = [];\n  result.push(arr.flat(2));\n\n  return result;\n}\n```\n\n<br>\n\n문제가 해결되었다. 하지만 기존의 함수에서 디버깅을 할 수 없을까?\n\n위 과정을 다시 반복해서 기존의 코드에 접근하고 재귀 return문을 아래 처럼 수정해주었다.\n\n```javascript\nfunction flattenArray(arr) {\n  let result = [];\n  result.push(arr.flat(2));\n\n  return result;\n}\n```\n\n해결이 완료되었다.\n\n<br>\n\n### 위 과정을 통해 배운것\n\n나는 디버깅을 할 때 접근만 하였다. 목표없이.\n\n그렇기에 왜 문제가 발생했는지? 그리고 현재상황이랑 발생하는 오류에 대한 인지를 확실하게 하고, 내가 생각하는 결과뿐 아니라, 다른 예외에도 대응할 수 있도록 생각해보고 오류에 접근하는 자세가 중요하다는 것을 느꼈다. **추가적으로 다양한 가설을 세우는 것도!**\n\n<br>\n\n### UI 디버깅으로 버전 3을 만들어보자.\n\n![6.png](6.png)\n\n위 UI를 디버깅 해보자\n\n<br>\n\n**1. 내가 어떤 문제를 풀려고 하는지 한 문장으로 적는다.**\n\n- UI가 정상적으로 동작하도록 구현한다.\n\n<br>\n\n**2. 올바르게 동작한다면 어떤 일이 벌어져야 하는지 적어본다**\n\n- header, footer은 상단, 하단에 각각 고정한다.\n\n- header,footer는 고정높이고, 중간 부분이 전체를 차지하고 있다.\n\n- 중간에서 사이드바와 메인은 좌우로 배치되어 있다.\n\n- 사이드바는 고정폭이고, 메인이 나머지 전체를 차지하고 있다.\n\n- 카드들이 2x2 그리드로 배치되어 있다.\n\n<br>\n\n**3. 최소 재현 환경을 구축한다**\n\n- 개발환경으로 가져온다.\n\n<br>\n\n**4. 재현 환경에서 벌어지는 일을 관찰하고, 2와는 어떻게 다른지 비교한다**\n\n- 헤더가 중간부분에 좌우로 배치되어 있다.\n- 메인 컨텐트에 카드가 일렬로 나와있다.\n- 폭이 충분히 작으면 한줄로 나오는 게 스펙이었을 수 있음\n- 좌우와 상하 스크롤이 다 생기고 있다.\n\n<br>\n\n**5. 4번과 2번의 차이를 발생시키는 원인이 될 만한 옵션들을 적어본다**\n\n- display: flex 와 flex-direction: column 중에 문제가 발생 된 것 같다.\n\n- html,css 구조에때문?\n\n- card에서는 나열하는 방법이 잘못된 듯?\n\n<br>\n\n**6. 옵션 중 하나를 골라서 가설을 세우고 검증한다.**\n\n- style 옵션들을 변경해보자\n\n<br>\n\n## 마지막으로\n\n위 1,2,3 단계를 거쳐서 **장소와 환경 변경의 중요성**과 **원인 ⇒ 원하는 목표와 필요한 것을 명확히 ⇒ 폭넓은 예외처리** 의 디버깅 과정이 우리 경험에 필요하다는 것을 느끼는 활동이었다.\n\n내 경험에서는 Sentry를 사용하면서 디버깅에 대한 접근을 잘못했다는 것을 느껴, 앞으로 진행에 위 경험을 녹여, 다양한 환경에서 접근을 할 수 있도록 신경써봐야겠다!\n\n---\n\n```toc\n\n```\n",
      "html": "<h2 id=\"next-step의-효율적인-디버깅-모임\"><a class=\"anchor\" href=\"#next-step의-효율적인-디버깅-모임\">Next Step의 효율적인 디버깅 모임</a></h2>\n<p><img src=\"/content/240527/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Next Step에서 주관하는 효율적인 디버깅을 위한 스터디에 다녀왔다. 코딩을 하면 디버깅은 밥먹듯이 하는 일이라 궁금증을 가지고 행사에 신청했다!</p>\n<p>선릉역 테크 살롱에서 행사가 진행되었다.</p>\n<p>행사에서는 사람들과 정보를 공유해서 버전1을 만들고, 직접 코드 디버깅을해서 버전2로 수정하고, 최종으로 UI 디버깅을 통해 버전3의 나만의 디버깅 환경을 만들자라는 방향성으로 진행되었다.</p>\n<h3 id=\"내-경험을-공유해보며-버전-1을-만들어보자\"><a class=\"anchor\" href=\"#내-경험을-공유해보며-버전-1을-만들어보자\">내 경험을 공유해보며 버전 1을 만들어보자.</a></h3>\n<p>평소 디버깅을 하면서 목적없이 작업을 진행한 경험이 대부분이었다. 어떤것을 어떻게 해결하고자 하는 생각은 없이...</p>\n<p>행사가 시작되고, 다른 사람들과 디버깅 경험을 공유해보았다. 아래는 내가 디버깅하는 과정이다.</p>\n<pre><code>UI 관련한 문제가 발생한다 ⇒ 사내에서 사용하는 UI 프레임워크의 공식문서에 가거나 구글링을 진행한다.\n\n간단한 함수 로직을 작성할 때 기능 구현 오류가 발생하면 수작업으로 console과 debug tool을 이용해 작업을 진행하고 완료가\n되면 gpt를 이용해 개선할 사항을 확인 후 반영한다.\n\n타입지정 및 테스트 ⇒ git copilot 을 이용해서 확인해본다.\n\n결론 : sentry 짱짱\n</code></pre>\n<h3 id=\"본격적인-세션-시작\"><a class=\"anchor\" href=\"#본격적인-세션-시작\">본격적인 세션 시작</a></h3>\n<p><img src=\"/content/240527/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>진행해주시는 분께서 위와 같은 원인을 분석하는 것에 대해 방향을 제시해주었다.</p>\n<p>단순하다고 생각하지만, 사소한 디버깅이여도 목적과 해결하는 방법에 대해 생각하는 것이 인상적이었다. (뭐 대부분의 경험에서 버그 발생 => 바로 수정이 대부분인 나였으니..)</p>\n<h3 id=\"샘플-코드-디버깅에-위-내용을-적용해-버전-2를-만들어보자\"><a class=\"anchor\" href=\"#샘플-코드-디버깅에-위-내용을-적용해-버전-2를-만들어보자\">샘플 코드 디버깅에 위 내용을 적용해 버전 2를 만들어보자.</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> flattenArray</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">arr</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> result </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  for</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> i </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; i </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> arr.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">length</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; i</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">++</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (Array.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">isArray</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(arr[i])) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      result </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> result.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">concat</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">flattenArray</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(arr[i]));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">else</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      result.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(arr);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> result;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">flattenArray</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">], [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">6</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]]]));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 실제 결과</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// [</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//  [1, [2, 3], [4, [5, 6]]],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//  [2, 3],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//  [2, 3],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//  [4, [5, 6]],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//  [5, 6],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">//  [5, 6],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// ];</span></span></code></pre></figure>\n<p><strong>1. 내가 어떤 문제를 풀려고 하는지 한 문장으로 적는다.</strong></p>\n<ul>\n<li>배열 내부의 배열을 모두 평탄화 하는 작업을 하고싶다</li>\n</ul>\n<p><strong>2. 올바르게 동작한다면 어떤 일이 벌어져야 하는지 적어본다</strong></p>\n<ul>\n<li>올바르게 동작하면 [1,2,3,4,5,6]이 된다.</li>\n<li>현재는 배열의 조건들이 하나씩 출력이 된다.</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> error 발생</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> []</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[[</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">], [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">6</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]]] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">4</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">6</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span></span></code></pre></figure>\n<p><strong>3. 최소 재현 환경을 구축한다</strong></p>\n<ul>\n<li>index를 넣어주는 것을 수정해야될 듯?</li>\n<li>아니면 현재 코드에서는 concat을 사용했는데 또 다른 javascript method가 없는지 확인해보자</li>\n</ul>\n<p><strong>4. 재현 환경에서 벌어지는 일을 관찰하고, 2와는 어떻게 다른지 비교한다</strong></p>\n<ul>\n<li>현재 코드에서는 concat을 사용하고있는데, concat은 두 개 이상의 배열을 병합할 때 사용되는데 요구사항이랑 다르다.</li>\n</ul>\n<p><strong>5. 4번와 2번의 차이를 발생시키는 원인이 될 만한 옵션들을 적어본다</strong></p>\n<ul>\n<li>concat 또는 index의 for문이 예상하는 것과 다르게 동작함</li>\n</ul>\n<p><strong>6. 옵션 중 하나를 골라서 가설을 세우고 검증한다.</strong></p>\n<ul>\n<li>flat이라는 javascript method를 사용해보자</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> flattenArray</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">arr</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> result </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  result.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(arr.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">flat</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> result;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>문제가 해결되었다. 하지만 기존의 함수에서 디버깅을 할 수 없을까?</p>\n<p>위 과정을 다시 반복해서 기존의 코드에 접근하고 재귀 return문을 아래 처럼 수정해주었다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> flattenArray</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">arr</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> result </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  result.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(arr.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">flat</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> result;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>해결이 완료되었다.</p>\n<h3 id=\"위-과정을-통해-배운것\"><a class=\"anchor\" href=\"#위-과정을-통해-배운것\">위 과정을 통해 배운것</a></h3>\n<p>나는 디버깅을 할 때 접근만 하였다. 목표없이.</p>\n<p>그렇기에 왜 문제가 발생했는지? 그리고 현재상황이랑 발생하는 오류에 대한 인지를 확실하게 하고, 내가 생각하는 결과뿐 아니라, 다른 예외에도 대응할 수 있도록 생각해보고 오류에 접근하는 자세가 중요하다는 것을 느꼈다. <strong>추가적으로 다양한 가설을 세우는 것도!</strong></p>\n<h3 id=\"ui-디버깅으로-버전-3을-만들어보자\"><a class=\"anchor\" href=\"#ui-디버깅으로-버전-3을-만들어보자\">UI 디버깅으로 버전 3을 만들어보자.</a></h3>\n<p><img src=\"/content/240527/6.png\" alt=\"6.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>위 UI를 디버깅 해보자</p>\n<p><strong>1. 내가 어떤 문제를 풀려고 하는지 한 문장으로 적는다.</strong></p>\n<ul>\n<li>UI가 정상적으로 동작하도록 구현한다.</li>\n</ul>\n<p><strong>2. 올바르게 동작한다면 어떤 일이 벌어져야 하는지 적어본다</strong></p>\n<ul>\n<li>\n<p>header, footer은 상단, 하단에 각각 고정한다.</p>\n</li>\n<li>\n<p>header,footer는 고정높이고, 중간 부분이 전체를 차지하고 있다.</p>\n</li>\n<li>\n<p>중간에서 사이드바와 메인은 좌우로 배치되어 있다.</p>\n</li>\n<li>\n<p>사이드바는 고정폭이고, 메인이 나머지 전체를 차지하고 있다.</p>\n</li>\n<li>\n<p>카드들이 2x2 그리드로 배치되어 있다.</p>\n</li>\n</ul>\n<p><strong>3. 최소 재현 환경을 구축한다</strong></p>\n<ul>\n<li>개발환경으로 가져온다.</li>\n</ul>\n<p><strong>4. 재현 환경에서 벌어지는 일을 관찰하고, 2와는 어떻게 다른지 비교한다</strong></p>\n<ul>\n<li>헤더가 중간부분에 좌우로 배치되어 있다.</li>\n<li>메인 컨텐트에 카드가 일렬로 나와있다.</li>\n<li>폭이 충분히 작으면 한줄로 나오는 게 스펙이었을 수 있음</li>\n<li>좌우와 상하 스크롤이 다 생기고 있다.</li>\n</ul>\n<p><strong>5. 4번과 2번의 차이를 발생시키는 원인이 될 만한 옵션들을 적어본다</strong></p>\n<ul>\n<li>\n<p>display: flex 와 flex-direction: column 중에 문제가 발생 된 것 같다.</p>\n</li>\n<li>\n<p>html,css 구조에때문?</p>\n</li>\n<li>\n<p>card에서는 나열하는 방법이 잘못된 듯?</p>\n</li>\n</ul>\n<p><strong>6. 옵션 중 하나를 골라서 가설을 세우고 검증한다.</strong></p>\n<ul>\n<li>style 옵션들을 변경해보자</li>\n</ul>\n<h2 id=\"마지막으로\"><a class=\"anchor\" href=\"#마지막으로\">마지막으로</a></h2>\n<p>위 1,2,3 단계를 거쳐서 <strong>장소와 환경 변경의 중요성</strong>과 <strong>원인 ⇒ 원하는 목표와 필요한 것을 명확히 ⇒ 폭넓은 예외처리</strong> 의 디버깅 과정이 우리 경험에 필요하다는 것을 느끼는 활동이었다.</p>\n<p>내 경험에서는 Sentry를 사용하면서 디버깅에 대한 접근을 잘못했다는 것을 느껴, 앞으로 진행에 위 경험을 녹여, 다양한 환경에서 접근을 할 수 있도록 신경써봐야겠다!</p>\n<hr>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240527/index.md",
    "_raw": {
      "sourceFilePath": "240527/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240527",
      "contentType": "markdown",
      "flattenedPath": "240527"
    },
    "type": "Post",
    "slug": "/240527",
    "categoryArray": [
      "대외활동"
    ],
    "readingTime": "9 min read",
    "excerpt": "Next Step의 효율적인 디버깅 모임 Next Step에서 주관하는 효율적인 디버깅을 위한 스터디에 다녀왔다. 코딩을 하면 디버깅은 밥먹듯이 하는 일이라 궁금증을 가지고 행사에 신청했다! 선릉역 테크 살롱에서 행사가 진행되었다. 행사에서는 사람들과 정보를 공유해서 버전1을 만들고, 직접 코드 디버깅을해서 버전2로 수정하고, 최종으로 UI 디버깅을 통해 ..."
  },
  {
    "title": "비전공 프론트엔드 2년차 개발자 멘티 일지: 4주차 - 대외활동과 개인 스터디",
    "date": "2024-05-28T00:00:00.000Z",
    "categories": "멘토링 자바스크립트",
    "draft": true,
    "body": {
      "raw": "\n<br>\n\n## 한 주 소감 및 복습 내용\n\n많은 것을 했고, 많은 것을 하고 있따.. 이것저것 만들고, 공부의 깊이는 더욱 깊어져 주제마다 별도의 페이지로 작성하겠다!\n\n![1.png](1.png)\n\n<br>\n\n![2.jpeg](2.jpeg)\n\n<br>\n\n아자아자 화이팅!!\n\n<br>\n\n## 5월 넷째 주 회고\n\n- 해커톤을 했습니다. 저번에는 참가자로 이번에는 운영진으로 경험해보았습니다. 사람들과 시간이 비어있을 때, CI/CD와 Docker 에 대해 이야기를 나누었습니다.\n- 토요일 점심에 크래프톤에서 코딩테스트가 요청되어 진행했습니다. 주관식 3개 알고리즘 3개 진행했는데, 알고리즘 지식이 부족해 어렵게 느꼈습니다.\n- 이팩티브 디버깅 행사에 다녀왔습니다. 디버깅을 위한 접근 방식에 대해 다른 사람들과 경험을 공유해볼 수 있는 시간이었습니다.\n- 공부를 하다 보니 부족하다고 느껴지는 것이 명확해지고 있습니다. 테스트를 다루는 부분과, 회사에서 현재 다루고 있는데 CI/CD에 대한 지식을 넓히려 합니다.\n\n<br>\n\n### 이번 주 좋은 것과 나쁜 것\n\n- 이번 주에 개인적으로 잡은 약속 없어서 공부할 수 있는 시간을 많이 가져왔습니다.\n- 회사가 너무 바쁩니다. 회사에서 배포와 Docker에 관한 내용을 프론트엔드도 알고 있어야 되고, 더 나아가 분리해서 관리해야겠다는 이야기가 나와서 긴급하게 공부를 시작했습니다.\n\n<br>\n\n### 이번 주 진행했던 학습/개발 내용은??\n\n- 이번 주에 **[Promise를 만들어보고](https://hooninedev.com/240525/)** 지식을 더해보았습니다.\n- **[멘토링에서 공부한 내용에서 부족한 것들을 더 채우면서 공부했습니다.](https://hooninedev.com/240521/)**\n- 이제 막 테스트와 CI/CD에 관해서 공부를 시작했습니다.\n- 멘토링에서 주어진 과제를 진행했습니다.\n\n<br>\n\n### 가장 고민했던 부분은 무엇이었나요?\n\n- 내가 만든 vanilla-javascript를 이용해서 react의 useState를 만들어보기에서 테스트 코드 작성하는 것에 집중했습니다. 하지만 아직 어떻게 테스트를 해야 할지 접근하지 못했습니다.\n- 7개월 전에 회사에서 맡아서 pipeline 적용하는 것에 대해 다시 살펴보았습니다.\n- 요즘 허리통증이 너무 심해져서 병원에 다니기 위해 시간분배를 계획 중입니다.\n\n<br>\n\n### 아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?\n\n- 제가 만든 useState를 기반으로 테스트를 진행하는 것을 같이 해보고 싶습니다. 제가 생각한 접근 방법은 mock data를 이용해 기능테스트 해보는 것인데 render 함수를 테스트 환경에서 반영하지 못하고 있습니다.\n- CI/CD 그리고 Docker에 관한 것과 테스트 공부를 위해 인터넷 강의를 진행 중입니다. 금주 안에 공부해보려 합니다.\n\n<br>\n\n### 다음 주는 어떻게 보낼 예정인가요?\n\n- 이벤트 루프 시뮬레이션을 만들고, 관련된 내용을 더 공부할 예정입니다\n- 멘토링 당일에는 코드 리뷰한 것과 부족한 부분 복습할 예정입니다.\n- 매일 CI/CD, 테스트 에 대해서 1시간 ~ 1시간 30분 정도 공부할 예정입니다.\n- 토요일에 마라톤 있습니다.\n- 29일에 Nextjs + CI/CD 관련한 밋업이 무신사에 있어서 다녀올 예정입니다.\n\n<br>\n\n## 출처 및 도움되는 링크들\n\n```toc\n\n```\n",
      "html": "<h2 id=\"한-주-소감-및-복습-내용\"><a class=\"anchor\" href=\"#한-주-소감-및-복습-내용\">한 주 소감 및 복습 내용</a></h2>\n<p>많은 것을 했고, 많은 것을 하고 있따.. 이것저것 만들고, 공부의 깊이는 더욱 깊어져 주제마다 별도의 페이지로 작성하겠다!</p>\n<p><img src=\"/content/240528/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p><img src=\"/content/240528/2.jpeg\" alt=\"2.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>아자아자 화이팅!!</p>\n<h2 id=\"5월-넷째-주-회고\"><a class=\"anchor\" href=\"#5월-넷째-주-회고\">5월 넷째 주 회고</a></h2>\n<ul>\n<li>해커톤을 했습니다. 저번에는 참가자로 이번에는 운영진으로 경험해보았습니다. 사람들과 시간이 비어있을 때, CI/CD와 Docker 에 대해 이야기를 나누었습니다.</li>\n<li>토요일 점심에 크래프톤에서 코딩테스트가 요청되어 진행했습니다. 주관식 3개 알고리즘 3개 진행했는데, 알고리즘 지식이 부족해 어렵게 느꼈습니다.</li>\n<li>이팩티브 디버깅 행사에 다녀왔습니다. 디버깅을 위한 접근 방식에 대해 다른 사람들과 경험을 공유해볼 수 있는 시간이었습니다.</li>\n<li>공부를 하다 보니 부족하다고 느껴지는 것이 명확해지고 있습니다. 테스트를 다루는 부분과, 회사에서 현재 다루고 있는데 CI/CD에 대한 지식을 넓히려 합니다.</li>\n</ul>\n<h3 id=\"이번-주-좋은-것과-나쁜-것\"><a class=\"anchor\" href=\"#이번-주-좋은-것과-나쁜-것\">이번 주 좋은 것과 나쁜 것</a></h3>\n<ul>\n<li>이번 주에 개인적으로 잡은 약속 없어서 공부할 수 있는 시간을 많이 가져왔습니다.</li>\n<li>회사가 너무 바쁩니다. 회사에서 배포와 Docker에 관한 내용을 프론트엔드도 알고 있어야 되고, 더 나아가 분리해서 관리해야겠다는 이야기가 나와서 긴급하게 공부를 시작했습니다.</li>\n</ul>\n<h3 id=\"이번-주-진행했던-학습개발-내용은\"><a class=\"anchor\" href=\"#이번-주-진행했던-학습개발-내용은\">이번 주 진행했던 학습/개발 내용은??</a></h3>\n<ul>\n<li>이번 주에 <strong><a href=\"https://hooninedev.com/240525/\">Promise를 만들어보고</a></strong> 지식을 더해보았습니다.</li>\n<li><strong><a href=\"https://hooninedev.com/240521/\">멘토링에서 공부한 내용에서 부족한 것들을 더 채우면서 공부했습니다.</a></strong></li>\n<li>이제 막 테스트와 CI/CD에 관해서 공부를 시작했습니다.</li>\n<li>멘토링에서 주어진 과제를 진행했습니다.</li>\n</ul>\n<h3 id=\"가장-고민했던-부분은-무엇이었나요\"><a class=\"anchor\" href=\"#가장-고민했던-부분은-무엇이었나요\">가장 고민했던 부분은 무엇이었나요?</a></h3>\n<ul>\n<li>내가 만든 vanilla-javascript를 이용해서 react의 useState를 만들어보기에서 테스트 코드 작성하는 것에 집중했습니다. 하지만 아직 어떻게 테스트를 해야 할지 접근하지 못했습니다.</li>\n<li>7개월 전에 회사에서 맡아서 pipeline 적용하는 것에 대해 다시 살펴보았습니다.</li>\n<li>요즘 허리통증이 너무 심해져서 병원에 다니기 위해 시간분배를 계획 중입니다.</li>\n</ul>\n<h3 id=\"아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\"><a class=\"anchor\" href=\"#아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\">아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?</a></h3>\n<ul>\n<li>제가 만든 useState를 기반으로 테스트를 진행하는 것을 같이 해보고 싶습니다. 제가 생각한 접근 방법은 mock data를 이용해 기능테스트 해보는 것인데 render 함수를 테스트 환경에서 반영하지 못하고 있습니다.</li>\n<li>CI/CD 그리고 Docker에 관한 것과 테스트 공부를 위해 인터넷 강의를 진행 중입니다. 금주 안에 공부해보려 합니다.</li>\n</ul>\n<h3 id=\"다음-주는-어떻게-보낼-예정인가요\"><a class=\"anchor\" href=\"#다음-주는-어떻게-보낼-예정인가요\">다음 주는 어떻게 보낼 예정인가요?</a></h3>\n<ul>\n<li>이벤트 루프 시뮬레이션을 만들고, 관련된 내용을 더 공부할 예정입니다</li>\n<li>멘토링 당일에는 코드 리뷰한 것과 부족한 부분 복습할 예정입니다.</li>\n<li>매일 CI/CD, 테스트 에 대해서 1시간 ~ 1시간 30분 정도 공부할 예정입니다.</li>\n<li>토요일에 마라톤 있습니다.</li>\n<li>29일에 Nextjs + CI/CD 관련한 밋업이 무신사에 있어서 다녀올 예정입니다.</li>\n</ul>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240528/index.md",
    "_raw": {
      "sourceFilePath": "240528/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240528",
      "contentType": "markdown",
      "flattenedPath": "240528"
    },
    "type": "Post",
    "slug": "/240528",
    "categoryArray": [
      "멘토링",
      "자바스크립트"
    ],
    "readingTime": "5 min read",
    "excerpt": "한 주 소감 및 복습 내용 많은 것을 했고, 많은 것을 하고 있따.. 이것저것 만들고, 공부의 깊이는 더욱 깊어져 주제마다 별도의 페이지로 작성하겠다! 아자아자 화이팅!! 5월 넷째 주 회고 해커톤을 했습니다. 저번에는 참가자로 이번에는 운영진으로 경험해보았습니다. 사람들과 시간이 비어있을 때, CI/CD와 Docker 에 대해 이야기를 나누었습니다. 토요..."
  },
  {
    "title": "이벤트 루프(Event Loop) 동작 원리 실습 with 자바스크립트로 만든 인터랙티브 사이트",
    "date": "2024-06-03T00:00:00.000Z",
    "categories": "자바스크립트",
    "draft": true,
    "body": {
      "raw": "\n> 화면 UI는 [yiseo0](https://github.com/yiseo0)님의 오픈소스를 참고했습니다. 감사합니다!\n\n<br>\n\n<br>\n\n<h3>이런게 더 있으면 좋겠다 하거나, 변경이 필요한 것들은 댓글로 적어주세요!!</h3>\n\n<br>\n\n![1.png](1.png)\n\n## 왜 만들었어!?\n\nJavScript을 이용해 Event Loop를 동작해보는 사이트를 만들어보았다. 왜!? 그냥 내가 공부하려고!!\n\n우선은 간단하게 만들어보았는데, 점차 리팩토링도 하면서 해당하는 것들에 관해서 공부하며 추가할 것이다!!!\n\n<br>\n\n**시연해보기 👉 [Event Loop with JavaScript](https://dontcryjihoon.netlify.app/)**\n\n<br>\n\n직접 만들어보고 싶으면 [Github Code를 참조하세요](https://github.com/jiji-hoon96/mentoring/tree/week5-eventLoop/week5-assingment)\n\n<br>\n\n많은 분이 Event Loop에 관해서 공부했을 것으로 생각한다. 그렇기에 내가 이벤트 루프를 만들기 위해서 어떤 내용을 참조했는지, 링크를 남겨두겠다!\n\n<br>\n\n## 추후 업데이트 기록\n\n추가로 공부할 내용을 적어보겠다. 우선은 코드를 더 직관적으로 리팩토링할 예정이다.\n\n<br>\n\n### 6/3 업로드 완료\n\n![2.png](2.png)\n\n1차 배포 및 업로드 완료!!!\n\n<br>\n\n## 출처 및 도움되는 링크들\n\n- [Promise를 만들어보자](https://hooninedev.com/240525/)\n- [JavaScript 동기와 비동기 완벽 가이드](https://hooninedev.com/230816/)\n- [Inpa Dev](https://inpa.tistory.com/entry/%F0%9F%94%84-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84-%EA%B5%AC%EC%A1%B0-%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC)\n\n```toc\n\n```\n",
      "html": "<blockquote>\n<p>화면 UI는 <a href=\"https://github.com/yiseo0\">yiseo0</a>님의 오픈소스를 참고했습니다. 감사합니다!</p>\n</blockquote>\n<p><img src=\"/content/240603/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"왜-만들었어\"><a class=\"anchor\" href=\"#왜-만들었어\">왜 만들었어!?</a></h2>\n<p>JavScript을 이용해 Event Loop를 동작해보는 사이트를 만들어보았다. 왜!? 그냥 내가 공부하려고!!</p>\n<p>우선은 간단하게 만들어보았는데, 점차 리팩토링도 하면서 해당하는 것들에 관해서 공부하며 추가할 것이다!!!</p>\n<p><strong>시연해보기 👉 <a href=\"https://dontcryjihoon.netlify.app/\">Event Loop with JavaScript</a></strong></p>\n<p>직접 만들어보고 싶으면 <a href=\"https://github.com/jiji-hoon96/mentoring/tree/week5-eventLoop/week5-assingment\">Github Code를 참조하세요</a></p>\n<p>많은 분이 Event Loop에 관해서 공부했을 것으로 생각한다. 그렇기에 내가 이벤트 루프를 만들기 위해서 어떤 내용을 참조했는지, 링크를 남겨두겠다!</p>\n<h2 id=\"추후-업데이트-기록\"><a class=\"anchor\" href=\"#추후-업데이트-기록\">추후 업데이트 기록</a></h2>\n<p>추가로 공부할 내용을 적어보겠다. 우선은 코드를 더 직관적으로 리팩토링할 예정이다.</p>\n<h3 id=\"63-업로드-완료\"><a class=\"anchor\" href=\"#63-업로드-완료\">6/3 업로드 완료</a></h3>\n<p><img src=\"/content/240603/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>1차 배포 및 업로드 완료!!!</p>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<ul>\n<li><a href=\"https://hooninedev.com/240525/\">Promise를 만들어보자</a></li>\n<li><a href=\"https://hooninedev.com/230816/\">JavaScript 동기와 비동기 완벽 가이드</a></li>\n<li><a href=\"https://inpa.tistory.com/entry/%F0%9F%94%84-%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84-%EA%B5%AC%EC%A1%B0-%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC\">Inpa Dev</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240603/index.md",
    "_raw": {
      "sourceFilePath": "240603/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240603",
      "contentType": "markdown",
      "flattenedPath": "240603"
    },
    "type": "Post",
    "slug": "/240603",
    "categoryArray": [
      "자바스크립트"
    ],
    "readingTime": "2 min read",
    "excerpt": "화면 UI는 yiseo0님의 오픈소스를 참고했습니다. 감사합니다! 이런게 더 있으면 좋겠다 하거나, 변경이 필요한 것들은 댓글로 적어주세요!! 왜 만들었어!? JavScript을 이용해 Event Loop를 동작해보는 사이트를 만들어보았다. 왜!? 그냥 내가 공부하려고!! 우선은 간단하게 만들어보았는데, 점차 리팩토링도 하면서 해당하는 것들에 관해서 공부하..."
  },
  {
    "title": "비전공 프론트엔드 2년차 개발자 멘티 일지: 5주차 - 회사 & 지구런 & History API",
    "date": "2024-06-04T00:00:00.000Z",
    "categories": "멘토링 자바스크립트",
    "draft": true,
    "body": {
      "raw": "\n<br>\n\n## 한 주 소감 및 복습 내용\n\n| ![2.jpeg](2.jpeg) | ![3.jpeg](3.jpeg) |\n| ----------------- | ----------------- |\n\n<br>\n\n나 마라톤했다? 10K, 나 회사가 엄청 바빳다, 그리고 Event Loop도 만들었고, History API를 열심히 만들고있다!\n\n추가로 공부할 내용들은 아래와 같다.\n\n- 상태관리 라이브러리를 내부적으로 구현한다고 가정했을 때 상태는 어떻게 트리거하고 UI 반영하게 할 수 있을지\n  - observer와 flux 구조, re-render 시킨다면 어떻게 접근할지\n- react-router-dom을 구현한다고 가정했을 때 인터페이스를 어떻게 설계할지\n- Router guard, <Link /> <Router /> 는 각각 어떻게 구현할 수 있을지\n- ~~composite Layers~~\n- ~~React Virtual Dom과 탐색 알고리즘~~\n- ~~브라우저의 Javascript 엔진이 스크립트를 어떻게 파싱하고 실행하는지~~\n\n추가로 이번주에 react-router가 어떻게 동작하는지 만들어보고, 분석해보자. 아 그리고 프레임워크와 라이브러리 차이와 CSR과 SSR의 차이를 복습해보자!\n\n<br>\n\n![1.jpeg](1.jpeg)\n\n<br>\n\n### Composite Layers\n\nReflow, Repaint가 일어나면 아래 과정이 진행된다.\n\n1. Recalculate Style : 요소에 적용할 스타일이 계산된다.\n2. Layout : 요소의 레이아웃을 생성되고, 요소들은 벡터 박스로만 표현된다.\n3. Paint : 생성된 모든 벡터 박스들을 픽셀로 변환하고, 레이어에 올린다.\n4. Composite Layers : 생성한 레이어 계층을 합성하고 화면에 나타내고, 모든 요소가 고유한 위치를 갖는 완전한 웹 페이지로 보여진다.\n\nComposite Layers 생성이란? CPU가 애니메이션을 처리하기 위해 GPU와 통신하는 단계로 각각의 layer를 GPU 메모리에 bitmap 형태의 texture로 저장하고 composition layer 작업시 GPU의 메모리에서 관련 작업을 진행하는 것을 의미한다.\n\nComposite Layers를 사용하면 성능이 향상되고, 부드러운 애니메이션으로 시각적 효과를 받고, 리페인트 최소화되어 성능을 최적화할 수 있다.\n\n대표적인 예시로는 3D 변환(transform, translate3d 등), css 애니메이션 및 트랜지션, opacity 속성 변환 등이 있다.\n\n<br>\n\n### Diffing Algorithm\n\nDiffing Algorithm(비교 알고리즘)이란? React에서 두 개의 트리를 비교할 때 두 엘리먼트의 루트부터 비교한 후, 루트 타입에 따라 트리를 구축하는 방식의 알고리즘이다.\n\nReact에서 Diffing Algorithm을 다루는 것은 아래 3가지 상황이 있다.\n\n1. 엘리먼트 타입이 다르게 되면, 이전 트리를 버리고 새로운 트리를 구축한다. 그렇게 되면 하위 state도 사라진다.\n2. DOM의 엘리먼트 타입이 같고 속성이 다르면, 엘리먼트 속성을 확인해 동일 내역만 유지하고 변경된 속성만 갱신한다.\n3. 자식 요소가 바뀌면, 자식들을 재귀적으로 처리한다. 해당하는 문제는 key prop을 통해 해결할 수 있다.\n\n<br>\n\n> key props는 우리가 다양한 상황에 사용한다. map을 이용해서 리스트를 보여줄 때 많이 사용하는데, key 속성을 통해 해당 key가 존재하는지 확인한 후 추가된 요소만을 반영하기 위해 사용된다.\n>\n> 배열의 인덱스를 key로 사용할 수 있겠지만, 배열이 다르게 정렬되더라고 인덱스는 변하지 않을 수 있어, 예상과 다른 동작 할 수 있다. 또한 key를 사용하지 않을 때와 같이 모든 형제 요소들과 함께 재랜더링이 발생할 수 있다.\n>\n> 그렇기에 고유한 값이 될 수 있도록 별도의 id값을 주는 것이 좋다.\n\n<br>\n\n그러면 Diffing Algorith을 왜 사용하게 되었을까?\n\n기존의 DOM 트리를 새로운 트리로 변환하기 위하여 최소한의 연산을 하는 알고리즘을 사용한다. 이때 알아낸 조작 방식은 알고리즘 **O(n^3)** 의 복잡도를 가지고 있다. 만약,이 알고리즘을 React에 적용한다면, 1000개의 엘리먼트가 있다는 가정하에 실제 화면에 표시하기 위해 1000^3인 10억번의 비교 연산을 해야한다. 이는 너무 비싼 연산이기에 React는 두 가지 가정을 가지고 시간 복잡도 **O(n)의 새로운 Heuristic Algorithm을 구현했다.**\n\n<br>\n\n### 브라우저의 Javascript 엔진이 스크립트를 어떻게 파싱하고 실행할까?\n\n우선 자바스크립트 엔진으로는 Google의 V8 엔진(Chrome과 Node.js에서 사용), Mozilla의 SpiderMonkey(Firefox에서 사용), Apple의 JavaScriptCore(Safari에서 사용) 등이 있다.\n\n자바스크립트 엔진은 예시코드를 이용해 파싱과 실행에 대해 알아보자.\n\n```javascript\nfunction add(a, b) {\n  return a + b;\n}\n\nconsole.log(add(2, 3));\n\n/*\n\n소스 코드 다운로드: 브라우저가 위 코드를 다운로드\n렉싱과 파싱: function, add, (, a, ,, b, ), {, return, a, +, b, }, console, ., log, (, add, (, 2, ,, 3, ), ) 토큰으로 분할된 후 AST로 변환\nAST 최적화: add 함수의 호출을 최적화\n바이트코드 생성: 최적화된 AST가 바이트코드로 컴파일\n실행: add 함수가 호출되고, 결과가 console.log로 출력\nJIT 컴파일: add 함수가 반복적으로 호출되면 기계어로 컴파일되어 성능이 최적화\n\n*/\n```\n\n1. 브라우저가 웹 페이지를 로드할 때, HTML 파일에 포함된 `<script>` 태그나 외부 JavaScript 파일을 발견하면 해당 JavaScript 코드를 다운로드\n\n2. **파싱**은 소스 코드를 읽어들여 이해 가능한 데이터 구조로 변환하는 과정으로 2개의 단계로 나누어진다.\n   - **렉싱 (Lexical Analysis)** : 소스 코드가 토큰(Tokens)이라는 작은 단위로 분할되는데, 각 토큰은 키워드, 변수 이름, 연산자, 숫자, 문자열 등 코드의 가장 작은 의미 단위다.\n\n   - **파싱 (Syntax Analysis)** : 토큰들을 추상 구문 트리(AST: Abstract Syntax Tree)로 변환하는데, AST는 코드의 문법 구조를 트리 형태로 표현한 것이다. 각 노드는 코드의 요소(예: 함수, 변수, 연산자 등)를 나타낸다.\n\n3. 생성된 **AST는 최적화단계를 거친다.** 이 과정에서는 코드의 성능을 향상시키기 위한 다양한 최적화가 적용된다. 예를 들어, 불필요한 코드를 제거하거나 반복되는 패턴을 단순화하는 작업이 수행된다.\n\n4. 최적화된 AST는 바이트코드(JavaScript 엔진이 직접 실행할 수 있는 중간 형태의 코드)로 컴파일된다. 바이트코드는 실제 기계어가 아니지만, 더 낮은 수준의 코드로 변환된 것이다.\n\n5. JavaScript 엔진은 생성된 바이트코드를 실행하는데, 최신 JavaScript 엔진은 바이트코드를 실행하는 과정에서도 다양한 최적화 기법을 사용한다.\n\n6. **JIT 컴파일 (Just-In-Time Compilation)은** 바이트코드를 실행하면서 성능이 중요한 부분을 탐지하여 해당 부분을 네이티브 기계어로 컴파일한다. 이를 통해 반복적으로 실행되는 코드는 더욱 빠르게 실행된다.\n\n<br>\n\n## 5월 마지막 주 & 6월 첫째 주 회고\n\n<br>\n\n### 이번 주 좋은 것과 나쁜 것\n\n- 화요일 멘토링 이후에 사내 코드에 큰 결함 있어서, 시간을 많이 할애하지 못했습니다.\n\n<br>\n\n### 이번 주 진행했던 학습/개발 내용은??\n\n- 이벤트 루프 만들었습니다\n- 사내에서 기존의 코드 리팩토링과 기능 수정 위주로 작업했습니다\n- SPA 과제 진행했습니다\n\n<br>\n\n### 가장 고민했던 부분은 무엇이었나요?\n\n- html 내부에서 router을 어떻게 만들어야 할까 고민했습니다.\n- 카카오 아티클을 참조해서 router을 만들어 봤는데, 경로 설정하는 부분에서 해결하지 못했습니다.\n\n<br>\n\n### 아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?\n\n- 약속 취소하고, 시간 많이 할애하겠습니다ㅠ...\n\n<br>\n\n### 다음 주는 어떻게 보낼 예정인가요?\n\n- 이력서 수정\n- History API 공부\n- 그 이후부터는 사내 업무인 devops 공부, jest를 이용한 테스트코드 작성에 관해 공부 할 것입니다.\n- 완성하지 못한 SPA 마무리도 계획 중입니다.\n\n<br>\n\n## 출처 및 도움되는 링크들\n\n```toc\n\n```\n",
      "html": "<h2 id=\"한-주-소감-및-복습-내용\"><a class=\"anchor\" href=\"#한-주-소감-및-복습-내용\">한 주 소감 및 복습 내용</a></h2>\n<p>| <img src=\"/content/240604/2.jpeg\" alt=\"2.jpeg\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240604/3.jpeg\" alt=\"3.jpeg\" loading=\"lazy\" decoding=\"async\"> |\n| ----------------- | ----------------- |</p>\n<p>나 마라톤했다? 10K, 나 회사가 엄청 바빳다, 그리고 Event Loop도 만들었고, History API를 열심히 만들고있다!</p>\n<p>추가로 공부할 내용들은 아래와 같다.</p>\n<ul>\n<li>상태관리 라이브러리를 내부적으로 구현한다고 가정했을 때 상태는 어떻게 트리거하고 UI 반영하게 할 수 있을지\n<ul>\n<li>observer와 flux 구조, re-render 시킨다면 어떻게 접근할지</li>\n</ul>\n</li>\n<li>react-router-dom을 구현한다고 가정했을 때 인터페이스를 어떻게 설계할지</li>\n<li>Router guard,   는 각각 어떻게 구현할 수 있을지</li>\n<li>~~composite Layers~~</li>\n<li>~~React Virtual Dom과 탐색 알고리즘~~</li>\n<li>~~브라우저의 Javascript 엔진이 스크립트를 어떻게 파싱하고 실행하는지~~</li>\n</ul>\n<p>추가로 이번주에 react-router가 어떻게 동작하는지 만들어보고, 분석해보자. 아 그리고 프레임워크와 라이브러리 차이와 CSR과 SSR의 차이를 복습해보자!</p>\n<p><img src=\"/content/240604/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"composite-layers\"><a class=\"anchor\" href=\"#composite-layers\">Composite Layers</a></h3>\n<p>Reflow, Repaint가 일어나면 아래 과정이 진행된다.</p>\n<ol>\n<li>Recalculate Style : 요소에 적용할 스타일이 계산된다.</li>\n<li>Layout : 요소의 레이아웃을 생성되고, 요소들은 벡터 박스로만 표현된다.</li>\n<li>Paint : 생성된 모든 벡터 박스들을 픽셀로 변환하고, 레이어에 올린다.</li>\n<li>Composite Layers : 생성한 레이어 계층을 합성하고 화면에 나타내고, 모든 요소가 고유한 위치를 갖는 완전한 웹 페이지로 보여진다.</li>\n</ol>\n<p>Composite Layers 생성이란? CPU가 애니메이션을 처리하기 위해 GPU와 통신하는 단계로 각각의 layer를 GPU 메모리에 bitmap 형태의 texture로 저장하고 composition layer 작업시 GPU의 메모리에서 관련 작업을 진행하는 것을 의미한다.</p>\n<p>Composite Layers를 사용하면 성능이 향상되고, 부드러운 애니메이션으로 시각적 효과를 받고, 리페인트 최소화되어 성능을 최적화할 수 있다.</p>\n<p>대표적인 예시로는 3D 변환(transform, translate3d 등), css 애니메이션 및 트랜지션, opacity 속성 변환 등이 있다.</p>\n<h3 id=\"diffing-algorithm\"><a class=\"anchor\" href=\"#diffing-algorithm\">Diffing Algorithm</a></h3>\n<p>Diffing Algorithm(비교 알고리즘)이란? React에서 두 개의 트리를 비교할 때 두 엘리먼트의 루트부터 비교한 후, 루트 타입에 따라 트리를 구축하는 방식의 알고리즘이다.</p>\n<p>React에서 Diffing Algorithm을 다루는 것은 아래 3가지 상황이 있다.</p>\n<ol>\n<li>엘리먼트 타입이 다르게 되면, 이전 트리를 버리고 새로운 트리를 구축한다. 그렇게 되면 하위 state도 사라진다.</li>\n<li>DOM의 엘리먼트 타입이 같고 속성이 다르면, 엘리먼트 속성을 확인해 동일 내역만 유지하고 변경된 속성만 갱신한다.</li>\n<li>자식 요소가 바뀌면, 자식들을 재귀적으로 처리한다. 해당하는 문제는 key prop을 통해 해결할 수 있다.</li>\n</ol>\n<blockquote>\n<p>key props는 우리가 다양한 상황에 사용한다. map을 이용해서 리스트를 보여줄 때 많이 사용하는데, key 속성을 통해 해당 key가 존재하는지 확인한 후 추가된 요소만을 반영하기 위해 사용된다.</p>\n<p>배열의 인덱스를 key로 사용할 수 있겠지만, 배열이 다르게 정렬되더라고 인덱스는 변하지 않을 수 있어, 예상과 다른 동작 할 수 있다. 또한 key를 사용하지 않을 때와 같이 모든 형제 요소들과 함께 재랜더링이 발생할 수 있다.</p>\n<p>그렇기에 고유한 값이 될 수 있도록 별도의 id값을 주는 것이 좋다.</p>\n</blockquote>\n<p>그러면 Diffing Algorith을 왜 사용하게 되었을까?</p>\n<p>기존의 DOM 트리를 새로운 트리로 변환하기 위하여 최소한의 연산을 하는 알고리즘을 사용한다. 이때 알아낸 조작 방식은 알고리즘 <strong>O(n^3)</strong> 의 복잡도를 가지고 있다. 만약,이 알고리즘을 React에 적용한다면, 1000개의 엘리먼트가 있다는 가정하에 실제 화면에 표시하기 위해 1000^3인 10억번의 비교 연산을 해야한다. 이는 너무 비싼 연산이기에 React는 두 가지 가정을 가지고 시간 복잡도 <strong>O(n)의 새로운 Heuristic Algorithm을 구현했다.</strong></p>\n<h3 id=\"브라우저의-javascript-엔진이-스크립트를-어떻게-파싱하고-실행할까\"><a class=\"anchor\" href=\"#브라우저의-javascript-엔진이-스크립트를-어떻게-파싱하고-실행할까\">브라우저의 Javascript 엔진이 스크립트를 어떻게 파싱하고 실행할까?</a></h3>\n<p>우선 자바스크립트 엔진으로는 Google의 V8 엔진(Chrome과 Node.js에서 사용), Mozilla의 SpiderMonkey(Firefox에서 사용), Apple의 JavaScriptCore(Safari에서 사용) 등이 있다.</p>\n<p>자바스크립트 엔진은 예시코드를 이용해 파싱과 실행에 대해 알아보자.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> add</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">a</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">b</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> a </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> b;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">add</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">3</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">/*</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">소스 코드 다운로드: 브라우저가 위 코드를 다운로드</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">렉싱과 파싱: function, add, (, a, ,, b, ), {, return, a, +, b, }, console, ., log, (, add, (, 2, ,, 3, ), ) 토큰으로 분할된 후 AST로 변환</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">AST 최적화: add 함수의 호출을 최적화</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">바이트코드 생성: 최적화된 AST가 바이트코드로 컴파일</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">실행: add 함수가 호출되고, 결과가 console.log로 출력</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">JIT 컴파일: add 함수가 반복적으로 호출되면 기계어로 컴파일되어 성능이 최적화</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">*/</span></span></code></pre></figure>\n<ol>\n<li>\n<p>브라우저가 웹 페이지를 로드할 때, HTML 파일에 포함된 <code>&#x3C;script></code> 태그나 외부 JavaScript 파일을 발견하면 해당 JavaScript 코드를 다운로드</p>\n</li>\n<li>\n<p><strong>파싱</strong>은 소스 코드를 읽어들여 이해 가능한 데이터 구조로 변환하는 과정으로 2개의 단계로 나누어진다.</p>\n<ul>\n<li>\n<p><strong>렉싱 (Lexical Analysis)</strong> : 소스 코드가 토큰(Tokens)이라는 작은 단위로 분할되는데, 각 토큰은 키워드, 변수 이름, 연산자, 숫자, 문자열 등 코드의 가장 작은 의미 단위다.</p>\n</li>\n<li>\n<p><strong>파싱 (Syntax Analysis)</strong> : 토큰들을 추상 구문 트리(AST: Abstract Syntax Tree)로 변환하는데, AST는 코드의 문법 구조를 트리 형태로 표현한 것이다. 각 노드는 코드의 요소(예: 함수, 변수, 연산자 등)를 나타낸다.</p>\n</li>\n</ul>\n</li>\n<li>\n<p>생성된 <strong>AST는 최적화단계를 거친다.</strong> 이 과정에서는 코드의 성능을 향상시키기 위한 다양한 최적화가 적용된다. 예를 들어, 불필요한 코드를 제거하거나 반복되는 패턴을 단순화하는 작업이 수행된다.</p>\n</li>\n<li>\n<p>최적화된 AST는 바이트코드(JavaScript 엔진이 직접 실행할 수 있는 중간 형태의 코드)로 컴파일된다. 바이트코드는 실제 기계어가 아니지만, 더 낮은 수준의 코드로 변환된 것이다.</p>\n</li>\n<li>\n<p>JavaScript 엔진은 생성된 바이트코드를 실행하는데, 최신 JavaScript 엔진은 바이트코드를 실행하는 과정에서도 다양한 최적화 기법을 사용한다.</p>\n</li>\n<li>\n<p><strong>JIT 컴파일 (Just-In-Time Compilation)은</strong> 바이트코드를 실행하면서 성능이 중요한 부분을 탐지하여 해당 부분을 네이티브 기계어로 컴파일한다. 이를 통해 반복적으로 실행되는 코드는 더욱 빠르게 실행된다.</p>\n</li>\n</ol>\n<h2 id=\"5월-마지막-주--6월-첫째-주-회고\"><a class=\"anchor\" href=\"#5월-마지막-주--6월-첫째-주-회고\">5월 마지막 주 &#x26; 6월 첫째 주 회고</a></h2>\n<h3 id=\"이번-주-좋은-것과-나쁜-것\"><a class=\"anchor\" href=\"#이번-주-좋은-것과-나쁜-것\">이번 주 좋은 것과 나쁜 것</a></h3>\n<ul>\n<li>화요일 멘토링 이후에 사내 코드에 큰 결함 있어서, 시간을 많이 할애하지 못했습니다.</li>\n</ul>\n<h3 id=\"이번-주-진행했던-학습개발-내용은\"><a class=\"anchor\" href=\"#이번-주-진행했던-학습개발-내용은\">이번 주 진행했던 학습/개발 내용은??</a></h3>\n<ul>\n<li>이벤트 루프 만들었습니다</li>\n<li>사내에서 기존의 코드 리팩토링과 기능 수정 위주로 작업했습니다</li>\n<li>SPA 과제 진행했습니다</li>\n</ul>\n<h3 id=\"가장-고민했던-부분은-무엇이었나요\"><a class=\"anchor\" href=\"#가장-고민했던-부분은-무엇이었나요\">가장 고민했던 부분은 무엇이었나요?</a></h3>\n<ul>\n<li>html 내부에서 router을 어떻게 만들어야 할까 고민했습니다.</li>\n<li>카카오 아티클을 참조해서 router을 만들어 봤는데, 경로 설정하는 부분에서 해결하지 못했습니다.</li>\n</ul>\n<h3 id=\"아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\"><a class=\"anchor\" href=\"#아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\">아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?</a></h3>\n<ul>\n<li>약속 취소하고, 시간 많이 할애하겠습니다ㅠ...</li>\n</ul>\n<h3 id=\"다음-주는-어떻게-보낼-예정인가요\"><a class=\"anchor\" href=\"#다음-주는-어떻게-보낼-예정인가요\">다음 주는 어떻게 보낼 예정인가요?</a></h3>\n<ul>\n<li>이력서 수정</li>\n<li>History API 공부</li>\n<li>그 이후부터는 사내 업무인 devops 공부, jest를 이용한 테스트코드 작성에 관해 공부 할 것입니다.</li>\n<li>완성하지 못한 SPA 마무리도 계획 중입니다.</li>\n</ul>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240604/index.md",
    "_raw": {
      "sourceFilePath": "240604/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240604",
      "contentType": "markdown",
      "flattenedPath": "240604"
    },
    "type": "Post",
    "slug": "/240604",
    "categoryArray": [
      "멘토링",
      "자바스크립트"
    ],
    "readingTime": "12 min read",
    "excerpt": "한 주 소감 및 복습 내용 | | | | ----------------- | ----------------- | 나 마라톤했다? 10K, 나 회사가 엄청 바빳다, 그리고 Event Loop도 만들었고, History API를 열심히 만들고있다! 추가로 공부할 내용들은 아래와 같다. 상태관리 라이브러리를 내부적으로 구현한다고 가정했을 때 상태는 어떻게 트리거..."
  },
  {
    "title": "DevOps의 D도 어려운 아기 개발자의 험난한 Docker 스터디",
    "date": "2024-06-07T00:00:00.000Z",
    "categories": "프론트엔드 DevOps 대외활동",
    "draft": true,
    "body": {
      "raw": "\n회사에서 요즘 프론트개발자들이 DevOps 작업을 하는 것을 권장하고있다. 그래서 급하게 배포환경도 변경해보고, 자동화 배포도해보았다. 그러던 도중 이론이 너무 부족하다고 생각했는데, 현재 참여하고있는 SIPE 동아리에서 나와 비슷한 니즈가 있는 사람들과 함께 Docker와 DevOps에 대해 스터디 진행하기로 했다. 그런 내용들을 조금씩 기록해보도록 하겠다!\n\n## 따라배우는 Docker\n\n![44.png](44.png)\n\n우선 사내에서 Docker를 사용하고 있는데 왜 사용하는지 모름. 귀여운 고래다. 끝\n\n> ~~(필자는 귀여운게 싫다, 귀여운 것들은 이유가 있고 까볼수록 해악스럽기에)~~\n\n그러던 와중 올리브영에서 진행된 [AWSKRUG의 Next.js와 AWS ECS, CI/CD](https://docs.google.com/presentation/d/1-7N_Ryb2HvQuz9VUT1OYOVouOEYzuuhgAR8zZR1bgSs/edit?usp=sharing) 행사에 다녀왔고, Git Action와 CDN까지 흐름을 살펴보는 시간을 가졌습니다\n\n첫주에는 Docker가 뭐고, 왜 사용해야 하며, 기본적인 개념에는 어떤 것이 있는지 살펴보겠습니다.\n\n<br>\n\n## Docker를 왜 써?\n\n간단하게 이해를 하면, 어떠한 프로그램을 다운로드하는 과정을 간단하게 만들기 위해서 사용한다.\n\nDocker를 사용하지 않고 프로그램을 설치할 때는 **Installer 설치 => Installer 실행 => 프로그램 설치 완료** 순서로 진행되지만, 서버, 패키지 버전, 운영체제 등등 여러 가지 에러를 핸들링하게 되고, 설치 과정이 복잡하다.\n\n하지만 Docker를 사용하면 과정이 간단해진다!\n\nex) 우리는 Redis를 설치할 때 아래의 명령어를 실행한다. 하지만 곧 오류를 마주하게 된다. Why?? wget이 없기때문에..\n\n![11.png](11.png)\n\n하지만 킹왕짱 Docker를 사용하면? **docker run -it redis** 를 하면 다운이 끝난다 ㅋㅋ\n\n<br>\n\n그래서 Docker를 사용하는 이유를 정리하면 아래와 같다.\n\n- **환경 일관성 유지** : Docker를 사용하면 개발 환경, 테스트 환경, 프로덕션 환경 간의 일관성을 유지할 수 있어, 로컬에서 테스트한 코드가 실제 배포 환경에서도 동일하게 동작함을 보장할 수 있다.\n\n- **의존성 관리** : Docker 컨테이너는 애플리케이션이 필요한 모든 라이브러리와 종속성을 포함하므로, 다른 환경에서 발생할 수 있는 의존성 충돌 문제를 해결할 수 있다.\n\n- **이식성** : Docker 컨테이너는 특정 운영체제나 클라우드 서비스에 종속되지 않아서 어디서나 실행될 수 있고, 애플리케이션을 배포할 수 있다.\n\n- **확장성** : 컨테이너 기반 애플리케이션은 쉽게 확장할 수 있다. 여러 컨테이너를 실행하여 부하를 분산시키고, 필요에 따라 자원을 할당할 수 있다.\n\n- **버전 관리** : Docker 이미지는 버전 관리가 가능하여, 특정 버전의 이미지를 쉽게 롤백하거나 배포할 수 있다.\n\n- **CI/CD 통합**: Docker는 CI/CD(지속적 통합/지속적 배포) 파이프라인과 통합되어, 코드 변경 사항을 자동으로 테스트하고 배포할 수 있다.\n\n<br>\n\n## 그래서 Docker가 머야?\n\nDocker은 컨테이너를 사용하여 응용프로그램을 더 쉽게 만들고 배포하고 실행할 수 있도록 설계된 도구로 컨테이너 기반의 오픈소스 가상화 플랫폼이며 생태계다.\n\n모르겠다. 쉽게 생각해보면 오픈소스로 컨테이너라는 것을 사용해 배포를 쉽게해주는 것이라 생각한다.\n\n그래서 컨테이너가 뭐야?\n\n![22.png](22.png)\n\n위 내용은 공식문서 발췌한 내용이다. 요약을 해보면 다양한 프로그램, 실행 환경을 컨테이너로 추상화하고 동일한 인터페이스를 제공하여 프로그램의 배포 관리를 단순하게 해주는 소프트웨어의 표준 단위다.\n\n공식문서를 더 살펴보면, 컨테이너 내용과 함께 이미지라는 것도 있다. 이미지는 또 뭘까?\n\n> ~~신원이가 이미지 이야기할 때 나는 gif, jpeg 이런 이야기하고 ㅋㅋ 픽셀 중얼중얼 했다. ㅋㅋ 아우 챙피해~~\n\n이미지는 런타임에 컨테이너가 된다. 기본적인 개념은 코드. 런타임, 시스템 도구, 시스템 라이브러리 및 설정과 같은 응용 프로그램을 실행하는데 필요한 모든 것을 포함하는 가볍고 독립적이며 실행 가능한 소프트웨어 패키지다.\n\n또 한줄요약 해보면, **docker 이미지는 프로그램을 실행하기 위한 설정, 종속성을 가지고 있고, 이미지를 이용해 컨테이너를 생성하며 컨테이너를 이용해 프로그램을 실행한다**\n\n<br>\n\n## docker run hello-world\n\ndocker를 실행해보면 어떤 일이 일어날지 한번 확인해보자!\n\n1. `docker run hello-world`를 입력하면 클라이언트에서 docker server로 요청을 보낸다.\n2. docker 이미지가 이미 로컬에 cache가 되어있는지 확인한다.\n3. 현재는 없기에 **Unable to find image~~** 문구가 출력된다.\n4. 만약 있으면 캐시된 이미지를 이용해 컨테이너를 만든 후 프로그램이 실행된다.\n\n<br>\n\n## 추가로 컨테이너 가상화 기술에 대해\n\n가상화 기술이 나오기 전에는 한대의 서버, 하나의 용도로만 사용해 서버 공간이 방치되었다. 안정적이지만 효율성이 떨어진다. 그래서 나온 하이퍼 바이저 기반의 가상화가 출현되었다.\n\n공간을 분할하여 VM이라는 독립적인 가상 환경의 서버를 이용하고, 하이퍼 바이저는 호스트 시스템에서 다수의 게스트 OS를 구동할 수 있게 하는 소프트웨어, 그리고 하드웨어를 가상화하면서 하드웨어와 각각의 VM을 모니터링하는 중간 관리자다.\n\n너~~ 무 어렵다.. 가난히 이해하면 하이퍼 바이저는 하드웨어를 직접 제어해서 자원 효율성이 높고, 오버헤드가 적다. 하지만 하드웨어 드라이버를 세팅이 힘들 수 있다\n\n<br>\n\n이런 가상화 기술에서 나온 컨테이너 가상화 기술 도커는 하드웨어에서 격리된 환경 내에 애플리케이션을 배치하는 방법이다.\n\n<br>\n\n## 가상 머신과 도커 컨테이너의 차이점은\n\n도커 컨테이너에서 돌아가는 애플리케이션은 컨테이너가 제공하는 격리 기능 내부에 샌드박스가 있지만, 같은 호스트의 다른 컨테이너와 동일한 커널을 공유한다. 결과적으로 컨테이너 내부에서 실행되는 프로세스는 호스트 시스템에서 볼 수 있다.\n\n가상 머신과 함께 VM 내부에서 실행되는 모든 것은 호스트 운영 체제 또는 하이퍼바이저와 독립되어있다. 가상머신 플랫폼은 특정 VM에 대한 가상화 프로세스를 관리하기 위해 프로세스를 시작하고, 호스트 시스템은 그것의 하드웨어 일부를 VM에 할당한다. 그렇기에 VM이 더 커지게 되고..\n\n간단한 예시를 생각해보면 맥에서 윈도우를 설치하거나, 리눅스에서 윈도우를 돌리거나.. 간단하지만 속도가 엄청 느리겠지?\n\n<br>\n\n## 1주차 소감\n\n어렵다 너무많이 어렵다!!!... ㅠㅠ 이론이 안잡히고 실습하려하니 너무 어려워서 첫주에는 간단한 이론에 대해 공부해보았다. 해보니 도커가 조금은 귀여운 고래로 보인다. ㅋㅋㅋ 화이팅!!\n\n![33.jpeg](33.jpeg)\n\n```toc\n\n```\n",
      "html": "<p>회사에서 요즘 프론트개발자들이 DevOps 작업을 하는 것을 권장하고있다. 그래서 급하게 배포환경도 변경해보고, 자동화 배포도해보았다. 그러던 도중 이론이 너무 부족하다고 생각했는데, 현재 참여하고있는 SIPE 동아리에서 나와 비슷한 니즈가 있는 사람들과 함께 Docker와 DevOps에 대해 스터디 진행하기로 했다. 그런 내용들을 조금씩 기록해보도록 하겠다!</p>\n<h2 id=\"따라배우는-docker\"><a class=\"anchor\" href=\"#따라배우는-docker\">따라배우는 Docker</a></h2>\n<p><img src=\"/content/240607/44.png\" alt=\"44.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>우선 사내에서 Docker를 사용하고 있는데 왜 사용하는지 모름. 귀여운 고래다. 끝</p>\n<blockquote>\n<p>~~(필자는 귀여운게 싫다, 귀여운 것들은 이유가 있고 까볼수록 해악스럽기에)~~</p>\n</blockquote>\n<p>그러던 와중 올리브영에서 진행된 <a href=\"https://docs.google.com/presentation/d/1-7N_Ryb2HvQuz9VUT1OYOVouOEYzuuhgAR8zZR1bgSs/edit?usp=sharing\">AWSKRUG의 Next.js와 AWS ECS, CI/CD</a> 행사에 다녀왔고, Git Action와 CDN까지 흐름을 살펴보는 시간을 가졌습니다</p>\n<p>첫주에는 Docker가 뭐고, 왜 사용해야 하며, 기본적인 개념에는 어떤 것이 있는지 살펴보겠습니다.</p>\n<h2 id=\"docker를-왜-써\"><a class=\"anchor\" href=\"#docker를-왜-써\">Docker를 왜 써?</a></h2>\n<p>간단하게 이해를 하면, 어떠한 프로그램을 다운로드하는 과정을 간단하게 만들기 위해서 사용한다.</p>\n<p>Docker를 사용하지 않고 프로그램을 설치할 때는 <strong>Installer 설치 => Installer 실행 => 프로그램 설치 완료</strong> 순서로 진행되지만, 서버, 패키지 버전, 운영체제 등등 여러 가지 에러를 핸들링하게 되고, 설치 과정이 복잡하다.</p>\n<p>하지만 Docker를 사용하면 과정이 간단해진다!</p>\n<p>ex) 우리는 Redis를 설치할 때 아래의 명령어를 실행한다. 하지만 곧 오류를 마주하게 된다. Why?? wget이 없기때문에..</p>\n<p><img src=\"/content/240607/11.png\" alt=\"11.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>하지만 킹왕짱 Docker를 사용하면? <strong>docker run -it redis</strong> 를 하면 다운이 끝난다 ㅋㅋ</p>\n<p>그래서 Docker를 사용하는 이유를 정리하면 아래와 같다.</p>\n<ul>\n<li>\n<p><strong>환경 일관성 유지</strong> : Docker를 사용하면 개발 환경, 테스트 환경, 프로덕션 환경 간의 일관성을 유지할 수 있어, 로컬에서 테스트한 코드가 실제 배포 환경에서도 동일하게 동작함을 보장할 수 있다.</p>\n</li>\n<li>\n<p><strong>의존성 관리</strong> : Docker 컨테이너는 애플리케이션이 필요한 모든 라이브러리와 종속성을 포함하므로, 다른 환경에서 발생할 수 있는 의존성 충돌 문제를 해결할 수 있다.</p>\n</li>\n<li>\n<p><strong>이식성</strong> : Docker 컨테이너는 특정 운영체제나 클라우드 서비스에 종속되지 않아서 어디서나 실행될 수 있고, 애플리케이션을 배포할 수 있다.</p>\n</li>\n<li>\n<p><strong>확장성</strong> : 컨테이너 기반 애플리케이션은 쉽게 확장할 수 있다. 여러 컨테이너를 실행하여 부하를 분산시키고, 필요에 따라 자원을 할당할 수 있다.</p>\n</li>\n<li>\n<p><strong>버전 관리</strong> : Docker 이미지는 버전 관리가 가능하여, 특정 버전의 이미지를 쉽게 롤백하거나 배포할 수 있다.</p>\n</li>\n<li>\n<p><strong>CI/CD 통합</strong>: Docker는 CI/CD(지속적 통합/지속적 배포) 파이프라인과 통합되어, 코드 변경 사항을 자동으로 테스트하고 배포할 수 있다.</p>\n</li>\n</ul>\n<h2 id=\"그래서-docker가-머야\"><a class=\"anchor\" href=\"#그래서-docker가-머야\">그래서 Docker가 머야?</a></h2>\n<p>Docker은 컨테이너를 사용하여 응용프로그램을 더 쉽게 만들고 배포하고 실행할 수 있도록 설계된 도구로 컨테이너 기반의 오픈소스 가상화 플랫폼이며 생태계다.</p>\n<p>모르겠다. 쉽게 생각해보면 오픈소스로 컨테이너라는 것을 사용해 배포를 쉽게해주는 것이라 생각한다.</p>\n<p>그래서 컨테이너가 뭐야?</p>\n<p><img src=\"/content/240607/22.png\" alt=\"22.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>위 내용은 공식문서 발췌한 내용이다. 요약을 해보면 다양한 프로그램, 실행 환경을 컨테이너로 추상화하고 동일한 인터페이스를 제공하여 프로그램의 배포 관리를 단순하게 해주는 소프트웨어의 표준 단위다.</p>\n<p>공식문서를 더 살펴보면, 컨테이너 내용과 함께 이미지라는 것도 있다. 이미지는 또 뭘까?</p>\n<blockquote>\n<p>~~신원이가 이미지 이야기할 때 나는 gif, jpeg 이런 이야기하고 ㅋㅋ 픽셀 중얼중얼 했다. ㅋㅋ 아우 챙피해~~</p>\n</blockquote>\n<p>이미지는 런타임에 컨테이너가 된다. 기본적인 개념은 코드. 런타임, 시스템 도구, 시스템 라이브러리 및 설정과 같은 응용 프로그램을 실행하는데 필요한 모든 것을 포함하는 가볍고 독립적이며 실행 가능한 소프트웨어 패키지다.</p>\n<p>또 한줄요약 해보면, <strong>docker 이미지는 프로그램을 실행하기 위한 설정, 종속성을 가지고 있고, 이미지를 이용해 컨테이너를 생성하며 컨테이너를 이용해 프로그램을 실행한다</strong></p>\n<h2 id=\"docker-run-hello-world\"><a class=\"anchor\" href=\"#docker-run-hello-world\">docker run hello-world</a></h2>\n<p>docker를 실행해보면 어떤 일이 일어날지 한번 확인해보자!</p>\n<ol>\n<li><code>docker run hello-world</code>를 입력하면 클라이언트에서 docker server로 요청을 보낸다.</li>\n<li>docker 이미지가 이미 로컬에 cache가 되어있는지 확인한다.</li>\n<li>현재는 없기에 <strong>Unable to find image~~</strong> 문구가 출력된다.</li>\n<li>만약 있으면 캐시된 이미지를 이용해 컨테이너를 만든 후 프로그램이 실행된다.</li>\n</ol>\n<h2 id=\"추가로-컨테이너-가상화-기술에-대해\"><a class=\"anchor\" href=\"#추가로-컨테이너-가상화-기술에-대해\">추가로 컨테이너 가상화 기술에 대해</a></h2>\n<p>가상화 기술이 나오기 전에는 한대의 서버, 하나의 용도로만 사용해 서버 공간이 방치되었다. 안정적이지만 효율성이 떨어진다. 그래서 나온 하이퍼 바이저 기반의 가상화가 출현되었다.</p>\n<p>공간을 분할하여 VM이라는 독립적인 가상 환경의 서버를 이용하고, 하이퍼 바이저는 호스트 시스템에서 다수의 게스트 OS를 구동할 수 있게 하는 소프트웨어, 그리고 하드웨어를 가상화하면서 하드웨어와 각각의 VM을 모니터링하는 중간 관리자다.</p>\n<p>너~~ 무 어렵다.. 가난히 이해하면 하이퍼 바이저는 하드웨어를 직접 제어해서 자원 효율성이 높고, 오버헤드가 적다. 하지만 하드웨어 드라이버를 세팅이 힘들 수 있다</p>\n<p>이런 가상화 기술에서 나온 컨테이너 가상화 기술 도커는 하드웨어에서 격리된 환경 내에 애플리케이션을 배치하는 방법이다.</p>\n<h2 id=\"가상-머신과-도커-컨테이너의-차이점은\"><a class=\"anchor\" href=\"#가상-머신과-도커-컨테이너의-차이점은\">가상 머신과 도커 컨테이너의 차이점은</a></h2>\n<p>도커 컨테이너에서 돌아가는 애플리케이션은 컨테이너가 제공하는 격리 기능 내부에 샌드박스가 있지만, 같은 호스트의 다른 컨테이너와 동일한 커널을 공유한다. 결과적으로 컨테이너 내부에서 실행되는 프로세스는 호스트 시스템에서 볼 수 있다.</p>\n<p>가상 머신과 함께 VM 내부에서 실행되는 모든 것은 호스트 운영 체제 또는 하이퍼바이저와 독립되어있다. 가상머신 플랫폼은 특정 VM에 대한 가상화 프로세스를 관리하기 위해 프로세스를 시작하고, 호스트 시스템은 그것의 하드웨어 일부를 VM에 할당한다. 그렇기에 VM이 더 커지게 되고..</p>\n<p>간단한 예시를 생각해보면 맥에서 윈도우를 설치하거나, 리눅스에서 윈도우를 돌리거나.. 간단하지만 속도가 엄청 느리겠지?</p>\n<h2 id=\"1주차-소감\"><a class=\"anchor\" href=\"#1주차-소감\">1주차 소감</a></h2>\n<p>어렵다 너무많이 어렵다!!!... ㅠㅠ 이론이 안잡히고 실습하려하니 너무 어려워서 첫주에는 간단한 이론에 대해 공부해보았다. 해보니 도커가 조금은 귀여운 고래로 보인다. ㅋㅋㅋ 화이팅!!</p>\n<p><img src=\"/content/240607/33.jpeg\" alt=\"33.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240607/index.md",
    "_raw": {
      "sourceFilePath": "240607/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240607",
      "contentType": "markdown",
      "flattenedPath": "240607"
    },
    "type": "Post",
    "slug": "/240607",
    "categoryArray": [
      "프론트엔드",
      "DevOps",
      "대외활동"
    ],
    "readingTime": "11 min read",
    "excerpt": "회사에서 요즘 프론트개발자들이 DevOps 작업을 하는 것을 권장하고있다. 그래서 급하게 배포환경도 변경해보고, 자동화 배포도해보았다. 그러던 도중 이론이 너무 부족하다고 생각했는데, 현재 참여하고있는 SIPE 동아리에서 나와 비슷한 니즈가 있는 사람들과 함께 Docker와 DevOps에 대해 스터디 진행하기로 했다. 그런 내용들을 조금씩 기록해보도록 하겠..."
  },
  {
    "title": "Elastic Beanstalk를 이용해 귀여운 Docker 자동화 배포 실습해보자",
    "date": "2024-06-18T00:00:00.000Z",
    "categories": "프론트엔드 DevOps 대외활동",
    "draft": true,
    "body": {
      "raw": "\n> 우선 해당 공부는 [docker-test](https://github.com/jiji-hoon96/docker-test) 레포를 이용했습니다.\n\n문서를 열심히 읽어보아도 한 번의 실습이 더 값지다고 생각한다!\n\n그렇기에 간단히 중요한 개념을 복습하고, 자주 사용하는 CRA부터 Elastic Beanstalk + Github Action + S3를 이용해 코드를 구현해보자\n\n<br>\n\n![1.jpeg](1.jpeg)\n\n<br>\n\n### 중요한 개념을 복습해보자.\n\n1. **Dockerfile**: 기본 이미지, 종속성 및 실행 명령을 지정하여 Docker 이미지를 빌드하는 지침을 포함\n\n2. **Docker 이미지**: 애플리케이션을 실행하는 데 필요한 모든 것(코드, 라이브러리 및 종속성)을 포함하는 경량의 독립 실행형 패키지로, Dockerfile에서 빌드되며 버전을 지정할 수 있다.\n\n3. **Docker 컨테이너**: Docker 이미지의 실행 중인 인스턴스로, 컨테이너는 서로 격리되어 있고 호스트 시스템으로부터 격리되어 앱을 실행하기 위한 안전하고 재현 가능한 환경을 제공\n\n4. **Docker 레지스트리**: Docker 이미지를 저장하고 배포하기 위한 중앙 집중식 리포지토리로, Docker Hub는 기본 공용 레지스트리이지만 개인 레지스트리를 설정할 수도 있다.\n\n5. **Docker 볼륨**: 컨테이너에서 생성된 데이터를 유지하는 방법으로, 볼륨은 컨테이너의 파일 시스템 외부에 있으며 여러 컨테이너 간에 공유할 수 있다.\n\n6. **Docker Compose**: 다중 컨테이너 Docker 애플리케이션을 정의하고 실행하기 위한 도구로, 전체 스택을 쉽게 관리할 수 있다.\n\n<br>\n\n![2.png](2.png)\n\n<br>\n\n### 도커를 이용해 개발 단계에서 CRA 실행해보기\n\n그 이후 개발 환경의 도커 파일(Dockerfile.dev), 운영 환경의 도커 파일(Dockerfile)을 만들어줘야한다.\n\n그렇게 만들어진 도커 파일을 가지고 도커 이미지를 생성하고, 이미지를 통해 컨테이너를 만들고, 컨테이너에서 앱을 실행하게 된다.\n\nDockerfile은 어떤 내용을 넣어줘야될까?\n\n```markdown\nFROM => Docker 이미지를 빌드할 때 기본이 되는 베이스 이미지를 지정\nWORKDIR => 모든 명령어가 실행될 작업 디렉토리를 설정\nCOPY => 로컬 파일 시스템에서 Docker 이미지의 파일 시스템으로 파일을 복사\nRUN => Docker 이미지 빌드 시에 실행할 명령어를 지정합니다. 주로 패키지 설치나 소프트웨어 설정에 사용\nCOPY\nCMD => 컨테이너가 시작될 때 실행할 명령어를 지정한다. 주로 실행 파일이나 스크립트를 지정하는 데 사용된다. CMD는 Dockerfile 당 하나만 사용할 수 있다.\n```\n\n위 방법으로 `docker build .` 명령어를 실행해주니까 `unable to evaluate symlink` 에러가 발생했는데, dockerfile을 찾지 못하고 dockerfile.dev만 찾기 때문에 `-f 옵션`을 이용해 개발환경에서 사용할 수 있도록 수정했다.\n\ndocker을 이용해 build를 진행하니 `node_modules`의 용량이 무거워 `dockerignore` 또는 삭제를 하는 쪽으로 변경하는 것을 권장한다.\n\n<br>\n\n### 도커 이미지로 컨테이너 실행해 리액트 앱을 실행해보자.\n\n`docker run 이미지 이름`을 하게 되면 포트 매핑이 안되어있어서, 컨테이너 내부로 리엑트가 도달하지 못해 **This site can't be reached** 오류가 발생한다.\n\n이것을 해결하기 위해서는 `docker run -it -p 3000:3000 이미지 이름`을 이용해 포트 매핑을 해줘야 한다.\n\n> 여기서 -i는 상호 입출력, -t는 tty를 활성화하여 bash shell을 사용하는 것이다.\n\n<br>\n\n### 볼륨을 이용해보자.\n\nVolume을 설정하면 소스의 변경을 Live Server처럼 바로 반영되는 것을 확인할 수 있다. 그러면 명령어를 작성해보자.\n\n`docker run -p 3000:3000 -v /usr/src/app/node_modules -v ${pwd}:/usr/src/app 이미지 아이디` 로 작성하면된다.\n\n어지러워서 천천히 확인해보면, node_modules이 호스트 디렉토리에 없어서 컨테이너에게 매핑을 하지 말라고 명령하는 `/usr/src/app/node_modules`이 있고, pwd 경로에 있는 디렉토리 파일을 `usr/src/app` 참조하도록 한다.\n\n<br>\n\n### 도커 컴포즈를 이용하자.\n\n앞에 명령어 너무 길어서 어떻게 줄일 수 있을까 고민을 했는데 **Docker Compose**를 이용하면 된다는 것을 알게 되었다.\n\ndocker-compose.yml을 작성해보자.\n\n```markdown\nversion: \"3\" => 도커 컴포저의 버전\nservices:\nreact: => 컨테이너 이름\nbuild:\ncontext: . => 도커 이미지를 구성하기 위한 파일과 폴더들이 있는 위치\ndockerfile: Dockerfile.dev => 어떤 도커 파일인지\nports: - \"3000:3000\" => 컨테이너 포트번호\nvolumes: - /usr/src/app/node_modules - ./:usr/src/app\nstdin_open: true => 리앱트 앱을 끌때 필요한 코드\n```\n\n완성이 되었으면 docker-compose를 `docker-compose up` 명령어를 이용해 실행해보자\n\n테스트 코드 배포도 동일하게 하면된다. 명령어만 조금 수정하면! ~~귀찮아서 패스하겠다~~\n\n<br>\n\n### 운영환경의 도커파일 작성과 Nginx를 활용해보자\n\n운영환경에서 배포를 하려면 Nginx가 필요하다. 이유는 서버 트래픽도 분산시키고, 데이터 전송에 보안을 강화하고, 리버스 프록시로도 동작할 수 있기 때문이다. 뭐 간단하게 생각하면 정적 파일을 빠르게 서버를 이용해 다룰 때 사용한다.\n\nNginx를 이용하기 위해 Dockerfile에는 2가지 옵션을 추가해줘야 한다.\n\n```markdown\nFrom nginx\nCOPY --from=builder /usr/src/app/build /usr/share/nginx/html\n```\n\n위 내용은 [Dockerhub 공식 Nginx](https://hub.docker.com/_/nginx)에 상세하게 기록되어있으니 확인해주세요~\n\n참고로 운영서버에서 실행시키려면 포트번호를 Nginx 기본 사용 포트인 80번으로 해야한다.\n\n<br>\n\n### Github Action + AWS를 이용해 배포해보자.\n\nGithub Action을 설정하는 방법은 [여기를](https://docs.github.com/ko/actions) 확인해보면 좋다.\n\n자동화 배포를 하기 위해서는 AWS의 IAM ROLE, Elastic Beanstalk, S3등이 필요한데, 설정 방법은 자료가 많기 때문에, 각각을 왜 사용하고 어떤것인지 찾아보자\n\n아 맞다.. Github Action을 활용하기 위해서는 아까 저장해둔 액세스키, 비밀 엑세스키, 도커 관련된 설정등도 값을 넣어줘야된다.\n\n<br>\n\n## IAM Role\n\nIAM Roles(Identity and Access Management Roles)은 AWS 리소스에 접근 권한을 부여하는 데 사용된다.\n\n실습을 하면서 아래 조건들에 대한 설정을 해주었다. 너무 어려워보여서 일단 체크만 하고 넘어갔는데, **IAM Role**에서 왜 선택해주었는지 찾아보자\n\n<br>\n\n### AWSElasticBeanstalkMulticontainerDocker\n\n이 역할은 Elastic Beanstalk에서 다중 컨테이너 Docker 환경을 지원하는 데 사용된다. 또한 아래와 같은 역할을 포함하고 있다.\n\n- Elastic Beanstalk 환경의 컨테이너 설정 및 관리 및 Docker 컨테이너를 시작하고 중지하는 역할\n- Elastic Load Balancing (ELB), Amazon EC2 인스턴스, Amazon S3 버킷 등의 AWS 리소스에 접근하여 컨테이너를 배포하고 관리하는 작업을 수행\n\n이 역할은 Docker Compose를 사용하여 여러 Docker 컨테이너를 조정하는 Elastic Beanstalk 환경에서 필수적이기때문에, 꼭 설정해줘야한다.\n\n<br>\n\n### AWSElasticBeanstalkWebTier\n\n이 역할은 Elastic Beanstalk의 웹 애플리케이션 환경에서 사용된다. 주로 웹 서버 역할을 수행하는 애플리케이션에 필요한 권한을 제공하며 아래와 같은 작업을 수행할 수 있는 권한을 포함하고 있다.\n\n- 애플리케이션 로그를 Amazon S3 버킷에 업로드\n- Elastic Beanstalk 환경의 상태를 모니터링하고 CloudWatch 로그를 관리\n- Amazon EC2 인스턴스 및 기타 AWS 리소스와의 상호작용\n\n웹 티어는 사용자가 직접 상호작용하는 프론트엔드 웹 서버 애플리케이션에 적합한 역할이다.\n\n<br>\n\n### AWSElasticBeanstalkWorkerTier\n\n이 역할은 Elastic Beanstalk의 워커 애플리케이션 환경에서 사용된다. 주로 백그라운드 작업을 처리하는 애플리케이션에 필요한 권한을 제공하며 아래와 같은 작업을 수행할 수 있는 권한을 포함하고 있다.\n\n- SQS (Simple Queue Service) 메시지를 처리\n- 애플리케이션 로그를 Amazon S3 버킷에 업로드\n- 백그라운드 작업 및 비동기 작업을 수행하기 위해 Amazon EC2 인스턴스와 상호작용.\n\n워커 티어는 주로 백엔드에서 처리해야 하는 긴 작업이나 비동기 작업을 수행하는 데 적합한 역할이다. 주로 이메일 알림 전송, 이미지 처리, 데이터베이스 백업과 같은 작업에 사용된다.\n\n<br>\n\n## Elastic Beanstalk\n\n**Elastic Beanstalk** 이름이 너무 낯설다. 간단하게 설명해보면, 개발자가 애플리케이션을 쉽게 배포하고 확장할 수 있도록 해주는 **Paas(Platform as a Service)** 서비스이다.\n\n개발자가 애플리케이션 코드를 업로드하면, Elastic Beanstalk은 배포, 프로비저닝, 로드 벨런싱, 확장, 모니터링 등을 자동으로 처리해준다.\n\n> [프로비저닝(provisioning)](https://hong-yp-ml-records.tistory.com/125)\n>\n> > IT 인프라를 생성하고 설정하는 프로세스다. 서버, 애플리케이션, 네트워크, 스토리지 등을 배포하는 과정의 가장 초기 단계를 의미한다.\n> > <br>\n\n> [로드 벨런싱(Load Balancing)](https://aws.amazon.com/ko/what-is/load-balancing/)\n>\n> > 로드 밸런싱은 애플리케이션을 지원하는 리소스 풀 전체에 네트워크 트래픽을 균등하게 배포하는 방법이다.\n>\n> > 많은 양의 트래픽을 처리하기 위해 대부분의 애플리케이션에는 데이터가 중복되는 리소스 서버가 많이 있는데, 로드 밸런서는 사용자와 서버 그룹 사이에 위치하며 보이지 않는 촉진자 역할을 하여 모든 리소스 서버가 동일하게 사용되도록 한다.\n\n<br>\n\n### 오잉? EC2랑 뭐가 다름?\n\n우리가 자주 사용하는 EC2도 **Elastic Compute Cloud**로 같은 Elastic이다. ~~ㅋㅋㅋㅋ~~\n\nEC2는 가상의 서버를 제공하는 **Iaas(Infrastructure as a Service)** 서비스다. 가상 머신 생성, 시작, 정지, 삭제와 같은 모든 작업을 직정 수행할 수 있다.\n\n두개의 가장 큰 차이는 Elastic Beanstalk는 개발자가 애플리케이션 코드를 업로드하면 AWS가 배포 및 관리를 자동화하는 PaaS 서비스서비스이며, EC2는 가상 서버를 직접 관리해야 하는 IaaS 서비스이다.\n\n<br>\n\n### EC2 대신 Elastic Beanstalk을 사용했을까?\n\nEC2를 사용하면 작업을 수동으로 설정하고 관리해야한다. 하지만 Elastic Beanstalk은 애플리케이션 배포와 관리를 자동으로 처리해준다. 이를 통해 사용자는 인프라 구성, 서버 설정, 로드 밸런싱, 스케일링 등을 직접 관리할 필요가 없어지는 장점이 생긴다.\n\n또한 통합 모니터링 및 로깅을 쉽게 파악할 수 있고, 다양한 언어 환경에서 쉽게 애플리케이션을 배포할 수 있다.\n\n**자동화** 를 위해 사용했다는 것을 복습해보니 알게되었다.\n\n<br>\n\n### S3 설정 변경 및 IAM 유저 생성\n\nS3는 AWS의 객체 스토리지 서비스로, 데이터를 안전하고 확장 가능하게 저장하게 도와준다. 대용량의 데이터를 저장할 수 있어서 데이터 관리에 용이하다.\n\nS3에 들어가서 객체 소유권을 편집해준다. ACL 활성화해주면 된다.\n\n그 이후 IAM 유저를 생성해주고 액세스 키와 비밀 액세스 키를 저장해줘야한다. 나중에 깃헙에 넣어야되기 때문!\n\n<br>\n\n## 소감\n\n![3.webp](3.webp)\n\n<br>\n\n이러면 배포는 된다. 하지만.. 너무 넘어야 할 산이 많다. 아직 도커 컨테이너와 이미지를 다루기도 어렵고, yaml 파일을 어떻게 작성하는지도.. 코드를 좀 더 살펴보아야겠다!\n\n```toc\n\n```\n",
      "html": "<blockquote>\n<p>우선 해당 공부는 <a href=\"https://github.com/jiji-hoon96/docker-test\">docker-test</a> 레포를 이용했습니다.</p>\n</blockquote>\n<p>문서를 열심히 읽어보아도 한 번의 실습이 더 값지다고 생각한다!</p>\n<p>그렇기에 간단히 중요한 개념을 복습하고, 자주 사용하는 CRA부터 Elastic Beanstalk + Github Action + S3를 이용해 코드를 구현해보자</p>\n<p><img src=\"/content/240618/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"중요한-개념을-복습해보자\"><a class=\"anchor\" href=\"#중요한-개념을-복습해보자\">중요한 개념을 복습해보자.</a></h3>\n<ol>\n<li>\n<p><strong>Dockerfile</strong>: 기본 이미지, 종속성 및 실행 명령을 지정하여 Docker 이미지를 빌드하는 지침을 포함</p>\n</li>\n<li>\n<p><strong>Docker 이미지</strong>: 애플리케이션을 실행하는 데 필요한 모든 것(코드, 라이브러리 및 종속성)을 포함하는 경량의 독립 실행형 패키지로, Dockerfile에서 빌드되며 버전을 지정할 수 있다.</p>\n</li>\n<li>\n<p><strong>Docker 컨테이너</strong>: Docker 이미지의 실행 중인 인스턴스로, 컨테이너는 서로 격리되어 있고 호스트 시스템으로부터 격리되어 앱을 실행하기 위한 안전하고 재현 가능한 환경을 제공</p>\n</li>\n<li>\n<p><strong>Docker 레지스트리</strong>: Docker 이미지를 저장하고 배포하기 위한 중앙 집중식 리포지토리로, Docker Hub는 기본 공용 레지스트리이지만 개인 레지스트리를 설정할 수도 있다.</p>\n</li>\n<li>\n<p><strong>Docker 볼륨</strong>: 컨테이너에서 생성된 데이터를 유지하는 방법으로, 볼륨은 컨테이너의 파일 시스템 외부에 있으며 여러 컨테이너 간에 공유할 수 있다.</p>\n</li>\n<li>\n<p><strong>Docker Compose</strong>: 다중 컨테이너 Docker 애플리케이션을 정의하고 실행하기 위한 도구로, 전체 스택을 쉽게 관리할 수 있다.</p>\n</li>\n</ol>\n<p><img src=\"/content/240618/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"도커를-이용해-개발-단계에서-cra-실행해보기\"><a class=\"anchor\" href=\"#도커를-이용해-개발-단계에서-cra-실행해보기\">도커를 이용해 개발 단계에서 CRA 실행해보기</a></h3>\n<p>그 이후 개발 환경의 도커 파일(Dockerfile.dev), 운영 환경의 도커 파일(Dockerfile)을 만들어줘야한다.</p>\n<p>그렇게 만들어진 도커 파일을 가지고 도커 이미지를 생성하고, 이미지를 통해 컨테이너를 만들고, 컨테이너에서 앱을 실행하게 된다.</p>\n<p>Dockerfile은 어떤 내용을 넣어줘야될까?</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"markdown\" data-theme=\"github-dark github-light\"><code data-language=\"markdown\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">FROM => Docker 이미지를 빌드할 때 기본이 되는 베이스 이미지를 지정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">WORKDIR => 모든 명령어가 실행될 작업 디렉토리를 설정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">COPY => 로컬 파일 시스템에서 Docker 이미지의 파일 시스템으로 파일을 복사</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">RUN => Docker 이미지 빌드 시에 실행할 명령어를 지정합니다. 주로 패키지 설치나 소프트웨어 설정에 사용</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">COPY</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">CMD => 컨테이너가 시작될 때 실행할 명령어를 지정한다. 주로 실행 파일이나 스크립트를 지정하는 데 사용된다. CMD는 Dockerfile 당 하나만 사용할 수 있다.</span></span></code></pre></figure>\n<p>위 방법으로 <code>docker build .</code> 명령어를 실행해주니까 <code>unable to evaluate symlink</code> 에러가 발생했는데, dockerfile을 찾지 못하고 dockerfile.dev만 찾기 때문에 <code>-f 옵션</code>을 이용해 개발환경에서 사용할 수 있도록 수정했다.</p>\n<p>docker을 이용해 build를 진행하니 <code>node_modules</code>의 용량이 무거워 <code>dockerignore</code> 또는 삭제를 하는 쪽으로 변경하는 것을 권장한다.</p>\n<h3 id=\"도커-이미지로-컨테이너-실행해-리액트-앱을-실행해보자\"><a class=\"anchor\" href=\"#도커-이미지로-컨테이너-실행해-리액트-앱을-실행해보자\">도커 이미지로 컨테이너 실행해 리액트 앱을 실행해보자.</a></h3>\n<p><code>docker run 이미지 이름</code>을 하게 되면 포트 매핑이 안되어있어서, 컨테이너 내부로 리엑트가 도달하지 못해 <strong>This site can't be reached</strong> 오류가 발생한다.</p>\n<p>이것을 해결하기 위해서는 <code>docker run -it -p 3000:3000 이미지 이름</code>을 이용해 포트 매핑을 해줘야 한다.</p>\n<blockquote>\n<p>여기서 -i는 상호 입출력, -t는 tty를 활성화하여 bash shell을 사용하는 것이다.</p>\n</blockquote>\n<h3 id=\"볼륨을-이용해보자\"><a class=\"anchor\" href=\"#볼륨을-이용해보자\">볼륨을 이용해보자.</a></h3>\n<p>Volume을 설정하면 소스의 변경을 Live Server처럼 바로 반영되는 것을 확인할 수 있다. 그러면 명령어를 작성해보자.</p>\n<p><code>docker run -p 3000:3000 -v /usr/src/app/node_modules -v ${pwd}:/usr/src/app 이미지 아이디</code> 로 작성하면된다.</p>\n<p>어지러워서 천천히 확인해보면, node_modules이 호스트 디렉토리에 없어서 컨테이너에게 매핑을 하지 말라고 명령하는 <code>/usr/src/app/node_modules</code>이 있고, pwd 경로에 있는 디렉토리 파일을 <code>usr/src/app</code> 참조하도록 한다.</p>\n<h3 id=\"도커-컴포즈를-이용하자\"><a class=\"anchor\" href=\"#도커-컴포즈를-이용하자\">도커 컴포즈를 이용하자.</a></h3>\n<p>앞에 명령어 너무 길어서 어떻게 줄일 수 있을까 고민을 했는데 <strong>Docker Compose</strong>를 이용하면 된다는 것을 알게 되었다.</p>\n<p>docker-compose.yml을 작성해보자.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"markdown\" data-theme=\"github-dark github-light\"><code data-language=\"markdown\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">version: \"3\" => 도커 컴포저의 버전</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">services:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">react: => 컨테이너 이름</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">build:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">context: . => 도커 이미지를 구성하기 위한 파일과 폴더들이 있는 위치</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">dockerfile: Dockerfile.dev => 어떤 도커 파일인지</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">ports: - \"3000:3000\" => 컨테이너 포트번호</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">volumes: - /usr/src/app/node_modules - ./:usr/src/app</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">stdin_open: true => 리앱트 앱을 끌때 필요한 코드</span></span></code></pre></figure>\n<p>완성이 되었으면 docker-compose를 <code>docker-compose up</code> 명령어를 이용해 실행해보자</p>\n<p>테스트 코드 배포도 동일하게 하면된다. 명령어만 조금 수정하면! ~~귀찮아서 패스하겠다~~</p>\n<h3 id=\"운영환경의-도커파일-작성과-nginx를-활용해보자\"><a class=\"anchor\" href=\"#운영환경의-도커파일-작성과-nginx를-활용해보자\">운영환경의 도커파일 작성과 Nginx를 활용해보자</a></h3>\n<p>운영환경에서 배포를 하려면 Nginx가 필요하다. 이유는 서버 트래픽도 분산시키고, 데이터 전송에 보안을 강화하고, 리버스 프록시로도 동작할 수 있기 때문이다. 뭐 간단하게 생각하면 정적 파일을 빠르게 서버를 이용해 다룰 때 사용한다.</p>\n<p>Nginx를 이용하기 위해 Dockerfile에는 2가지 옵션을 추가해줘야 한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"markdown\" data-theme=\"github-dark github-light\"><code data-language=\"markdown\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">From nginx</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">COPY --from=builder /usr/src/app/build /usr/share/nginx/html</span></span></code></pre></figure>\n<p>위 내용은 <a href=\"https://hub.docker.com/_/nginx\">Dockerhub 공식 Nginx</a>에 상세하게 기록되어있으니 확인해주세요~</p>\n<p>참고로 운영서버에서 실행시키려면 포트번호를 Nginx 기본 사용 포트인 80번으로 해야한다.</p>\n<h3 id=\"github-action--aws를-이용해-배포해보자\"><a class=\"anchor\" href=\"#github-action--aws를-이용해-배포해보자\">Github Action + AWS를 이용해 배포해보자.</a></h3>\n<p>Github Action을 설정하는 방법은 <a href=\"https://docs.github.com/ko/actions\">여기를</a> 확인해보면 좋다.</p>\n<p>자동화 배포를 하기 위해서는 AWS의 IAM ROLE, Elastic Beanstalk, S3등이 필요한데, 설정 방법은 자료가 많기 때문에, 각각을 왜 사용하고 어떤것인지 찾아보자</p>\n<p>아 맞다.. Github Action을 활용하기 위해서는 아까 저장해둔 액세스키, 비밀 엑세스키, 도커 관련된 설정등도 값을 넣어줘야된다.</p>\n<h2 id=\"iam-role\"><a class=\"anchor\" href=\"#iam-role\">IAM Role</a></h2>\n<p>IAM Roles(Identity and Access Management Roles)은 AWS 리소스에 접근 권한을 부여하는 데 사용된다.</p>\n<p>실습을 하면서 아래 조건들에 대한 설정을 해주었다. 너무 어려워보여서 일단 체크만 하고 넘어갔는데, <strong>IAM Role</strong>에서 왜 선택해주었는지 찾아보자</p>\n<h3 id=\"awselasticbeanstalkmulticontainerdocker\"><a class=\"anchor\" href=\"#awselasticbeanstalkmulticontainerdocker\">AWSElasticBeanstalkMulticontainerDocker</a></h3>\n<p>이 역할은 Elastic Beanstalk에서 다중 컨테이너 Docker 환경을 지원하는 데 사용된다. 또한 아래와 같은 역할을 포함하고 있다.</p>\n<ul>\n<li>Elastic Beanstalk 환경의 컨테이너 설정 및 관리 및 Docker 컨테이너를 시작하고 중지하는 역할</li>\n<li>Elastic Load Balancing (ELB), Amazon EC2 인스턴스, Amazon S3 버킷 등의 AWS 리소스에 접근하여 컨테이너를 배포하고 관리하는 작업을 수행</li>\n</ul>\n<p>이 역할은 Docker Compose를 사용하여 여러 Docker 컨테이너를 조정하는 Elastic Beanstalk 환경에서 필수적이기때문에, 꼭 설정해줘야한다.</p>\n<h3 id=\"awselasticbeanstalkwebtier\"><a class=\"anchor\" href=\"#awselasticbeanstalkwebtier\">AWSElasticBeanstalkWebTier</a></h3>\n<p>이 역할은 Elastic Beanstalk의 웹 애플리케이션 환경에서 사용된다. 주로 웹 서버 역할을 수행하는 애플리케이션에 필요한 권한을 제공하며 아래와 같은 작업을 수행할 수 있는 권한을 포함하고 있다.</p>\n<ul>\n<li>애플리케이션 로그를 Amazon S3 버킷에 업로드</li>\n<li>Elastic Beanstalk 환경의 상태를 모니터링하고 CloudWatch 로그를 관리</li>\n<li>Amazon EC2 인스턴스 및 기타 AWS 리소스와의 상호작용</li>\n</ul>\n<p>웹 티어는 사용자가 직접 상호작용하는 프론트엔드 웹 서버 애플리케이션에 적합한 역할이다.</p>\n<h3 id=\"awselasticbeanstalkworkertier\"><a class=\"anchor\" href=\"#awselasticbeanstalkworkertier\">AWSElasticBeanstalkWorkerTier</a></h3>\n<p>이 역할은 Elastic Beanstalk의 워커 애플리케이션 환경에서 사용된다. 주로 백그라운드 작업을 처리하는 애플리케이션에 필요한 권한을 제공하며 아래와 같은 작업을 수행할 수 있는 권한을 포함하고 있다.</p>\n<ul>\n<li>SQS (Simple Queue Service) 메시지를 처리</li>\n<li>애플리케이션 로그를 Amazon S3 버킷에 업로드</li>\n<li>백그라운드 작업 및 비동기 작업을 수행하기 위해 Amazon EC2 인스턴스와 상호작용.</li>\n</ul>\n<p>워커 티어는 주로 백엔드에서 처리해야 하는 긴 작업이나 비동기 작업을 수행하는 데 적합한 역할이다. 주로 이메일 알림 전송, 이미지 처리, 데이터베이스 백업과 같은 작업에 사용된다.</p>\n<h2 id=\"elastic-beanstalk\"><a class=\"anchor\" href=\"#elastic-beanstalk\">Elastic Beanstalk</a></h2>\n<p><strong>Elastic Beanstalk</strong> 이름이 너무 낯설다. 간단하게 설명해보면, 개발자가 애플리케이션을 쉽게 배포하고 확장할 수 있도록 해주는 <strong>Paas(Platform as a Service)</strong> 서비스이다.</p>\n<p>개발자가 애플리케이션 코드를 업로드하면, Elastic Beanstalk은 배포, 프로비저닝, 로드 벨런싱, 확장, 모니터링 등을 자동으로 처리해준다.</p>\n<blockquote>\n<p><a href=\"https://hong-yp-ml-records.tistory.com/125\">프로비저닝(provisioning)</a></p>\n<blockquote>\n<p>IT 인프라를 생성하고 설정하는 프로세스다. 서버, 애플리케이션, 네트워크, 스토리지 등을 배포하는 과정의 가장 초기 단계를 의미한다.\n</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p><a href=\"https://aws.amazon.com/ko/what-is/load-balancing/\">로드 벨런싱(Load Balancing)</a></p>\n<blockquote>\n<p>로드 밸런싱은 애플리케이션을 지원하는 리소스 풀 전체에 네트워크 트래픽을 균등하게 배포하는 방법이다.</p>\n</blockquote>\n<blockquote>\n<p>많은 양의 트래픽을 처리하기 위해 대부분의 애플리케이션에는 데이터가 중복되는 리소스 서버가 많이 있는데, 로드 밸런서는 사용자와 서버 그룹 사이에 위치하며 보이지 않는 촉진자 역할을 하여 모든 리소스 서버가 동일하게 사용되도록 한다.</p>\n</blockquote>\n</blockquote>\n<h3 id=\"오잉-ec2랑-뭐가-다름\"><a class=\"anchor\" href=\"#오잉-ec2랑-뭐가-다름\">오잉? EC2랑 뭐가 다름?</a></h3>\n<p>우리가 자주 사용하는 EC2도 <strong>Elastic Compute Cloud</strong>로 같은 Elastic이다. ~~ㅋㅋㅋㅋ~~</p>\n<p>EC2는 가상의 서버를 제공하는 <strong>Iaas(Infrastructure as a Service)</strong> 서비스다. 가상 머신 생성, 시작, 정지, 삭제와 같은 모든 작업을 직정 수행할 수 있다.</p>\n<p>두개의 가장 큰 차이는 Elastic Beanstalk는 개발자가 애플리케이션 코드를 업로드하면 AWS가 배포 및 관리를 자동화하는 PaaS 서비스서비스이며, EC2는 가상 서버를 직접 관리해야 하는 IaaS 서비스이다.</p>\n<h3 id=\"ec2-대신-elastic-beanstalk을-사용했을까\"><a class=\"anchor\" href=\"#ec2-대신-elastic-beanstalk을-사용했을까\">EC2 대신 Elastic Beanstalk을 사용했을까?</a></h3>\n<p>EC2를 사용하면 작업을 수동으로 설정하고 관리해야한다. 하지만 Elastic Beanstalk은 애플리케이션 배포와 관리를 자동으로 처리해준다. 이를 통해 사용자는 인프라 구성, 서버 설정, 로드 밸런싱, 스케일링 등을 직접 관리할 필요가 없어지는 장점이 생긴다.</p>\n<p>또한 통합 모니터링 및 로깅을 쉽게 파악할 수 있고, 다양한 언어 환경에서 쉽게 애플리케이션을 배포할 수 있다.</p>\n<p><strong>자동화</strong> 를 위해 사용했다는 것을 복습해보니 알게되었다.</p>\n<h3 id=\"s3-설정-변경-및-iam-유저-생성\"><a class=\"anchor\" href=\"#s3-설정-변경-및-iam-유저-생성\">S3 설정 변경 및 IAM 유저 생성</a></h3>\n<p>S3는 AWS의 객체 스토리지 서비스로, 데이터를 안전하고 확장 가능하게 저장하게 도와준다. 대용량의 데이터를 저장할 수 있어서 데이터 관리에 용이하다.</p>\n<p>S3에 들어가서 객체 소유권을 편집해준다. ACL 활성화해주면 된다.</p>\n<p>그 이후 IAM 유저를 생성해주고 액세스 키와 비밀 액세스 키를 저장해줘야한다. 나중에 깃헙에 넣어야되기 때문!</p>\n<h2 id=\"소감\"><a class=\"anchor\" href=\"#소감\">소감</a></h2>\n<p><img src=\"/content/240618/3.webp\" alt=\"3.webp\" loading=\"lazy\" decoding=\"async\"></p>\n<p>이러면 배포는 된다. 하지만.. 너무 넘어야 할 산이 많다. 아직 도커 컨테이너와 이미지를 다루기도 어렵고, yaml 파일을 어떻게 작성하는지도.. 코드를 좀 더 살펴보아야겠다!</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240618/index.md",
    "_raw": {
      "sourceFilePath": "240618/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240618",
      "contentType": "markdown",
      "flattenedPath": "240618"
    },
    "type": "Post",
    "slug": "/240618",
    "categoryArray": [
      "프론트엔드",
      "DevOps",
      "대외활동"
    ],
    "readingTime": "16 min read",
    "excerpt": "우선 해당 공부는 docker-test 레포를 이용했습니다. 문서를 열심히 읽어보아도 한 번의 실습이 더 값지다고 생각한다! 그렇기에 간단히 중요한 개념을 복습하고, 자주 사용하는 CRA부터 Elastic Beanstalk + Github Action + S3를 이용해 코드를 구현해보자 중요한 개념을 복습해보자. Dockerfile: 기본 이미지, 종속성 ..."
  },
  {
    "title": "비전공 프론트엔드 2년차 개발자 멘티 일지: 6주차 - 보기좋은 코드 만들기",
    "date": "2024-06-12T00:00:00.000Z",
    "categories": "멘토링 자바스크립트",
    "draft": true,
    "body": {
      "raw": "\n<br>\n\n## 한 주 소감 및 복습 내용\n\n힘들게 1차 과제를 마무리했다. 재사용성과 가독성에 대한 고민을 더 해보라는 피드백으로 코드를 열심히 만져보았다.\n\n격렬하게 다루었던 커밋 기록은 [여기를 확인해보시면 됩니다.](https://github.com/jiji-hoon96/mentoring/pull/2)\n\n평소라면 생각해보지 않은, 상태관리 변경 시점과 브라우저 동작방식 등에 대해서 자바스크립트로 코드를 작성하며 구현해보았다. 구현하기 너무 어려워서 구글링을 해본 결과 좋은 자료들도 발견하게 되어 공유 드리니 확인해보시면 좋겠다!\n\n- [황준일님의 상태관리 시스템 만들기](https://junilhwang.github.io/TIL/Javascript/Design/Vanilla-JS-Store/#_1-%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8B%E1%85%A1%E1%86%BC-%E1%84%8C%E1%85%B5%E1%86%B8%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8-%E1%84%89%E1%85%A1%E1%86%BC%E1%84%90%E1%85%A2%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%B5)\n- [DaleSeo의 History API](https://www.daleseo.com/js-history-api/)\n\n<br>\n\n멘토링을 진행하면서 대답하지 못했거나, 더 공부가 필요한 것들에 관해 공부를 시작해보자! ~~도대체 자바스크립트 킹짱맨은 언제 될 수 있는 건데..ㅠㅠ~~\n\n![1.png](1.png)\n\n<br>\n\n### 버블링과 캡처링\n\n![3.png](3.png)\n\nHTML 문서의 각 엘리먼트들은 **계층적 구조**로 이루어져있다. 이러한 구조 때문에 HTML 요소에 이벤트가 발생할 경우 **연쇄적 이벤트 흐름**이 일어날 수 있다.\n\n이렇게 HTML 요소에 이벤트가 발생할 경우, 이벤트가 연쇄적으로 일어나는 현상을 **이벤트 전파**라 부르며, 전파 방향에 따라 **버블링**과 **캡처링**으로 구분한다.\n\n- 버블링(Bubbling) : 자식 요소에서 발생한 이벤트가 바깥 부모 요소로 전파 (기본값)\n- 캡쳐링(Capturing) : 자식 요소에서 발생한 이벤트가 부모 요소부터 시작하여 안쪽 자식 요소까지 도달\n\n추가적으로 이벤트 전파 흐름은 캡처링, 버블링 단계가 동시에 발생한다. 추가로 실제 타깃 요소에게 전달되어 실행되는 **타깃 단계**까지 함께 이벤트가 발생한다.\n\n이벤트 전파와 관련된 이벤트 흐름제어에 대한 내용은 알아볼 것이 많다.\n\n하지만 나는 찾아보면서 이해했기때문에.. 자료가 필요하신 분들은 **[Inpa Dev의 한눈에 이해하는 이벤트 흐름 제어 (버블링 & 캡처링)](https://inpa.tistory.com/entry/JS-%F0%9F%93%9A-%EB%B2%84%EB%B8%94%EB%A7%81-%EC%BA%A1%EC%B3%90%EB%A7%81)** 을 확인해보면 좋을 듯 하다.\n\n<br>\n\n### JSX가 어떤 방식으로 동작할까?\n\n![4.png](4.png)\n\n기본적으로 JSX는 브라우저에서 직접 실행되지 않기 때문에, JavaScript로 변환된다. 이 작업은 **Babel과 같은 트랜스파일러**가 수행하는데, Babel은 JSX구문을 `React.createElement` 호출로 변환한다.\n\n그 이후 변환된 React 엘리먼트를 사용해 Virtual Dom을 구성하고, 구성된 Virtual Dom은 UI를 업데이트하는데 사용이 된다.\n\nVirtual Dom은 실제 DOM과의 차이를 계산하고, 필요한 부분을 업데이트하게 된다. 이 과정에서 저번에 공부한 [Diffing Algorism](https://hooninedev.com/240604/#diffing-algorithm)이 사용된다.\n\n자세한 내용은 React 공식 홈페이지에 잘 기록되어 있으니 [참고자료](https://ko.legacy.reactjs.org/docs/introducing-jsx.html)를 확인하시길 바란다.\n\n<br>\n\n## 6주차 회고\n\n스터디 과제들이 많이 딥해지기전에 좋은 코드란? 재사용성이 좋은 코드란? 직관적인 코드란? 이라는 생각을 중점으로 작업을 진행했다. **결과적으로 좋은 피드백을 받아서 기분이 좋다!**\n\n![2.jpeg](2.jpeg)\n\n그 중 가장 고민을 한 것은 아래 코드를 하나로 합쳐야 하느냐.. 분리해서 명확하게 하느냐였는데! 이에 대해 좋은 리뷰를 받아 공유한다!\n\n```javascript\nexport const incrementTaskCount = (taskType) => {\n  if (taskCounts.hasOwnProperty(taskType)) {\n    taskCounts[taskType]++;\n  }\n};\n\nexport const decrementTaskCount = (taskType) => {\n  if (taskCounts.hasOwnProperty(taskType)) {\n    taskCounts[taskType]--;\n  }\n};\n```\n\n첫 번째 해결 방법\n\n```javascript\nimport * as actionType from \"./taskManger\";\n\nactionType.incrementTaskCount(taskType);\nactionType.decrementTaskCount(taskType);\n```\n\n두 번째 해결 방법\n\n```javascript\nconst taskManger = () => {\n const incrementTaskCount = (taskType) => {\n  if (taskCounts.hasOwnProperty(taskType)) {\n    taskCounts[taskType]++;\n  }\n};\n\nconst decrementTaskCount = (taskType) => {\n  if (taskCounts.hasOwnProperty(taskType)) {\n    taskCounts[taskType]--;\n  }\n};\n return {\n   incrementTaskCount,\n   decrementTaskCount\n  }\n}\n\n\nconst controlTask = taskManger(); => new TaskManger();\n\ncontrolTask.incrementTaskCount();\n\n```\n\n어떤 방법을 사용해도 문제가 없지만, 연산에 대한 과정이 다양해질 수 있고, 복잡해질 수 있다고 생각하기에 코드의 특성을 잘 파악해서 구조화 하는 것이 중요하다는 생각이 들었다!\n\n<br>\n\n### 이번 주 좋은 것과 나쁜 것\n\n- 약속이 많이 없어서 공부할 여유가 생겼습니다.\n\n<br>\n\n### 이번 주 진행했던 학습/개발 내용은??\n\n- 이벤트 루프 코드 개선하려 리팩토링했습니다.\n- 도커 실습으로 공부하고있습니다.\n- navigator 만들면서, 메서드체이닝, location 등을 고민하며 작업했습니다.\n\n<br>\n\n### 가장 고민했던 부분은 무엇이었나요?\n\n- 이력서를 수정해야하는데, 시간을 계속 못내고있어서.. 진행할 예정입니다.\n\n<br>\n\n### 아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?\n\n- 테스트코드 작성이 너무 어렵습니다. 공식문서 보면서 메서드 사용하는건 어렵지 않은데, 큰 프로젝트의 기본설정이 어렵습니다\n\n<br>\n\n### 다음 주는 어떻게 보낼 예정인가요?\n\n- 토스플랫폼 공채 지원할 것입니다.\n- 레몬베이스 7월초에 과제테스트 진행하기로했습니다.\n- 인프런 커피챗 예정입니다.\n\n<br>\n\n## 출처 및 도움되는 링크들\n\n```toc\n\n```\n",
      "html": "<h2 id=\"한-주-소감-및-복습-내용\"><a class=\"anchor\" href=\"#한-주-소감-및-복습-내용\">한 주 소감 및 복습 내용</a></h2>\n<p>힘들게 1차 과제를 마무리했다. 재사용성과 가독성에 대한 고민을 더 해보라는 피드백으로 코드를 열심히 만져보았다.</p>\n<p>격렬하게 다루었던 커밋 기록은 <a href=\"https://github.com/jiji-hoon96/mentoring/pull/2\">여기를 확인해보시면 됩니다.</a></p>\n<p>평소라면 생각해보지 않은, 상태관리 변경 시점과 브라우저 동작방식 등에 대해서 자바스크립트로 코드를 작성하며 구현해보았다. 구현하기 너무 어려워서 구글링을 해본 결과 좋은 자료들도 발견하게 되어 공유 드리니 확인해보시면 좋겠다!</p>\n<ul>\n<li><a href=\"https://junilhwang.github.io/TIL/Javascript/Design/Vanilla-JS-Store/#_1-%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8B%E1%85%A1%E1%86%BC-%E1%84%8C%E1%85%B5%E1%86%B8%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8-%E1%84%89%E1%85%A1%E1%86%BC%E1%84%90%E1%85%A2%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%B5\">황준일님의 상태관리 시스템 만들기</a></li>\n<li><a href=\"https://www.daleseo.com/js-history-api/\">DaleSeo의 History API</a></li>\n</ul>\n<p>멘토링을 진행하면서 대답하지 못했거나, 더 공부가 필요한 것들에 관해 공부를 시작해보자! ~~도대체 자바스크립트 킹짱맨은 언제 될 수 있는 건데..ㅠㅠ~~</p>\n<p><img src=\"/content/240612/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"버블링과-캡처링\"><a class=\"anchor\" href=\"#버블링과-캡처링\">버블링과 캡처링</a></h3>\n<p><img src=\"/content/240612/3.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>HTML 문서의 각 엘리먼트들은 <strong>계층적 구조</strong>로 이루어져있다. 이러한 구조 때문에 HTML 요소에 이벤트가 발생할 경우 <strong>연쇄적 이벤트 흐름</strong>이 일어날 수 있다.</p>\n<p>이렇게 HTML 요소에 이벤트가 발생할 경우, 이벤트가 연쇄적으로 일어나는 현상을 <strong>이벤트 전파</strong>라 부르며, 전파 방향에 따라 <strong>버블링</strong>과 <strong>캡처링</strong>으로 구분한다.</p>\n<ul>\n<li>버블링(Bubbling) : 자식 요소에서 발생한 이벤트가 바깥 부모 요소로 전파 (기본값)</li>\n<li>캡쳐링(Capturing) : 자식 요소에서 발생한 이벤트가 부모 요소부터 시작하여 안쪽 자식 요소까지 도달</li>\n</ul>\n<p>추가적으로 이벤트 전파 흐름은 캡처링, 버블링 단계가 동시에 발생한다. 추가로 실제 타깃 요소에게 전달되어 실행되는 <strong>타깃 단계</strong>까지 함께 이벤트가 발생한다.</p>\n<p>이벤트 전파와 관련된 이벤트 흐름제어에 대한 내용은 알아볼 것이 많다.</p>\n<p>하지만 나는 찾아보면서 이해했기때문에.. 자료가 필요하신 분들은 <strong><a href=\"https://inpa.tistory.com/entry/JS-%F0%9F%93%9A-%EB%B2%84%EB%B8%94%EB%A7%81-%EC%BA%A1%EC%B3%90%EB%A7%81\">Inpa Dev의 한눈에 이해하는 이벤트 흐름 제어 (버블링 &#x26; 캡처링)</a></strong> 을 확인해보면 좋을 듯 하다.</p>\n<h3 id=\"jsx가-어떤-방식으로-동작할까\"><a class=\"anchor\" href=\"#jsx가-어떤-방식으로-동작할까\">JSX가 어떤 방식으로 동작할까?</a></h3>\n<p><img src=\"/content/240612/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>기본적으로 JSX는 브라우저에서 직접 실행되지 않기 때문에, JavaScript로 변환된다. 이 작업은 <strong>Babel과 같은 트랜스파일러</strong>가 수행하는데, Babel은 JSX구문을 <code>React.createElement</code> 호출로 변환한다.</p>\n<p>그 이후 변환된 React 엘리먼트를 사용해 Virtual Dom을 구성하고, 구성된 Virtual Dom은 UI를 업데이트하는데 사용이 된다.</p>\n<p>Virtual Dom은 실제 DOM과의 차이를 계산하고, 필요한 부분을 업데이트하게 된다. 이 과정에서 저번에 공부한 <a href=\"https://hooninedev.com/240604/#diffing-algorithm\">Diffing Algorism</a>이 사용된다.</p>\n<p>자세한 내용은 React 공식 홈페이지에 잘 기록되어 있으니 <a href=\"https://ko.legacy.reactjs.org/docs/introducing-jsx.html\">참고자료</a>를 확인하시길 바란다.</p>\n<h2 id=\"6주차-회고\"><a class=\"anchor\" href=\"#6주차-회고\">6주차 회고</a></h2>\n<p>스터디 과제들이 많이 딥해지기전에 좋은 코드란? 재사용성이 좋은 코드란? 직관적인 코드란? 이라는 생각을 중점으로 작업을 진행했다. <strong>결과적으로 좋은 피드백을 받아서 기분이 좋다!</strong></p>\n<p><img src=\"/content/240612/2.jpeg\" alt=\"2.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>그 중 가장 고민을 한 것은 아래 코드를 하나로 합쳐야 하느냐.. 분리해서 명확하게 하느냐였는데! 이에 대해 좋은 리뷰를 받아 공유한다!</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> incrementTaskCount</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">taskType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (taskCounts.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">hasOwnProperty</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(taskType)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    taskCounts[taskType]</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">++</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> decrementTaskCount</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">taskType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (taskCounts.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">hasOwnProperty</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(taskType)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    taskCounts[taskType]</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">--</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span></code></pre></figure>\n<p>첫 번째 해결 방법</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> *</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> as</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> actionType </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"./taskManger\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">actionType.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">incrementTaskCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(taskType);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">actionType.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">decrementTaskCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(taskType);</span></span></code></pre></figure>\n<p>두 번째 해결 방법</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> taskManger</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> incrementTaskCount</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">taskType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (taskCounts.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">hasOwnProperty</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(taskType)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    taskCounts[taskType]</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">++</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> decrementTaskCount</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">taskType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (taskCounts.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">hasOwnProperty</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(taskType)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    taskCounts[taskType]</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">--</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">   incrementTaskCount,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">   decrementTaskCount</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> controlTask</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> taskManger</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TaskManger</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">controlTask.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">incrementTaskCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"> </span></code></pre></figure>\n<p>어떤 방법을 사용해도 문제가 없지만, 연산에 대한 과정이 다양해질 수 있고, 복잡해질 수 있다고 생각하기에 코드의 특성을 잘 파악해서 구조화 하는 것이 중요하다는 생각이 들었다!</p>\n<h3 id=\"이번-주-좋은-것과-나쁜-것\"><a class=\"anchor\" href=\"#이번-주-좋은-것과-나쁜-것\">이번 주 좋은 것과 나쁜 것</a></h3>\n<ul>\n<li>약속이 많이 없어서 공부할 여유가 생겼습니다.</li>\n</ul>\n<h3 id=\"이번-주-진행했던-학습개발-내용은\"><a class=\"anchor\" href=\"#이번-주-진행했던-학습개발-내용은\">이번 주 진행했던 학습/개발 내용은??</a></h3>\n<ul>\n<li>이벤트 루프 코드 개선하려 리팩토링했습니다.</li>\n<li>도커 실습으로 공부하고있습니다.</li>\n<li>navigator 만들면서, 메서드체이닝, location 등을 고민하며 작업했습니다.</li>\n</ul>\n<h3 id=\"가장-고민했던-부분은-무엇이었나요\"><a class=\"anchor\" href=\"#가장-고민했던-부분은-무엇이었나요\">가장 고민했던 부분은 무엇이었나요?</a></h3>\n<ul>\n<li>이력서를 수정해야하는데, 시간을 계속 못내고있어서.. 진행할 예정입니다.</li>\n</ul>\n<h3 id=\"아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\"><a class=\"anchor\" href=\"#아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\">아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?</a></h3>\n<ul>\n<li>테스트코드 작성이 너무 어렵습니다. 공식문서 보면서 메서드 사용하는건 어렵지 않은데, 큰 프로젝트의 기본설정이 어렵습니다</li>\n</ul>\n<h3 id=\"다음-주는-어떻게-보낼-예정인가요\"><a class=\"anchor\" href=\"#다음-주는-어떻게-보낼-예정인가요\">다음 주는 어떻게 보낼 예정인가요?</a></h3>\n<ul>\n<li>토스플랫폼 공채 지원할 것입니다.</li>\n<li>레몬베이스 7월초에 과제테스트 진행하기로했습니다.</li>\n<li>인프런 커피챗 예정입니다.</li>\n</ul>\n<h2 id=\"출처-및-도움되는-링크들\"><a class=\"anchor\" href=\"#출처-및-도움되는-링크들\">출처 및 도움되는 링크들</a></h2>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240612/index.md",
    "_raw": {
      "sourceFilePath": "240612/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240612",
      "contentType": "markdown",
      "flattenedPath": "240612"
    },
    "type": "Post",
    "slug": "/240612",
    "categoryArray": [
      "멘토링",
      "자바스크립트"
    ],
    "readingTime": "8 min read",
    "excerpt": "한 주 소감 및 복습 내용 힘들게 1차 과제를 마무리했다. 재사용성과 가독성에 대한 고민을 더 해보라는 피드백으로 코드를 열심히 만져보았다. 격렬하게 다루었던 커밋 기록은 여기를 확인해보시면 됩니다. 평소라면 생각해보지 않은, 상태관리 변경 시점과 브라우저 동작방식 등에 대해서 자바스크립트로 코드를 작성하며 구현해보았다. 구현하기 너무 어려워서 구글링을 해..."
  },
  {
    "title": "비전공 프론트엔드 2년차 개발자 멘티 일지: 8주차 - 진짜!! 너무 바쁘다~!",
    "date": "2024-06-25T00:00:00.000Z",
    "categories": "멘토링 자바스크립트",
    "draft": true,
    "body": {
      "raw": "\n<br>\n\n![1.jpeg](1.jpeg)\n\n동아리, 회사, 스터디 등등 많이 바쁘다.. 멘토링 끝나고 블로그에 회고 작성하려는 큰 포부를 가졌지만.. 요즈음 과제가 어려워서? 시간이 빠듯해서 잘 못했다ㅠㅠ\n\n그렇기에 오랜만에 회고를 작성해보고 복습해보자!\n\n<br>\n\n### 타입스크립트는 어떻게 컴파일할까?\n\n우선 타입스크립트는 TSC 컴파일러를 통해 바로 컴파일되는 것이 아닌 자바스크립트 코드로 변환된다. 이 과정에서 고수준 언어인 타입스크립트가 저수준 언어인 자바스크립트로 변환되어 트랜스파일이라고 부르기도 한다. 상세한 과정은 아래와 같다.\n\n- 타입스크립트 소스코드를 타입스크립트 AST로 만들고, 타입 검사기가 AST를 확인하여 타입을 확인한다. (TSC)\n- 타입스크립트 AST를 자바스크립트 소스로 변환한다. (TSC)\n- 자바스크립트 소스코드를 자바스크립트 AST로 만든다. (런타임)\n- AST가 바이트 코드로 변환되고 런타임에 바이트 코드가 평가되어 프로그램이 실행된다. (런타임)\n\n<br>\n\n#### 타입스크립트 컴파일러의 구성 요소와 동작 방식\n\nScanner => Parser => Binder => Checker => Emitter 단계를 거쳐 타입 검사와 JS 소스 변환을 진행한다.\n\n**스캐너**는 소스코드를 작은 단위로 나누어 의미 있는 토큰으로 변환하는 작업을 수행한다.\n\n그리고 **스캐너**가 소스 파일을 토큰으로 나눠주면, **파서**는 그 토큰을 활용해 AST를 생성한다.\n\n**체커**(checker) 단계에서 타입 검사를 할 수 있도록 **바인더**(Binder)에서 기반을 마련하고, **체커** 단계에서 **파서**가 생성한 AST와 **바인더**가 생성한 심볼을 활용하여 타입 검사를 수행한다.\n\n그리고 **이미터** 단계에서 TS 소스를 자바스크립트(js) 파일과 타입 선언 파일(d.ts)로 생성한다.\n\n<br>\n\n### 타입스크립트의 타입 추론 과정과 원리\n\n타입스크립트에서 타입 추론은 명시적인 타입 선언 없이도 변수나 표현식의 타입을 자동으로 결정하는 기능이다. 그럼 타입 추론이 어떻게 작동하는지 알아보자.\n\n**1. 초기화 기반 추론**: 변수가 초기화될 때, 초기화 값에 따라 변수의 타입이 결정된다. ex) `let x = 3;`에서 `x는 number`로 추론된다.\n\n**2. 최적 공통 타입 (Best Common Type)**: 여러 표현식에서 타입을 추론할 때 각 표현식의 타입을 고려하여 가장 적합한 공통 타입을 선택한다. ex) `let x = [0, 1, null];`에서 x의 타입은 `(number | null)[]`로 추론된다. 배열이나 객체에서 공통의 상위 타입이 명확하지 않은 경우에는 유니언 타입으로 추론될 수 있다.\n\n**3. 문맥상 타이핑 (Contextual Typing)**: 표현식의 위치에 따라 그 타입이 추론되는 경우다. ex) ₩window.onmousedown₩ 함수에서는 마우스 이벤트의 타입을 `MouseEvent`로 추론하고, 이를 통해 `mouseEvent` 객체 내 속성들의 접근을 제어한다.\n\n**4. 함수와 메소드의 반환 타입 추론**: 함수 내에서 반환되는 값의 타입을 기반으로 함수의 반환 타입을 추론하는 방법이다. ex) `function createZoo(): Animal[] { return [new Rhino(), new Elephant(), new Snake()]; }`에서 반환 타입은`Animal[]`로 추론된다.\n\n<br>\n\n### 타입 추론 최대화를 위한 전략\n\nprops를 전달하거나, 복잡한 로직 등등에서 타입 추론을 사용하다 보면 예상과 다르게 추론이 되거나, 안되는 경우들이 있다. 이런 경우를 방지하기 위해서 어떻게 코드를 작성하면 타입 추론을 효율적으로 사용할 수 있을지도 알아보자.\n\n#### 명시적 타입 정의\n\n인터페이스나 타입을 사용하여 props나 함수의 반환 타입 등을 명시적으로 정의하는 방법으로 타입스크립트 컴파일러에게 알려주는 것이다.\n\n```typescript\ninterface UserProps {\n  name: string;\n  age: number;\n}\n\nfunction greet(user: UserProps) {\n  return `Hello, ${user.name}!`;\n}\n```\n\n#### 제네릭 사용\n\n특히 컴포넌트나 함수가 다양한 타입을 처리해야 할 때, 제네릭을 사용하면 각 상황에 맞는 타입 추론을 할 수 있다. 또한 제네릭을 사용하면 사용 시점에 타입을 결정하기 때문에 유연성이 높고 타입 안전성을 보장할 수 있다.\n\n```typescript\nfunction merge<T, U>(a: T, b: U): T & U {\n  return { ...a, ...b };\n}\n\nconst result = merge({ name: \"John\" }, { age: 30 });\n// result는 { name: string; age: number; } 타입으로 추론\n```\n\n#### 기본값과 구조 분해 사용\n\n함수의 매개변수나 컴포넌트의 props에 기본값을 제공하면, 타입스크립트는 이 정보를 사용하여 타입을 추론할 수 있다. 구조 분해 할당을 사용할 때도 마찬가지로 타입 정보를 제공하면 도움이 된다.\n\n```typescript\ninterface Props {\n  name?: string;\n  age?: number;\n}\n\nfunction setup({ name = \"Unknown\", age = 0 }: Props) {\n  // 함수 내에서 name과 age의 타입이 string과 number로 추론\n}\n```\n\n#### 조건부 타입 사용\n\n복잡한 로직에 따라 타입이 결정되어야 하는 경우, 조건부 타입을 사용하여 타입 추론을 개선할 수 있다.\n\n```typescript\ntype LoadingState<T> = T extends undefined ? \"loading\" : T;\n\nfunction fetchData<T>(data: T): LoadingState<T> {\n  return data !== undefined ? data : \"loading\";\n}\n```\n\n#### 타입 단언 사용\n\n타입스크립트의 타입 추론이 기대한 대로 작동하지 않을 수 있는 경우 타입 단언(type assertion)을 사용하여 컴파일러에게 명확한 타입 정보를 제공할 수 있다.\n\n```typescript\nconst myCanvas = document.getElementById(\"mainCanvas\") as HTMLCanvasElement;\n```\n\n<br>\n\n### 타입스크립트 object타입과 덕타이핑\n\n타입스크립트에서 `object` 타입과 덕 타이핑(duck typing)은 객체의 구조에 기반하여 타입 체크를 수행하는 방식으로 사용된다. 어떤 연관성을 가지는지 찾아보자!\n\n#### Object 타입\n\n타입스크립트에서 `object`는 원시 타입(primitive type)이 아닌 값(함수, 배열, 객체 등)을 나타내는 타입이다. `object` 타입은 `Object` 자바스크립트 생성자 함수가 생성하는 인스턴스와 혼동하면 안된다.\n\n```typescript\nfunction logObject(obj: object) {\n  console.log(obj);\n}\n\nlogObject({ name: \"John\" }); // 올바른 사용\nlogObject(\"Hello, world!\"); // 에러: \"Hello, world!\"는 원시 타입이기 때문에 object 타입과 호환되지 않음\n```\n\n#### 덕 타이핑 (Duck Typing)\n\n덕 타이핑은 \"만약 어떤 새가 오리처럼 걷고, 오리처럼 소리를 낸다면, 그 새를 오리라고 부를 수 있다\"는 개념에서 유래했다.\n\n타입스크립트는 이 개념을 타입 시스템에 적용하여, 객체가 특정 인터페이스에 선언된 모든 속성과 메서드를 갖추고 있으면, 그 객체를 해당 인터페이스의 인스턴스로 간주한다. 이를 통해 타입의 명시적인 선언 없이도 타입 호환성을 판단할 수 있다.\n\n```typescript\ninterface Duck {\n  walk: () => void;\n  quack: () => void;\n}\n\nfunction makeItQuack(duck: Duck) {\n  duck.quack();\n}\n\nconst myBird = {\n  walk: () => console.log(\"Walking like a duck\"),\n  quack: () => console.log(\"Quacking like a duck\"),\n  swim: () => console.log(\"Swimming like a duck\"),\n};\n\nmakeItQuack(myBird); // 정상 작동: myBird가 Duck 인터페이스를 충족\n```\n\n위 예시에서 `myBird` 객체는 `Duck` 인터페이스에 명시적으로 구현되지 않았지만, `Duck` 인터페이스가 요구하는 `walk`와 `quack` 메서드를 가지고 있기 때문에 `Duck` 타입의 매개변수로 전달될 수 있다.\n\n#### Object 타입과 덕 타이핑의 연관성\n\n타입스크립트에서 `object` 타입을 사용할 때, 객체의 구체적인 구조를 지정하지 않고, 어떤 형태의 객체라도 받을 수 있다. 하지만 덕 타이핑을 사용하면, 객체가 특정 구조를 충족하는지를 기반으로 타입 호환성을 검사할 수 있다. 따라서 `object` 타입보다 더 세밀한 구조적 타이핑을 제공하려면 인터페이스나 타입 별칭을 사용하여 객체의 구조를 명확하게 정의하는 것이 좋다.\n\n<br>\n\n### 6월 넷째 주 회고\n\n선택과 집중을 명확히 하자!\n\n<br>\n\n#### 이번 주 좋은 것과 나쁜 것\n\n- 일이 많았습니다\n  - 회사일\n  - 토스 플랫폼 과제\n  - 동아리 큰 행사 준비\n  - 토스 자기소개서 작성\n  - 이력서 수정\n- 좋은 자료들을 찾아 react의 DOM 구조에 대해 공부할 수 있었습니다\n\n#### 이번 주 진행했던 학습/개발 내용은??\n\n- 과제를 단계별 계획을 세워 진행했습니다\n- 사내에서 사용하는 utility 함수, constant, 자체 hooks 등을 verdaccio와 github에 자체적으로 버전관리 진행중입니다.\n- 토스 행사를 위해 자기소개서 작성했습니다\n- 이력서 수정했습니다.\n- devops와 infra에서 필요한 개념들을 공부했습니다\n\n#### 가장 고민했던 부분은 무엇이었나요?\n\n- 과제를 어떤 단계로 공부해야 할지\n- 공용함수 버전관리\n\n#### 아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?\n\n- 이번주 바쁠거라 생각해서 잠을 줄이고 일정을 소화했는데, 컨디션이 좋지 못합니다.\n\n#### 다음 주는 어떻게 보낼 예정인가요?\n\n- 6/27 커피챗하러 선릉역으로 떠납니다.\n- 이력서 최종 수정\n- 멘토링 과제\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/240625/1.jpeg\" alt=\"1.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>동아리, 회사, 스터디 등등 많이 바쁘다.. 멘토링 끝나고 블로그에 회고 작성하려는 큰 포부를 가졌지만.. 요즈음 과제가 어려워서? 시간이 빠듯해서 잘 못했다ㅠㅠ</p>\n<p>그렇기에 오랜만에 회고를 작성해보고 복습해보자!</p>\n<h3 id=\"타입스크립트는-어떻게-컴파일할까\"><a class=\"anchor\" href=\"#타입스크립트는-어떻게-컴파일할까\">타입스크립트는 어떻게 컴파일할까?</a></h3>\n<p>우선 타입스크립트는 TSC 컴파일러를 통해 바로 컴파일되는 것이 아닌 자바스크립트 코드로 변환된다. 이 과정에서 고수준 언어인 타입스크립트가 저수준 언어인 자바스크립트로 변환되어 트랜스파일이라고 부르기도 한다. 상세한 과정은 아래와 같다.</p>\n<ul>\n<li>타입스크립트 소스코드를 타입스크립트 AST로 만들고, 타입 검사기가 AST를 확인하여 타입을 확인한다. (TSC)</li>\n<li>타입스크립트 AST를 자바스크립트 소스로 변환한다. (TSC)</li>\n<li>자바스크립트 소스코드를 자바스크립트 AST로 만든다. (런타임)</li>\n<li>AST가 바이트 코드로 변환되고 런타임에 바이트 코드가 평가되어 프로그램이 실행된다. (런타임)</li>\n</ul>\n<h4 id=\"타입스크립트-컴파일러의-구성-요소와-동작-방식\"><a class=\"anchor\" href=\"#타입스크립트-컴파일러의-구성-요소와-동작-방식\">타입스크립트 컴파일러의 구성 요소와 동작 방식</a></h4>\n<p>Scanner => Parser => Binder => Checker => Emitter 단계를 거쳐 타입 검사와 JS 소스 변환을 진행한다.</p>\n<p><strong>스캐너</strong>는 소스코드를 작은 단위로 나누어 의미 있는 토큰으로 변환하는 작업을 수행한다.</p>\n<p>그리고 <strong>스캐너</strong>가 소스 파일을 토큰으로 나눠주면, <strong>파서</strong>는 그 토큰을 활용해 AST를 생성한다.</p>\n<p><strong>체커</strong>(checker) 단계에서 타입 검사를 할 수 있도록 <strong>바인더</strong>(Binder)에서 기반을 마련하고, <strong>체커</strong> 단계에서 <strong>파서</strong>가 생성한 AST와 <strong>바인더</strong>가 생성한 심볼을 활용하여 타입 검사를 수행한다.</p>\n<p>그리고 <strong>이미터</strong> 단계에서 TS 소스를 자바스크립트(js) 파일과 타입 선언 파일(d.ts)로 생성한다.</p>\n<h3 id=\"타입스크립트의-타입-추론-과정과-원리\"><a class=\"anchor\" href=\"#타입스크립트의-타입-추론-과정과-원리\">타입스크립트의 타입 추론 과정과 원리</a></h3>\n<p>타입스크립트에서 타입 추론은 명시적인 타입 선언 없이도 변수나 표현식의 타입을 자동으로 결정하는 기능이다. 그럼 타입 추론이 어떻게 작동하는지 알아보자.</p>\n<p><strong>1. 초기화 기반 추론</strong>: 변수가 초기화될 때, 초기화 값에 따라 변수의 타입이 결정된다. ex) <code>let x = 3;</code>에서 <code>x는 number</code>로 추론된다.</p>\n<p><strong>2. 최적 공통 타입 (Best Common Type)</strong>: 여러 표현식에서 타입을 추론할 때 각 표현식의 타입을 고려하여 가장 적합한 공통 타입을 선택한다. ex) <code>let x = [0, 1, null];</code>에서 x의 타입은 <code>(number | null)[]</code>로 추론된다. 배열이나 객체에서 공통의 상위 타입이 명확하지 않은 경우에는 유니언 타입으로 추론될 수 있다.</p>\n<p><strong>3. 문맥상 타이핑 (Contextual Typing)</strong>: 표현식의 위치에 따라 그 타입이 추론되는 경우다. ex) ₩window.onmousedown₩ 함수에서는 마우스 이벤트의 타입을 <code>MouseEvent</code>로 추론하고, 이를 통해 <code>mouseEvent</code> 객체 내 속성들의 접근을 제어한다.</p>\n<p><strong>4. 함수와 메소드의 반환 타입 추론</strong>: 함수 내에서 반환되는 값의 타입을 기반으로 함수의 반환 타입을 추론하는 방법이다. ex) <code>function createZoo(): Animal[] { return [new Rhino(), new Elephant(), new Snake()]; }</code>에서 반환 타입은<code>Animal[]</code>로 추론된다.</p>\n<h3 id=\"타입-추론-최대화를-위한-전략\"><a class=\"anchor\" href=\"#타입-추론-최대화를-위한-전략\">타입 추론 최대화를 위한 전략</a></h3>\n<p>props를 전달하거나, 복잡한 로직 등등에서 타입 추론을 사용하다 보면 예상과 다르게 추론이 되거나, 안되는 경우들이 있다. 이런 경우를 방지하기 위해서 어떻게 코드를 작성하면 타입 추론을 효율적으로 사용할 수 있을지도 알아보자.</p>\n<h4 id=\"명시적-타입-정의\"><a class=\"anchor\" href=\"#명시적-타입-정의\">명시적 타입 정의</a></h4>\n<p>인터페이스나 타입을 사용하여 props나 함수의 반환 타입 등을 명시적으로 정의하는 방법으로 타입스크립트 컴파일러에게 알려주는 것이다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">interface</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> UserProps</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  name</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  age</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> greet</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">user</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> UserProps</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> `Hello, ${</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">user</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">.</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">name</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">}!`</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h4 id=\"제네릭-사용\"><a class=\"anchor\" href=\"#제네릭-사용\">제네릭 사용</a></h4>\n<p>특히 컴포넌트나 함수가 다양한 타입을 처리해야 할 때, 제네릭을 사용하면 각 상황에 맞는 타입 추론을 할 수 있다. 또한 제네릭을 사용하면 사용 시점에 타입을 결정하기 때문에 유연성이 높고 타입 안전성을 보장할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> merge</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">U</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">a</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">b</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> &#x26;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">a, </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">b };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> result</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> merge</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ name: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"John\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> }, { age: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">30</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// result는 { name: string; age: number; } 타입으로 추론</span></span></code></pre></figure>\n<h4 id=\"기본값과-구조-분해-사용\"><a class=\"anchor\" href=\"#기본값과-구조-분해-사용\">기본값과 구조 분해 사용</a></h4>\n<p>함수의 매개변수나 컴포넌트의 props에 기본값을 제공하면, 타입스크립트는 이 정보를 사용하여 타입을 추론할 수 있다. 구조 분해 할당을 사용할 때도 마찬가지로 타입 정보를 제공하면 도움이 된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">interface</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Props</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  name</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  age</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> setup</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">name</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"Unknown\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">age</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> }</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Props</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 함수 내에서 name과 age의 타입이 string과 number로 추론</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h4 id=\"조건부-타입-사용\"><a class=\"anchor\" href=\"#조건부-타입-사용\">조건부 타입 사용</a></h4>\n<p>복잡한 로직에 따라 타입이 결정되어야 하는 경우, 조건부 타입을 사용하여 타입 추론을 개선할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> LoadingState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> undefined</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"loading\"</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> fetchData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> LoadingState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">!==</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> undefined</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> data </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"loading\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h4 id=\"타입-단언-사용\"><a class=\"anchor\" href=\"#타입-단언-사용\">타입 단언 사용</a></h4>\n<p>타입스크립트의 타입 추론이 기대한 대로 작동하지 않을 수 있는 경우 타입 단언(type assertion)을 사용하여 컴파일러에게 명확한 타입 정보를 제공할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> myCanvas</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> document.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getElementById</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"mainCanvas\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> HTMLCanvasElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span></code></pre></figure>\n<h3 id=\"타입스크립트-object타입과-덕타이핑\"><a class=\"anchor\" href=\"#타입스크립트-object타입과-덕타이핑\">타입스크립트 object타입과 덕타이핑</a></h3>\n<p>타입스크립트에서 <code>object</code> 타입과 덕 타이핑(duck typing)은 객체의 구조에 기반하여 타입 체크를 수행하는 방식으로 사용된다. 어떤 연관성을 가지는지 찾아보자!</p>\n<h4 id=\"object-타입\"><a class=\"anchor\" href=\"#object-타입\">Object 타입</a></h4>\n<p>타입스크립트에서 <code>object</code>는 원시 타입(primitive type)이 아닌 값(함수, 배열, 객체 등)을 나타내는 타입이다. <code>object</code> 타입은 <code>Object</code> 자바스크립트 생성자 함수가 생성하는 인스턴스와 혼동하면 안된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> logObject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">obj</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> object</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(obj);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">logObject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ name: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"John\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> }); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 올바른 사용</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">logObject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Hello, world!\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 에러: \"Hello, world!\"는 원시 타입이기 때문에 object 타입과 호환되지 않음</span></span></code></pre></figure>\n<h4 id=\"덕-타이핑-duck-typing\"><a class=\"anchor\" href=\"#덕-타이핑-duck-typing\">덕 타이핑 (Duck Typing)</a></h4>\n<p>덕 타이핑은 \"만약 어떤 새가 오리처럼 걷고, 오리처럼 소리를 낸다면, 그 새를 오리라고 부를 수 있다\"는 개념에서 유래했다.</p>\n<p>타입스크립트는 이 개념을 타입 시스템에 적용하여, 객체가 특정 인터페이스에 선언된 모든 속성과 메서드를 갖추고 있으면, 그 객체를 해당 인터페이스의 인스턴스로 간주한다. 이를 통해 타입의 명시적인 선언 없이도 타입 호환성을 판단할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">interface</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Duck</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  walk</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  quack</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> makeItQuack</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">duck</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Duck</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  duck.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">quack</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> myBird</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  walk</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Walking like a duck\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  quack</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Quacking like a duck\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  swim</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Swimming like a duck\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">makeItQuack</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(myBird); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 정상 작동: myBird가 Duck 인터페이스를 충족</span></span></code></pre></figure>\n<p>위 예시에서 <code>myBird</code> 객체는 <code>Duck</code> 인터페이스에 명시적으로 구현되지 않았지만, <code>Duck</code> 인터페이스가 요구하는 <code>walk</code>와 <code>quack</code> 메서드를 가지고 있기 때문에 <code>Duck</code> 타입의 매개변수로 전달될 수 있다.</p>\n<h4 id=\"object-타입과-덕-타이핑의-연관성\"><a class=\"anchor\" href=\"#object-타입과-덕-타이핑의-연관성\">Object 타입과 덕 타이핑의 연관성</a></h4>\n<p>타입스크립트에서 <code>object</code> 타입을 사용할 때, 객체의 구체적인 구조를 지정하지 않고, 어떤 형태의 객체라도 받을 수 있다. 하지만 덕 타이핑을 사용하면, 객체가 특정 구조를 충족하는지를 기반으로 타입 호환성을 검사할 수 있다. 따라서 <code>object</code> 타입보다 더 세밀한 구조적 타이핑을 제공하려면 인터페이스나 타입 별칭을 사용하여 객체의 구조를 명확하게 정의하는 것이 좋다.</p>\n<h3 id=\"6월-넷째-주-회고\"><a class=\"anchor\" href=\"#6월-넷째-주-회고\">6월 넷째 주 회고</a></h3>\n<p>선택과 집중을 명확히 하자!</p>\n<h4 id=\"이번-주-좋은-것과-나쁜-것\"><a class=\"anchor\" href=\"#이번-주-좋은-것과-나쁜-것\">이번 주 좋은 것과 나쁜 것</a></h4>\n<ul>\n<li>일이 많았습니다\n<ul>\n<li>회사일</li>\n<li>토스 플랫폼 과제</li>\n<li>동아리 큰 행사 준비</li>\n<li>토스 자기소개서 작성</li>\n<li>이력서 수정</li>\n</ul>\n</li>\n<li>좋은 자료들을 찾아 react의 DOM 구조에 대해 공부할 수 있었습니다</li>\n</ul>\n<h4 id=\"이번-주-진행했던-학습개발-내용은\"><a class=\"anchor\" href=\"#이번-주-진행했던-학습개발-내용은\">이번 주 진행했던 학습/개발 내용은??</a></h4>\n<ul>\n<li>과제를 단계별 계획을 세워 진행했습니다</li>\n<li>사내에서 사용하는 utility 함수, constant, 자체 hooks 등을 verdaccio와 github에 자체적으로 버전관리 진행중입니다.</li>\n<li>토스 행사를 위해 자기소개서 작성했습니다</li>\n<li>이력서 수정했습니다.</li>\n<li>devops와 infra에서 필요한 개념들을 공부했습니다</li>\n</ul>\n<h4 id=\"가장-고민했던-부분은-무엇이었나요\"><a class=\"anchor\" href=\"#가장-고민했던-부분은-무엇이었나요\">가장 고민했던 부분은 무엇이었나요?</a></h4>\n<ul>\n<li>과제를 어떤 단계로 공부해야 할지</li>\n<li>공용함수 버전관리</li>\n</ul>\n<h4 id=\"아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\"><a class=\"anchor\" href=\"#아쉬운-부분을-개선하는-데-필요한-것은-무엇인가요\">아쉬운 부분을 개선하는 데 필요한 것은 무엇인가요?</a></h4>\n<ul>\n<li>이번주 바쁠거라 생각해서 잠을 줄이고 일정을 소화했는데, 컨디션이 좋지 못합니다.</li>\n</ul>\n<h4 id=\"다음-주는-어떻게-보낼-예정인가요\"><a class=\"anchor\" href=\"#다음-주는-어떻게-보낼-예정인가요\">다음 주는 어떻게 보낼 예정인가요?</a></h4>\n<ul>\n<li>6/27 커피챗하러 선릉역으로 떠납니다.</li>\n<li>이력서 최종 수정</li>\n<li>멘토링 과제</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240625/index.md",
    "_raw": {
      "sourceFilePath": "240625/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240625",
      "contentType": "markdown",
      "flattenedPath": "240625"
    },
    "type": "Post",
    "slug": "/240625",
    "categoryArray": [
      "멘토링",
      "자바스크립트"
    ],
    "readingTime": "13 min read",
    "excerpt": "동아리, 회사, 스터디 등등 많이 바쁘다.. 멘토링 끝나고 블로그에 회고 작성하려는 큰 포부를 가졌지만.. 요즈음 과제가 어려워서? 시간이 빠듯해서 잘 못했다ㅠㅠ 그렇기에 오랜만에 회고를 작성해보고 복습해보자! 타입스크립트는 어떻게 컴파일할까? 우선 타입스크립트는 TSC 컴파일러를 통해 바로 컴파일되는 것이 아닌 자바스크립트 코드로 변환된다. 이 과정에서 ..."
  },
  {
    "title": "zip, gzip, zstd, bzip2, xz 등 소프트웨어의 압축 알고리즘에 대해 공부해보자!",
    "date": "2024-07-06T00:00:00.000Z",
    "categories": "소박한궁금증 소프트웨어",
    "body": {
      "raw": "\n사내 프로젝트를 진행하며 build 폴더를 S3에 업로드하는 업무를 진행했다. 이 과정에서 build 폴더의 용량에 따라 시간, 금액이 차이가난다는 것을 알게되었다.\n\n사내에서 프로젝트를 진행하면서 2GB가 넘는 build 폴더를 어떻게하면 효율적으로 S3에 업로드할 수 있을까라는 고민을 하게되었고, 그 과정속에서 압축에 대해 공부한 내용을 기록에 남기려한다.\n\n<br>\n\n## 무손실 압축(Lossless Compression)\n\n<br>\n\n![2.jpeg](2.jpeg)\n\n<br>\n\n무손실 압축은 손실 압축과 달리 데이터 손실 없이 파일 크기를 줄이는 데이터 압축의 한 종류다. 무손실 압축의 핵심 아이디어는 파일에 있는 콘텐츠의 통계적 중복성을 활용하는 것으로 압축하는 동안 긴 기호를 더 짧은 표현으로 대체하여 데이터 크기를 줄인다.\n\n여러가지 방법 중 **Dictionary-Based algorithm**은 무손실 압축을 수행하는 데 가장 널리 사용되는 알고리즘이다. 이 알고리즘은 포인터가 포함된 dictionary를 구축해 더 작은 포인터로 대체하는 방식이다.\n\n쉽게 설명하면 **Linux**라는 단어가 계속 반복되는 경우 무손실 압축 방법은 **문자 1**을 **Linux**라는 단어에 매핑하는 맵을 만들어, 모든 **Linux** 단어를 **문자 1**로 포현한다. 이러면 더 적은 바이트가 필요하므로 압축 파일은 더 작아지게된다.\n\n압축 성능을 향상시키는 방법은 압축으로 인해 원본 파일의 크기를 줄이는 **압축률과 압축기간** 2가지 있다. 화이트 노이즈와 같은 데이터가 있는 바이너리 파일에 비해 상대적으로 큰 압축률을 기대할 때는 압축률을 더 신경쓴다.\n\n하지만 완벽한 압축 프로세스를 기획하기 위해서는 기간 측정도 중요하다. 왜냐하면 압축 기간과 압축률 간의 절충점 때문이다. 이론적으로 더 높은 압축률을 위해서 압축 시간이 더 오래걸려 수익화지표에 악영향을 끼칠 수 있기 때문이다.\n\n그럼 차근차근 여러가지 압축방법들을 비교해보도록 하겠다. 비교 속성은 **압축 알고리즘, 파일 시스템 호환성, 압축 비율, 사용 편의성, 커뮤니티 및 생태계**를 비교해보도록 하겠다.\n\n<br>\n\n### ZIP\n\nZIP 압축 알고리즘을 사용한다. 다양한 파일 형식을 하나의 파일로 묶고, 각각의 파일을 개별적으로 압축한다. 컴퓨터 관련 종사자가 아니여도, 가장 쉽게 접할 수 있다.\n\nWindows, macOS, Unix-like 시스템 등 대부분의 운영체제에서 널리 지원된다. 그렇기에 접근성이 아주 뛰어나다. 압축 해제 시 파일 시스템에 따라 다를 수 있지만, 일반적으로 Unix-like 시스템에서 파일 권한을 어느 정도 유지한다.\n\n일반적으로 적당한 압축 비율을 제공한다. 그러나 최신 압축 알고리즘에 비해 효율성이 떨어질 수 있기 때문에 압축 성능을 향상시켜야 되는 작업이면 다른 방법을 찾아보는 것도 방법이라고 생각한다.\n\n이전에 말한대로 ZIP은 다양한 운영체제에서 기본적으로 지원되므로, 사용하기 매우 쉽다. 특히 Windows 시스템에서는 기본적으로 지원되어, 추가 소프트웨어 없이도 압축 파일을 열 수 있다.\n\n일반적인 파일 아카이빙과 배포에 널리 사용된다. 특히, 크로스 플랫폼 호환성이 중요한 경우에 자주 사용된다.\n\n<br>\n\n> 🚨 **Unix-like란?!**\n>\n> 유닉스 유사 운영체제는 단일 유닉스 사양의 어떤 버전을 반드시 준수하거나 인증을 받은 것은 아니지만 유닉스 시스템과 유사한 방식으로 작동하는 운영체제다.\n>\n> 쉽게 말하면 유닉스 명령 또는 셸처럼 작동하는 애플리케이션을 의미한다.\n\n<br>\n\n### GZIP(GNU Zip)\n\nGZIP 압축 알고리즘을 사용하며, 주로 단일 파일을 압축하는 데 사용되고, 파일의 스트림을 압축한다.\n\nUnix-like 시스템에서 널리 사용된다. Windows에서는 추가 소프트웨어가 필요할 수 있다.\n\n좋은 압축 비율을 제공하는데, 특히 텍스트 파일에 대해 높은 압축률을 보인다.\n\n단일 파일 압축에 매우 유용하지만, 여러 파일을 압축할 때는 TAR과 함께 사용해야 한다. 그렇기에 사용자는 tar와 gzip 명령을 조합하여 tar.gz 파일을 생성하는 데 익숙해야 한다. tar와 gzip을 조합해서 사내 build 폴더를 tar.gz으로 압축해서 S3에 업로드했다. 이렇게 작업을 하게 된 이유는 각 압축법을 비교한 후 마지막 세션에서 다시 이야기 할 예정이다!\n\nUnix-like 시스템에서 소스 코드, 소프트웨어 패키지, 로그 파일 등을 압축하는 데 표준으로 사용된다.\n\n<br>\n\n### ZSTD(Zstandard)\n\nFacebook에서 개발한 최신 압축 알고리즘으로, 높은 압축률과 빠른 압축 및 해제 속도를 제공한다.\n\n다양한 운영체제에서 사용할 수 있지만, Windows에서는 추가 소프트웨어가 필요할 수 있다. 그래서 운영체제를 확인해서 사용해야한다.\n\n매우 높은 압축 비율을 제공하는데, 특히 대규모 데이터에 대해 효율적이다.\n\n빠르고 효율적이지만, 비교적 다른 압축 형식보다 나중에 만들어져 덜 알려져 있다. zstd에서 사용되는 명령어가 있기에 사용하려면 별도의 러닝커브가 발생한다.\n\nZSTD는 최신 기술을 필요로 하는 데이터 집약적인 애플리케이션에서 인기를 얻고 있습니다. 오픈 소스 프로젝트 및 데이터 과학 커뮤니티에서 널리 사용됩니다.\n\n<br>\n\n### BZIP2\n\nBurrows-Wheeler 변환(BWT)과 무손실 데이터 압축을 위한 허프만 코딩(Huffman Coding)을 사용한다. BWT는 텍스트 데이터를 더 쉽게 압축할 수 있는 형식으로 변환하고, 허프만 코딩은 이 변환된 데이터를 효과적으로 압축한다.\n\nGZIP보다 더 높은 압축률을 제공하지만, 압축 속도와 압축해제 속도가 느리다.\n\n대부분의 Unix-like 시스템, macOS, Windows에서 지원된다. 여러 파일과 디렉토리를 압축하기 위해 TAR과 함께 사용한다.\n\n주로 Unix-like 시스템에서 고압축률이 필요한 경우 사용된다. 소스 코드 배포 및 저장 공간 절약이 중요한 프로젝트에서 선호된다.\n\n<br>\n\n### XZ\n\nLZMA2 알고리즘을 사용하는데, LZMA2는 Lempel-Ziv-Markov chain 알고리즘의 개선된 버전으로, 매우 높은 압축률을 제공한다.\n\n압축률이 매우 높아 BZIP2보다 더 높은 압축률을 필요할 때 사용한다. 그 대신 압축 속도가 느리고, 압축 해제 속도는 적당한편이다.\n\n대부분의 Unix-like 시스템, macOS, Windows에서 지원된다.\n\n<br>\n\n### TAR\n\nTAR 자체는 압축 알고리즘이 아니고, 파일 및 디렉토리를 하나의 파일로 묶는 용도로 사용되며, 보통 GZIP이나 BZIP2, ZSTD에 사용된다.\n\nUnix-like 시스템에서 파일 권한과 소유권을 보존한다. 그리고 Windows에서는 추가 소프트웨어가 필요하다.\n\nTAR 자체는 압축을 제공하지 않지만, GZIP 등과 함께 사용하면 높은 압축 비율을 얻을 수 있다.\n\n파일 및 디렉토리를 묶는 데 매우 유용하지만, 압축을 위해서는 추가적인 압축 알고리즘을 사용해야 한다. 따라서 다소 복잡할 수 있다. 여기서 다른 압축 알고리즘은 GZIP,BZIP2, XZ, ZSTD 등이 있다.\n\nUnix-like 시스템에서 표준 아카이빙 도구로 사용되며, 소스 코드 배포 등에 널리 사용된다.\n\n<br>\n\n## 그래서 왜 tar.gz을 사용했어!?\n\nGZIP을 TAR과 함께 사용하는 이유는 GZIP이 단일 파일을 압축하는 도구이기 때문이다. 여러 파일이나 디렉토리를 하나의 압축 파일로 묶기 위해서는 TAR 아카이빙 도구가 필요하다.\n\n우선 TAR과 GZIP을 결합하기 위해서는 파일 및 디렉토리를 하나의 아카이프 파일(.tar)로 묶어야한다. 이 과정에서 TAR는 파일 메타데이터를 보존한다.\n\n```sh\ntar -cvf archive.tar directory/\n```\n\n- c: 아카이브 생성(create)\n- v: 진행 상황을 출력(verbose)\n- f: 아카이브 파일 이름 지정(file)\n\n그 다음 생성된 아카이브 파일을 GZIP으로 압축하여 .tar.gz 또는 .tgz 확장자를 가진 파일로 만든다.\n\n```sh\ngzip archive.tar\n```\n\n이 과정을 통해 archive.tar.gz 파일이 생성된다. 두 과정을 하나의 명령어로 결합하게 되면 아래와 같이된다.\n\n```sh\ntar -czvf archive.tar.gz directory/\n\n```\n\n- z: GZIP으로 압축\n\n<br>\n\n### 그래서 어떤 결과를 얻었을까?\n\n- TAR는 여러 파일과 디렉토리를 하나의 아카이브 파일로 묶을 수 있어, 다중 파일 및 디렉토리 지원할 수 있다.\n- TAR는 파일의 권한, 소유권, 타임스탬프 등의 메타데이터를 보존한다..\n- GZIP은 TAR 아카이브 파일을 효율적으로 압축하여 저장 공간을 절약할 수 있다.\n- 이렇게 TAR와 GZIP의 조합은 파일 시스템의 구조와 메타데이터를 유지하면서 데이터를 효율적으로 압축할 수 있는 강력한 도구가 된다.\n\n<br>\n\n### 추가적으로.. 왜 tar.gz이 zip보다 압축률이 높을까?\n\nTAR는 여러 파일을 하나의 큰 아카이브로 묶고, GZIP은 이 아카이브 파일을 한 번에 압축한다. 이 과정에서 파일 간의 중복 데이터를 더 잘 인식하고 제거할 수 있어, 개별 파일을 압축하는 ZIP보다 더 높은 압축률을 달성할 수 있다.\n\nTAR 아카이브는 파일의 메타데이터를 보존하면서도 추가적인 압축 메타데이터를 최소화한다. 이는 ZIP 파일보다 압축 효율성을 높이는 데 기여한다.\n\nGZIP은 단일 데이터 스트림을 압축하는 데 최적화되어 있어, TAR로 묶인 파일들을 하나의 스트림으로 처리함으로써 더 높은 압축률을 제공할 수 있다.\n\n이러한 특성들로 인해 tar.gz는 일반적으로 zip보다 더 높은 압축률을 제공할 수 있다!\n\n> 평소에 생각해보지 못한 질문인데, 찾아볼 수 있어서 기분이 좋다!\n\n```toc\n\n```\n",
      "html": "<p>사내 프로젝트를 진행하며 build 폴더를 S3에 업로드하는 업무를 진행했다. 이 과정에서 build 폴더의 용량에 따라 시간, 금액이 차이가난다는 것을 알게되었다.</p>\n<p>사내에서 프로젝트를 진행하면서 2GB가 넘는 build 폴더를 어떻게하면 효율적으로 S3에 업로드할 수 있을까라는 고민을 하게되었고, 그 과정속에서 압축에 대해 공부한 내용을 기록에 남기려한다.</p>\n<h2 id=\"무손실-압축lossless-compression\"><a class=\"anchor\" href=\"#무손실-압축lossless-compression\">무손실 압축(Lossless Compression)</a></h2>\n<p><img src=\"/content/240706/2.jpeg\" alt=\"2.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>무손실 압축은 손실 압축과 달리 데이터 손실 없이 파일 크기를 줄이는 데이터 압축의 한 종류다. 무손실 압축의 핵심 아이디어는 파일에 있는 콘텐츠의 통계적 중복성을 활용하는 것으로 압축하는 동안 긴 기호를 더 짧은 표현으로 대체하여 데이터 크기를 줄인다.</p>\n<p>여러가지 방법 중 <strong>Dictionary-Based algorithm</strong>은 무손실 압축을 수행하는 데 가장 널리 사용되는 알고리즘이다. 이 알고리즘은 포인터가 포함된 dictionary를 구축해 더 작은 포인터로 대체하는 방식이다.</p>\n<p>쉽게 설명하면 <strong>Linux</strong>라는 단어가 계속 반복되는 경우 무손실 압축 방법은 <strong>문자 1</strong>을 <strong>Linux</strong>라는 단어에 매핑하는 맵을 만들어, 모든 <strong>Linux</strong> 단어를 <strong>문자 1</strong>로 포현한다. 이러면 더 적은 바이트가 필요하므로 압축 파일은 더 작아지게된다.</p>\n<p>압축 성능을 향상시키는 방법은 압축으로 인해 원본 파일의 크기를 줄이는 <strong>압축률과 압축기간</strong> 2가지 있다. 화이트 노이즈와 같은 데이터가 있는 바이너리 파일에 비해 상대적으로 큰 압축률을 기대할 때는 압축률을 더 신경쓴다.</p>\n<p>하지만 완벽한 압축 프로세스를 기획하기 위해서는 기간 측정도 중요하다. 왜냐하면 압축 기간과 압축률 간의 절충점 때문이다. 이론적으로 더 높은 압축률을 위해서 압축 시간이 더 오래걸려 수익화지표에 악영향을 끼칠 수 있기 때문이다.</p>\n<p>그럼 차근차근 여러가지 압축방법들을 비교해보도록 하겠다. 비교 속성은 <strong>압축 알고리즘, 파일 시스템 호환성, 압축 비율, 사용 편의성, 커뮤니티 및 생태계</strong>를 비교해보도록 하겠다.</p>\n<h3 id=\"zip\"><a class=\"anchor\" href=\"#zip\">ZIP</a></h3>\n<p>ZIP 압축 알고리즘을 사용한다. 다양한 파일 형식을 하나의 파일로 묶고, 각각의 파일을 개별적으로 압축한다. 컴퓨터 관련 종사자가 아니여도, 가장 쉽게 접할 수 있다.</p>\n<p>Windows, macOS, Unix-like 시스템 등 대부분의 운영체제에서 널리 지원된다. 그렇기에 접근성이 아주 뛰어나다. 압축 해제 시 파일 시스템에 따라 다를 수 있지만, 일반적으로 Unix-like 시스템에서 파일 권한을 어느 정도 유지한다.</p>\n<p>일반적으로 적당한 압축 비율을 제공한다. 그러나 최신 압축 알고리즘에 비해 효율성이 떨어질 수 있기 때문에 압축 성능을 향상시켜야 되는 작업이면 다른 방법을 찾아보는 것도 방법이라고 생각한다.</p>\n<p>이전에 말한대로 ZIP은 다양한 운영체제에서 기본적으로 지원되므로, 사용하기 매우 쉽다. 특히 Windows 시스템에서는 기본적으로 지원되어, 추가 소프트웨어 없이도 압축 파일을 열 수 있다.</p>\n<p>일반적인 파일 아카이빙과 배포에 널리 사용된다. 특히, 크로스 플랫폼 호환성이 중요한 경우에 자주 사용된다.</p>\n<blockquote>\n<p>🚨 <strong>Unix-like란?!</strong></p>\n<p>유닉스 유사 운영체제는 단일 유닉스 사양의 어떤 버전을 반드시 준수하거나 인증을 받은 것은 아니지만 유닉스 시스템과 유사한 방식으로 작동하는 운영체제다.</p>\n<p>쉽게 말하면 유닉스 명령 또는 셸처럼 작동하는 애플리케이션을 의미한다.</p>\n</blockquote>\n<h3 id=\"gzipgnu-zip\"><a class=\"anchor\" href=\"#gzipgnu-zip\">GZIP(GNU Zip)</a></h3>\n<p>GZIP 압축 알고리즘을 사용하며, 주로 단일 파일을 압축하는 데 사용되고, 파일의 스트림을 압축한다.</p>\n<p>Unix-like 시스템에서 널리 사용된다. Windows에서는 추가 소프트웨어가 필요할 수 있다.</p>\n<p>좋은 압축 비율을 제공하는데, 특히 텍스트 파일에 대해 높은 압축률을 보인다.</p>\n<p>단일 파일 압축에 매우 유용하지만, 여러 파일을 압축할 때는 TAR과 함께 사용해야 한다. 그렇기에 사용자는 tar와 gzip 명령을 조합하여 tar.gz 파일을 생성하는 데 익숙해야 한다. tar와 gzip을 조합해서 사내 build 폴더를 tar.gz으로 압축해서 S3에 업로드했다. 이렇게 작업을 하게 된 이유는 각 압축법을 비교한 후 마지막 세션에서 다시 이야기 할 예정이다!</p>\n<p>Unix-like 시스템에서 소스 코드, 소프트웨어 패키지, 로그 파일 등을 압축하는 데 표준으로 사용된다.</p>\n<h3 id=\"zstdzstandard\"><a class=\"anchor\" href=\"#zstdzstandard\">ZSTD(Zstandard)</a></h3>\n<p>Facebook에서 개발한 최신 압축 알고리즘으로, 높은 압축률과 빠른 압축 및 해제 속도를 제공한다.</p>\n<p>다양한 운영체제에서 사용할 수 있지만, Windows에서는 추가 소프트웨어가 필요할 수 있다. 그래서 운영체제를 확인해서 사용해야한다.</p>\n<p>매우 높은 압축 비율을 제공하는데, 특히 대규모 데이터에 대해 효율적이다.</p>\n<p>빠르고 효율적이지만, 비교적 다른 압축 형식보다 나중에 만들어져 덜 알려져 있다. zstd에서 사용되는 명령어가 있기에 사용하려면 별도의 러닝커브가 발생한다.</p>\n<p>ZSTD는 최신 기술을 필요로 하는 데이터 집약적인 애플리케이션에서 인기를 얻고 있습니다. 오픈 소스 프로젝트 및 데이터 과학 커뮤니티에서 널리 사용됩니다.</p>\n<h3 id=\"bzip2\"><a class=\"anchor\" href=\"#bzip2\">BZIP2</a></h3>\n<p>Burrows-Wheeler 변환(BWT)과 무손실 데이터 압축을 위한 허프만 코딩(Huffman Coding)을 사용한다. BWT는 텍스트 데이터를 더 쉽게 압축할 수 있는 형식으로 변환하고, 허프만 코딩은 이 변환된 데이터를 효과적으로 압축한다.</p>\n<p>GZIP보다 더 높은 압축률을 제공하지만, 압축 속도와 압축해제 속도가 느리다.</p>\n<p>대부분의 Unix-like 시스템, macOS, Windows에서 지원된다. 여러 파일과 디렉토리를 압축하기 위해 TAR과 함께 사용한다.</p>\n<p>주로 Unix-like 시스템에서 고압축률이 필요한 경우 사용된다. 소스 코드 배포 및 저장 공간 절약이 중요한 프로젝트에서 선호된다.</p>\n<h3 id=\"xz\"><a class=\"anchor\" href=\"#xz\">XZ</a></h3>\n<p>LZMA2 알고리즘을 사용하는데, LZMA2는 Lempel-Ziv-Markov chain 알고리즘의 개선된 버전으로, 매우 높은 압축률을 제공한다.</p>\n<p>압축률이 매우 높아 BZIP2보다 더 높은 압축률을 필요할 때 사용한다. 그 대신 압축 속도가 느리고, 압축 해제 속도는 적당한편이다.</p>\n<p>대부분의 Unix-like 시스템, macOS, Windows에서 지원된다.</p>\n<h3 id=\"tar\"><a class=\"anchor\" href=\"#tar\">TAR</a></h3>\n<p>TAR 자체는 압축 알고리즘이 아니고, 파일 및 디렉토리를 하나의 파일로 묶는 용도로 사용되며, 보통 GZIP이나 BZIP2, ZSTD에 사용된다.</p>\n<p>Unix-like 시스템에서 파일 권한과 소유권을 보존한다. 그리고 Windows에서는 추가 소프트웨어가 필요하다.</p>\n<p>TAR 자체는 압축을 제공하지 않지만, GZIP 등과 함께 사용하면 높은 압축 비율을 얻을 수 있다.</p>\n<p>파일 및 디렉토리를 묶는 데 매우 유용하지만, 압축을 위해서는 추가적인 압축 알고리즘을 사용해야 한다. 따라서 다소 복잡할 수 있다. 여기서 다른 압축 알고리즘은 GZIP,BZIP2, XZ, ZSTD 등이 있다.</p>\n<p>Unix-like 시스템에서 표준 아카이빙 도구로 사용되며, 소스 코드 배포 등에 널리 사용된다.</p>\n<h2 id=\"그래서-왜-targz을-사용했어\"><a class=\"anchor\" href=\"#그래서-왜-targz을-사용했어\">그래서 왜 tar.gz을 사용했어!?</a></h2>\n<p>GZIP을 TAR과 함께 사용하는 이유는 GZIP이 단일 파일을 압축하는 도구이기 때문이다. 여러 파일이나 디렉토리를 하나의 압축 파일로 묶기 위해서는 TAR 아카이빙 도구가 필요하다.</p>\n<p>우선 TAR과 GZIP을 결합하기 위해서는 파일 및 디렉토리를 하나의 아카이프 파일(.tar)로 묶어야한다. 이 과정에서 TAR는 파일 메타데이터를 보존한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"sh\" data-theme=\"github-dark github-light\"><code data-language=\"sh\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">tar</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> -cvf</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> archive.tar</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> directory/</span></span></code></pre></figure>\n<ul>\n<li>c: 아카이브 생성(create)</li>\n<li>v: 진행 상황을 출력(verbose)</li>\n<li>f: 아카이브 파일 이름 지정(file)</li>\n</ul>\n<p>그 다음 생성된 아카이브 파일을 GZIP으로 압축하여 .tar.gz 또는 .tgz 확장자를 가진 파일로 만든다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"sh\" data-theme=\"github-dark github-light\"><code data-language=\"sh\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">gzip</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> archive.tar</span></span></code></pre></figure>\n<p>이 과정을 통해 archive.tar.gz 파일이 생성된다. 두 과정을 하나의 명령어로 결합하게 되면 아래와 같이된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"sh\" data-theme=\"github-dark github-light\"><code data-language=\"sh\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">tar</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> -czvf</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> archive.tar.gz</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> directory/</span></span>\n<span data-line=\"\"> </span></code></pre></figure>\n<ul>\n<li>z: GZIP으로 압축</li>\n</ul>\n<h3 id=\"그래서-어떤-결과를-얻었을까\"><a class=\"anchor\" href=\"#그래서-어떤-결과를-얻었을까\">그래서 어떤 결과를 얻었을까?</a></h3>\n<ul>\n<li>TAR는 여러 파일과 디렉토리를 하나의 아카이브 파일로 묶을 수 있어, 다중 파일 및 디렉토리 지원할 수 있다.</li>\n<li>TAR는 파일의 권한, 소유권, 타임스탬프 등의 메타데이터를 보존한다..</li>\n<li>GZIP은 TAR 아카이브 파일을 효율적으로 압축하여 저장 공간을 절약할 수 있다.</li>\n<li>이렇게 TAR와 GZIP의 조합은 파일 시스템의 구조와 메타데이터를 유지하면서 데이터를 효율적으로 압축할 수 있는 강력한 도구가 된다.</li>\n</ul>\n<h3 id=\"추가적으로-왜-targz이-zip보다-압축률이-높을까\"><a class=\"anchor\" href=\"#추가적으로-왜-targz이-zip보다-압축률이-높을까\">추가적으로.. 왜 tar.gz이 zip보다 압축률이 높을까?</a></h3>\n<p>TAR는 여러 파일을 하나의 큰 아카이브로 묶고, GZIP은 이 아카이브 파일을 한 번에 압축한다. 이 과정에서 파일 간의 중복 데이터를 더 잘 인식하고 제거할 수 있어, 개별 파일을 압축하는 ZIP보다 더 높은 압축률을 달성할 수 있다.</p>\n<p>TAR 아카이브는 파일의 메타데이터를 보존하면서도 추가적인 압축 메타데이터를 최소화한다. 이는 ZIP 파일보다 압축 효율성을 높이는 데 기여한다.</p>\n<p>GZIP은 단일 데이터 스트림을 압축하는 데 최적화되어 있어, TAR로 묶인 파일들을 하나의 스트림으로 처리함으로써 더 높은 압축률을 제공할 수 있다.</p>\n<p>이러한 특성들로 인해 tar.gz는 일반적으로 zip보다 더 높은 압축률을 제공할 수 있다!</p>\n<blockquote>\n<p>평소에 생각해보지 못한 질문인데, 찾아볼 수 있어서 기분이 좋다!</p>\n</blockquote>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240706/index.md",
    "_raw": {
      "sourceFilePath": "240706/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240706",
      "contentType": "markdown",
      "flattenedPath": "240706"
    },
    "type": "Post",
    "slug": "/240706",
    "categoryArray": [
      "소박한궁금증",
      "소프트웨어"
    ],
    "readingTime": "15 min read",
    "excerpt": "사내 프로젝트를 진행하며 build 폴더를 S3에 업로드하는 업무를 진행했다. 이 과정에서 build 폴더의 용량에 따라 시간, 금액이 차이가난다는 것을 알게되었다. 사내에서 프로젝트를 진행하면서 2GB가 넘는 build 폴더를 어떻게하면 효율적으로 S3에 업로드할 수 있을까라는 고민을 하게되었고, 그 과정속에서 압축에 대해 공부한 내용을 기록에 남기려한다..."
  },
  {
    "title": "VITE의 HMR에 대해서",
    "date": "2024-07-10T00:00:00.000Z",
    "categories": "소박한궁금증 프론트엔드",
    "body": {
      "raw": "\n![1.png](1.png)\n\n## HMR(Hot Module Replacement)이란?\n\n**Hot Module Replacement(HMR)는** 개발 환경에서 코드 변경 시 브라우저 전체를 새로고침하지 않고도 변경된 모듈만 업데이트하는 기능을 의미한다. 이는 특히 React와 같은 현대 프론트엔드 프레임워크에서 매우 유용하게 사용되고있다. HMR은 Webpack과 같은 모듈 번들러에서 지원하며, 개발 과정에서 생산성을 크게 향상시킨다. 수정사항을 웹에서 바로 확인할 수 있어, 불필요한 시간 소비를 방지할 수 있다.\n\n<br>\n\n### 그럼 HMR은 어떻게 동작할까?\n\nHMR이 편하게 해주는 것은 알겠다! 거의 2년여동안 HMR을 자연스럽게 사용하고 있는데, 궁금한적 없어 이참에 알아보자!\n\n![2.jpeg](2.jpeg)\n\n우선 개발자가 코드를 수정하고 저장하면, **Webpack Dev Server는** 변경 사항을 감지한다. **Webpack Dev Server는** 변경된 모듈만을 포함하는 업데이트를 생성하고 WebSocket을 토해 브라우저에 업데이트 정보를 전송한다. 브라우저는 해당 모듈을 교체하고 애플리케이션 상태를 유지한 채로 변경된 내용을 반영한다.\n\n<br>\n\n![3.jpeg](3.jpeg)\n\n<br>\n\n놀랍게도 끝이다. 엄청 간단하다!! 결국 Webpack과 같은 모듈 번들러를 사용하는 것이다. 공식 문서를 조금 더 살펴보니 **devServer.hot**의 값을 가지고 HMR을 핸들링 할 수 있다.\n\n<br>\n\n![4.png](4.png)\n\n<br>\n\n> Webpack-dev-server v4부터 HMR이 기본적으로 활성화되어 있습니다.\n>\n> HMR 활성화에 필요한 webpack.HotModuleReplacementPlugin을 자동으로 적용합니다.\n>\n> 따라서 설정에서 hot이 true로 설정되거나 CLI 옵션 --hot을 통해 이 플러그인을 webpack.config.js에 추가할 필요가 없습니다. 자세한 내용은 HMR 개념 페이지를 참고하세요.\n\n<br>\n\n### 그럼 사용하면 뭐가 좋은데?\n\nHMR의 장점은 애플리케이션의 상태(state)를 유지하는 것이다. 개발자가 애플리케이션을 새로고침하지 않고도 변경 사항을 즉시 확인할 수 있다. 예를 들어, 사용자가 입력한 폼 데이터나 페이지 내의 특정 위치가 그대로 유지가 된다.\n\n피드백이 상당히 빠르다. 그래서 개발자는 수정한 내용이 어떻게 동작하는지 빠르게 확인할 수 있다. 이는 특히 UI를 다루는 작업에서 유용하다.\n\n생산성 향상되어, 불필요한 대기 시간을 준다. 예를 들어, 검색 로직을 수정하는 경우, 전체 페이지를 새로고침하고 다시 검색어를 입력할 필요 없이, 변경된 필터 조건이 즉시 반영된다.\n\n일반적인 경우, 검색 로직을 변경하고 그 결과를 검증하기 위해 다음 단계를 거쳐야한다.\n\n**코드 수정 => 저장 => 브라우저 새로고침 => 검색어 입력 => 검색 버튼 클릭 => API 호출 => 데이터 표시**\n\n하지만 HMR을 사용하면 4개의 단계가 사라진다.\n\n**코드 수정 => 저장 => 데이터 표시**\n\n<br>\n\n![5.webp](5.webp)\n\n<br>\n\n## 추가적으로 궁금한 것\n\n흠.. 생각해보면 CRA에서는 Webpack을 사용하기 때문에 HMR을 사용하는데, VITE에서는 HMR을 어떻게 쓰고 차이가 있을까?? 한번 알아보자!!\n\n<br>\n\n![6.jpeg](6.jpeg)\n\n<br>\n\n### VITE에서의 HMR\n\nVite는 WebSocket 연결을 통해 브라우저와 지속적으로 통신하는데, 이 연결은 개발 서버가 변경 사항을 브라우저에 실시간으로 전달하는 데 사용된다.\n\n그 이후 Vite는 **fs.watch (파일 시스템 감시)** 기능을 사용하여 프로젝트 파일의 변경을 실시간으로 탐지한다. 파일이 변경되면 Vite는 해당 파일의 종속성을 분석하여 어느 모듈이 영향을 받는지 파악한다.\n\n변경된 파일에 대한 분석이 완료되면, Vite는 변경된 부분만을 포함하는 HMR 업데이트를 생성한다. 이 업데이트는 변경된 모듈의 새로운 버전을 포함한다.\n\nWebSocket을 통해 브라우저에 HMR 업데이트 메시지를 전송한다. 이 메시지에는 변경된 모듈과 이를 어떻게 교체할지에 대한 정보가 포함되어있다.\n\n브라우저는 Vite 개발 서버로부터 HMR 메시지를 수신하고, 해당 모듈을 교체한다. React와 같은 프레임워크는 HMR을 통해 상태를 유지하면서도 변경된 컴포넌트를 다시 렌더링할 수 있게 도와준다.\n\nWebpack과 가장 다른 점은 네이티브 ES 모듈을 활용한 것이다.\n\n<br>\n\n## 참고자료\n\n- [Vite 프로젝트에서 리엑트 컴포넌트는 어떻게 HMR될까?](!https://velog.io/@woohm402/vite-react-hmr)\n- [Webpack-HMR](https://webpack.kr/guides/hot-module-replacement/#enabling-hmr)\n- [Vite-HMR](https://ko.vitejs.dev/guide/api-hmr.html#hmr-api)\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/240710/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"hmrhot-module-replacement이란\"><a class=\"anchor\" href=\"#hmrhot-module-replacement이란\">HMR(Hot Module Replacement)이란?</a></h2>\n<p><strong>Hot Module Replacement(HMR)는</strong> 개발 환경에서 코드 변경 시 브라우저 전체를 새로고침하지 않고도 변경된 모듈만 업데이트하는 기능을 의미한다. 이는 특히 React와 같은 현대 프론트엔드 프레임워크에서 매우 유용하게 사용되고있다. HMR은 Webpack과 같은 모듈 번들러에서 지원하며, 개발 과정에서 생산성을 크게 향상시킨다. 수정사항을 웹에서 바로 확인할 수 있어, 불필요한 시간 소비를 방지할 수 있다.</p>\n<h3 id=\"그럼-hmr은-어떻게-동작할까\"><a class=\"anchor\" href=\"#그럼-hmr은-어떻게-동작할까\">그럼 HMR은 어떻게 동작할까?</a></h3>\n<p>HMR이 편하게 해주는 것은 알겠다! 거의 2년여동안 HMR을 자연스럽게 사용하고 있는데, 궁금한적 없어 이참에 알아보자!</p>\n<p><img src=\"/content/240710/2.jpeg\" alt=\"2.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>우선 개발자가 코드를 수정하고 저장하면, <strong>Webpack Dev Server는</strong> 변경 사항을 감지한다. <strong>Webpack Dev Server는</strong> 변경된 모듈만을 포함하는 업데이트를 생성하고 WebSocket을 토해 브라우저에 업데이트 정보를 전송한다. 브라우저는 해당 모듈을 교체하고 애플리케이션 상태를 유지한 채로 변경된 내용을 반영한다.</p>\n<p><img src=\"/content/240710/3.jpeg\" alt=\"3.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>놀랍게도 끝이다. 엄청 간단하다!! 결국 Webpack과 같은 모듈 번들러를 사용하는 것이다. 공식 문서를 조금 더 살펴보니 <strong>devServer.hot</strong>의 값을 가지고 HMR을 핸들링 할 수 있다.</p>\n<p><img src=\"/content/240710/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>Webpack-dev-server v4부터 HMR이 기본적으로 활성화되어 있습니다.</p>\n<p>HMR 활성화에 필요한 webpack.HotModuleReplacementPlugin을 자동으로 적용합니다.</p>\n<p>따라서 설정에서 hot이 true로 설정되거나 CLI 옵션 --hot을 통해 이 플러그인을 webpack.config.js에 추가할 필요가 없습니다. 자세한 내용은 HMR 개념 페이지를 참고하세요.</p>\n</blockquote>\n<h3 id=\"그럼-사용하면-뭐가-좋은데\"><a class=\"anchor\" href=\"#그럼-사용하면-뭐가-좋은데\">그럼 사용하면 뭐가 좋은데?</a></h3>\n<p>HMR의 장점은 애플리케이션의 상태(state)를 유지하는 것이다. 개발자가 애플리케이션을 새로고침하지 않고도 변경 사항을 즉시 확인할 수 있다. 예를 들어, 사용자가 입력한 폼 데이터나 페이지 내의 특정 위치가 그대로 유지가 된다.</p>\n<p>피드백이 상당히 빠르다. 그래서 개발자는 수정한 내용이 어떻게 동작하는지 빠르게 확인할 수 있다. 이는 특히 UI를 다루는 작업에서 유용하다.</p>\n<p>생산성 향상되어, 불필요한 대기 시간을 준다. 예를 들어, 검색 로직을 수정하는 경우, 전체 페이지를 새로고침하고 다시 검색어를 입력할 필요 없이, 변경된 필터 조건이 즉시 반영된다.</p>\n<p>일반적인 경우, 검색 로직을 변경하고 그 결과를 검증하기 위해 다음 단계를 거쳐야한다.</p>\n<p><strong>코드 수정 => 저장 => 브라우저 새로고침 => 검색어 입력 => 검색 버튼 클릭 => API 호출 => 데이터 표시</strong></p>\n<p>하지만 HMR을 사용하면 4개의 단계가 사라진다.</p>\n<p><strong>코드 수정 => 저장 => 데이터 표시</strong></p>\n<p><img src=\"/content/240710/5.webp\" alt=\"5.webp\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"추가적으로-궁금한-것\"><a class=\"anchor\" href=\"#추가적으로-궁금한-것\">추가적으로 궁금한 것</a></h2>\n<p>흠.. 생각해보면 CRA에서는 Webpack을 사용하기 때문에 HMR을 사용하는데, VITE에서는 HMR을 어떻게 쓰고 차이가 있을까?? 한번 알아보자!!</p>\n<p><img src=\"/content/240710/6.jpeg\" alt=\"6.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h3 id=\"vite에서의-hmr\"><a class=\"anchor\" href=\"#vite에서의-hmr\">VITE에서의 HMR</a></h3>\n<p>Vite는 WebSocket 연결을 통해 브라우저와 지속적으로 통신하는데, 이 연결은 개발 서버가 변경 사항을 브라우저에 실시간으로 전달하는 데 사용된다.</p>\n<p>그 이후 Vite는 <strong>fs.watch (파일 시스템 감시)</strong> 기능을 사용하여 프로젝트 파일의 변경을 실시간으로 탐지한다. 파일이 변경되면 Vite는 해당 파일의 종속성을 분석하여 어느 모듈이 영향을 받는지 파악한다.</p>\n<p>변경된 파일에 대한 분석이 완료되면, Vite는 변경된 부분만을 포함하는 HMR 업데이트를 생성한다. 이 업데이트는 변경된 모듈의 새로운 버전을 포함한다.</p>\n<p>WebSocket을 통해 브라우저에 HMR 업데이트 메시지를 전송한다. 이 메시지에는 변경된 모듈과 이를 어떻게 교체할지에 대한 정보가 포함되어있다.</p>\n<p>브라우저는 Vite 개발 서버로부터 HMR 메시지를 수신하고, 해당 모듈을 교체한다. React와 같은 프레임워크는 HMR을 통해 상태를 유지하면서도 변경된 컴포넌트를 다시 렌더링할 수 있게 도와준다.</p>\n<p>Webpack과 가장 다른 점은 네이티브 ES 모듈을 활용한 것이다.</p>\n<h2 id=\"참고자료\"><a class=\"anchor\" href=\"#참고자료\">참고자료</a></h2>\n<ul>\n<li><a href=\"!https://velog.io/@woohm402/vite-react-hmr\">Vite 프로젝트에서 리엑트 컴포넌트는 어떻게 HMR될까?</a></li>\n<li><a href=\"https://webpack.kr/guides/hot-module-replacement/#enabling-hmr\">Webpack-HMR</a></li>\n<li><a href=\"https://ko.vitejs.dev/guide/api-hmr.html#hmr-api\">Vite-HMR</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240710/index.md",
    "_raw": {
      "sourceFilePath": "240710/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240710",
      "contentType": "markdown",
      "flattenedPath": "240710"
    },
    "type": "Post",
    "slug": "/240710",
    "categoryArray": [
      "소박한궁금증",
      "프론트엔드"
    ],
    "readingTime": "7 min read",
    "excerpt": "HMR(Hot Module Replacement)이란? Hot Module Replacement(HMR)는 개발 환경에서 코드 변경 시 브라우저 전체를 새로고침하지 않고도 변경된 모듈만 업데이트하는 기능을 의미한다. 이는 특히 React와 같은 현대 프론트엔드 프레임워크에서 매우 유용하게 사용되고있다. HMR은 Webpack과 같은 모듈 번들러에서 지원하며..."
  },
  {
    "title": "Import (정적) vs Dynamic Import (동적)",
    "date": "2024-07-11T00:00:00.000Z",
    "categories": "소박한궁금증",
    "body": {
      "raw": "\n![1.png](1.png)\n\n<br>\n\nReact와 JavaScript를 사용하는 개발자에게 있어서 import와 dynamic import는 각각 고유한 용도와 특징을 가지고 있다. 그럼 이 두가지는 어떤 차이점이 있을까?\n\n<br>\n\n### Import\n\nimport는 JavaScript ES6에서 도입된 정적(Static) 모듈 가져오기 방식이다. 코드 작성 시, 모듈을 상단에 명시적으로 선언하고, 모듈을 로드한다.\n\n```javascript\nimport React from 'react';\nimport MyComponent from './MyComponent';\n```\n\n```javascript\nimport React, { useState } from 'react';\nimport MyComponent from './MyComponent';\n\nconst App = () => {\n  return (\n    <div>\n      <MyComponent />\n    </div>\n  );\n};\n\nexport default App;\n```\n\nImport는 아래 3가지의 특징을 가진다.\n\n- **정적 로드**: 컴파일 시점에 모든 의존성이 결정되고 로드되어, 빌드 도구가 전체 모듈 그래프를 미리 알 수 있게 해준다.\n- **호이스팅(Hoisting)**: import 문은 파일의 최상단으로 끌어올려진다.\n- **트리 쉐이킹(Tree Shaking)**: 불필요한 코드(사용되지 않는 모듈)를 제거하여 최종 번들 크기를 줄일 수 있다.\n\n<br>\n\n### Dynamic Import\n\ndynamic import는 ES2020에서 도입된 동적(Dynamic) 모듈 가져오기 방식이다. 이는 함수처럼 호출하여 필요할 때 모듈을 가져오는 방식이다\n\n```javascript\nconst loadMyComponent = async () => {\n  const { default: MyComponent } = await import('./MyComponent');\n};\n```\n\n```javascript\nimport React, { useState, useEffect } from 'react';\n\nconst App = () => {\n  const [MyComponent, setMyComponent] = useState(null);\n\n  useEffect(() => {\n    const loadComponent = async () => {\n      const { default: loadedComponent } = await import('./MyComponent');\n      setMyComponent(() => loadedComponent);\n    };\n\n    loadComponent();\n  }, []);\n\n  return <div>{MyComponent ? <MyComponent /> : <div>Loading...</div>}</div>;\n};\n\nexport default App;\n```\n\nDynamic Import는 아래 3가지의 특징을 가진다.\n\n- **동적 로드**: 모듈이 필요할 때 런타임에 로드되어, 특정 상황(ex : 사용자 인터랙션)에 따라 모듈을 로드할 수 있다.\n- **비동기 처리**: import()는 프로미스를 반환하므로 async/await와 함께 사용하거나 .then을 사용하여 처리할 수 있다.\n- **코드 스플리팅(Code Splitting)**: 초기 로딩 시간을 줄이기 위해 필요한 모듈을 나중에 로드하는 방식으로, 애플리케이션의 성능을 향상시킬 수 있다.\n\n<br>\n\n### 결론\n\n**정적 import는** 빌드 시 모든 의존성을 미리 로드하고, 파일 크기를 최적화하는 특징을 가지고 있고, **동적 import는** 런타임에 모듈을 비동기로 로드하여 초기 로딩 시간을 줄이고, 필요할 때만 로드할 수 있다.\n\n이 두 가지 방법을 적절히 사용하면 애플리케이션의 성능과 유지보수성을 향상시킬 수 있다!\n\n사내에서는 Lazy Loading을 위해서 Dynamic Import를 적극 활용하고있다. 이로써 렌더링 시 불필요한 모듈을 로드하지 않기때문에 초기 로딩 시간이 감소한다. 또한 애플리케이션의 코드를 여러 번들로 나누어 필요한 시점에 로드하기 때문에 불필요한 리소스 로드 방지도 되었다.**(코드 스플리팅)**\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/240711/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>React와 JavaScript를 사용하는 개발자에게 있어서 import와 dynamic import는 각각 고유한 용도와 특징을 가지고 있다. 그럼 이 두가지는 어떤 차이점이 있을까?</p>\n<h3 id=\"import\"><a class=\"anchor\" href=\"#import\">Import</a></h3>\n<p>import는 JavaScript ES6에서 도입된 정적(Static) 모듈 가져오기 방식이다. 코드 작성 시, 모듈을 상단에 명시적으로 선언하고, 모듈을 로드한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> React </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> MyComponent </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> './MyComponent'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span></code></pre></figure>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> React, { useState } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> MyComponent </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> './MyComponent'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> App</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">MyComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> default</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> App;</span></span></code></pre></figure>\n<p>Import는 아래 3가지의 특징을 가진다.</p>\n<ul>\n<li><strong>정적 로드</strong>: 컴파일 시점에 모든 의존성이 결정되고 로드되어, 빌드 도구가 전체 모듈 그래프를 미리 알 수 있게 해준다.</li>\n<li><strong>호이스팅(Hoisting)</strong>: import 문은 파일의 최상단으로 끌어올려진다.</li>\n<li><strong>트리 쉐이킹(Tree Shaking)</strong>: 불필요한 코드(사용되지 않는 모듈)를 제거하여 최종 번들 크기를 줄일 수 있다.</li>\n</ul>\n<h3 id=\"dynamic-import\"><a class=\"anchor\" href=\"#dynamic-import\">Dynamic Import</a></h3>\n<p>dynamic import는 ES2020에서 도입된 동적(Dynamic) 모듈 가져오기 방식이다. 이는 함수처럼 호출하여 필요할 때 모듈을 가져오는 방식이다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> loadMyComponent</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> async</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">default</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">MyComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> await</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'./MyComponent'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span></code></pre></figure>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> React, { useState, useEffect } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> App</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">MyComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setMyComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> loadComponent</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> async</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">default</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">loadedComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> await</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'./MyComponent'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setMyComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> loadedComponent);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    };</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    loadComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, []);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>{MyComponent </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">MyComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>Loading...&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>}&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> default</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> App;</span></span></code></pre></figure>\n<p>Dynamic Import는 아래 3가지의 특징을 가진다.</p>\n<ul>\n<li><strong>동적 로드</strong>: 모듈이 필요할 때 런타임에 로드되어, 특정 상황(ex : 사용자 인터랙션)에 따라 모듈을 로드할 수 있다.</li>\n<li><strong>비동기 처리</strong>: import()는 프로미스를 반환하므로 async/await와 함께 사용하거나 .then을 사용하여 처리할 수 있다.</li>\n<li><strong>코드 스플리팅(Code Splitting)</strong>: 초기 로딩 시간을 줄이기 위해 필요한 모듈을 나중에 로드하는 방식으로, 애플리케이션의 성능을 향상시킬 수 있다.</li>\n</ul>\n<h3 id=\"결론\"><a class=\"anchor\" href=\"#결론\">결론</a></h3>\n<p><strong>정적 import는</strong> 빌드 시 모든 의존성을 미리 로드하고, 파일 크기를 최적화하는 특징을 가지고 있고, <strong>동적 import는</strong> 런타임에 모듈을 비동기로 로드하여 초기 로딩 시간을 줄이고, 필요할 때만 로드할 수 있다.</p>\n<p>이 두 가지 방법을 적절히 사용하면 애플리케이션의 성능과 유지보수성을 향상시킬 수 있다!</p>\n<p>사내에서는 Lazy Loading을 위해서 Dynamic Import를 적극 활용하고있다. 이로써 렌더링 시 불필요한 모듈을 로드하지 않기때문에 초기 로딩 시간이 감소한다. 또한 애플리케이션의 코드를 여러 번들로 나누어 필요한 시점에 로드하기 때문에 불필요한 리소스 로드 방지도 되었다.<strong>(코드 스플리팅)</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240711/index.md",
    "_raw": {
      "sourceFilePath": "240711/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240711",
      "contentType": "markdown",
      "flattenedPath": "240711"
    },
    "type": "Post",
    "slug": "/240711",
    "categoryArray": [
      "소박한궁금증"
    ],
    "readingTime": "4 min read",
    "excerpt": "React와 JavaScript를 사용하는 개발자에게 있어서 import와 dynamic import는 각각 고유한 용도와 특징을 가지고 있다. 그럼 이 두가지는 어떤 차이점이 있을까? Import import는 JavaScript ES6에서 도입된 정적(Static) 모듈 가져오기 방식이다. 코드 작성 시, 모듈을 상단에 명시적으로 선언하고, 모듈을 로드..."
  },
  {
    "title": "IT 동아리 SIPE 2기 회고(참여자에서 운영진까지)",
    "date": "2024-07-17T00:00:00.000Z",
    "categories": "일상 대외활동",
    "body": {
      "raw": "\n불과 1, 2년 전까지만 해도 상상하지 못했던 일들이 나에게 많이 일어났다. 개발자로 취업하게 되고, 이직을 하고, IT 동아리에 참여해 사람들과 교류하고, 심지어 IT 동아리 운영진까지 해보았다.\n\n<br>\n\n![23.png](23.png)\n\n<br>\n\n누군가에게는 별일 아닐 수 있겠지만, 얼마 전까지 카페에서 일하고, 경영학과로 취업하기 위해 독서실에서 자격증 공부를 하고 있던 나에게는 큰 변화였다.\n\n이번 활동으로 좋은 사람들을 많이 만나고, 운영진으로 활동하며 훌륭한 동료들과 함께 많은 것을 배웠다. 이런 경험이 SIPE 3기 신청을 원하는 분들에게 도움이 될 것 같아, SIPE 2기 활동은 어떻게 했고 어떤 행사를 했는지 회고 형식으로 풀어보려고 한다.\n\n<br>\n\n### SIPE 2기 준비\n\n<br>\n\n![16.jpeg](16.jpeg)\n\n<br>\n\nSIPE 2기를 위해 6명의 운영진들과 함께 우당탕탕 준비를 시작했다.\n\n일정 계획을 잡고, 장소를 대관하고, 행사에 필요한 기획안을 작성했다. 그리고 어떤 분들과 2기를 함께하고 싶은지 의견을 모으고, 모집 폼과 홈페이지를 만들어 게시했다.\n\n준비를 마치고 우리들끼리 깊은 이야기도 나눠볼 겸, 서류 모집 마지막 날에 주문진으로 달려가 맛있는 것도 먹고 대화를 나누었다. 이를 통해 모두가 SIPE를 위해 많은 준비를 했고, 진심을 다하고 있다는 것을 느낄 수 있었다.\n\n<br>\n\n| ![17.jpeg](17.jpeg) | ![18.jpeg](18.jpeg) |\n| ------------------- | ------------------- |\n\n<br>\n\n![19.jpeg](19.jpeg)\n\n아직 이름이 널리 알려지지 않았음에도 불구하고, 정말 많은 분들이 동아리에 함께하기 위해 지원해주셔서 감동했다... 부족한 점도 있었지만, 여러 과정을 거쳐 함께 4개월 동안 활동할 인원들을 선정했다. 인원 제한이 있어 더 많은 분들과 함께하지 못한 것이 너무 아쉬울 뿐이다.\n\nSIPE는 총 8회차로 세션이 진행된다. 격주로 이루어져 있어 16주(4개월)의 시간 동안 2개의 미션을 진행해야 했는데, 어떤 행사들을 했는지 천천히 살펴보자!\n\n<br>\n\n### Orientation\n\n![2.jpg](2.jpg)\n\n<br>\n\nSIPE 2기의 시작을 알리는 OT(오리엔테이션)를 진행했다. 이 자리에서 서로를 소개하고 이야기를 나누며, 앞으로 SIPE 활동이 어떻게 이루어질지 설명하고 친해지는 시간을 가졌다.\n\nOT 전에 서로에 대한 소개를 GitHub에 미리 올렸는데, 덕분에 어색함이 좀 줄어든 것 같다! ~~번거롭지만 아주 좋은 아이디어 👍~~ 이날 기존 기수들의 적극적인 리드로 정말 많이 웃고 재미있는 시간을 보냈다. 밤늦게까지 뒤풀이가 이어졌는데, 참가자들의 열정이 가장 뜨거웠던 날이었다! 🔥\n\n<br>\n\n### 사이프챗\n\n![3.JPG](3.JPG)\n\n<br>\n\n사이프챗을 진행하기 전에 슬랙을 이용해 1차 미션 주제에 대한 투표를 받았다. SIPE 1기 못지않게 이색적이고 재미있는 주제가 많이 나왔다. 이번에는 AI 관련한 미션도 있고, Rust와 같은 언어들도 있고 흥미로웠다.\n\n여러 주제 중에서 무엇을 선택할지 고민했는데, 1기에서 진행한 미션을 더 발전시키고 싶어 `React hook + Closure`라는 주제를 선택했다.\n\n<br>\n\n![4.JPG](4.JPG)\n\n<br>\n\n사이프챗에서는 선택한 주제를 가지고 팀원들과 함께 4~5주 동안 어떻게 진행할지 이야기를 나누었다. 토론 끝에 'You Don't Know JS Yet'라는 책을 선택해서 공부하고, 관련 아티클을 읽어 인사이트를 공유하기로 계획했다.\n\n<br>\n\n### 전반기 사이데이션\n\n![6.jpg](6.jpg)\n\n<br>\n\n회사를 다니면서 팀원들과 온라인으로 미션을 진행했다. 하지만 미션만 할 수는 없기에 아이데이션도 하고 팀원들과 색다른 활동을 하며 대화를 나누기 위해 '사이데이션'을 기획했다.\n\n우리 팀은 사이데이션에서 어떤 활동을 할까 고민했고, 결국 을지로에서 나만의 테라피 오일 만들기와 치킨 먹기를 하기로 했다! 테라피 오일을 만들면서 서로의 고민을 공유하고, 미션에 대한 이야기도 나누었다. 그러다 을지로의 한 치킨집에서 무려 6시간 동안이나 수다를 떨며 재미있는 이야기를 나누었다!\n\n<br>\n\n### 사담콘\n\n![7.JPG](7.JPG)\n\n<br>\n\nSIPE 1기에서 가장 인기가 많았던 행사인 사담콘을 이번에는 광화문 시민회관에서 진행했다. 사이퍼들뿐만 아니라 외부 인원까지 신청을 받았는데, 예상보다 모집 인원이 빠르게 차서 감동받았다.\n\n사담콘과 같은 큰 행사는 사이퍼 내부에서 TF팀을 뽑아 함께 주관했다. 멋진 분들이 다양한 주제로 발표를 해주셨고, 중간에 재미있는 게임도 진행해 주셔서 긴 시간 동안 지루하지 않게 행사에 참여할 수 있었다.\n\n<br>\n\n![8.JPG](8.JPG)\n\n<br>\n\n아직 개발자로서 발표를 해본 적이 없는데, 3기에 참여하게 된다면 나의 첫 동아리에서 첫 발표를 해보고 싶다.. 이건 올해의 버킷리스트로 남기고 꼭꼭 실천할 것이다!! 👏\n\n<br>\n\n### 1차 미션 발표\n\n![9.JPG](9.JPG)\n\n<br>\n\n짧으면 짧고 길면 긴 5주의 4주의 시간이 지나서 그 동안 공부한 결과물을 다른 사이퍼에게 공유하기 위해 다같이 모였다.\n\n자세한 글은 이미 작성한 적이 있어서 **[여기를](https://hooninedev.com/240509/)** 확인해주면 좋을 것 같다!\n\n다른 분들의 발표를 들으며 다양한 주제에 재미있게 접근하고, 새로운 것에 도전하는 모습을 보았다. 이런 모습들이 정말 멋지다고 생각한다.. 🙌\n\n<br>\n\n### 사이프톤\n\n![10.JPG](10.JPG)\n\n<br>\n\n사이프톤은 내가 SIPE 운영진을 하면서 기획한 행사이다. 동아리 인원들이 자기의 주제를 발제하고 팀을 꾸려 짧은 시간동안 작은 플랫폼을 만들어내며 대화를 했으면 하는 마음에 기획하였다.\n\n직장인들에게 너무 가혹한 해커톤을 조금이라도 재미있게 해결하고자, 맛있는 간식과 재미있는 이벤트를 통한 상품을 준비했다. ~~짧은 진행 계획도..~~\n\n<br>\n\n![11.JPG](11.JPG)\n\n<br>\n\n처음에는 아주 걱정이 많았다. 하지만 멋진 TF와 운영진들 덕분에 재미있게 행사를 진행할 수 있었고, 사이퍼들과 외부 디자이너들의 열정에 깊은 감동을 받고 **나도 열심히 살아야겠다**는 생각을 불태웠다!! 🔥🔥\n\n<br>\n\n### 후반기 사이데이션\n\n![12.jpg](12.jpg)\n\n<br>\n\n후반기 사이데이션은 2차 미션을 함께할 팀원들과, 어떤 미션을 어떻게 진행할지 오프라인 환경에서 이야기하기위해 기획했다.\n\n<br>\n\n![13.jpg](13.jpg)\n\n<br>\n\n프론트엔드 개발자로 근무하며 모듈, 배포환경 등 다양한 것들을 핸들링하다보니 공부가 불가피하다고 생각이 느껴져 2차 미션에는 사람들과 DevOps에 관해서 공부했다. 도커, CI/CD 환경 등 다양한 관점에 대해 질의응답하고 미션에 관련된 내용을 매주 공유했다.\n\n<br>\n\n### 내친소\n\n![14.jpg](14.jpg)\n\n<br>\n\nSIPE 행사의 최고의 꽃 내친소다. 대부분의 사람들이 제일 기대하고 TF 모집도 가장 적극적으로 이루어졌다. 열정있고 관심있으신 분들이 많이 행사에 참여해주시고 기여해주셔서 다양한 사람들과 인사이트를 공유할 수 있는 행사였다.\n\nSIPE는 개발자들만 있다. 그렇기에 마케터, PM, 디자이너 등 다양한 직군의 사람들과 교류할시간이 없는데, 내친소로 보완하고있다. 사람들과 진로, 삶, 대인관계, 취미 등 다양한 관점으로 이야기를 맛있는 간식과 함께 나눌 수 있는 행사다.\n\nMaybe.. SIPE 3기에도 진행 될 예정이니 꼭꼭!! 참여해보시는 것을 추천드린다!\n\n<br>\n\n### 2차 미션 발표\n\n![15.JPG](15.JPG)\n\n<br>\n\nSIPE의 2차 미션에 대해 발표하고, 장장 4개월동안 진행된 행사에 대해 사람들과 이야기해보는 시간을 가졌다.\n\n하나의 주제를 4개월동안 진행한 분들도 계시고, 2개의 미션에 다른팀에 들어가서 서브 미션까지 진행하시는 분들도 있으셨다. 회사다니고 미션을 하며 사이드를 하시는 분들, 매일 운동을 하시고 바프를 찍으려하시는 분들 등등.. 멋진 분들과 함께한 좋은 시간이었다. 🥰\n\n<br>\n\n### The End...\n\n이렇게 SIPE 2기 활동이 끝났다. 아직 운영진 여행, 사이프 2기 MT, 인프콘, 3기 인수인계 등등... 많은 것들이 남아있지만, 앞으로 일정이 더 바빠질 것을 염두해 미리 작성한다.\n\n<br>\n\n![20.jpeg](20.jpeg)\n\n<br>\n\n먼저 SIPE 2기에 함께해준 분들에게 부족하지만 적극적으로 참여해주셔서 다시한번 감사하다는 말씀을 드리고싶다. 그리고 동아리를 운영하며 도움을 주셧던 분들에게도 다시한번 감사하다는 말씀을 전하고싶다.\n\n사회생활 속에서 동아리 운영은 처음이라 많이 부족한 것을 알고있다. 하지만 좋은 사람들 덕분에 혼자서는 못할 것을 함께여서 진행할 수 있었고, 이렇게 잘 마무리할 수 있었다.\n\nSIPE를 하면서 많은 것이 변했다. 만나는 사람들, 나의 관점, 기술적인 지식 등등..!! 개발자라는 직업을 선택하고 나서 결정한 선택중 가장 뿌듯하고 잘했다고 생각한다.\n\n좋은 분들에게 질좋은 이야기를 듣고, 같이 외국 여행도 다녀오고, 이직을 위해 도움을 주시고, 힘들 때 함께 할 수 **\"사람\"** 을 얻었다. SIPE는 앞으로 지속될 것인데, 나와 같은 니즈가 있는 분들이 많이 신청해서 좋은 영향을 많이 받아가셨으면 좋겠다.\n\n<br>\n\n![22.png](22.png)\n\n<br>\n\n**SIPE는 인프콘에 참여한다!** 인프콘에서 SIPE와 저에게 궁금한 것에 대해 여쭤보셔도 좋다!! 물론, 댓글로도 다양한 이야기를 해주면 좋겠다!!\n\n<br>\n\n![21.jpeg](21.jpeg)\n\n```toc\n\n```\n",
      "html": "<p>불과 1, 2년 전까지만 해도 상상하지 못했던 일들이 나에게 많이 일어났다. 개발자로 취업하게 되고, 이직을 하고, IT 동아리에 참여해 사람들과 교류하고, 심지어 IT 동아리 운영진까지 해보았다.</p>\n<p><img src=\"/content/240717/23.png\" alt=\"23.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>누군가에게는 별일 아닐 수 있겠지만, 얼마 전까지 카페에서 일하고, 경영학과로 취업하기 위해 독서실에서 자격증 공부를 하고 있던 나에게는 큰 변화였다.</p>\n<p>이번 활동으로 좋은 사람들을 많이 만나고, 운영진으로 활동하며 훌륭한 동료들과 함께 많은 것을 배웠다. 이런 경험이 SIPE 3기 신청을 원하는 분들에게 도움이 될 것 같아, SIPE 2기 활동은 어떻게 했고 어떤 행사를 했는지 회고 형식으로 풀어보려고 한다.</p>\n<h3 id=\"sipe-2기-준비\"><a class=\"anchor\" href=\"#sipe-2기-준비\">SIPE 2기 준비</a></h3>\n<p><img src=\"/content/240717/16.jpeg\" alt=\"16.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>SIPE 2기를 위해 6명의 운영진들과 함께 우당탕탕 준비를 시작했다.</p>\n<p>일정 계획을 잡고, 장소를 대관하고, 행사에 필요한 기획안을 작성했다. 그리고 어떤 분들과 2기를 함께하고 싶은지 의견을 모으고, 모집 폼과 홈페이지를 만들어 게시했다.</p>\n<p>준비를 마치고 우리들끼리 깊은 이야기도 나눠볼 겸, 서류 모집 마지막 날에 주문진으로 달려가 맛있는 것도 먹고 대화를 나누었다. 이를 통해 모두가 SIPE를 위해 많은 준비를 했고, 진심을 다하고 있다는 것을 느낄 수 있었다.</p>\n<p>| <img src=\"/content/240717/17.jpeg\" alt=\"17.jpeg\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240717/18.jpeg\" alt=\"18.jpeg\" loading=\"lazy\" decoding=\"async\"> |\n| ------------------- | ------------------- |</p>\n<p><img src=\"/content/240717/19.jpeg\" alt=\"19.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>아직 이름이 널리 알려지지 않았음에도 불구하고, 정말 많은 분들이 동아리에 함께하기 위해 지원해주셔서 감동했다... 부족한 점도 있었지만, 여러 과정을 거쳐 함께 4개월 동안 활동할 인원들을 선정했다. 인원 제한이 있어 더 많은 분들과 함께하지 못한 것이 너무 아쉬울 뿐이다.</p>\n<p>SIPE는 총 8회차로 세션이 진행된다. 격주로 이루어져 있어 16주(4개월)의 시간 동안 2개의 미션을 진행해야 했는데, 어떤 행사들을 했는지 천천히 살펴보자!</p>\n<h3 id=\"orientation\"><a class=\"anchor\" href=\"#orientation\">Orientation</a></h3>\n<p><img src=\"/content/240717/2.jpg\" alt=\"2.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>SIPE 2기의 시작을 알리는 OT(오리엔테이션)를 진행했다. 이 자리에서 서로를 소개하고 이야기를 나누며, 앞으로 SIPE 활동이 어떻게 이루어질지 설명하고 친해지는 시간을 가졌다.</p>\n<p>OT 전에 서로에 대한 소개를 GitHub에 미리 올렸는데, 덕분에 어색함이 좀 줄어든 것 같다! ~~번거롭지만 아주 좋은 아이디어 👍~~ 이날 기존 기수들의 적극적인 리드로 정말 많이 웃고 재미있는 시간을 보냈다. 밤늦게까지 뒤풀이가 이어졌는데, 참가자들의 열정이 가장 뜨거웠던 날이었다! 🔥</p>\n<h3 id=\"사이프챗\"><a class=\"anchor\" href=\"#사이프챗\">사이프챗</a></h3>\n<p><img src=\"/content/240717/3.JPG\" alt=\"3.JPG\" loading=\"lazy\" decoding=\"async\"></p>\n<p>사이프챗을 진행하기 전에 슬랙을 이용해 1차 미션 주제에 대한 투표를 받았다. SIPE 1기 못지않게 이색적이고 재미있는 주제가 많이 나왔다. 이번에는 AI 관련한 미션도 있고, Rust와 같은 언어들도 있고 흥미로웠다.</p>\n<p>여러 주제 중에서 무엇을 선택할지 고민했는데, 1기에서 진행한 미션을 더 발전시키고 싶어 <code>React hook + Closure</code>라는 주제를 선택했다.</p>\n<p><img src=\"/content/240717/4.JPG\" alt=\"4.JPG\" loading=\"lazy\" decoding=\"async\"></p>\n<p>사이프챗에서는 선택한 주제를 가지고 팀원들과 함께 4~5주 동안 어떻게 진행할지 이야기를 나누었다. 토론 끝에 'You Don't Know JS Yet'라는 책을 선택해서 공부하고, 관련 아티클을 읽어 인사이트를 공유하기로 계획했다.</p>\n<h3 id=\"전반기-사이데이션\"><a class=\"anchor\" href=\"#전반기-사이데이션\">전반기 사이데이션</a></h3>\n<p><img src=\"/content/240717/6.jpg\" alt=\"6.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>회사를 다니면서 팀원들과 온라인으로 미션을 진행했다. 하지만 미션만 할 수는 없기에 아이데이션도 하고 팀원들과 색다른 활동을 하며 대화를 나누기 위해 '사이데이션'을 기획했다.</p>\n<p>우리 팀은 사이데이션에서 어떤 활동을 할까 고민했고, 결국 을지로에서 나만의 테라피 오일 만들기와 치킨 먹기를 하기로 했다! 테라피 오일을 만들면서 서로의 고민을 공유하고, 미션에 대한 이야기도 나누었다. 그러다 을지로의 한 치킨집에서 무려 6시간 동안이나 수다를 떨며 재미있는 이야기를 나누었다!</p>\n<h3 id=\"사담콘\"><a class=\"anchor\" href=\"#사담콘\">사담콘</a></h3>\n<p><img src=\"/content/240717/7.JPG\" alt=\"7.JPG\" loading=\"lazy\" decoding=\"async\"></p>\n<p>SIPE 1기에서 가장 인기가 많았던 행사인 사담콘을 이번에는 광화문 시민회관에서 진행했다. 사이퍼들뿐만 아니라 외부 인원까지 신청을 받았는데, 예상보다 모집 인원이 빠르게 차서 감동받았다.</p>\n<p>사담콘과 같은 큰 행사는 사이퍼 내부에서 TF팀을 뽑아 함께 주관했다. 멋진 분들이 다양한 주제로 발표를 해주셨고, 중간에 재미있는 게임도 진행해 주셔서 긴 시간 동안 지루하지 않게 행사에 참여할 수 있었다.</p>\n<p><img src=\"/content/240717/8.JPG\" alt=\"8.JPG\" loading=\"lazy\" decoding=\"async\"></p>\n<p>아직 개발자로서 발표를 해본 적이 없는데, 3기에 참여하게 된다면 나의 첫 동아리에서 첫 발표를 해보고 싶다.. 이건 올해의 버킷리스트로 남기고 꼭꼭 실천할 것이다!! 👏</p>\n<h3 id=\"1차-미션-발표\"><a class=\"anchor\" href=\"#1차-미션-발표\">1차 미션 발표</a></h3>\n<p><img src=\"/content/240717/9.JPG\" alt=\"9.JPG\" loading=\"lazy\" decoding=\"async\"></p>\n<p>짧으면 짧고 길면 긴 5주의 4주의 시간이 지나서 그 동안 공부한 결과물을 다른 사이퍼에게 공유하기 위해 다같이 모였다.</p>\n<p>자세한 글은 이미 작성한 적이 있어서 <strong><a href=\"https://hooninedev.com/240509/\">여기를</a></strong> 확인해주면 좋을 것 같다!</p>\n<p>다른 분들의 발표를 들으며 다양한 주제에 재미있게 접근하고, 새로운 것에 도전하는 모습을 보았다. 이런 모습들이 정말 멋지다고 생각한다.. 🙌</p>\n<h3 id=\"사이프톤\"><a class=\"anchor\" href=\"#사이프톤\">사이프톤</a></h3>\n<p><img src=\"/content/240717/10.JPG\" alt=\"10.JPG\" loading=\"lazy\" decoding=\"async\"></p>\n<p>사이프톤은 내가 SIPE 운영진을 하면서 기획한 행사이다. 동아리 인원들이 자기의 주제를 발제하고 팀을 꾸려 짧은 시간동안 작은 플랫폼을 만들어내며 대화를 했으면 하는 마음에 기획하였다.</p>\n<p>직장인들에게 너무 가혹한 해커톤을 조금이라도 재미있게 해결하고자, 맛있는 간식과 재미있는 이벤트를 통한 상품을 준비했다. ~~짧은 진행 계획도..~~</p>\n<p><img src=\"/content/240717/11.JPG\" alt=\"11.JPG\" loading=\"lazy\" decoding=\"async\"></p>\n<p>처음에는 아주 걱정이 많았다. 하지만 멋진 TF와 운영진들 덕분에 재미있게 행사를 진행할 수 있었고, 사이퍼들과 외부 디자이너들의 열정에 깊은 감동을 받고 <strong>나도 열심히 살아야겠다</strong>는 생각을 불태웠다!! 🔥🔥</p>\n<h3 id=\"후반기-사이데이션\"><a class=\"anchor\" href=\"#후반기-사이데이션\">후반기 사이데이션</a></h3>\n<p><img src=\"/content/240717/12.jpg\" alt=\"12.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>후반기 사이데이션은 2차 미션을 함께할 팀원들과, 어떤 미션을 어떻게 진행할지 오프라인 환경에서 이야기하기위해 기획했다.</p>\n<p><img src=\"/content/240717/13.jpg\" alt=\"13.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>프론트엔드 개발자로 근무하며 모듈, 배포환경 등 다양한 것들을 핸들링하다보니 공부가 불가피하다고 생각이 느껴져 2차 미션에는 사람들과 DevOps에 관해서 공부했다. 도커, CI/CD 환경 등 다양한 관점에 대해 질의응답하고 미션에 관련된 내용을 매주 공유했다.</p>\n<h3 id=\"내친소\"><a class=\"anchor\" href=\"#내친소\">내친소</a></h3>\n<p><img src=\"/content/240717/14.jpg\" alt=\"14.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>SIPE 행사의 최고의 꽃 내친소다. 대부분의 사람들이 제일 기대하고 TF 모집도 가장 적극적으로 이루어졌다. 열정있고 관심있으신 분들이 많이 행사에 참여해주시고 기여해주셔서 다양한 사람들과 인사이트를 공유할 수 있는 행사였다.</p>\n<p>SIPE는 개발자들만 있다. 그렇기에 마케터, PM, 디자이너 등 다양한 직군의 사람들과 교류할시간이 없는데, 내친소로 보완하고있다. 사람들과 진로, 삶, 대인관계, 취미 등 다양한 관점으로 이야기를 맛있는 간식과 함께 나눌 수 있는 행사다.</p>\n<p>Maybe.. SIPE 3기에도 진행 될 예정이니 꼭꼭!! 참여해보시는 것을 추천드린다!</p>\n<h3 id=\"2차-미션-발표\"><a class=\"anchor\" href=\"#2차-미션-발표\">2차 미션 발표</a></h3>\n<p><img src=\"/content/240717/15.JPG\" alt=\"15.JPG\" loading=\"lazy\" decoding=\"async\"></p>\n<p>SIPE의 2차 미션에 대해 발표하고, 장장 4개월동안 진행된 행사에 대해 사람들과 이야기해보는 시간을 가졌다.</p>\n<p>하나의 주제를 4개월동안 진행한 분들도 계시고, 2개의 미션에 다른팀에 들어가서 서브 미션까지 진행하시는 분들도 있으셨다. 회사다니고 미션을 하며 사이드를 하시는 분들, 매일 운동을 하시고 바프를 찍으려하시는 분들 등등.. 멋진 분들과 함께한 좋은 시간이었다. 🥰</p>\n<h3 id=\"the-end\"><a class=\"anchor\" href=\"#the-end\">The End...</a></h3>\n<p>이렇게 SIPE 2기 활동이 끝났다. 아직 운영진 여행, 사이프 2기 MT, 인프콘, 3기 인수인계 등등... 많은 것들이 남아있지만, 앞으로 일정이 더 바빠질 것을 염두해 미리 작성한다.</p>\n<p><img src=\"/content/240717/20.jpeg\" alt=\"20.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>먼저 SIPE 2기에 함께해준 분들에게 부족하지만 적극적으로 참여해주셔서 다시한번 감사하다는 말씀을 드리고싶다. 그리고 동아리를 운영하며 도움을 주셧던 분들에게도 다시한번 감사하다는 말씀을 전하고싶다.</p>\n<p>사회생활 속에서 동아리 운영은 처음이라 많이 부족한 것을 알고있다. 하지만 좋은 사람들 덕분에 혼자서는 못할 것을 함께여서 진행할 수 있었고, 이렇게 잘 마무리할 수 있었다.</p>\n<p>SIPE를 하면서 많은 것이 변했다. 만나는 사람들, 나의 관점, 기술적인 지식 등등..!! 개발자라는 직업을 선택하고 나서 결정한 선택중 가장 뿌듯하고 잘했다고 생각한다.</p>\n<p>좋은 분들에게 질좋은 이야기를 듣고, 같이 외국 여행도 다녀오고, 이직을 위해 도움을 주시고, 힘들 때 함께 할 수 <strong>\"사람\"</strong> 을 얻었다. SIPE는 앞으로 지속될 것인데, 나와 같은 니즈가 있는 분들이 많이 신청해서 좋은 영향을 많이 받아가셨으면 좋겠다.</p>\n<p><img src=\"/content/240717/22.png\" alt=\"22.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p><strong>SIPE는 인프콘에 참여한다!</strong> 인프콘에서 SIPE와 저에게 궁금한 것에 대해 여쭤보셔도 좋다!! 물론, 댓글로도 다양한 이야기를 해주면 좋겠다!!</p>\n<p><img src=\"/content/240717/21.jpeg\" alt=\"21.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240717/index.md",
    "_raw": {
      "sourceFilePath": "240717/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240717",
      "contentType": "markdown",
      "flattenedPath": "240717"
    },
    "type": "Post",
    "slug": "/240717",
    "categoryArray": [
      "일상",
      "대외활동"
    ],
    "readingTime": "15 min read",
    "excerpt": "불과 1, 2년 전까지만 해도 상상하지 못했던 일들이 나에게 많이 일어났다. 개발자로 취업하게 되고, 이직을 하고, IT 동아리에 참여해 사람들과 교류하고, 심지어 IT 동아리 운영진까지 해보았다. 누군가에게는 별일 아닐 수 있겠지만, 얼마 전까지 카페에서 일하고, 경영학과로 취업하기 위해 독서실에서 자격증 공부를 하고 있던 나에게는 큰 변화였다. 이번 활..."
  },
  {
    "title": "프론트엔드 개발자 관점으로 서비스 구현에 대해 생각해보기",
    "date": "2024-07-31T00:00:00.000Z",
    "categories": "프론트엔드",
    "body": {
      "raw": "\n개발을 진행하다 보면 어떤 문제가 생겼을 때 어떤 기술 스택을 선택해서 구현하고자 하는 목표를 해결하기 위해 고민을 한다. 근래 개발을 하면서 익숙한 것들에 편안해져 고민 없이 선택하고 있다는 것을 느꼈다.\n\n그래서 이번에는 프론트엔드 개발자 관점에서 서비스의 한 부분을 구현할 때 어떤 고민을 해서 기술 스택을 결정하고, 어떤 궁금증을 백앤드, 디자이너, 기획자, 데브옵스 등에게 전달해야 하는지 추론해보도록 하겠다.\n\n주어진 문제 상황은 아래와 같다.\n\n<br>\n\n```markdown\n나는 Frontend 개발자야. 사내 개발 구성원에 백앤드, 데브옵스와 인프라, 디자이너, 기획자가 있어.\n\n고객센터를 통해 접수된 사용자 문의사항 중에 자주 접수되는 문의사항들을 FAQ 페이지를 생성해 모아두려고 해.\n\n1. 프론트엔드 개발자 관점에서는 어떤 이유로 기술 스택을 선택해야 할까?\n2. 문제 해결을 위해서 어떤 것을 고려해야 할까?\n3. 팀원들과 어떤 내용을 고민해봐야 할까?\n```\n\n<br>\n\n## 어떤 기술 스택을 선택해야 할까?\n\n기술을 선택하기전에 FAQ 페이지에서 갖춰야 될 특성을 분석해보자. ~~특정 기능에 대해 분석하고 요구사항에 대한 명세를 만들어주는 것은 개발자의 근본적 역할은 아니라고 생각한다.~~\n\n아래는 토스와 네이버의 채용페이지 FAQ 페이지 사진이다.\n\n| ![1.png](1.png) | ![2.png](2.png) |\n| --------------- | --------------- |\n\n<br>\n\n다른 회사의 FAQ 페이지를 더 찾아보면, 다른점이 분명 존재할 수 있겠지만 2개의 회사 공고에 공통적으로 보이는 요소는 페이지네이션, 검색, 상세페이지에서 FAQ를 살펴보기등이 있다.\n\n그럼 프론트엔드 개발자 관점에서 FAQ 기능을 구현할 때 고려해야 할 요소는 어떤 게 있을까?\n\n- SEO 최적화\n- 키워드 기반 강력한 검색 엔진\n- 실시간 FAQ 정보 변경으로 인한 업데이트\n- 효율적인 캐싱 전략으로 서버 부하를 줄이고 페이지 로딩 속도 향상\n\n위 기능 구현을 위해서 기술 스택을 선정하기 위한 과정을 하나씩 생각해보자!\n\n<br>\n\n### SEO 최적화\n\nSEO 최적화 전략을 위해 프론트엔드 개발자는 어떤 것을 신경써야할까?\n\n우선 **SSR을 활용**하면 검색엔진들이 이미 서버쪽에서 만들어진 HTML을 크롤링 가능하기에 검색에 유리할 수 있다. 또한 동적 콘텐츠에 대해 항상 최신 정보를 제공하면서도 초기 로딩 속도를 개선할 수 있고, 정적 페이지를 사전에 생성해 매우 빠른 로딩 속도를 제공한다.\n\n이러한 이유때문에 Next.js를 코어 프레임워크로 선택하는 것을 고려해볼 수 있다. 추가적으로 **Next.js는 React 기반의 프레임워크로, SSR과 SSG를 모두 지원하고, ISR(Incremental Static Regeneration)을 사용하면 정적 페이지의 이점을 유지하면서도 주기적으로 콘텐츠를 업데이트**할 수 있다.\n\n더 나아가 SEO를 강화 하기 위해서, Next SEO나 react-helmet을 사용하여 메타 태그, Open Graph 태그 등을 쉽게 관리할 수 있다. 이러한 도구들은 검색 엔진과 소셜 플랫폼에서 페이지가 더 잘 표현되도록 도와줄 수 있다.\n\n결과적으로 Next.js를 활용하면 검색 엔진 크롤러가 쉽게 콘텐츠를 인덱싱할 수 있고, 사용자에게는 빠르고 반응성 좋은 경험을 제공할 수 있다. 또한, Core Web Vitals와 같은 Google의 주요 순위 요소들을 개선하여 전반적인 SEO 성과를 높일 수 있다.\n\n<br>\n\n### 로딩 속도\n\n앞서 SEO 최적화를 위해 Next.js를 코어 프레임워크로 선택해야겠다고 생각했다. 그러면 로딩 속도 측면에서도 알아보자.\n\n**SSG를 사용**하여 FAQ 페이지, 카테고리 목록 등 자주 변경되지 않는 콘텐츠를 개발하면 빌드 시점에 미리 렌더링이 된다. 그렇게 되면 정적 페이지가 빠르게 로드되고, CDN을 통해 효율적으로 배포 될 수 있다.\n\n**SSR을 이용해** 개별 FAQ 페이지나 검색 결과와 같은 동적 콘텐츠를 개발하게되면 요청 시점에 서버에서 렌더링이 된다. 이러면 항상 최신 데이터를 제공하면서도, 클라이언트 측 렌더링보다 초기 로딩 속도가 빠르게 되어 사용자에게 효율적 UI/UX 환경을 제공할 수 있다.\n\n이러한 하이브리드 렌더링 전략을 사용하여 성능과 콘텐츠 최신성 균형을 유지할 수 있기 때문에 SSG와 SSR 방식을 효율적으로 사용하는 Next.js를 사용하는 것을 고려해볼 수 있다.\n\n<br>\n\n### 성능 최적화\n\n우리는 최적화 전략을 이용해서 **Core Web Vitals의 LCP, FID, CLS를 개선**할 수 있다. 최적화를 필요로 하는 요소가 많지만, FAQ 페이지 특성에서 많이 보이는 요소를 먼저 생각해보자.\n\n네이버와 토스의 FAQ 페이지를 살펴보면 Image 컴포넌트를 사용하고 있다. 그리고 페이지네이션을 이용해 목록을 보여주고, 질문을 클릭하면 상세페이지로 이동하게 된다.\n\n<br>\n\n#### Image 컴포넌트 최적화를 위해서는 어떤 것들을 고려해볼 수 있을까?\n\n아무래도 자동 이미지 최적화를 고려해볼 수 있다. **WebP와 같은 이미지 포맷 변환 방식**을 생각해볼 수 있고, 디바이스 크기에 맞는 **이미지 크기를 미리 준비**하는 것도 방법이다.\n\n**레이지 로딩**을 통해 뷰포트 밖의 이미지 로딩을 지연시켜 초기 페이지 로드 시간을 줄일 수 있고, 이미지가 로드되기 전에 블러 처리된 **작은 이미지를 보여줌**으로써 사용자 경험을 개선할 수 있다.\n\n이미지 최적화를 통해 LCP(Largest Contentful Paint)를 개선하고, 페이지 로드 속도 향상을 기대할 수 있다.\n\n<br>\n\n#### 페이지네이션 최적화\n\n그 다음 **페이지네이션 최적화**를 생각해보자. 페이지네이션을 구현하기 위해서는 다음 페이지에 어떤 데이터가 나올 지 미리 알 수 있거나, 이미 사용자에게 보여진 페이지는 데이터 재호출 없이 바로 보여줄 수 있어야한다.\n\n또한 각 페이지의 데이터를 서버에서 렌더링하여 초기 로드 시간을 줄이고, **프리패치를 선택적으로 구현**할 수 있다.\n\n<br>\n\n#### 페이지 전환\n\n마지막으로 상세 페이지 이동을 위해 어떻게 구현할지 생각해보자.\n\n상세 페이지로 이동을 할 때 **데이터를 미리 fetch**할 수 있다. 그렇게 되면 페이지 전환 시 속도를 향상 시킬 수 있다. 하지만 hover를 이용해 프리패치를 하게되면, 오히려 성능 저하가 발생할 수 있다는 점을 인지하고 기능 구현을 계획해야한다.\n\n**Dynamic import를** 사용하여 필요한 코드만 로드하여 초기 번들 크기를 줄이는 것도 방법이다. 사용자에게 부드러운 이동을 보여줄 수 있도록 고민해보자\n\n성능 최적화를 위해 더 많은 것을 고려할 수 있다. **SWR**을 이용해 데이터 패칭을 최적화 할 수 있고, **React.memo()를** 통해 불필요한 리렌더링을 방지하고, Error Boundary를 잘 구현하여 페이지에서 불필요한 충돌을 방지할 수 있다.\n\n<br>\n\n### 어떤 것을 더 고려해보면 좋을까?\n\n메인 기술 스택을 선정하고 여러 가지 라이브러리를 선택할 때도 고려해야 할 요소가 많다.\n\n클라이언트(Redux, Zustand, Jotai, Recoil 등등..)와 서버 상태관리(React-Query 등등)를 할 수 있다. 이를 통해 서버 상태를 효율적으로 관리하고 캐싱한다. 이는 Time to First Byte (TTFB)를 개선하여 페이지 로딩 속도를 향상하게 시킬 수 있다.\n\n그 다음 스타일적 요소를 위해 CSS Modules나 Styled Components 등과 같은 스타일 라이브러리를 사용할 수 있다. 이는 클린한 DOM 구조를 유지하는 데 도움이 되며, 결과적으로 페이지 성능 개선에 기여할 수 있다.\n\n더 나아가 분석 및 모니터링을 위해 Google Analytics와 Next.js Analytics를 사용하여 사용자 행동과 페이지 성능을 모니터링 할 수 있다. 이렇게 모은 데이터를 바탕으로 지속적인 SEO 최적화를 수행할 수 있다.\n\n```toc\n\n```\n",
      "html": "<p>개발을 진행하다 보면 어떤 문제가 생겼을 때 어떤 기술 스택을 선택해서 구현하고자 하는 목표를 해결하기 위해 고민을 한다. 근래 개발을 하면서 익숙한 것들에 편안해져 고민 없이 선택하고 있다는 것을 느꼈다.</p>\n<p>그래서 이번에는 프론트엔드 개발자 관점에서 서비스의 한 부분을 구현할 때 어떤 고민을 해서 기술 스택을 결정하고, 어떤 궁금증을 백앤드, 디자이너, 기획자, 데브옵스 등에게 전달해야 하는지 추론해보도록 하겠다.</p>\n<p>주어진 문제 상황은 아래와 같다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"markdown\" data-theme=\"github-dark github-light\"><code data-language=\"markdown\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">나는 Frontend 개발자야. 사내 개발 구성원에 백앤드, 데브옵스와 인프라, 디자이너, 기획자가 있어.</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">고객센터를 통해 접수된 사용자 문의사항 중에 자주 접수되는 문의사항들을 FAQ 페이지를 생성해 모아두려고 해.</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">1.</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> 프론트엔드 개발자 관점에서는 어떤 이유로 기술 스택을 선택해야 할까?</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">2.</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> 문제 해결을 위해서 어떤 것을 고려해야 할까?</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">3.</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> 팀원들과 어떤 내용을 고민해봐야 할까?</span></span></code></pre></figure>\n<h2 id=\"어떤-기술-스택을-선택해야-할까\"><a class=\"anchor\" href=\"#어떤-기술-스택을-선택해야-할까\">어떤 기술 스택을 선택해야 할까?</a></h2>\n<p>기술을 선택하기전에 FAQ 페이지에서 갖춰야 될 특성을 분석해보자. ~~특정 기능에 대해 분석하고 요구사항에 대한 명세를 만들어주는 것은 개발자의 근본적 역할은 아니라고 생각한다.~~</p>\n<p>아래는 토스와 네이버의 채용페이지 FAQ 페이지 사진이다.</p>\n<p>| <img src=\"/content/240731/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240731/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"> |\n| --------------- | --------------- |</p>\n<p>다른 회사의 FAQ 페이지를 더 찾아보면, 다른점이 분명 존재할 수 있겠지만 2개의 회사 공고에 공통적으로 보이는 요소는 페이지네이션, 검색, 상세페이지에서 FAQ를 살펴보기등이 있다.</p>\n<p>그럼 프론트엔드 개발자 관점에서 FAQ 기능을 구현할 때 고려해야 할 요소는 어떤 게 있을까?</p>\n<ul>\n<li>SEO 최적화</li>\n<li>키워드 기반 강력한 검색 엔진</li>\n<li>실시간 FAQ 정보 변경으로 인한 업데이트</li>\n<li>효율적인 캐싱 전략으로 서버 부하를 줄이고 페이지 로딩 속도 향상</li>\n</ul>\n<p>위 기능 구현을 위해서 기술 스택을 선정하기 위한 과정을 하나씩 생각해보자!</p>\n<h3 id=\"seo-최적화\"><a class=\"anchor\" href=\"#seo-최적화\">SEO 최적화</a></h3>\n<p>SEO 최적화 전략을 위해 프론트엔드 개발자는 어떤 것을 신경써야할까?</p>\n<p>우선 <strong>SSR을 활용</strong>하면 검색엔진들이 이미 서버쪽에서 만들어진 HTML을 크롤링 가능하기에 검색에 유리할 수 있다. 또한 동적 콘텐츠에 대해 항상 최신 정보를 제공하면서도 초기 로딩 속도를 개선할 수 있고, 정적 페이지를 사전에 생성해 매우 빠른 로딩 속도를 제공한다.</p>\n<p>이러한 이유때문에 Next.js를 코어 프레임워크로 선택하는 것을 고려해볼 수 있다. 추가적으로 <strong>Next.js는 React 기반의 프레임워크로, SSR과 SSG를 모두 지원하고, ISR(Incremental Static Regeneration)을 사용하면 정적 페이지의 이점을 유지하면서도 주기적으로 콘텐츠를 업데이트</strong>할 수 있다.</p>\n<p>더 나아가 SEO를 강화 하기 위해서, Next SEO나 react-helmet을 사용하여 메타 태그, Open Graph 태그 등을 쉽게 관리할 수 있다. 이러한 도구들은 검색 엔진과 소셜 플랫폼에서 페이지가 더 잘 표현되도록 도와줄 수 있다.</p>\n<p>결과적으로 Next.js를 활용하면 검색 엔진 크롤러가 쉽게 콘텐츠를 인덱싱할 수 있고, 사용자에게는 빠르고 반응성 좋은 경험을 제공할 수 있다. 또한, Core Web Vitals와 같은 Google의 주요 순위 요소들을 개선하여 전반적인 SEO 성과를 높일 수 있다.</p>\n<h3 id=\"로딩-속도\"><a class=\"anchor\" href=\"#로딩-속도\">로딩 속도</a></h3>\n<p>앞서 SEO 최적화를 위해 Next.js를 코어 프레임워크로 선택해야겠다고 생각했다. 그러면 로딩 속도 측면에서도 알아보자.</p>\n<p><strong>SSG를 사용</strong>하여 FAQ 페이지, 카테고리 목록 등 자주 변경되지 않는 콘텐츠를 개발하면 빌드 시점에 미리 렌더링이 된다. 그렇게 되면 정적 페이지가 빠르게 로드되고, CDN을 통해 효율적으로 배포 될 수 있다.</p>\n<p><strong>SSR을 이용해</strong> 개별 FAQ 페이지나 검색 결과와 같은 동적 콘텐츠를 개발하게되면 요청 시점에 서버에서 렌더링이 된다. 이러면 항상 최신 데이터를 제공하면서도, 클라이언트 측 렌더링보다 초기 로딩 속도가 빠르게 되어 사용자에게 효율적 UI/UX 환경을 제공할 수 있다.</p>\n<p>이러한 하이브리드 렌더링 전략을 사용하여 성능과 콘텐츠 최신성 균형을 유지할 수 있기 때문에 SSG와 SSR 방식을 효율적으로 사용하는 Next.js를 사용하는 것을 고려해볼 수 있다.</p>\n<h3 id=\"성능-최적화\"><a class=\"anchor\" href=\"#성능-최적화\">성능 최적화</a></h3>\n<p>우리는 최적화 전략을 이용해서 <strong>Core Web Vitals의 LCP, FID, CLS를 개선</strong>할 수 있다. 최적화를 필요로 하는 요소가 많지만, FAQ 페이지 특성에서 많이 보이는 요소를 먼저 생각해보자.</p>\n<p>네이버와 토스의 FAQ 페이지를 살펴보면 Image 컴포넌트를 사용하고 있다. 그리고 페이지네이션을 이용해 목록을 보여주고, 질문을 클릭하면 상세페이지로 이동하게 된다.</p>\n<h4 id=\"image-컴포넌트-최적화를-위해서는-어떤-것들을-고려해볼-수-있을까\"><a class=\"anchor\" href=\"#image-컴포넌트-최적화를-위해서는-어떤-것들을-고려해볼-수-있을까\">Image 컴포넌트 최적화를 위해서는 어떤 것들을 고려해볼 수 있을까?</a></h4>\n<p>아무래도 자동 이미지 최적화를 고려해볼 수 있다. <strong>WebP와 같은 이미지 포맷 변환 방식</strong>을 생각해볼 수 있고, 디바이스 크기에 맞는 <strong>이미지 크기를 미리 준비</strong>하는 것도 방법이다.</p>\n<p><strong>레이지 로딩</strong>을 통해 뷰포트 밖의 이미지 로딩을 지연시켜 초기 페이지 로드 시간을 줄일 수 있고, 이미지가 로드되기 전에 블러 처리된 <strong>작은 이미지를 보여줌</strong>으로써 사용자 경험을 개선할 수 있다.</p>\n<p>이미지 최적화를 통해 LCP(Largest Contentful Paint)를 개선하고, 페이지 로드 속도 향상을 기대할 수 있다.</p>\n<h4 id=\"페이지네이션-최적화\"><a class=\"anchor\" href=\"#페이지네이션-최적화\">페이지네이션 최적화</a></h4>\n<p>그 다음 <strong>페이지네이션 최적화</strong>를 생각해보자. 페이지네이션을 구현하기 위해서는 다음 페이지에 어떤 데이터가 나올 지 미리 알 수 있거나, 이미 사용자에게 보여진 페이지는 데이터 재호출 없이 바로 보여줄 수 있어야한다.</p>\n<p>또한 각 페이지의 데이터를 서버에서 렌더링하여 초기 로드 시간을 줄이고, <strong>프리패치를 선택적으로 구현</strong>할 수 있다.</p>\n<h4 id=\"페이지-전환\"><a class=\"anchor\" href=\"#페이지-전환\">페이지 전환</a></h4>\n<p>마지막으로 상세 페이지 이동을 위해 어떻게 구현할지 생각해보자.</p>\n<p>상세 페이지로 이동을 할 때 <strong>데이터를 미리 fetch</strong>할 수 있다. 그렇게 되면 페이지 전환 시 속도를 향상 시킬 수 있다. 하지만 hover를 이용해 프리패치를 하게되면, 오히려 성능 저하가 발생할 수 있다는 점을 인지하고 기능 구현을 계획해야한다.</p>\n<p><strong>Dynamic import를</strong> 사용하여 필요한 코드만 로드하여 초기 번들 크기를 줄이는 것도 방법이다. 사용자에게 부드러운 이동을 보여줄 수 있도록 고민해보자</p>\n<p>성능 최적화를 위해 더 많은 것을 고려할 수 있다. <strong>SWR</strong>을 이용해 데이터 패칭을 최적화 할 수 있고, <strong>React.memo()를</strong> 통해 불필요한 리렌더링을 방지하고, Error Boundary를 잘 구현하여 페이지에서 불필요한 충돌을 방지할 수 있다.</p>\n<h3 id=\"어떤-것을-더-고려해보면-좋을까\"><a class=\"anchor\" href=\"#어떤-것을-더-고려해보면-좋을까\">어떤 것을 더 고려해보면 좋을까?</a></h3>\n<p>메인 기술 스택을 선정하고 여러 가지 라이브러리를 선택할 때도 고려해야 할 요소가 많다.</p>\n<p>클라이언트(Redux, Zustand, Jotai, Recoil 등등..)와 서버 상태관리(React-Query 등등)를 할 수 있다. 이를 통해 서버 상태를 효율적으로 관리하고 캐싱한다. 이는 Time to First Byte (TTFB)를 개선하여 페이지 로딩 속도를 향상하게 시킬 수 있다.</p>\n<p>그 다음 스타일적 요소를 위해 CSS Modules나 Styled Components 등과 같은 스타일 라이브러리를 사용할 수 있다. 이는 클린한 DOM 구조를 유지하는 데 도움이 되며, 결과적으로 페이지 성능 개선에 기여할 수 있다.</p>\n<p>더 나아가 분석 및 모니터링을 위해 Google Analytics와 Next.js Analytics를 사용하여 사용자 행동과 페이지 성능을 모니터링 할 수 있다. 이렇게 모은 데이터를 바탕으로 지속적인 SEO 최적화를 수행할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240731/index.md",
    "_raw": {
      "sourceFilePath": "240731/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240731",
      "contentType": "markdown",
      "flattenedPath": "240731"
    },
    "type": "Post",
    "slug": "/240731",
    "categoryArray": [
      "프론트엔드"
    ],
    "readingTime": "12 min read",
    "excerpt": "개발을 진행하다 보면 어떤 문제가 생겼을 때 어떤 기술 스택을 선택해서 구현하고자 하는 목표를 해결하기 위해 고민을 한다. 근래 개발을 하면서 익숙한 것들에 편안해져 고민 없이 선택하고 있다는 것을 느꼈다. 그래서 이번에는 프론트엔드 개발자 관점에서 서비스의 한 부분을 구현할 때 어떤 고민을 해서 기술 스택을 결정하고, 어떤 궁금증을 백앤드, 디자이너, 기..."
  },
  {
    "title": "2024 인프콘 후기 with SIPE",
    "date": "2024-08-05T00:00:00.000Z",
    "categories": "대외활동",
    "body": {
      "raw": "\n![26.png](26.png)\n\n<br>\n\n8월 2일 삼성역 코엑스에서 인프랩이 주관하는 **인프콘**이 열렸다. ~~당연히 나는 광탈했다..~~\n\n하지만 인프랩에서 SIPE 부스 홍보의 기회와 네트워킹, 스피커들의 세션에 참여할 수 있는 기회까지 제공해 주셨다. **Thank you 인프랩.. 🥰**\n\n<br>\n\n![1.png](1.png)\n\n<br>\n\n그럼 인프콘은 어떤 행사이고, SIPE는 어떤 동아리이고, 인프콘을 위해서 SIPE는 어떤 것을 준비했는지와 더 나아가 인프콘에서 듣게 된 세션들을 소개해보겠다!!\n\n<br>\n\n## SIPE의 우당탕 인프콘 참여기\n\n동아리 활동이 막바지로 가고 있는데, 인프랩에서 연락이 왔다! 다름 아니라 SIPE를 인프콘 커뮤니티 부스에서 홍보할 수 있도록 자리를 만들어준다는 것이었다!!!!!\n\n![2.jpg](2.jpg)\n\n> 아니 그저 빛.. 우리 같은 아기 동아리에게 이런 행운이..\n\n<br>\n\n급히 동아리 운영진들과 참여에 관해 회의를 진행했다. 2기 활동 마무리를 위해 바쁜 일정이었지만, 다음 기수인 3기 홍보를 위해도 좋다고 판단하여 참여하기로 했다. 그렇게 참여가 결정이 되고, 행사에 관한 내용을 전달받기 위해 인프랩에서 주관해준 커뮤니티 오프라인 행사에 참여했다.\n\n![3.jpeg](3.jpeg)\n\n> 사진 출처 : [홍연의님 링크드인](https://www.linkedin.com/posts/yeoneui-hong_suauiktgo2024-suauikrvc-ittecrnoqwityy-activity-7203743971724988416-bFWM?utm_source=share&utm_medium=member_desktop)\n\n<br>\n\n커뮤니티 부스에는 **[DEPROMEET](https://www.depromeet.com/), [SSAFYnity](https://linktr.ee/ssafynity), [SOPT](https://www.sopt.org/), [YAPP](https://www.yapp.co.kr/)** 이 함께 참여하게 되었다. ~~너무 좋은 동아리들과 함께해서 영광!!~~\n\n우리는 인프랩이 준비해준 맛있는 치킨,피자를 먹으며 다른 동아리 운영진들과 네트워킹을 하며, 인프콘에서 맡게 될 우리의 역할에 대해 전달받았다.\n\n<br>\n\n### 인프콘에 참여한 SIPE\n\n동아리 부스에 방문해주신 분들을 위해 굿즈와 작은 선물과 이벤트를 준비하는 동안 8월 2일이 되었다.\n\n인프콘은 삼성역 코엑스에서 진행되었고, SIPE의 부스는 2층 라운지 4번째 공간을 제공받았다. 공간도 넓고, 접근성이 좋아서 많은 사람이 몰리지 않고 오실 수 있다는 생각을 했다. (아주 좋은 위치를 뽑은 SIPE 부회장님 굿 보이!)\n\n![6.png](6.png)\n\n| ![4.png](4.png) | ![5.png](5.png) |\n| --------------- | --------------- |\n\n<br>\n\n우리는 귀여운 스티커들과 팔로우 이벤트를 통한 커피 이벤트를 준비했다. 많은 분이 참여해주시고 좋아해주셨다!! ~~동아리 인스타 팔로워가 2배이상 늘게었다.. 화력🔥🔥🔥~~\n\n<br>\n\n| ![7.JPG](7.JPG) | ![8.JPG](8.JPG) |\n| --------------- | --------------- |\n\n<br>\n\n운영진 몇 분이 개인 사정 때문에 오시지 못해 일손이 부족했는데, 미진님이랑 동생분이 인프콘에 참여해서 시간 날 때마다 부스를 열심히 도와주셔서 쉽게 마무리할 수 있었다. 고마워요..! 😊🙏\n\n<br>\n\n### SIPE 3기에 대한 Q/A\n\n동아리 부스에 오셔서 많은 분께서 질문을 해주셨는데, 많은 분이 또 궁금해하실 것 같아서 간단히 적어보겠다!\n\n<br>\n\n![9.png](9.png)\n\n<br>\n\n#### Q1. SIPE는 어떤 동아리인가요?\n\n다수의 IT 커뮤니티들은 주어진 기간 동안 프로젝트를 완성하고 배포하는 목표가 있다. 단기간에 팀원들과 서비스를 만들어가는 경험은 굉장히 매력적이지만, 각자가 생각하는 프로젝트의 규모, 방향성, 목표가 다를 경우 모두가 만족스러운 결과물을 얻기에는 다소 어려움이 발생하곤 한다.\n\n시간이 지날수록 사이드 프로젝트의 한계를 느낌에 따라 서비스를 고도화하기 보다는 함께 하는 사람들과의 네트워킹에 더 집중하는 현상을 발견했고, 많은 사람이 프로젝트를 완성해야 한다는 부담감을 느끼는 모습을 볼 수 있었다.\n\n그래서 **사이드 프로젝트에 집중하는 것이 아닌 네트워킹을 중심으로 함께 성장할 수 있는 자유로운 분위기를 만들어보자는 생각 속에서, SIPE가 생겨났다.**\n\nSIPE는 구성원들이 본인만의 성장 방식을 찾고 나아갈 수 있도록 도와주는 역할을 한다. 이를 통해 열정적으로 인사이트를 공유하고, 모두의 성장을 위해 긍정적인 영향력을 공유할 수 있는 집단을 만들게 된다.\n\n<br>\n\n#### Q2. 동아리 진행 방식이 어떻게 되나요?\n\n4달 동안 2번의 미션을 진행하며 직무과 관련된 내용을 학습하고 공유하고 있다.\n\n그리고 **사이프챗, 내친소(내 친구를 소개합니다)를** 통해 같은 업계 종사자들을 만나 대화를 하며 인사이트를 넓히고있다. 또한 **사담콘(컨퍼런스), 사이프톤(사이프 해커톤)을** 통해 본인이 습득한 지식 또는 경험을 나눌 수 있다.\n\n기수와 관계없이 모두가 참여할 수 있는 비공식 활동(러닝/클라이밍/풋살과 같은 운동, 주차별 회고, 매주 아티클 읽기 등) 또한 활발하게 진행되고 있다.\n\n<br>\n\n#### Q3. 동아리에 가입하기 위해선 어떻게 해야 하고, 어떤 사람을 원하나요?\n\n![10.jpg](10.jpg)\n\n<br>\n\nSIPE는 **구성원들의 성장에 긍정적인 영향을 끼칠 수 있는 사람을 선호한다.**\n\n각자 원하는 방식의 성장을 임팩트 있게 이루기 위해서는 성장 과정을 교류하는 사람이 무척 중요하다고 생각한다. 그러므로 어떤 면이든 배울 점이 있는 사람을 우선하여 선발하고 있다.\n\n우리는 다양하거나 깊이 있는 경험을 쌓은 사람(동아리/커뮤니티/스터디/교육 참여 또는 운영, 사이드 프로젝트, 기술 관련 발표, 커리어 패스 등) 또는 성실하고 책임감 있는 사람 (깃허브, 블로그, 사이드 프로젝트/대외활동 기간 및 횟수)이 우리와 함께하길 원한다!!\n\n<br>\n\n#### Q4. SIPE 활동중 가장 인상적인 활동?\n\n**사담콘, 내친소**와 같이 다양한 사람들과 함께하는 활동들이 인상적이었\n다는 말을 많이 들었다. 아마 발표를 해보고 싶지만 기술적이고, 깊은 주제에 어려움을 느끼셔서, 자신의 경험을 시작으로 발표할 수 있는 용기를 얻게 된 것과 친구들을 데리고 와 동아리를 소개하고, 다른 친구들을 소개받는 활동이기 때문이라 생각한다.\n\n그리고 **각 행사의 TF를** 해보며 동아리 운영을 직접 해볼 수 있다는 점도 인상적이라고 이야기를 많이 들었다!!\n\n<br>\n\n#### Q5. 3기는 언제, 어떻게 진행될 예정이에요?\n\n3기에는 사이프라는 동아리가 줬던 가치 중에서도 **\"기술적 영감, 네트워킹\"** 에 좀 더 초점을 맞추고 활동을 할 예정이라 한다. 또한 기존 동아리에서도 겪을만한 **\"자신의 활동 그룹(조) 외의 사람들과 네트워킹을 하기가 어려움\"** 이라는 문제를 해결하기 위한 프로그램 구성할 예정이니, 동일한 고민을 하고 있으면 지원해보자!\n\n![11.png](11.png)\n\n<br>\n\n활동은 **10월 초 ~ 중에** 시작 예상하고, 일정은 2주 1회 오프라인 모임에, 8회차로, 기존 사이프 행사들을 멋지게 가다듬어 진행할 예정이니 많은 관심 부탁한다~!!\n\n<br>\n\n## 인프콘 세션 활동\n\n| ![12.jpg](12.jpg) | ![13.jpg](13.jpg) |\n| ----------------- | ----------------- |\n\n<br>\n\n우리에게 스피커의 발표에 참석할 기회가 주어졌다. 그래서 나는 3가지 세션과 네트워킹 모임에 참여했다.\n\n모든 세션이 경험, 기술에 관해 밸런스가 잘 맞춰져 있었고, 좋은 스피커 분들이 많이 계셔 인상적인 발표를 들을 수 있었다. 모든 세션을 듣고 싶었지만.. Vite 플러그인.. 아쉽다.... 동영상이 올라오면 좋겠다!)\n\n<br>\n\n| ![18.jpg](18.jpg) | ![20.jpg](20.jpg) |\n| ----------------- | ----------------- |\n\n<br>\n\n### 7년 동안 하나 만들었습니다: 프론트엔드 개발의 결정적 순간들 - 이찬희님(AB180)\n\n![21.jpg](21.jpg)\n\n찬희님 발표에서는 단순한 작업으로 시작한 플랫폼이 큰 고객이 들어오면서 발생한 문제들에 소개해주셨다. 그리고 문제 해결을 위한 선택들을 통해 얻은 교훈들을 이야기해주셨다.\n\n서비스가 커지면서 API가 느려지고, 서버가 다운되는 현상이 발견되었다. 이런 상황일 때 백앤드 입장에서는 페이지네이션을 고려하면 되었지만 프론트는 어떻게 처리할지 난감하셨다. 결국 메타데이터가 일부만 존재하게 되니 불완전한 UI가 되어버렸다.\n\n데이터 양과 변화량이 UI에 큰 영향을 끼치기때문에 데이터의 참조를 쉽게 해야 된다. 자주 쓰는 값을 기준으로 묶어서 정규화(Normalization)로 만들거나, 양도 많고, 참조도 빈번하면 Map을 사용하자. (빠른 성능과 가독성이 높아진다)\n\n기술에는 편향이 있기에 신뢰할 수 없다. 어떤 기술 도입과정에서 벤치마크와 측정자료가 잘못된 것은 아니다. 하지만 마음이 급하면 편향이 된다.. 유리한 것만 POC하는 것은 안 좋다. 이럴 때 문제를 원초적으로 해결하는 방법은 문제를 뒤집어서 원천적 이유를 찾으면 다양한 해결법이 존재한다.(리팩토링의 결론은 레거시들을 가지고 유산을 만들기)\n\n찬희님 발표에서 인상적인 부분은 마지막에 전달해주신 나 자신에게 하는 질문인 **나만의 결정적 순간은 꿈꿔보고 생각해보자!** 이었다. 올해의 2/3가 지나간 만큼 생각해보면 좋을 것 같다!\n\n<br>\n\n### Next.js 블로그 모범 사례 탐구: Vercel 리더십 블로그 아키텍처 파헤치기 - 하조은님(당근)\n\n![15.jpg](15.jpg)\n\n| ![16.jpg](16.jpg) | ![17.jpg](17.jpg) |\n| ----------------- | ----------------- |\n\n두 번째 조은님의 발표는 Next.js를 만든 Vercel의 Guillermo Rauch와 Lee Robinson의 블로그를 비교하며 Next.js의 다양한 기능을 탐구하는 세션이었다.\n\nView Count 구현 방식(Guillermo: Redis, Lee: PostgreSQL), MDX를 통한 콘텐츠 데이터 관리, 그리고 ISR과 PPR 렌더링 방식에 대한 것과 Open Graph 이미지와 JSON-LD를 활용한 SEO 기법도 다루었다.\n\n블로그를 처음 만들 때 Vercel의 블로그에 대해 찾아본 적 있었는데, 이런 접근을 가지고 깊이 탐구하는 자세를 배워야겠다는 다짐을 하였다\n\n<br>\n\n### 처음으로 기술 리더가 된 개발자를 위한 안내서 - 박서진님(토스)\n\n![14.jpg](14.jpg)\n\n토스팀에서 리더의 역할을 하면서 리더들이 겪는 문제들을 살펴보고, \"신뢰의 7가지 요소\"라고 하는 키워드 중심으로, 어떻게 단계적으로 조직에서 역할에 익숙할 수 있을지 알아보는 시간을 가졌다.\n\n내가 생각한 리더의 역량에는 강한 기술력과 의견제시를 통한 팀원 포용력을 생각했다. 하지만 생각보다 고려해야 할 요소가 많다는 것을 알게 되었다.\n\n팀을 위해 본인이 갖춰야 될 자세와 관점에 대해, 팀원과 리더의 밸런스 등 다양한 요소들을 고려해야 한다는 것을 새롭게 알게 되었다. 지금은 주니어지만 언젠가 리더가 될 수 있기에 항상 준비하고, 배우고 의견을 제시하는 자세를 갖춰야겠다!\n\n<br>\n\n### 인프콘의 네트워킹 파티와 라이트닝 토크\n\n![22.jpg](22.jpg)\n\n인프콘의 세션 중간에 라이트닝 토크가 2층 행사장에서 열렸다. 라이트닝 토크에 미리 발제를 해주신 분들을 찾아 회사에 관한 이야기, 요즘 취미와 관심사, 개발에 대한 네트워킹을 했다.\n\n다른 컨퍼런스에서는 세션(강의)이 많기에 네트워킹을 할 시간이 부족하거나 없었다. 하지만 인프콘에서는 시간과 공간을 마련해주어, 다양한 사람들과 다양한 주제를 가지고 의견을 공유할 수 있다는 점이 인상적이었다.\n\n네트워킹 파티에서는 직군마다 가지고 있는 고민에 대해 비슷한 관심사끼리 모여 이야기를 나눌 수 있었다. 짧은 시간이 아닌 긴 시간 동안 다양한 이야기를 할 수 있다는 점이 좋았다.\n\n<br>\n\n## 커뮤니티 부스\n\n![19.jpg](19.jpg)\n\n요즘 IT 직군의 많은 사람이 동아리와 컨퍼런스에 참여하기를 원한다. 하지만 높은 경쟁률로 참여하는 것은 둘째로, 동아리에 대해 직접적인 질문을 하거나, 구성원과 대화해볼 수 없다는 것이 아쉬웠다.\n\n인프랩에서 IT 직군의 커뮤니티 활성화를 통해 위와 같은 간극을 줄이기 위해 커뮤니티 부스를 두었다고 생각한다.\n\n이를 통해 예비지원자분에게 질문을 받고 홍보를 할 수 있는 시간을 가질 수 있었다!! 내 블로그에 방문하시는 예비지원자분을 위해 SIPE를 비롯한 인프콘 커뮤니티 부스에 참여했던 동아리들을 소개해보려 한다!\n\n> SIPE는 위에 상세하게 적어두었기에 참조하면 좋을 것 같다!\n\n<br>\n\n### Depromeet\n\n| ![27.png](27.png) | ![28.png](28.png) |\n| ----------------- | ----------------- |\n\n**디프만은 디자이너와 개발자가 만나 서비스 런칭부터 개선까지 경험하며 동반 성장하는 IT 연합 동아리다.** 8년 이상 운영 기간 동안 1,000명 이상의 누적 활동 인원과, 60개 이상의 론칭 서비스를 자랑한다.\n\n좋은 아이디어를 기반으로 한 서비스가 매번 출시되고, 구성원들(기획, 디자이너, 개발자)과 좋은 교류 활동으로 활동을 이어나가고 있다.\n\n다른 동아리와 대외 활동을 하면서 디프만 수료하신 분들을 많이 만났는데, 하나같이 실력도 좋고 성격도 좋으셔서 나도 관심을 많이 가지고 있다!!\n\n<br>\n\n### SOPT\n\n| ![29.jpeg](29.jpeg) | ![30.jpeg](30.jpeg) |\n| ------------------- | ------------------- |\n\n**SOPT(솝트)는 국내 최대 규모의 대학생연합 IT벤처창업 동아리로**, IT창업 및 기획/디자인/개발에 관심있는 대학생들이 함께 모여 활동하고 있다.\n\n2008년부터 지난 17년 간 3,300명이 넘는 회원이 300개가 넘는 서비스를 만들정도로 탄탄한 동아리다.\n\n세미나, 스터디, 멘토링, 컨퍼런스, 해커톤, 네트워킹 등 모든 행사를 직접 기획해 진행하며 대학생들의 열정을 함께 외치며 도전하는 커뮤니티니 이런 니즈가 있으신 분들 지원해보면 좋을 것 같다!\n\n간혹 SOPT 분들과 같이 운동하고, 대외활동에서 만나고 있는데 정말 열정 가득하시다!! 대학생이면 꼭 해보는 것을 추천한다!! ~~나도 하고싶다.. 진짜 하고싶다.. 몇년만 어렸어도 흑흑.. 😢~~\n\n<br>\n\n### SSAFYnity\n\n| ![31.png](31.png) | ![32.png](32.png) |\n| ----------------- | ----------------- |\n\n**SSAFYnity는 삼성청년SW아카데미(SSAFY) 동문회다.**\n\nSSAFYnity는 분기별로 싸피인의밤, SSAFYnale 기술컨퍼런스, 가을 체육대회, SSAFYnity 세미나 등 다양한 행사를 진행하고 있다. 그뿐만 아니라 다양한 동아리 활동, MT 등 커뮤니티 활동도 진행하고 있다.\n\n저번 유닛에서 주관하는 해커톤에 SSAFY를 진행하고 있는 동생과 해커톤을 즐겁게 한 기억이 있다.\n\n<br>\n\n### YAPP\n\n| ![33.jpeg](33.jpeg) | ![34.jpeg](34.jpeg) | ![35.jpeg](35.jpeg) |\n| ------------------- | ------------------- | ------------------- |\n\nYAPP은 14년간의 역사를 자랑하는 400명 이상의 IT 인재 커뮤니티로, **\"작은 아이디어로 세상에 변화를 이끈다\"는** 목표 아래 도전의 기회와 성장의 환경을 제공하며, 프로덕트 기획부터 창업 지원까지 다양한 활동을 통해 차세대 IT 리더와 혁신가를 양성하는 커뮤니티다.\n\n매번 멋진 서비스를 만들어내는 YAPP도 관심이 많다!! 유니톤에서 인연을 맺은 준수님께서 YAPP에서 음악 관련 서비스를 만들고 있던데 정말 멋지다!! YAPP에서 만든 여비도 사용해보았는데 정말 잘만들었으니 꼭꼭 사용해보길!!\n\n![36.png](36.png)\n\n~~계획한 일 잘 정리하고 지원해볼 예정이다! ~~\n\n<br>\n\n## 마무리\n\n| ![37.jpg](37.jpg) | ![25.jpg](25.jpg) |\n| ----------------- | ----------------- |\n\n이렇게 인프콘이 마무리되었다! 아주 힘든 시간이었다! 감사한 분들 덕분에, 좋은 경험을 할 수 있었다.\n\n먼저 인프콘에 참가할 기회를 주신 인프랩 다시 한번 감사드립니다. SIPE 2기의 인프콘 참여를 위해 후원해주신 분께도 너무 감사드립니다.\n\n이렇게 SIPE 2기도 마무리되었다. 행사에 참여하지 못했지만, 진행을 위해 고생 많이 한 **성민님, 민준님 정말 감사합니다!!!** 그리고 당일에 힘 많이 쓴 **진욱님, 신원님, 지원님 고생 많으셨고 감사합니다!!** 놀러 와서 일하게 된 **미진님, 미진님 동생분도 정말 감사드립니다!!!!**\n\n행사를 위해 많은 조언과 지원을 해주신 **유닛 감사합니다!**\n\n![23.gif](23.gif)\n\n<br>\n\n좋은 분들 덕분에 많은 경험을 하고, 좋은 세션과 네트워킹 때문에 많은 것을 배운 하루였다. 동아리에서 작은 행사만 해보아서, 어느 정도로 인프랩 직원분들과 봉사하시는 분들께서 힘들셨을 지 감이 오지 않지만, 다시 한번 고생 많으셨고 감사하단 말씀 드리고 싶다.\n\n인프랩의 오픈 세션에서 **이형주님, 이동욱님, 홍연의님**의 발표에서 말씀하신 것처럼 매년 성장을 위해 노력하시는 것이 정말 잘 보이는 행사였다. 인프랩의 앞으로가 정말 기대된다.\n\n<br>\n\n![24.jpg](24.jpg)\n\n<br>\n\n지금까지 인프콘에서 800개의 부채를 나눠준 부채왕이었다! Thank you~!!\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/240805/26.png\" alt=\"26.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>8월 2일 삼성역 코엑스에서 인프랩이 주관하는 <strong>인프콘</strong>이 열렸다. ~~당연히 나는 광탈했다..~~</p>\n<p>하지만 인프랩에서 SIPE 부스 홍보의 기회와 네트워킹, 스피커들의 세션에 참여할 수 있는 기회까지 제공해 주셨다. <strong>Thank you 인프랩.. 🥰</strong></p>\n<p><img src=\"/content/240805/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>그럼 인프콘은 어떤 행사이고, SIPE는 어떤 동아리이고, 인프콘을 위해서 SIPE는 어떤 것을 준비했는지와 더 나아가 인프콘에서 듣게 된 세션들을 소개해보겠다!!</p>\n<h2 id=\"sipe의-우당탕-인프콘-참여기\"><a class=\"anchor\" href=\"#sipe의-우당탕-인프콘-참여기\">SIPE의 우당탕 인프콘 참여기</a></h2>\n<p>동아리 활동이 막바지로 가고 있는데, 인프랩에서 연락이 왔다! 다름 아니라 SIPE를 인프콘 커뮤니티 부스에서 홍보할 수 있도록 자리를 만들어준다는 것이었다!!!!!</p>\n<p><img src=\"/content/240805/2.jpg\" alt=\"2.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>아니 그저 빛.. 우리 같은 아기 동아리에게 이런 행운이..</p>\n</blockquote>\n<p>급히 동아리 운영진들과 참여에 관해 회의를 진행했다. 2기 활동 마무리를 위해 바쁜 일정이었지만, 다음 기수인 3기 홍보를 위해도 좋다고 판단하여 참여하기로 했다. 그렇게 참여가 결정이 되고, 행사에 관한 내용을 전달받기 위해 인프랩에서 주관해준 커뮤니티 오프라인 행사에 참여했다.</p>\n<p><img src=\"/content/240805/3.jpeg\" alt=\"3.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<blockquote>\n<p>사진 출처 : <a href=\"https://www.linkedin.com/posts/yeoneui-hong_suauiktgo2024-suauikrvc-ittecrnoqwityy-activity-7203743971724988416-bFWM?utm_source=share&#x26;utm_medium=member_desktop\">홍연의님 링크드인</a></p>\n</blockquote>\n<p>커뮤니티 부스에는 <strong><a href=\"https://www.depromeet.com/\">DEPROMEET</a>, <a href=\"https://linktr.ee/ssafynity\">SSAFYnity</a>, <a href=\"https://www.sopt.org/\">SOPT</a>, <a href=\"https://www.yapp.co.kr/\">YAPP</a></strong> 이 함께 참여하게 되었다. ~~너무 좋은 동아리들과 함께해서 영광!!~~</p>\n<p>우리는 인프랩이 준비해준 맛있는 치킨,피자를 먹으며 다른 동아리 운영진들과 네트워킹을 하며, 인프콘에서 맡게 될 우리의 역할에 대해 전달받았다.</p>\n<h3 id=\"인프콘에-참여한-sipe\"><a class=\"anchor\" href=\"#인프콘에-참여한-sipe\">인프콘에 참여한 SIPE</a></h3>\n<p>동아리 부스에 방문해주신 분들을 위해 굿즈와 작은 선물과 이벤트를 준비하는 동안 8월 2일이 되었다.</p>\n<p>인프콘은 삼성역 코엑스에서 진행되었고, SIPE의 부스는 2층 라운지 4번째 공간을 제공받았다. 공간도 넓고, 접근성이 좋아서 많은 사람이 몰리지 않고 오실 수 있다는 생각을 했다. (아주 좋은 위치를 뽑은 SIPE 부회장님 굿 보이!)</p>\n<p><img src=\"/content/240805/6.png\" alt=\"6.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>| <img src=\"/content/240805/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240805/5.png\" alt=\"5.png\" loading=\"lazy\" decoding=\"async\"> |\n| --------------- | --------------- |</p>\n<p>우리는 귀여운 스티커들과 팔로우 이벤트를 통한 커피 이벤트를 준비했다. 많은 분이 참여해주시고 좋아해주셨다!! ~~동아리 인스타 팔로워가 2배이상 늘게었다.. 화력🔥🔥🔥~~</p>\n<p>| <img src=\"/content/240805/7.JPG\" alt=\"7.JPG\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240805/8.JPG\" alt=\"8.JPG\" loading=\"lazy\" decoding=\"async\"> |\n| --------------- | --------------- |</p>\n<p>운영진 몇 분이 개인 사정 때문에 오시지 못해 일손이 부족했는데, 미진님이랑 동생분이 인프콘에 참여해서 시간 날 때마다 부스를 열심히 도와주셔서 쉽게 마무리할 수 있었다. 고마워요..! 😊🙏</p>\n<h3 id=\"sipe-3기에-대한-qa\"><a class=\"anchor\" href=\"#sipe-3기에-대한-qa\">SIPE 3기에 대한 Q/A</a></h3>\n<p>동아리 부스에 오셔서 많은 분께서 질문을 해주셨는데, 많은 분이 또 궁금해하실 것 같아서 간단히 적어보겠다!</p>\n<p><img src=\"/content/240805/9.png\" alt=\"9.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h4 id=\"q1-sipe는-어떤-동아리인가요\"><a class=\"anchor\" href=\"#q1-sipe는-어떤-동아리인가요\">Q1. SIPE는 어떤 동아리인가요?</a></h4>\n<p>다수의 IT 커뮤니티들은 주어진 기간 동안 프로젝트를 완성하고 배포하는 목표가 있다. 단기간에 팀원들과 서비스를 만들어가는 경험은 굉장히 매력적이지만, 각자가 생각하는 프로젝트의 규모, 방향성, 목표가 다를 경우 모두가 만족스러운 결과물을 얻기에는 다소 어려움이 발생하곤 한다.</p>\n<p>시간이 지날수록 사이드 프로젝트의 한계를 느낌에 따라 서비스를 고도화하기 보다는 함께 하는 사람들과의 네트워킹에 더 집중하는 현상을 발견했고, 많은 사람이 프로젝트를 완성해야 한다는 부담감을 느끼는 모습을 볼 수 있었다.</p>\n<p>그래서 <strong>사이드 프로젝트에 집중하는 것이 아닌 네트워킹을 중심으로 함께 성장할 수 있는 자유로운 분위기를 만들어보자는 생각 속에서, SIPE가 생겨났다.</strong></p>\n<p>SIPE는 구성원들이 본인만의 성장 방식을 찾고 나아갈 수 있도록 도와주는 역할을 한다. 이를 통해 열정적으로 인사이트를 공유하고, 모두의 성장을 위해 긍정적인 영향력을 공유할 수 있는 집단을 만들게 된다.</p>\n<h4 id=\"q2-동아리-진행-방식이-어떻게-되나요\"><a class=\"anchor\" href=\"#q2-동아리-진행-방식이-어떻게-되나요\">Q2. 동아리 진행 방식이 어떻게 되나요?</a></h4>\n<p>4달 동안 2번의 미션을 진행하며 직무과 관련된 내용을 학습하고 공유하고 있다.</p>\n<p>그리고 <strong>사이프챗, 내친소(내 친구를 소개합니다)를</strong> 통해 같은 업계 종사자들을 만나 대화를 하며 인사이트를 넓히고있다. 또한 <strong>사담콘(컨퍼런스), 사이프톤(사이프 해커톤)을</strong> 통해 본인이 습득한 지식 또는 경험을 나눌 수 있다.</p>\n<p>기수와 관계없이 모두가 참여할 수 있는 비공식 활동(러닝/클라이밍/풋살과 같은 운동, 주차별 회고, 매주 아티클 읽기 등) 또한 활발하게 진행되고 있다.</p>\n<h4 id=\"q3-동아리에-가입하기-위해선-어떻게-해야-하고-어떤-사람을-원하나요\"><a class=\"anchor\" href=\"#q3-동아리에-가입하기-위해선-어떻게-해야-하고-어떤-사람을-원하나요\">Q3. 동아리에 가입하기 위해선 어떻게 해야 하고, 어떤 사람을 원하나요?</a></h4>\n<p><img src=\"/content/240805/10.jpg\" alt=\"10.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>SIPE는 <strong>구성원들의 성장에 긍정적인 영향을 끼칠 수 있는 사람을 선호한다.</strong></p>\n<p>각자 원하는 방식의 성장을 임팩트 있게 이루기 위해서는 성장 과정을 교류하는 사람이 무척 중요하다고 생각한다. 그러므로 어떤 면이든 배울 점이 있는 사람을 우선하여 선발하고 있다.</p>\n<p>우리는 다양하거나 깊이 있는 경험을 쌓은 사람(동아리/커뮤니티/스터디/교육 참여 또는 운영, 사이드 프로젝트, 기술 관련 발표, 커리어 패스 등) 또는 성실하고 책임감 있는 사람 (깃허브, 블로그, 사이드 프로젝트/대외활동 기간 및 횟수)이 우리와 함께하길 원한다!!</p>\n<h4 id=\"q4-sipe-활동중-가장-인상적인-활동\"><a class=\"anchor\" href=\"#q4-sipe-활동중-가장-인상적인-활동\">Q4. SIPE 활동중 가장 인상적인 활동?</a></h4>\n<p><strong>사담콘, 내친소</strong>와 같이 다양한 사람들과 함께하는 활동들이 인상적이었\n다는 말을 많이 들었다. 아마 발표를 해보고 싶지만 기술적이고, 깊은 주제에 어려움을 느끼셔서, 자신의 경험을 시작으로 발표할 수 있는 용기를 얻게 된 것과 친구들을 데리고 와 동아리를 소개하고, 다른 친구들을 소개받는 활동이기 때문이라 생각한다.</p>\n<p>그리고 <strong>각 행사의 TF를</strong> 해보며 동아리 운영을 직접 해볼 수 있다는 점도 인상적이라고 이야기를 많이 들었다!!</p>\n<h4 id=\"q5-3기는-언제-어떻게-진행될-예정이에요\"><a class=\"anchor\" href=\"#q5-3기는-언제-어떻게-진행될-예정이에요\">Q5. 3기는 언제, 어떻게 진행될 예정이에요?</a></h4>\n<p>3기에는 사이프라는 동아리가 줬던 가치 중에서도 <strong>\"기술적 영감, 네트워킹\"</strong> 에 좀 더 초점을 맞추고 활동을 할 예정이라 한다. 또한 기존 동아리에서도 겪을만한 <strong>\"자신의 활동 그룹(조) 외의 사람들과 네트워킹을 하기가 어려움\"</strong> 이라는 문제를 해결하기 위한 프로그램 구성할 예정이니, 동일한 고민을 하고 있으면 지원해보자!</p>\n<p><img src=\"/content/240805/11.png\" alt=\"11.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>활동은 <strong>10월 초 ~ 중에</strong> 시작 예상하고, 일정은 2주 1회 오프라인 모임에, 8회차로, 기존 사이프 행사들을 멋지게 가다듬어 진행할 예정이니 많은 관심 부탁한다~!!</p>\n<h2 id=\"인프콘-세션-활동\"><a class=\"anchor\" href=\"#인프콘-세션-활동\">인프콘 세션 활동</a></h2>\n<p>| <img src=\"/content/240805/12.jpg\" alt=\"12.jpg\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240805/13.jpg\" alt=\"13.jpg\" loading=\"lazy\" decoding=\"async\"> |\n| ----------------- | ----------------- |</p>\n<p>우리에게 스피커의 발표에 참석할 기회가 주어졌다. 그래서 나는 3가지 세션과 네트워킹 모임에 참여했다.</p>\n<p>모든 세션이 경험, 기술에 관해 밸런스가 잘 맞춰져 있었고, 좋은 스피커 분들이 많이 계셔 인상적인 발표를 들을 수 있었다. 모든 세션을 듣고 싶었지만.. Vite 플러그인.. 아쉽다.... 동영상이 올라오면 좋겠다!)</p>\n<p>| <img src=\"/content/240805/18.jpg\" alt=\"18.jpg\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240805/20.jpg\" alt=\"20.jpg\" loading=\"lazy\" decoding=\"async\"> |\n| ----------------- | ----------------- |</p>\n<h3 id=\"7년-동안-하나-만들었습니다-프론트엔드-개발의-결정적-순간들---이찬희님ab180\"><a class=\"anchor\" href=\"#7년-동안-하나-만들었습니다-프론트엔드-개발의-결정적-순간들---이찬희님ab180\">7년 동안 하나 만들었습니다: 프론트엔드 개발의 결정적 순간들 - 이찬희님(AB180)</a></h3>\n<p><img src=\"/content/240805/21.jpg\" alt=\"21.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>찬희님 발표에서는 단순한 작업으로 시작한 플랫폼이 큰 고객이 들어오면서 발생한 문제들에 소개해주셨다. 그리고 문제 해결을 위한 선택들을 통해 얻은 교훈들을 이야기해주셨다.</p>\n<p>서비스가 커지면서 API가 느려지고, 서버가 다운되는 현상이 발견되었다. 이런 상황일 때 백앤드 입장에서는 페이지네이션을 고려하면 되었지만 프론트는 어떻게 처리할지 난감하셨다. 결국 메타데이터가 일부만 존재하게 되니 불완전한 UI가 되어버렸다.</p>\n<p>데이터 양과 변화량이 UI에 큰 영향을 끼치기때문에 데이터의 참조를 쉽게 해야 된다. 자주 쓰는 값을 기준으로 묶어서 정규화(Normalization)로 만들거나, 양도 많고, 참조도 빈번하면 Map을 사용하자. (빠른 성능과 가독성이 높아진다)</p>\n<p>기술에는 편향이 있기에 신뢰할 수 없다. 어떤 기술 도입과정에서 벤치마크와 측정자료가 잘못된 것은 아니다. 하지만 마음이 급하면 편향이 된다.. 유리한 것만 POC하는 것은 안 좋다. 이럴 때 문제를 원초적으로 해결하는 방법은 문제를 뒤집어서 원천적 이유를 찾으면 다양한 해결법이 존재한다.(리팩토링의 결론은 레거시들을 가지고 유산을 만들기)</p>\n<p>찬희님 발표에서 인상적인 부분은 마지막에 전달해주신 나 자신에게 하는 질문인 <strong>나만의 결정적 순간은 꿈꿔보고 생각해보자!</strong> 이었다. 올해의 2/3가 지나간 만큼 생각해보면 좋을 것 같다!</p>\n<h3 id=\"nextjs-블로그-모범-사례-탐구-vercel-리더십-블로그-아키텍처-파헤치기---하조은님당근\"><a class=\"anchor\" href=\"#nextjs-블로그-모범-사례-탐구-vercel-리더십-블로그-아키텍처-파헤치기---하조은님당근\">Next.js 블로그 모범 사례 탐구: Vercel 리더십 블로그 아키텍처 파헤치기 - 하조은님(당근)</a></h3>\n<p><img src=\"/content/240805/15.jpg\" alt=\"15.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>| <img src=\"/content/240805/16.jpg\" alt=\"16.jpg\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240805/17.jpg\" alt=\"17.jpg\" loading=\"lazy\" decoding=\"async\"> |\n| ----------------- | ----------------- |</p>\n<p>두 번째 조은님의 발표는 Next.js를 만든 Vercel의 Guillermo Rauch와 Lee Robinson의 블로그를 비교하며 Next.js의 다양한 기능을 탐구하는 세션이었다.</p>\n<p>View Count 구현 방식(Guillermo: Redis, Lee: PostgreSQL), MDX를 통한 콘텐츠 데이터 관리, 그리고 ISR과 PPR 렌더링 방식에 대한 것과 Open Graph 이미지와 JSON-LD를 활용한 SEO 기법도 다루었다.</p>\n<p>블로그를 처음 만들 때 Vercel의 블로그에 대해 찾아본 적 있었는데, 이런 접근을 가지고 깊이 탐구하는 자세를 배워야겠다는 다짐을 하였다</p>\n<h3 id=\"처음으로-기술-리더가-된-개발자를-위한-안내서---박서진님토스\"><a class=\"anchor\" href=\"#처음으로-기술-리더가-된-개발자를-위한-안내서---박서진님토스\">처음으로 기술 리더가 된 개발자를 위한 안내서 - 박서진님(토스)</a></h3>\n<p><img src=\"/content/240805/14.jpg\" alt=\"14.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>토스팀에서 리더의 역할을 하면서 리더들이 겪는 문제들을 살펴보고, \"신뢰의 7가지 요소\"라고 하는 키워드 중심으로, 어떻게 단계적으로 조직에서 역할에 익숙할 수 있을지 알아보는 시간을 가졌다.</p>\n<p>내가 생각한 리더의 역량에는 강한 기술력과 의견제시를 통한 팀원 포용력을 생각했다. 하지만 생각보다 고려해야 할 요소가 많다는 것을 알게 되었다.</p>\n<p>팀을 위해 본인이 갖춰야 될 자세와 관점에 대해, 팀원과 리더의 밸런스 등 다양한 요소들을 고려해야 한다는 것을 새롭게 알게 되었다. 지금은 주니어지만 언젠가 리더가 될 수 있기에 항상 준비하고, 배우고 의견을 제시하는 자세를 갖춰야겠다!</p>\n<h3 id=\"인프콘의-네트워킹-파티와-라이트닝-토크\"><a class=\"anchor\" href=\"#인프콘의-네트워킹-파티와-라이트닝-토크\">인프콘의 네트워킹 파티와 라이트닝 토크</a></h3>\n<p><img src=\"/content/240805/22.jpg\" alt=\"22.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>인프콘의 세션 중간에 라이트닝 토크가 2층 행사장에서 열렸다. 라이트닝 토크에 미리 발제를 해주신 분들을 찾아 회사에 관한 이야기, 요즘 취미와 관심사, 개발에 대한 네트워킹을 했다.</p>\n<p>다른 컨퍼런스에서는 세션(강의)이 많기에 네트워킹을 할 시간이 부족하거나 없었다. 하지만 인프콘에서는 시간과 공간을 마련해주어, 다양한 사람들과 다양한 주제를 가지고 의견을 공유할 수 있다는 점이 인상적이었다.</p>\n<p>네트워킹 파티에서는 직군마다 가지고 있는 고민에 대해 비슷한 관심사끼리 모여 이야기를 나눌 수 있었다. 짧은 시간이 아닌 긴 시간 동안 다양한 이야기를 할 수 있다는 점이 좋았다.</p>\n<h2 id=\"커뮤니티-부스\"><a class=\"anchor\" href=\"#커뮤니티-부스\">커뮤니티 부스</a></h2>\n<p><img src=\"/content/240805/19.jpg\" alt=\"19.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>요즘 IT 직군의 많은 사람이 동아리와 컨퍼런스에 참여하기를 원한다. 하지만 높은 경쟁률로 참여하는 것은 둘째로, 동아리에 대해 직접적인 질문을 하거나, 구성원과 대화해볼 수 없다는 것이 아쉬웠다.</p>\n<p>인프랩에서 IT 직군의 커뮤니티 활성화를 통해 위와 같은 간극을 줄이기 위해 커뮤니티 부스를 두었다고 생각한다.</p>\n<p>이를 통해 예비지원자분에게 질문을 받고 홍보를 할 수 있는 시간을 가질 수 있었다!! 내 블로그에 방문하시는 예비지원자분을 위해 SIPE를 비롯한 인프콘 커뮤니티 부스에 참여했던 동아리들을 소개해보려 한다!</p>\n<blockquote>\n<p>SIPE는 위에 상세하게 적어두었기에 참조하면 좋을 것 같다!</p>\n</blockquote>\n<h3 id=\"depromeet\"><a class=\"anchor\" href=\"#depromeet\">Depromeet</a></h3>\n<p>| <img src=\"/content/240805/27.png\" alt=\"27.png\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240805/28.png\" alt=\"28.png\" loading=\"lazy\" decoding=\"async\"> |\n| ----------------- | ----------------- |</p>\n<p><strong>디프만은 디자이너와 개발자가 만나 서비스 런칭부터 개선까지 경험하며 동반 성장하는 IT 연합 동아리다.</strong> 8년 이상 운영 기간 동안 1,000명 이상의 누적 활동 인원과, 60개 이상의 론칭 서비스를 자랑한다.</p>\n<p>좋은 아이디어를 기반으로 한 서비스가 매번 출시되고, 구성원들(기획, 디자이너, 개발자)과 좋은 교류 활동으로 활동을 이어나가고 있다.</p>\n<p>다른 동아리와 대외 활동을 하면서 디프만 수료하신 분들을 많이 만났는데, 하나같이 실력도 좋고 성격도 좋으셔서 나도 관심을 많이 가지고 있다!!</p>\n<h3 id=\"sopt\"><a class=\"anchor\" href=\"#sopt\">SOPT</a></h3>\n<p>| <img src=\"/content/240805/29.jpeg\" alt=\"29.jpeg\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240805/30.jpeg\" alt=\"30.jpeg\" loading=\"lazy\" decoding=\"async\"> |\n| ------------------- | ------------------- |</p>\n<p><strong>SOPT(솝트)는 국내 최대 규모의 대학생연합 IT벤처창업 동아리로</strong>, IT창업 및 기획/디자인/개발에 관심있는 대학생들이 함께 모여 활동하고 있다.</p>\n<p>2008년부터 지난 17년 간 3,300명이 넘는 회원이 300개가 넘는 서비스를 만들정도로 탄탄한 동아리다.</p>\n<p>세미나, 스터디, 멘토링, 컨퍼런스, 해커톤, 네트워킹 등 모든 행사를 직접 기획해 진행하며 대학생들의 열정을 함께 외치며 도전하는 커뮤니티니 이런 니즈가 있으신 분들 지원해보면 좋을 것 같다!</p>\n<p>간혹 SOPT 분들과 같이 운동하고, 대외활동에서 만나고 있는데 정말 열정 가득하시다!! 대학생이면 꼭 해보는 것을 추천한다!! ~~나도 하고싶다.. 진짜 하고싶다.. 몇년만 어렸어도 흑흑.. 😢~~</p>\n<h3 id=\"ssafynity\"><a class=\"anchor\" href=\"#ssafynity\">SSAFYnity</a></h3>\n<p>| <img src=\"/content/240805/31.png\" alt=\"31.png\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240805/32.png\" alt=\"32.png\" loading=\"lazy\" decoding=\"async\"> |\n| ----------------- | ----------------- |</p>\n<p><strong>SSAFYnity는 삼성청년SW아카데미(SSAFY) 동문회다.</strong></p>\n<p>SSAFYnity는 분기별로 싸피인의밤, SSAFYnale 기술컨퍼런스, 가을 체육대회, SSAFYnity 세미나 등 다양한 행사를 진행하고 있다. 그뿐만 아니라 다양한 동아리 활동, MT 등 커뮤니티 활동도 진행하고 있다.</p>\n<p>저번 유닛에서 주관하는 해커톤에 SSAFY를 진행하고 있는 동생과 해커톤을 즐겁게 한 기억이 있다.</p>\n<h3 id=\"yapp\"><a class=\"anchor\" href=\"#yapp\">YAPP</a></h3>\n<p>| <img src=\"/content/240805/33.jpeg\" alt=\"33.jpeg\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240805/34.jpeg\" alt=\"34.jpeg\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240805/35.jpeg\" alt=\"35.jpeg\" loading=\"lazy\" decoding=\"async\"> |\n| ------------------- | ------------------- | ------------------- |</p>\n<p>YAPP은 14년간의 역사를 자랑하는 400명 이상의 IT 인재 커뮤니티로, <strong>\"작은 아이디어로 세상에 변화를 이끈다\"는</strong> 목표 아래 도전의 기회와 성장의 환경을 제공하며, 프로덕트 기획부터 창업 지원까지 다양한 활동을 통해 차세대 IT 리더와 혁신가를 양성하는 커뮤니티다.</p>\n<p>매번 멋진 서비스를 만들어내는 YAPP도 관심이 많다!! 유니톤에서 인연을 맺은 준수님께서 YAPP에서 음악 관련 서비스를 만들고 있던데 정말 멋지다!! YAPP에서 만든 여비도 사용해보았는데 정말 잘만들었으니 꼭꼭 사용해보길!!</p>\n<p><img src=\"/content/240805/36.png\" alt=\"36.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>~~계획한 일 잘 정리하고 지원해볼 예정이다! ~~</p>\n<h2 id=\"마무리\"><a class=\"anchor\" href=\"#마무리\">마무리</a></h2>\n<p>| <img src=\"/content/240805/37.jpg\" alt=\"37.jpg\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/240805/25.jpg\" alt=\"25.jpg\" loading=\"lazy\" decoding=\"async\"> |\n| ----------------- | ----------------- |</p>\n<p>이렇게 인프콘이 마무리되었다! 아주 힘든 시간이었다! 감사한 분들 덕분에, 좋은 경험을 할 수 있었다.</p>\n<p>먼저 인프콘에 참가할 기회를 주신 인프랩 다시 한번 감사드립니다. SIPE 2기의 인프콘 참여를 위해 후원해주신 분께도 너무 감사드립니다.</p>\n<p>이렇게 SIPE 2기도 마무리되었다. 행사에 참여하지 못했지만, 진행을 위해 고생 많이 한 <strong>성민님, 민준님 정말 감사합니다!!!</strong> 그리고 당일에 힘 많이 쓴 <strong>진욱님, 신원님, 지원님 고생 많으셨고 감사합니다!!</strong> 놀러 와서 일하게 된 <strong>미진님, 미진님 동생분도 정말 감사드립니다!!!!</strong></p>\n<p>행사를 위해 많은 조언과 지원을 해주신 <strong>유닛 감사합니다!</strong></p>\n<p><img src=\"/content/240805/23.gif\" alt=\"23.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<p>좋은 분들 덕분에 많은 경험을 하고, 좋은 세션과 네트워킹 때문에 많은 것을 배운 하루였다. 동아리에서 작은 행사만 해보아서, 어느 정도로 인프랩 직원분들과 봉사하시는 분들께서 힘들셨을 지 감이 오지 않지만, 다시 한번 고생 많으셨고 감사하단 말씀 드리고 싶다.</p>\n<p>인프랩의 오픈 세션에서 <strong>이형주님, 이동욱님, 홍연의님</strong>의 발표에서 말씀하신 것처럼 매년 성장을 위해 노력하시는 것이 정말 잘 보이는 행사였다. 인프랩의 앞으로가 정말 기대된다.</p>\n<p><img src=\"/content/240805/24.jpg\" alt=\"24.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>지금까지 인프콘에서 800개의 부채를 나눠준 부채왕이었다! Thank you~!!</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240805/index.md",
    "_raw": {
      "sourceFilePath": "240805/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240805",
      "contentType": "markdown",
      "flattenedPath": "240805"
    },
    "type": "Post",
    "slug": "/240805",
    "categoryArray": [
      "대외활동"
    ],
    "readingTime": "25 min read",
    "excerpt": "8월 2일 삼성역 코엑스에서 인프랩이 주관하는 인프콘이 열렸다. 당연히 나는 광탈했다.. 하지만 인프랩에서 SIPE 부스 홍보의 기회와 네트워킹, 스피커들의 세션에 참여할 수 있는 기회까지 제공해 주셨다. Thank you 인프랩.. 그럼 인프콘은 어떤 행사이고, SIPE는 어떤 동아리이고, 인프콘을 위해서 SIPE는 어떤 것을 준비했는지와 더 나아가 인프..."
  },
  {
    "title": "Zustand, 너 뭔데 ProviderLess 인 거야?",
    "date": "2024-08-18T00:00:00.000Z",
    "categories": "프론트엔드 React",
    "body": {
      "raw": "\n나는 Zustand가 Provider이 필요하지 않는 상태관리 라이브러리라는 것을 알고 있었다.\n\n하지만 갑자기 생각이 들었다. **왜?? 어떻게 동작하기에 상태관리 라이브러리가 필요하지 않을까?**\n\n<br/>\n\n![2.jpeg](2.jpeg)\n\n<br/>\n\n궁금해서 찾아보다가, 좋은 내용이 많이 보여 공유해보려 한다.\n\n<br/>\n\n<br/>\n\n### React 상태관리\n\n일반적인 React 애플리케이션에서 상태는 아래 그림처럼 동작한다.\n\n![3.png](3.png)\n\n컴포넌트 내부 상태는 useState 훅을 사용하여 관리한다. 그리고 컴포넌트 트리를 통한 상태 전달은 props를 통해 하위 컴포넌트로 전달한다.\n\n컴포넌트 외부에 상태를 전달하기 위해서 Context API를 사용하고, Provider 컴포넌트를 사용하여 하위 트리에 상태 제공하게 된다. 이러한 방식들은 모두 **\"React 컴포넌트 트리 내부에서 상태를 관리\"** 한다고 표현한다.\n\n<br/>\n\n### Zustand로 상태관리하면?\n\n![4.png](4.png)\n\nZustand는 flux 패턴으로 동작한다.\n\n클로저 내부의 state가 Store 역할, 사용자 정의 함수들이 Action 역할, set 함수가 Dispatcher 역할, React 컴포넌트가 View 역할을 한다.\n\n우선 React 컴포넌트 외부에서 스토어를 생성한다. 만들어진 스토어는 JavaScript 모듈의 스코프 내에 존재한다. 그리고 **상태는 클로저를 통해 캡슐화된다.**\n\n<br>\n\n```typescript\nimport create from 'zustand';\n\nconst useStore = create((set) => ({\n  count: 0,\n  increment: () => set((state) => ({ count: state.count + 1 })),\n}));\n```\n\n새로 생성된 Zustand의 Store은 React 컴포넌트를 정의하기 전, **모듈의 최상위 레벨에서 실행된다.**\n\n그리고 스토어는 JavaScript 모듈의 스코프 내에 존재하며, React 렌더링 사이클과 독립적으로 동작한다.\n\n<br>\n\n> <h3>🙋🏻‍♂️ 컴포넌트 트리 외부</h3>\n>\n> - React 내부의 상태관리와 다르게 Zustand에서 자주 언급되는 **\"컴포넌트 트리 외부\"** 라는 표현은 상태 관리의 새로운 패러다임을 나타낸다.\n>\n> - Zustand를 이용해 컴포넌트 트리 외부에서 **독립적**으로 **필요할 때마다** 컴포넌트에 상태를 공급하고, 조합하고, 재사용할 수 있다. 또한 **어디서든지 접근 가능한** 전역 상태로 Provider로 앱을 감싸는 번거로움 없이 사용할 수 있다.\n\n<br>\n\n아직 이해가 안돼도 괜찮다! 뒤에 내용이 많이 있기에.\n\n![5.jpg](5.jpg)\n\n<br>\n\n<br/>\n\n<br/>\n\n## Zustand 공식문서를 살펴보자\n\n**[공식문서 코드](https://github.com/pmndrs/zustand/blob/main/src/react.ts)의** react.ts를 살펴보면 zustand에서 어떻게 스토어를 생성하고, 상태 접근(State Access) 및 구독(Subscription)을 할 수 있는지 선언이 되어있다.\n\n살펴보면서 알게 된 내용인데, vanilla.ts 에서 클로저를 다룬 부분도 있다. 이것도 아래에서 같이 확인해보자!\n\n<br/>\n\n### 스토어 생성\n\n```typescript\nconst createImpl = <T>(createState: StateCreator<T, [], []>) => {\n  const api = createStore(createState);\n  const useBoundStore: any = (selector?: any) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\n```\n\n`createStore`를 통해 생성된 api 객체는 상태와 관련 메서드를 포함하고, `useBoundStore` 함수는 `useStore` 훅을 통해 이 api에 접근한다.\n\n`Object.assign(useBoundStore, api)`로 api의 모든 속성과 메서드를 `useBoundStore`에 할당한다.\n\n이 구조로 인해 스토어가 React 컴포넌트 트리 외부에 존재하게 되어 컴포넌트는 `useBoundStore`를 통해 직접 상태에 접근할 수 있게되어, Provider 없이도 어느 컴포넌트에서나 스토어를 사용할 수 있다.\n\n<br>\n\n### 상태 접근(State Access) 및 구독(Subscription)\n\n```typescript\nexport function useStore<TState, StateSlice>(\n  api: ReadonlyStoreApi<TState>,\n  selector: (state: TState) => StateSlice = identity as any,\n) {\n  const slice = useSyncExternalStore(\n    api.subscribe,\n    () => selector(api.getState()),\n    () => selector(api.getInitialState()),\n  );\n  useDebugValue(slice);\n  return slice;\n}\n```\n\nuseStore 훅은 `useSyncExternalStore`를 사용하여 외부 스토어(Zustand 스토어)와 동기화한다. 그리고 `api.subscribe`를 통해 상태 변경을 구독한다.\n\n변경된 상태를 selector를 사용하여 필요한 상태 부분만 선택적으로 가져오는데, 서버 사이드 렌더링을 위해 `api.getInitialState()`를 사용한다.\n\n이 방식으로 컴포넌트는 Provider 없이도 직접 스토어의 상태를 구독하고 업데이트를 받을 수 있다.\n\n<br>\n\n### 클로저를 통한 상태 관리\n\n**[공식문서의 vanilla.ts](https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts)의** useStore의 선언부에 대해 살펴보며 클로저를 어떻게 활용했는지 알아보자.\n\n위에서 적은 것처럼 스토어는 모듈 스코프 내에서 생성되어, 해당 모듈을 `import`하는 모든 곳에서 접근 가능하다. 그리고 상태와 상태 변경 함수들은 클로저를 통해 캡슐화가 된다.\n\n```typescript\nconst useStore = create((set) => {\n  // 이 함수 내부가 클로저를 형성합니다\n  let state = { count: 0 }; // 초기 상태\n\n  return {\n    getState: () => state,\n    setState: (partial, replace) => {\n      const nextState = typeof partial === 'function' ? partial(state) : partial;\n      state = replace ? nextState : { ...state, ...nextState };\n      listeners.forEach((listener) => listener(state));\n    },\n    subscribe: (listener) => {\n      listeners.push(listener);\n      return () => {\n        listeners = listeners.filter((l) => l !== listener);\n      };\n    },\n    // 사용자 정의 액션들\n    increment: () => set((state) => ({ count: state.count + 1 })),\n  };\n});\n```\n\n위 코드를 살펴보면 `state` 변수는 클로저 내부에 캡슐화되어 있어 외부에서 직접 접근할 수 없다.\n\n오로지 `getState`, `setState`, `subscribe` 등의 메서드들만이 이 상태에 접근하고 수정할 수 있다.\n\n여기서 클로저의 역할은 아래 3가지가 된다.\n\n- 상태가 클로저 내부에 있어 외부에서 직접 수정할 수 없다.\n- React 컴포넌트의 리렌더링과 관계없이 상태가 유지된다.\n- 필요한 상태와 메서드만 노출되어 메모리를 효율적으로 사용한다.\n\n<br>\n\n### React Hooks와의 통합\n\n```typescript\nimport ReactExports from 'react';\nconst { useDebugValue, useSyncExternalStore } = ReactExports;\n```\n\nZustand는 React의 `useSyncExternalStore` 훅을 사용하여 React의 상태 관리 시스템과 원활하게 통합된다.\n\n이를 통해 React의 렌더링 사이클과 동기화되고, 불필요한 리렌더링을 방지하며, 동시성 모드(Concurrent Mode)와 호환된다.\n\n<br>\n\n## 결론\n\n![6.jpeg](6.jpeg)\n\n<br>\n\n요즘 사이드 프로젝트를 진행하다보니, 왜? 라는 생각을 가지고 기술에 접근하지 못하고 코드만 작성했다.\n\n그러다 갑자기 궁금해져서 zustand 공식문서를 살펴보았는데, 아주 재미있는 경험이었다. 위 내용을 간단히 요약해보면\n\nZustand의 Provider-less 설계는 아래 4가지 과정이 있기에 가능했다고 생각한다!\n\n- React 컴포넌트 트리 외부에 스토어 생성\n- 클로저를 사용하여 상태를 캡슐화\n- React의 useSyncExternalStore를 활용하여 상태 변경을 효율적으로 구독\n- 선택자(selector) 함수를 통해 필요한 상태만 컴포넌트에 제공\n\n<br>\n\n### 아 그리고 새로운 소식!!\n\n![7.jpeg](7.jpeg)\n\n<br>\n\n아 그리고 위 내용을 찾아보다 알게 된 사실은 **zustand가 5버전을** 준비하고 있는 것 같다.\n\n아직 RC이지만 현재까지 주요 변경사항은 아래와 같다. (자세한 것은 **[여기를 확인해주세요!](https://github.com/pmndrs/zustand/releases)**)\n\n- **리엑트 18, TS 4.5 이상**으로 최소 요구사항이 변경되었다.\n- **getServerState 가 삭제**되었다.\n- **ES5는 지원 중단** 예정이다.\n- 반복 가능한 객체로 **shallow 함수 개선**되고 있다. README와 shallow.ts파일이 계속해서 수정되고 이슈가 생기고 있다!\n\n<br>\n\n### 참고자료\n\n- [zustand github](https://github.com/pmndrs/zustand/tree/main/src)\n\n```toc\n\n```\n",
      "html": "<p>나는 Zustand가 Provider이 필요하지 않는 상태관리 라이브러리라는 것을 알고 있었다.</p>\n<p>하지만 갑자기 생각이 들었다. <strong>왜?? 어떻게 동작하기에 상태관리 라이브러리가 필요하지 않을까?</strong></p>\n<p><img src=\"/content/240818/2.jpeg\" alt=\"2.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>궁금해서 찾아보다가, 좋은 내용이 많이 보여 공유해보려 한다.</p>\n<h3 id=\"react-상태관리\"><a class=\"anchor\" href=\"#react-상태관리\">React 상태관리</a></h3>\n<p>일반적인 React 애플리케이션에서 상태는 아래 그림처럼 동작한다.</p>\n<p><img src=\"/content/240818/3.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>컴포넌트 내부 상태는 useState 훅을 사용하여 관리한다. 그리고 컴포넌트 트리를 통한 상태 전달은 props를 통해 하위 컴포넌트로 전달한다.</p>\n<p>컴포넌트 외부에 상태를 전달하기 위해서 Context API를 사용하고, Provider 컴포넌트를 사용하여 하위 트리에 상태 제공하게 된다. 이러한 방식들은 모두 <strong>\"React 컴포넌트 트리 내부에서 상태를 관리\"</strong> 한다고 표현한다.</p>\n<h3 id=\"zustand로-상태관리하면\"><a class=\"anchor\" href=\"#zustand로-상태관리하면\">Zustand로 상태관리하면?</a></h3>\n<p><img src=\"/content/240818/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Zustand는 flux 패턴으로 동작한다.</p>\n<p>클로저 내부의 state가 Store 역할, 사용자 정의 함수들이 Action 역할, set 함수가 Dispatcher 역할, React 컴포넌트가 View 역할을 한다.</p>\n<p>우선 React 컴포넌트 외부에서 스토어를 생성한다. 만들어진 스토어는 JavaScript 모듈의 스코프 내에 존재한다. 그리고 <strong>상태는 클로저를 통해 캡슐화된다.</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> create </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'zustand'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> useStore</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> create</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  count: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  increment</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({ count: state.count </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> })),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}));</span></span></code></pre></figure>\n<p>새로 생성된 Zustand의 Store은 React 컴포넌트를 정의하기 전, <strong>모듈의 최상위 레벨에서 실행된다.</strong></p>\n<p>그리고 스토어는 JavaScript 모듈의 스코프 내에 존재하며, React 렌더링 사이클과 독립적으로 동작한다.</p>\n<blockquote>\n<ul>\n<li>\n<p>React 내부의 상태관리와 다르게 Zustand에서 자주 언급되는 <strong>\"컴포넌트 트리 외부\"</strong> 라는 표현은 상태 관리의 새로운 패러다임을 나타낸다.</p>\n</li>\n<li>\n<p>Zustand를 이용해 컴포넌트 트리 외부에서 <strong>독립적</strong>으로 <strong>필요할 때마다</strong> 컴포넌트에 상태를 공급하고, 조합하고, 재사용할 수 있다. 또한 <strong>어디서든지 접근 가능한</strong> 전역 상태로 Provider로 앱을 감싸는 번거로움 없이 사용할 수 있다.</p>\n</li>\n</ul>\n</blockquote>\n<p>아직 이해가 안돼도 괜찮다! 뒤에 내용이 많이 있기에.</p>\n<p><img src=\"/content/240818/5.jpg\" alt=\"5.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"zustand-공식문서를-살펴보자\"><a class=\"anchor\" href=\"#zustand-공식문서를-살펴보자\">Zustand 공식문서를 살펴보자</a></h2>\n<p><strong><a href=\"https://github.com/pmndrs/zustand/blob/main/src/react.ts\">공식문서 코드</a>의</strong> react.ts를 살펴보면 zustand에서 어떻게 스토어를 생성하고, 상태 접근(State Access) 및 구독(Subscription)을 할 수 있는지 선언이 되어있다.</p>\n<p>살펴보면서 알게 된 내용인데, vanilla.ts 에서 클로저를 다룬 부분도 있다. 이것도 아래에서 같이 확인해보자!</p>\n<h3 id=\"스토어-생성\"><a class=\"anchor\" href=\"#스토어-생성\">스토어 생성</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createImpl</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">createState</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> StateCreator</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, [], []>) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> api</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createStore</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(createState);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useBoundStore</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">selector</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useStore</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(api, selector);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  Object.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">assign</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(useBoundStore, api);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> useBoundStore;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span></code></pre></figure>\n<p><code>createStore</code>를 통해 생성된 api 객체는 상태와 관련 메서드를 포함하고, <code>useBoundStore</code> 함수는 <code>useStore</code> 훅을 통해 이 api에 접근한다.</p>\n<p><code>Object.assign(useBoundStore, api)</code>로 api의 모든 속성과 메서드를 <code>useBoundStore</code>에 할당한다.</p>\n<p>이 구조로 인해 스토어가 React 컴포넌트 트리 외부에 존재하게 되어 컴포넌트는 <code>useBoundStore</code>를 통해 직접 상태에 접근할 수 있게되어, Provider 없이도 어느 컴포넌트에서나 스토어를 사용할 수 있다.</p>\n<h3 id=\"상태-접근state-access-및-구독subscription\"><a class=\"anchor\" href=\"#상태-접근state-access-및-구독subscription\">상태 접근(State Access) 및 구독(Subscription)</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useStore</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">StateSlice</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  api</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ReadonlyStoreApi</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  selector</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> StateSlice</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> identity </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> slice</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useSyncExternalStore</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    api.subscribe,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> selector</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(api.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> selector</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(api.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getInitialState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useDebugValue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(slice);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> slice;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>useStore 훅은 <code>useSyncExternalStore</code>를 사용하여 외부 스토어(Zustand 스토어)와 동기화한다. 그리고 <code>api.subscribe</code>를 통해 상태 변경을 구독한다.</p>\n<p>변경된 상태를 selector를 사용하여 필요한 상태 부분만 선택적으로 가져오는데, 서버 사이드 렌더링을 위해 <code>api.getInitialState()</code>를 사용한다.</p>\n<p>이 방식으로 컴포넌트는 Provider 없이도 직접 스토어의 상태를 구독하고 업데이트를 받을 수 있다.</p>\n<h3 id=\"클로저를-통한-상태-관리\"><a class=\"anchor\" href=\"#클로저를-통한-상태-관리\">클로저를 통한 상태 관리</a></h3>\n<p><strong><a href=\"https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts\">공식문서의 vanilla.ts</a>의</strong> useStore의 선언부에 대해 살펴보며 클로저를 어떻게 활용했는지 알아보자.</p>\n<p>위에서 적은 것처럼 스토어는 모듈 스코프 내에서 생성되어, 해당 모듈을 <code>import</code>하는 모든 곳에서 접근 가능하다. 그리고 상태와 상태 변경 함수들은 클로저를 통해 캡슐화가 된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> useStore</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> create</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 이 함수 내부가 클로저를 형성합니다</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { count: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> }; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 초기 상태</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    getState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> state,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    setState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">partial</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">replace</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> nextState</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> typeof</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> partial </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'function'</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> partial</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(state) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> partial;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      state </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> replace </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> nextState </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">state, </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">nextState };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      listeners.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">forEach</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">listener</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> listener</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(state));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    subscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">listener</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      listeners.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(listener);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        listeners </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> listeners.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">filter</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">l</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> l </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">!==</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> listener);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // 사용자 정의 액션들</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    increment</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({ count: state.count </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> })),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span></code></pre></figure>\n<p>위 코드를 살펴보면 <code>state</code> 변수는 클로저 내부에 캡슐화되어 있어 외부에서 직접 접근할 수 없다.</p>\n<p>오로지 <code>getState</code>, <code>setState</code>, <code>subscribe</code> 등의 메서드들만이 이 상태에 접근하고 수정할 수 있다.</p>\n<p>여기서 클로저의 역할은 아래 3가지가 된다.</p>\n<ul>\n<li>상태가 클로저 내부에 있어 외부에서 직접 수정할 수 없다.</li>\n<li>React 컴포넌트의 리렌더링과 관계없이 상태가 유지된다.</li>\n<li>필요한 상태와 메서드만 노출되어 메모리를 효율적으로 사용한다.</li>\n</ul>\n<h3 id=\"react-hooks와의-통합\"><a class=\"anchor\" href=\"#react-hooks와의-통합\">React Hooks와의 통합</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ReactExports </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">useDebugValue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">useSyncExternalStore</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ReactExports;</span></span></code></pre></figure>\n<p>Zustand는 React의 <code>useSyncExternalStore</code> 훅을 사용하여 React의 상태 관리 시스템과 원활하게 통합된다.</p>\n<p>이를 통해 React의 렌더링 사이클과 동기화되고, 불필요한 리렌더링을 방지하며, 동시성 모드(Concurrent Mode)와 호환된다.</p>\n<h2 id=\"결론\"><a class=\"anchor\" href=\"#결론\">결론</a></h2>\n<p><img src=\"/content/240818/6.jpeg\" alt=\"6.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>요즘 사이드 프로젝트를 진행하다보니, 왜? 라는 생각을 가지고 기술에 접근하지 못하고 코드만 작성했다.</p>\n<p>그러다 갑자기 궁금해져서 zustand 공식문서를 살펴보았는데, 아주 재미있는 경험이었다. 위 내용을 간단히 요약해보면</p>\n<p>Zustand의 Provider-less 설계는 아래 4가지 과정이 있기에 가능했다고 생각한다!</p>\n<ul>\n<li>React 컴포넌트 트리 외부에 스토어 생성</li>\n<li>클로저를 사용하여 상태를 캡슐화</li>\n<li>React의 useSyncExternalStore를 활용하여 상태 변경을 효율적으로 구독</li>\n<li>선택자(selector) 함수를 통해 필요한 상태만 컴포넌트에 제공</li>\n</ul>\n<h3 id=\"아-그리고-새로운-소식\"><a class=\"anchor\" href=\"#아-그리고-새로운-소식\">아 그리고 새로운 소식!!</a></h3>\n<p><img src=\"/content/240818/7.jpeg\" alt=\"7.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>아 그리고 위 내용을 찾아보다 알게 된 사실은 <strong>zustand가 5버전을</strong> 준비하고 있는 것 같다.</p>\n<p>아직 RC이지만 현재까지 주요 변경사항은 아래와 같다. (자세한 것은 <strong><a href=\"https://github.com/pmndrs/zustand/releases\">여기를 확인해주세요!</a></strong>)</p>\n<ul>\n<li><strong>리엑트 18, TS 4.5 이상</strong>으로 최소 요구사항이 변경되었다.</li>\n<li><strong>getServerState 가 삭제</strong>되었다.</li>\n<li><strong>ES5는 지원 중단</strong> 예정이다.</li>\n<li>반복 가능한 객체로 <strong>shallow 함수 개선</strong>되고 있다. README와 shallow.ts파일이 계속해서 수정되고 이슈가 생기고 있다!</li>\n</ul>\n<h3 id=\"참고자료\"><a class=\"anchor\" href=\"#참고자료\">참고자료</a></h3>\n<ul>\n<li><a href=\"https://github.com/pmndrs/zustand/tree/main/src\">zustand github</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240818/index.md",
    "_raw": {
      "sourceFilePath": "240818/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240818",
      "contentType": "markdown",
      "flattenedPath": "240818"
    },
    "type": "Post",
    "slug": "/240818",
    "categoryArray": [
      "프론트엔드",
      "React"
    ],
    "readingTime": "10 min read",
    "excerpt": "나는 Zustand가 Provider이 필요하지 않는 상태관리 라이브러리라는 것을 알고 있었다. 하지만 갑자기 생각이 들었다. 왜?? 어떻게 동작하기에 상태관리 라이브러리가 필요하지 않을까? 궁금해서 찾아보다가, 좋은 내용이 많이 보여 공유해보려 한다. React 상태관리 일반적인 React 애플리케이션에서 상태는 아래 그림처럼 동작한다. 컴포넌트 내부 상..."
  },
  {
    "title": "Concurrent Mode",
    "date": "2024-08-24T00:00:00.000Z",
    "categories": "프론트엔드 React",
    "body": {
      "raw": "\nzustand의 공식문서를 살펴보다, **\"Zustand는 React의 useSyncExternalStore 훅을 사용하여 React의 상태 관리 시스템과 원활하게 통합되어 Concurrent Mode와 호환된다\"** 는 내용을 보았다.\n\n**Concurrent Mode라는** 낯선 단어를 찾아보게 되었고, 생각보다 면접 질문으로도 쏠쏠하게 등장하기에 정리해보려한다!\n\nReact 18에서 도입된 Concurrent Mode는 React 애플리케이션의 성능과 사용자 경험을 향상 시키기 위해 생긴 기능이다. 앞으로 Concurrent Mode가 무엇인지, 어떻게 작동하는지, 그리고 개발자들이 이를 어떻게 활용할 수 있는지 자세히보자.\n\n<br>\n\n## Concurrent Mode란\n\n![1.png](1.png)\n\nConcurrent Mode는 React가 렌더링 작업을 중단, 재개, 그리고 even 폐기할 수 있게 해주는 새로운 기능이다. React가 브라우저의 메인 스레드를 차단하지 않고 백그라운드에서 컴포넌트 트리의 여러 버전을 준비할 수 있게 해준다.\n\n주요 특징으로는 **렌더링 작업의 우선순위 지정, 렌더링 중단 및 재개를 가능하게 하고, 불필요한 렌더링을 방지**한다.\n\n<br>\n\n### 작동 원리와 장점\n\nConcurrent Mode는 React의 내부 작동 방식을 근본적으로 변경해서 기존의 동기식 렌더링 대신 비동기적으로 렌더링을 수행할 수 있다.\n\n- React는 여러 업데이트의 우선순위를 지정하고 중요한 업데이트를 먼저 처리한다.\n- **더블 버퍼링:** 화면에 표시되는 내용을 변경하기 전에 메모리에서 트리 전체를 준비\n- 높은 우선순위의 업데이트가 들어오면, 진행 중인 낮은 우선순위의 렌더링을 중단할 수 있다. **(인터럽트가 가능하다)**\n\n![2.png](2.png)\n\n<br>\n\nConcurrent Mode를 사용하게 되면 **중요한 업데이트를 우선적으로 처리해** 응답성을 높일 수 있다.\n\n그리고 **불필요한 렌더링을 방지**하고, Suspense와 결합하여 더 **자연스러운 로깅 상태**를 제공할 수 있다\n\n<br>\n\n## 그럼 사용해보자\n\n사용해보기 전에 몇가지 주의 사항을 확인해보자!\n\n- Concurrent Mode는 기존의 일부 패턴과 호환되지 않을 수 있다.\n- 비동기 렌더링으로 인해 디버깅이 더 복잡해질 수 있다.\n- side effect 관리에 신경써야한다.\n- 사용하려면 React 18 이상의 버전이 필요하다.\n\n주의사항을 확인했으면 아래처럼 Concurrent Mode를 활성화해보자\n\n```javascript\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<App />);\n```\n\n이제 `ReactDOM.render()` 대신 `ReactDOM.createRoot()`를 사용하여 애플리케이션을 렌더링한다.\n\n<br>\n\n### useTransition\n\n`useTransition` 훅은 우선순위가 낮은 상태 업데이트를 표시할 수 있게 해준다. 그리고 무거운 계산을 수행하면서도 UI의 응답성을 유지할 수 있다.\n\n```javascript\nimport { useTransition } from 'react';\n\nfunction App() {\n  const [isPending, startTransition] = useTransition();\n  const [count, setCount] = useState(0);\n\n  function handleClick() {\n    startTransition(() => {\n      setCount((c) => c + 1);\n    });\n  }\n\n  return (\n    <div>\n      {isPending && <Spinner />}\n      <button onClick={handleClick}>{count}</button>\n    </div>\n  );\n}\n```\n\n<br>\n\n### useDeferredValue\n\n`useDeferredValue`는 덜 중요한 UI 부분의 업데이트를 지연시킬 수 있게 해준다. 그리고 대규모 리스트의 업데이트를 최적화할 수 있다.\n\n```javascript\nimport { useDeferredValue } from 'react';\n\nfunction SearchResults({ query }) {\n  const deferredQuery = useDeferredValue(query);\n\n  // 이 컴포넌트의 리렌더링은 다른 중요한 업데이트 후로 지연될 수 있다.\n  return <SlowList query={deferredQuery} />;\n}\n```\n\n<br>\n\n### Suspense를 사용\n\nSuspense를 사용하면 컴포넌트의 렌더링을 특정 조건이 충족될 때까지 **\"중단\"** 할 수 있다. 또한 더 자연스러운 로딩 상태를 제공한다.\n\n```javascript\nimport { Suspense } from 'react';\n\nfunction App() {\n  return (\n    <div>\n      <Suspense fallback={<Spinner />}>\n        <SlowComponent />\n      </Suspense>\n    </div>\n  );\n}\n```\n\n<br>\n\n## React 19에서는?\n\n24년 8월 24일 기준 React 19에 대한 이야기 많이 들려오고있다. Concurrent Mode의 개념이 22년 3월 React 문서에서 보이기 시작했는데, 2년 반 시간이 지난 지금 관점이 어떻게 변했을까?\n\n아직까지 React 팀은 Concurrent Mode의 개념을 지향하고 있지만, 그 구현 방식과 \"Concurrent Mode\"라는 용어 대신 \"Concurrent Rendering\"이라는 용어를 사용하며 변화를 주고 있다.\n\n몇개의 자료들을 살펴보며 어떤 이유때문에 용어의 변화가 생겼는지 알아보자.\n\n<br>\n\n### React Github Discussions\n\n[React 18 워킹 그룹 GitHub 토론](https://github.com/reactwg/react-18/discussions/64)의 Discussions을 살펴보자.\n\n**Rename 'Concurrent Mode' to 'Concurrent Rendering'을** 확인해보면 **Dan Abramov**가 아래처럼 서술하고 있다.\n\n<br>\n\n> 우리는 'Concurrent Mode'라는 용어를 더 이상 사용하지 않고 대신 'Concurrent Rendering'이라는 용어를 사용할 것입니다. 이는 동시성이 모드가 아니라 렌더링 동작의 변화임을 강조하기 위함입니다.\n>\n> We're moving away from the term \"Concurrent Mode\" and will be using \"Concurrent Rendering\" instead. This is to emphasize that concurrency is not a \"mode\" but a behind-the-scenes change in the rendering behavior.\n\n<br>\n\n### React 18 Docs\n\n[React 18 공식 문서](https://react.dev/blog/2022/03/29/react-v18#what-is-concurrent-react)에서 React 팀은 아래처럼 내용을 다루고 있다.\n\n<br>\n\n> 동시성은 React의 내부 구현 세부사항입니다. 최종 사용자로서, React가 동시적이라는 사실을 알 필요는 없습니다. React를 사용하는 방식에 근본적인 변화는 없으며, 단지 React가 제공하는 새로운 기능을 사용하면 됩니다.\n>\n> Concurrency is a new behind-the-scenes mechanism in React. As an end user, you don't need to think about it most of the time. React automatically opts into concurrent features depending on which ones you're using.\n\n<br>\n\n위 글을 아래 2가지 이유로 요약할 수 있다.\n\n- **점진적 채택 가능성:** \"Mode\"라는 단어는 전체 애플리케이션에 대한 on/off 스위치와 같은 느낌을 주지만, \"Rendering\"은 더 유연하고 점진적인 도입을 암시한다.\n- **혼란 감소:** 많은 개발자들이 Concurrent Mode를 하나의 기능으로 오해했다. 실제로는 여러 기능의 집합이며, 이를 \"Concurrent Rendering\"으로 표현하는 것이 더 정확하다.\n\n<br>\n\n## 결론\n\nConcurrent Mode는 React 애플리케이션의 성능과 사용자 경험을 크게 향상시킬 수 있는 강력한 도구인 것 같다.\n\n이를 효과적으로 활용하기 위해서는 새로운 개념과 API에 대한 이해도가 필요해보여서, 공부를 더 해봐야겠다!\n\n![4.jpeg](4.jpeg)\n\nReact 팀은 계속해서 Concurrent Mode, Concurrent Rendering을 강조하고 있기때문에, 앞으로 더 많은 기능과 최적화가 이루어질 것으로 예상된다!\n\n<br>\n\n### 참고자료\n\n- [React v18.0](https://react.dev/blog/2022/03/29/react-v18)\n- [동시성 모드에 대해서](https://w55ng.com/entry/React-18%EC%9D%98-%EC%83%88%EB%A1%9C%EC%9A%B4-%EA%B8%B0%EB%8A%A5-%EB%8F%99%EC%8B%9C%EC%84%B1-%EB%AA%A8%EB%93%9CConcurrent-Mode)\n- [What is React Concurrent Mode?](https://medium.com/swlh/what-is-react-concurrent-mode-46989b5f15da)\n\n```toc\n\n```\n",
      "html": "<p>zustand의 공식문서를 살펴보다, <strong>\"Zustand는 React의 useSyncExternalStore 훅을 사용하여 React의 상태 관리 시스템과 원활하게 통합되어 Concurrent Mode와 호환된다\"</strong> 는 내용을 보았다.</p>\n<p><strong>Concurrent Mode라는</strong> 낯선 단어를 찾아보게 되었고, 생각보다 면접 질문으로도 쏠쏠하게 등장하기에 정리해보려한다!</p>\n<p>React 18에서 도입된 Concurrent Mode는 React 애플리케이션의 성능과 사용자 경험을 향상 시키기 위해 생긴 기능이다. 앞으로 Concurrent Mode가 무엇인지, 어떻게 작동하는지, 그리고 개발자들이 이를 어떻게 활용할 수 있는지 자세히보자.</p>\n<h2 id=\"concurrent-mode란\"><a class=\"anchor\" href=\"#concurrent-mode란\">Concurrent Mode란</a></h2>\n<p><img src=\"/content/240824/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Concurrent Mode는 React가 렌더링 작업을 중단, 재개, 그리고 even 폐기할 수 있게 해주는 새로운 기능이다. React가 브라우저의 메인 스레드를 차단하지 않고 백그라운드에서 컴포넌트 트리의 여러 버전을 준비할 수 있게 해준다.</p>\n<p>주요 특징으로는 <strong>렌더링 작업의 우선순위 지정, 렌더링 중단 및 재개를 가능하게 하고, 불필요한 렌더링을 방지</strong>한다.</p>\n<h3 id=\"작동-원리와-장점\"><a class=\"anchor\" href=\"#작동-원리와-장점\">작동 원리와 장점</a></h3>\n<p>Concurrent Mode는 React의 내부 작동 방식을 근본적으로 변경해서 기존의 동기식 렌더링 대신 비동기적으로 렌더링을 수행할 수 있다.</p>\n<ul>\n<li>React는 여러 업데이트의 우선순위를 지정하고 중요한 업데이트를 먼저 처리한다.</li>\n<li><strong>더블 버퍼링:</strong> 화면에 표시되는 내용을 변경하기 전에 메모리에서 트리 전체를 준비</li>\n<li>높은 우선순위의 업데이트가 들어오면, 진행 중인 낮은 우선순위의 렌더링을 중단할 수 있다. <strong>(인터럽트가 가능하다)</strong></li>\n</ul>\n<p><img src=\"/content/240824/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Concurrent Mode를 사용하게 되면 <strong>중요한 업데이트를 우선적으로 처리해</strong> 응답성을 높일 수 있다.</p>\n<p>그리고 <strong>불필요한 렌더링을 방지</strong>하고, Suspense와 결합하여 더 <strong>자연스러운 로깅 상태</strong>를 제공할 수 있다</p>\n<h2 id=\"그럼-사용해보자\"><a class=\"anchor\" href=\"#그럼-사용해보자\">그럼 사용해보자</a></h2>\n<p>사용해보기 전에 몇가지 주의 사항을 확인해보자!</p>\n<ul>\n<li>Concurrent Mode는 기존의 일부 패턴과 호환되지 않을 수 있다.</li>\n<li>비동기 렌더링으로 인해 디버깅이 더 복잡해질 수 있다.</li>\n<li>side effect 관리에 신경써야한다.</li>\n<li>사용하려면 React 18 이상의 버전이 필요하다.</li>\n</ul>\n<p>주의사항을 확인했으면 아래처럼 Concurrent Mode를 활성화해보자</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> React </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ReactDOM </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react-dom/client'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> App </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> './App'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> root</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ReactDOM.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">createRoot</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(document.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getElementById</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'root'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">));</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">root.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">render</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">App</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> />);</span></span></code></pre></figure>\n<p>이제 <code>ReactDOM.render()</code> 대신 <code>ReactDOM.createRoot()</code>를 사용하여 애플리케이션을 렌더링한다.</p>\n<h3 id=\"usetransition\"><a class=\"anchor\" href=\"#usetransition\">useTransition</a></h3>\n<p><code>useTransition</code> 훅은 우선순위가 낮은 상태 업데이트를 표시할 수 있게 해준다. 그리고 무거운 계산을 수행하면서도 UI의 응답성을 유지할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { useTransition } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> App</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">isPending</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">startTransition</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useTransition</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">count</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> handleClick</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    startTransition</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">c</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> c </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      {isPending </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x26;&#x26;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Spinner</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> />}</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">button</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{handleClick}>{count}&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">button</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h3 id=\"usedeferredvalue\"><a class=\"anchor\" href=\"#usedeferredvalue\">useDeferredValue</a></h3>\n<p><code>useDeferredValue</code>는 덜 중요한 UI 부분의 업데이트를 지연시킬 수 있게 해준다. 그리고 대규모 리스트의 업데이트를 최적화할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { useDeferredValue } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> SearchResults</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">query</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> }) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> deferredQuery</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useDeferredValue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(query);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 이 컴포넌트의 리렌더링은 다른 중요한 업데이트 후로 지연될 수 있다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">SlowList</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> query</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{deferredQuery} />;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h3 id=\"suspense를-사용\"><a class=\"anchor\" href=\"#suspense를-사용\">Suspense를 사용</a></h3>\n<p>Suspense를 사용하면 컴포넌트의 렌더링을 특정 조건이 충족될 때까지 <strong>\"중단\"</strong> 할 수 있다. 또한 더 자연스러운 로딩 상태를 제공한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { Suspense } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'react'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> App</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Suspense</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> fallback</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Spinner</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> />}></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">SlowComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;/</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">Suspense</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h2 id=\"react-19에서는\"><a class=\"anchor\" href=\"#react-19에서는\">React 19에서는?</a></h2>\n<p>24년 8월 24일 기준 React 19에 대한 이야기 많이 들려오고있다. Concurrent Mode의 개념이 22년 3월 React 문서에서 보이기 시작했는데, 2년 반 시간이 지난 지금 관점이 어떻게 변했을까?</p>\n<p>아직까지 React 팀은 Concurrent Mode의 개념을 지향하고 있지만, 그 구현 방식과 \"Concurrent Mode\"라는 용어 대신 \"Concurrent Rendering\"이라는 용어를 사용하며 변화를 주고 있다.</p>\n<p>몇개의 자료들을 살펴보며 어떤 이유때문에 용어의 변화가 생겼는지 알아보자.</p>\n<h3 id=\"react-github-discussions\"><a class=\"anchor\" href=\"#react-github-discussions\">React Github Discussions</a></h3>\n<p><a href=\"https://github.com/reactwg/react-18/discussions/64\">React 18 워킹 그룹 GitHub 토론</a>의 Discussions을 살펴보자.</p>\n<p><strong>Rename 'Concurrent Mode' to 'Concurrent Rendering'을</strong> 확인해보면 <strong>Dan Abramov</strong>가 아래처럼 서술하고 있다.</p>\n<blockquote>\n<p>우리는 'Concurrent Mode'라는 용어를 더 이상 사용하지 않고 대신 'Concurrent Rendering'이라는 용어를 사용할 것입니다. 이는 동시성이 모드가 아니라 렌더링 동작의 변화임을 강조하기 위함입니다.</p>\n<p>We're moving away from the term \"Concurrent Mode\" and will be using \"Concurrent Rendering\" instead. This is to emphasize that concurrency is not a \"mode\" but a behind-the-scenes change in the rendering behavior.</p>\n</blockquote>\n<h3 id=\"react-18-docs\"><a class=\"anchor\" href=\"#react-18-docs\">React 18 Docs</a></h3>\n<p><a href=\"https://react.dev/blog/2022/03/29/react-v18#what-is-concurrent-react\">React 18 공식 문서</a>에서 React 팀은 아래처럼 내용을 다루고 있다.</p>\n<blockquote>\n<p>동시성은 React의 내부 구현 세부사항입니다. 최종 사용자로서, React가 동시적이라는 사실을 알 필요는 없습니다. React를 사용하는 방식에 근본적인 변화는 없으며, 단지 React가 제공하는 새로운 기능을 사용하면 됩니다.</p>\n<p>Concurrency is a new behind-the-scenes mechanism in React. As an end user, you don't need to think about it most of the time. React automatically opts into concurrent features depending on which ones you're using.</p>\n</blockquote>\n<p>위 글을 아래 2가지 이유로 요약할 수 있다.</p>\n<ul>\n<li><strong>점진적 채택 가능성:</strong> \"Mode\"라는 단어는 전체 애플리케이션에 대한 on/off 스위치와 같은 느낌을 주지만, \"Rendering\"은 더 유연하고 점진적인 도입을 암시한다.</li>\n<li><strong>혼란 감소:</strong> 많은 개발자들이 Concurrent Mode를 하나의 기능으로 오해했다. 실제로는 여러 기능의 집합이며, 이를 \"Concurrent Rendering\"으로 표현하는 것이 더 정확하다.</li>\n</ul>\n<h2 id=\"결론\"><a class=\"anchor\" href=\"#결론\">결론</a></h2>\n<p>Concurrent Mode는 React 애플리케이션의 성능과 사용자 경험을 크게 향상시킬 수 있는 강력한 도구인 것 같다.</p>\n<p>이를 효과적으로 활용하기 위해서는 새로운 개념과 API에 대한 이해도가 필요해보여서, 공부를 더 해봐야겠다!</p>\n<p><img src=\"/content/240824/4.jpeg\" alt=\"4.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>React 팀은 계속해서 Concurrent Mode, Concurrent Rendering을 강조하고 있기때문에, 앞으로 더 많은 기능과 최적화가 이루어질 것으로 예상된다!</p>\n<h3 id=\"참고자료\"><a class=\"anchor\" href=\"#참고자료\">참고자료</a></h3>\n<ul>\n<li><a href=\"https://react.dev/blog/2022/03/29/react-v18\">React v18.0</a></li>\n<li><a href=\"https://w55ng.com/entry/React-18%EC%9D%98-%EC%83%88%EB%A1%9C%EC%9A%B4-%EA%B8%B0%EB%8A%A5-%EB%8F%99%EC%8B%9C%EC%84%B1-%EB%AA%A8%EB%93%9CConcurrent-Mode\">동시성 모드에 대해서</a></li>\n<li><a href=\"https://medium.com/swlh/what-is-react-concurrent-mode-46989b5f15da\">What is React Concurrent Mode?</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240824/index.md",
    "_raw": {
      "sourceFilePath": "240824/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240824",
      "contentType": "markdown",
      "flattenedPath": "240824"
    },
    "type": "Post",
    "slug": "/240824",
    "categoryArray": [
      "프론트엔드",
      "React"
    ],
    "readingTime": "9 min read",
    "excerpt": "zustand의 공식문서를 살펴보다, \"Zustand는 React의 useSyncExternalStore 훅을 사용하여 React의 상태 관리 시스템과 원활하게 통합되어 Concurrent Mode와 호환된다\" 는 내용을 보았다. Concurrent Mode라는 낯선 단어를 찾아보게 되었고, 생각보다 면접 질문으로도 쏠쏠하게 등장하기에 정리해보려한다! Re..."
  },
  {
    "title": "React 상태가 변화는 과정에 대해서!",
    "date": "2024-09-09T00:00:00.000Z",
    "categories": "프론트엔드 자바스크립트",
    "body": {
      "raw": "\nReact 상태가 변화하는 과정은 크게 5단계로 나눌 수 있다.\n\n- **초기 트리거 단계**: useState를 통한 상태 생성과 업데이트 객체가 만들어지는 단계\n- **스케줄링 단계**: 여러 상태 업데이트를 우선순위에 따라 배치 처리하는 단계\n- **재조정(Reconciliation) 단계**: Virtual DOM을 비교하여 실제로 변경이 필요한 부분을 파악하는 단계\n- **커밋(Commit) 단계**: 변경사항을 실제 DOM에 적용하고 부수효과를 실행하는 단계\n- **완료 단계**: 클린업을 수행하고 다음 업데이트를 준비하는 단계\n\n이 각 단계들은 React가 상태 변화를 효율적이고 일관되게 처리하여 성능 최적화와 안정적인 렌더링을 보장하기 위해 설계되었다.\n\n<br/>\n\n\n\n **배치 처리 (Batching)**\n\n![1.jpg](1.jpg)\n\n- 배치 처리는 여러 상태 업데이트를 하나의 리렌더링으로 그룹화하는 프로세스다.\n\n- 배치 처리를 통해 불필요한 렌더링을 최소화하고, 메모리 할당을 줄이는 등의 장점을 누릴 수 있다.\n\n- React 18에서는 모든 업데이트가 자동으로 배치 처리된다.\n\n<br/>\n\n **트랜잭션 처리**\n\n- 트랜잭션은 여러 업데이트를 하나의 원자적 단위로 처리하여 일관성을 보장하는 것을 의미한다.\n\n- 최대 장점은 원자성, 일관성, 격리성이 있다.\n\n```typescript\nfunction TransactionExample() {\n  const [user, setUser] = useState(null);\n  const [posts, setPosts] = useState([]);\n\n  const updateUserData = async () => {\n    try {\n      startTransaction(); // 트랜잭션 시작\n\n      setUser(newUser);\n      setPosts(newPosts);\n\n      commitTransaction(); // 트랜잭션 커밋\n    } catch (error) {\n      rollbackTransaction(); // 오류 발생하면 롤백\n    }\n  };\n}\n```\n\n이제 각 단계별로 자세한 내용을 살펴보며 React의 상태 관리 메커니즘에 대해 알아보자\n\n<br/>\n\n## 초기 트리거 단계\n\n![3.webp](3.webp)\n\n초기 트리거 단계는 React에서 상태 변화가 시작되는 첫 단계다.\n\n초기 상태를 생성하고, 업데이트를 위한 객체를 생성하고, 업데이트를 큐로 관리해 배치 처리한다. 이러한 단계를 예시코드를 통해 자세하게 알아보자.\n\n<br/>\n\n### 초기 상태 생성\n\n우선 useState, useReducer, useContext, 외부 상태 관리 라이브러리를 이용해 초기 상태가 생성되고, set 같은 상태 업데이트 함수가 호출될 때 트리거된다.\n\n트리거(Trigger)는 상태(state)가 변경될 때 컴포넌트(component)가 다시 렌더링(re-rendering)되도록 하는 것을 의미한다.\n\n<br/>\n\n### 업데이트 객체 생성\n\n상태 변경이 발생하면 React는 Update 객체를 생성한다.\n\n이 객체는 새로운 상태값, 우선순위, 다음 업데이트에 대한 참조 등의 정보를 포함한다.\n\n```typescript\ninterface Update<State> {\n  lane: Lane;\n  tag: UpdateTag;\n  payload: any;\n  next: Update<State> | null;\n  eventTime: number;\n}\n```\n\n**lane는** React의 우선순위 시스템을 구현하는 필드다. 동기/비동기 업데이트 구분, 사용자 상호작용, 데이터 페칭 등 업데이트 유형에 따른 우선순위 할당등의 역할을 한다.\n\n**tag는** UpdateState, ReplaceState, ForceUpdate, CaptureUpdate 4가지 종류가 있다.\n\n**payload는** 상태 계산에 필요한 정보를 가지고 있다.\n\n**next는** 업데이트 큐에서 연결 리스트 구현(업데이트 순차 처리)에 사용한다.\n\n**eventTime은** 우선순위 계산, 타임아웃 처리, 성능 측정, 디버깅에 활용한다.\n\n실제 생성은 아래처럼 된다.\n\n```typescript\nconst update = {\n  lane: SyncLane,\n  tag: UpdateState,\n  payload: newState,\n  next: null,\n  eventTime: getCurrentTime(),\n};\n```\n\n<br/>\n\n### 업데이트 큐에 추가\n\n![2.png](2.png)\n\n생성된 업데이트 객체는 업데이트 큐에 추가된다.\n\n여러 업데이트가 발생하면 큐에서 연결 리스트 형태로 관리되는데, 구조는 아래와같다\n\n```typescript\ninterface UpdateQueue<State> {\n  baseState: State; \n  firstBaseUpdate: Update<State> | null; \n  lastBaseUpdate: Update<State> | null; \n  shared: {\n    pending: Update<State> | null; \n  };\n  effects: Array<Effect> | null; \n}\n```\n\n**baseState** 로 기본 상태를 저장하고, **firstBaseUpdate/lastBaseUpdate** 를 활용해 업데이트 연결 리스트의 첫 번째와 마지막 업데이트를 저장한다.\n\n아직 처리 대기중인 업데이트는 **pending** 에 저장하고 사이드 이팩트는 **effect** 에 할당된다.\n\n업데이트 큐에 추가되면 큐 처리는 초기화를 우선하고 업데이트를 연결한다.\n\n아래 코드를 살펴보면, 업데이트 연결을 할 때 첫 업데이트/기존 업데이트 상황에 따라 연결 리스트의 구조가 다르다.\n\n```typescript\nfunction enqueueUpdate(fiber, queue, update) {\n  const pending = queue.shared.pending;\n  if (pending === null) {\n    update.next = update;\n  } else {\n    update.next = pending.next;\n    pending.next = update;\n  }\n  queue.shared.pending = update;\n}\n```\n\nenqueueUpdate 함수는 컴포넌트의 fiber 노드, 업데이트를 지정하는 큐, 새로 추가할 업데이트 객체를 매개변수로 받는다.\n\n그리고 원형 연결 리스트 형태로 구현되어있는 큐의 마지막 업데이트를 확인하여, 큐가 비어있으면 자기 자신을 가리키도록, 큐가 이미 업데이트에 있으면 기존 리스트에 연결하게된다.\n\n최종적으로 새 업데이트를 마지막 업데이트로 설정하게된다.\n\n\n<br/>\n\n## 스케줄링 단계\n\n스케줄링 단계에서는 React가 상태 업데이트를 효율적으로 처리하기 위한 단계로 사용자 경험을 해치지 않는 것을 중점으로 처리한다.\n\n<br/>\n\n###  우선순위 지정 (Lanes 시스템)\n\n![4.png](4.png)\n\n업데이트 객체를 생성할 때 Lane을 이용해 우선순위를 표현한다.\n\n여기서 Lane은 비트 마스크를 사용하여 우선순위를 표현하는 방식으로, 각 비트는 특정 우선순위 레벨을 나타낸다.\n\n<br/>\n\n**SyncLane(동기업데이트)** => 우선 순위 제일 높음\n\n- 즉시 처리가 필요한 동기 업데이트 (긴급한 상태 업데이트, 직접적인 DOM 조작)\n- 다른 작업을 중단하고 즉시 실행한다.\n\n<br/>\n\n**InputContinuousLane(사용자 입력과 관련)**\n\n- 사용자 입력과 관련된 업데이트 (키보드 입력, 마우스 이벤트)\n- 반응성을 위해 높은 우선순위 부여\n\n<br/>\n\n**DefaultLane(일반적인 상태 업데이트)**\n\n- 일반적인 상태 업데이트 (API 응답에 따른 상태 변경)\n- 보통 수준의 우선순위로 처리\n\n<br/>\n\n**TransitionLane(UI 전환 효과, 지연효과)**\n\n- UI 전환과 관련된 업데이트 (페이지 전환, 애니메이션)\n- useTransition, startTransition 과 같은 지연 가능한 업데이트 처리\n\n<br/>\n\n**IdleLane(백그라운드 작업)** => 우선 순위 제일 낮음\n\n- 백그라운드 작업 (데이터 프리페칭, 로깅)\n- 브라우저 유휴 시간에 처리\n\n\n<br/>\n\n\n### 업데이트 배치 처리 (Batch Processing)\n\nReact는 여러 상태 업데이트를 효율적으로 처리하기 위해 **배치 처리**를 사용한다. 여러 상태 업데이트를 단일 배치로 그룹화하여 처리함으로써 **성능을 최적화하고 불필요한 리렌더링을 방지한다.**\n\n**배치 처리 메커니즘은** 업데이트를 그룹화하고, 각 업데이트에 우선순위를 할당한 후, 이를 업데이트 큐에 순차적으로 추가한다. \n\n이 과정에서 **React는 동기/비동기 컨텍스트를 구분**하고, 트랜잭션 단위로 상태를 관리하여 일관성을 유지한다.\n\nReact의 스케줄러는 우선순위를 기반으로 업데이트 큐를 관리한다. 각 업데이트는 우선순위와 만료 시간을 가지며, 스케줄러는 이를 기반으로 실행 시점을 결정한다.\n\n![5.gif](5.gif)\n\n\n이러한 스케줄링은 **브라우저의 이벤트 루프와 긴밀하게 통합**되어 있어, 프레임 레이트(디스플레이가 화면의 이미지를 얼마나 자주 업데이트하는지를 나타내는 측정 단위)를 최적화하고 리소스 사용을 효율적으로 관리할 수 있다.\n\n**React 18부터는 자동 배치(Automatic Batching)가** 기본적으로 적용되어, 더욱 효율적인 상태 업데이트가 가능해졌다. \n\n이를 통해 개발자는 별도의 설정 없이도 최적화된 상태 관리의 이점을 누릴 수 있게 되었다. 이러한 배치 처리 시스템은 React 애플리케이션의 성능과 사용자 경험을 크게 향상시키는 핵심 기능이다.\n\n\n<br/>\n\n### 불필요한 리렌더링 방지\n\n메모리제이션 활용(useMemo, useCallback)과 선택적 렌더링(필요한 props만 전달해 불필요한 객체 생성 방지)을 기반으로 불필요한 리렌더링을 방지한다.\n\n<br/>\n\n## 재조정(Reconciliation) 단계\n\n![6.jpeg](6.jpeg)\n\nReact의 재조정은 상태 변화를 실제 UI 변화로 변환하는 핵심 과정이다. \n\n이 과정은 효율적인 UI 업데이트를 위해 변경된 부분만을 식별하고 수정하는 것에 중점을 두고있다.\n\n<br/>\n\n### 새로운 상태 계산\n\nReact는 상태 업데이트를 처리할 때 두 가지 핵심 작업을 수행한다.\n\n- 현재 상태와 컴포넌트의 마지막 렌더링 결과를 확인해 이전 상태를 평가한다.\n- 들어온 업데이트들을 순차적으로 처리하여 최종 상태를 계산한다.\n\n<br/>\n\n### Virtual DOM 비교\n\nReact는 효율적인 UI 업데이트를 위해 Virtual DOM을 활용한다.\n\n현재 Virtual DOM은 실제 DOM에 반영된 현재 UI 상태이고, 새로운 Virtual DOM은 새로운 상태를 기반으로 생성된 UI 트리다. \n\n**[Diff 알고리즘](https://devocean.sk.com/blog/techBoardDetail.do?ID=165611)은** 두 Virtual DOM을 비교하여 차이점을 찾는다. 특히 key prop은 리스트 요소의 식별과 효율적인 재사용을 위해 중요하다.\n\n<br/>\n\n### 필요한 업데이트 결정\n\nReact는 텍스트/속성/구조 변경 업데이트를 처리한다.\n\n**텍스트 업데이트**\n\n```javascript\n  <div>Hello {name}</div>  // 텍스트 내용만 변경\n```\n\n**속성 업데이트**\n\n```javascript\n  <button className={isActive ? 'active' : ''}>  // 클래스만 변경\n```\n\n**구조적 변경**\n\n```javascript\n{condition ? <ComponentA /> : <ComponentB />}  // 컴포넌트 전체 교체\n```\n\n\n\n<br/>\n\n### Fiber 트리 구성\n\nFiber 트리에 대한 내용은 다룰 것이 너무 많다. 그래서 별도로 다루려한다.\n\n내용이 궁금하면 **[여기를 참조해보면 좋다](https://github.com/acdlite/react-fiber-architecture)**\n\n<br/>\n\n\n## 커밋(Commit) 단계\n\n![7.png](7.png)\n\n커밋 단계는 React의 변경사항을 실제 DOM에 안전하게 적용하고, 부수 효과를 관리하며, 메모리를 효율적으로 관리하는 중요한 단계다.\n\n동기적 실행, 부수 효과 관리, 성능 최적화를 중점으로 다루어 성능과 안정성에 직접적인 영향을 미친다.\n\n<br/>\n\n### 실제 DOM 업데이트\n\n삭제될 노드를 처리 => 새로운 노드를 마운트 => 기존 노드 업데이트 순서대로 DOM 업데이트를 진행한다.\n\n그리고 DOM 조작 최적화를 위해 아래 3가지의 작업을 진행한다.\n\n- 변경사항을 하나의 배치로 처리\n- 레이아웃 트리거 최소화\n- 브라우저 리페인트 최적화\n\n<br/>\n\n### 부수 효과(Effects) 실행\n\n![9.png](9.png)\n\n부수효과에는 useLayoutEffect(레이아웃 효과) 와 useEffect(패시브 효과)가 있다.\n\n**useLayoutEffect (레이아웃 효과)**\n\n- DOM 변경 직후, 브라우저가 화면을 그리기 전에 동기적으로 실행\n\n- React가 DOM을 업데이트한 직후, 브라우저 페인팅 전에 발생\n\n- 실행 순서: DOM 업데이트 → useLayoutEffect → 브라우저 페인팅\n\n**useEffect (패시브 효과)**\n\n- 브라우저가 화면을 그린 후 비동기적으로 실행\n\n- React가 DOM을 업데이트하고 브라우저가 화면을 그린 후 발생\n\n- 실행 순서: DOM 업데이트 → 브라우저 페인팅 → useEffect\n\n<br/>\n\n### 참조 정리\n\n참조 정리를 위해 ref 업데이트를 처리하고, 메모리 관리를 진행한다.\n\n메모리 관리에는 가비지 컬렉션 준비(불필요한 참조 제거, 순환 참조 방지, 메모리 누수 방지)와 리소스 정리(이벤트 리스너 제거, 타이머 정리 ,외부 구독 취소)가 포함되어있다.\n\n<br/>\n\n## 완료 단계\n\nReact 애플리케이션의 안정성과 성능을 보장하는 중요한 단계다.\n\n적절한 클린업, 메모리 관리, 그리고 다음 업데이트 준비를 통해 리소스 누수 방지, 안정적인 성능 유지, 일관된 사용자 경험 제공 등의 요소들을 보장한다.\n\n<br/>\n\n### 클린업 함수 실행\n\n클린업의 목적은 이전 렌더링의 부수 효과 정리, 리소스 누수 방지, 상태 일관성 유지 등이 있다.\n\n클린업 실행 순서는 아래 3가지 단계를 거친다.\n\n1. 이펙트 클린업\n\n```typescript\nuseEffect(() => {\n  // 구독 설정\n  const subscription = dataSource.subscribe();\n\n  // 클린업 함수\n  return () => {\n    // 다음 이펙트 실행 전 또는 언마운트 시 호출\n    subscription.unsubscribe();\n  };\n}, [dataSource]);\n```\n\n2. 등록된 이벤트 리스너 제거, 타이머/인터벌 정리, 웹소켓 연결 종료 등을 통해 이벤트를 정리한다.\n\n3. 이후에는 외부 연결인 데이터 구독 해제, 외부 API 연결 종료, 캐시 정리등을 진행한다.\n\n\n\n<br/>\n\n### 메모리 정리\n\n참조 정리, 캐시 관리, 가비지 컬렉션 준비를 통해 메모리를 정리한다.\n\n자세하게 설명해보면 cleanupFiber 함수를 사용해 Fiber 노드를 정리해준다 (하위 fiber 옵션을 null로 초기화해주는 개념?)\n\n참조 정리에는 DOM 참조 해제(함수형 ref, 객체 ref)와 컴포넌트 인스턴스 정리를 의미한다.\n\n<br/>\n\n### 다음 업데이트 준비\n\n상태를 초기화하고 최적화 준비를 끝낸다.\n\n다음 업데이트를 준비하기 위해, 업데이트 큐 초기화를 진행한다. 그 다음 우선순위 시스템을 새로 준비하게 되는데 그 내용들은 아래 5개를 의미한다.\n\n- 위에서 설명했던 레인(Lane) 할당하고 작업 우선순위 설정\n\n- 작업 스케줄링 준비 (작업 큐 초기화, 스케줄링 상태 리셋)\n\n- 성능 최적화 준비 (메모리 모니터링, 성능 메트릭 초기화)\n\n- 실행 컨텍스트 준비 (렌더 컨텍스트 초기화)\n\n- 동시성 모드 준비 (시간 분할 설정, 인터럽트 처리 준비)\n\n<br/>\n\n## 참고자료\n\n- [React-reconciler](https://github.com/facebook/react/tree/main/packages/react-reconciler)\n- [React-scheduler](https://github.com/facebook/react/tree/main/packages/scheduler)\n- [React-DOM](https://github.com/facebook/react/tree/main/packages/react-dom)\n- [React Fiber architecture](https://github.com/acdlite/react-fiber-architecture)\n- [React 내부구현 해보기](https://pomb.us/build-your-own-react/)\n- [Scheduling in React](https://philippspiess.com/scheduling-in-react/)\n- [리액트 배칭의 모든 것](https://yozm.wishket.com/magazine/detail/2493/)\n\n```toc\n\n```\n",
      "html": "<p>React 상태가 변화하는 과정은 크게 5단계로 나눌 수 있다.</p>\n<ul>\n<li><strong>초기 트리거 단계</strong>: useState를 통한 상태 생성과 업데이트 객체가 만들어지는 단계</li>\n<li><strong>스케줄링 단계</strong>: 여러 상태 업데이트를 우선순위에 따라 배치 처리하는 단계</li>\n<li><strong>재조정(Reconciliation) 단계</strong>: Virtual DOM을 비교하여 실제로 변경이 필요한 부분을 파악하는 단계</li>\n<li><strong>커밋(Commit) 단계</strong>: 변경사항을 실제 DOM에 적용하고 부수효과를 실행하는 단계</li>\n<li><strong>완료 단계</strong>: 클린업을 수행하고 다음 업데이트를 준비하는 단계</li>\n</ul>\n<p>이 각 단계들은 React가 상태 변화를 효율적이고 일관되게 처리하여 성능 최적화와 안정적인 렌더링을 보장하기 위해 설계되었다.</p>\n<p><strong>배치 처리 (Batching)</strong></p>\n<p><img src=\"/content/240909/1.jpg\" alt=\"1.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<ul>\n<li>\n<p>배치 처리는 여러 상태 업데이트를 하나의 리렌더링으로 그룹화하는 프로세스다.</p>\n</li>\n<li>\n<p>배치 처리를 통해 불필요한 렌더링을 최소화하고, 메모리 할당을 줄이는 등의 장점을 누릴 수 있다.</p>\n</li>\n<li>\n<p>React 18에서는 모든 업데이트가 자동으로 배치 처리된다.</p>\n</li>\n</ul>\n<p><strong>트랜잭션 처리</strong></p>\n<ul>\n<li>\n<p>트랜잭션은 여러 업데이트를 하나의 원자적 단위로 처리하여 일관성을 보장하는 것을 의미한다.</p>\n</li>\n<li>\n<p>최대 장점은 원자성, 일관성, 격리성이 있다.</p>\n</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TransactionExample</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">user</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setUser</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">posts</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setPosts</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([]);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> updateUserData</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> async</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      startTransaction</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 트랜잭션 시작</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setUser</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(newUser);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setPosts</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(newPosts);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      commitTransaction</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 트랜잭션 커밋</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      rollbackTransaction</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 오류 발생하면 롤백</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>이제 각 단계별로 자세한 내용을 살펴보며 React의 상태 관리 메커니즘에 대해 알아보자</p>\n<h2 id=\"초기-트리거-단계\"><a class=\"anchor\" href=\"#초기-트리거-단계\">초기 트리거 단계</a></h2>\n<p><img src=\"/content/240909/3.webp\" alt=\"3.webp\" loading=\"lazy\" decoding=\"async\"></p>\n<p>초기 트리거 단계는 React에서 상태 변화가 시작되는 첫 단계다.</p>\n<p>초기 상태를 생성하고, 업데이트를 위한 객체를 생성하고, 업데이트를 큐로 관리해 배치 처리한다. 이러한 단계를 예시코드를 통해 자세하게 알아보자.</p>\n<h3 id=\"초기-상태-생성\"><a class=\"anchor\" href=\"#초기-상태-생성\">초기 상태 생성</a></h3>\n<p>우선 useState, useReducer, useContext, 외부 상태 관리 라이브러리를 이용해 초기 상태가 생성되고, set 같은 상태 업데이트 함수가 호출될 때 트리거된다.</p>\n<p>트리거(Trigger)는 상태(state)가 변경될 때 컴포넌트(component)가 다시 렌더링(re-rendering)되도록 하는 것을 의미한다.</p>\n<h3 id=\"업데이트-객체-생성\"><a class=\"anchor\" href=\"#업데이트-객체-생성\">업데이트 객체 생성</a></h3>\n<p>상태 변경이 발생하면 React는 Update 객체를 생성한다.</p>\n<p>이 객체는 새로운 상태값, 우선순위, 다음 업데이트에 대한 참조 등의 정보를 포함한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">interface</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">State</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  lane</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Lane</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  tag</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> UpdateTag</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  payload</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  next</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">State</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">|</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  eventTime</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p><strong>lane는</strong> React의 우선순위 시스템을 구현하는 필드다. 동기/비동기 업데이트 구분, 사용자 상호작용, 데이터 페칭 등 업데이트 유형에 따른 우선순위 할당등의 역할을 한다.</p>\n<p><strong>tag는</strong> UpdateState, ReplaceState, ForceUpdate, CaptureUpdate 4가지 종류가 있다.</p>\n<p><strong>payload는</strong> 상태 계산에 필요한 정보를 가지고 있다.</p>\n<p><strong>next는</strong> 업데이트 큐에서 연결 리스트 구현(업데이트 순차 처리)에 사용한다.</p>\n<p><strong>eventTime은</strong> 우선순위 계산, 타임아웃 처리, 성능 측정, 디버깅에 활용한다.</p>\n<p>실제 생성은 아래처럼 된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> update</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  lane: SyncLane,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  tag: UpdateState,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  payload: newState,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  next: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  eventTime: </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getCurrentTime</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span></code></pre></figure>\n<h3 id=\"업데이트-큐에-추가\"><a class=\"anchor\" href=\"#업데이트-큐에-추가\">업데이트 큐에 추가</a></h3>\n<p><img src=\"/content/240909/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>생성된 업데이트 객체는 업데이트 큐에 추가된다.</p>\n<p>여러 업데이트가 발생하면 큐에서 연결 리스트 형태로 관리되는데, 구조는 아래와같다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">interface</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> UpdateQueue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">State</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  baseState</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> State</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  firstBaseUpdate</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">State</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">|</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  lastBaseUpdate</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">State</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">|</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  shared</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">    pending</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">State</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">|</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  effects</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Array</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">Effect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">|</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p><strong>baseState</strong> 로 기본 상태를 저장하고, <strong>firstBaseUpdate/lastBaseUpdate</strong> 를 활용해 업데이트 연결 리스트의 첫 번째와 마지막 업데이트를 저장한다.</p>\n<p>아직 처리 대기중인 업데이트는 <strong>pending</strong> 에 저장하고 사이드 이팩트는 <strong>effect</strong> 에 할당된다.</p>\n<p>업데이트 큐에 추가되면 큐 처리는 초기화를 우선하고 업데이트를 연결한다.</p>\n<p>아래 코드를 살펴보면, 업데이트 연결을 할 때 첫 업데이트/기존 업데이트 상황에 따라 연결 리스트의 구조가 다르다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> enqueueUpdate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">fiber</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">queue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> pending</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> queue.shared.pending;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (pending </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    update.next </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> update;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">else</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    update.next </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> pending.next;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    pending.next </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> update;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  queue.shared.pending </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> update;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>enqueueUpdate 함수는 컴포넌트의 fiber 노드, 업데이트를 지정하는 큐, 새로 추가할 업데이트 객체를 매개변수로 받는다.</p>\n<p>그리고 원형 연결 리스트 형태로 구현되어있는 큐의 마지막 업데이트를 확인하여, 큐가 비어있으면 자기 자신을 가리키도록, 큐가 이미 업데이트에 있으면 기존 리스트에 연결하게된다.</p>\n<p>최종적으로 새 업데이트를 마지막 업데이트로 설정하게된다.</p>\n<h2 id=\"스케줄링-단계\"><a class=\"anchor\" href=\"#스케줄링-단계\">스케줄링 단계</a></h2>\n<p>스케줄링 단계에서는 React가 상태 업데이트를 효율적으로 처리하기 위한 단계로 사용자 경험을 해치지 않는 것을 중점으로 처리한다.</p>\n<h3 id=\"우선순위-지정-lanes-시스템\"><a class=\"anchor\" href=\"#우선순위-지정-lanes-시스템\">우선순위 지정 (Lanes 시스템)</a></h3>\n<p><img src=\"/content/240909/4.png\" alt=\"4.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>업데이트 객체를 생성할 때 Lane을 이용해 우선순위를 표현한다.</p>\n<p>여기서 Lane은 비트 마스크를 사용하여 우선순위를 표현하는 방식으로, 각 비트는 특정 우선순위 레벨을 나타낸다.</p>\n<p><strong>SyncLane(동기업데이트)</strong> => 우선 순위 제일 높음</p>\n<ul>\n<li>즉시 처리가 필요한 동기 업데이트 (긴급한 상태 업데이트, 직접적인 DOM 조작)</li>\n<li>다른 작업을 중단하고 즉시 실행한다.</li>\n</ul>\n<p><strong>InputContinuousLane(사용자 입력과 관련)</strong></p>\n<ul>\n<li>사용자 입력과 관련된 업데이트 (키보드 입력, 마우스 이벤트)</li>\n<li>반응성을 위해 높은 우선순위 부여</li>\n</ul>\n<p><strong>DefaultLane(일반적인 상태 업데이트)</strong></p>\n<ul>\n<li>일반적인 상태 업데이트 (API 응답에 따른 상태 변경)</li>\n<li>보통 수준의 우선순위로 처리</li>\n</ul>\n<p><strong>TransitionLane(UI 전환 효과, 지연효과)</strong></p>\n<ul>\n<li>UI 전환과 관련된 업데이트 (페이지 전환, 애니메이션)</li>\n<li>useTransition, startTransition 과 같은 지연 가능한 업데이트 처리</li>\n</ul>\n<p><strong>IdleLane(백그라운드 작업)</strong> => 우선 순위 제일 낮음</p>\n<ul>\n<li>백그라운드 작업 (데이터 프리페칭, 로깅)</li>\n<li>브라우저 유휴 시간에 처리</li>\n</ul>\n<h3 id=\"업데이트-배치-처리-batch-processing\"><a class=\"anchor\" href=\"#업데이트-배치-처리-batch-processing\">업데이트 배치 처리 (Batch Processing)</a></h3>\n<p>React는 여러 상태 업데이트를 효율적으로 처리하기 위해 <strong>배치 처리</strong>를 사용한다. 여러 상태 업데이트를 단일 배치로 그룹화하여 처리함으로써 <strong>성능을 최적화하고 불필요한 리렌더링을 방지한다.</strong></p>\n<p><strong>배치 처리 메커니즘은</strong> 업데이트를 그룹화하고, 각 업데이트에 우선순위를 할당한 후, 이를 업데이트 큐에 순차적으로 추가한다.</p>\n<p>이 과정에서 <strong>React는 동기/비동기 컨텍스트를 구분</strong>하고, 트랜잭션 단위로 상태를 관리하여 일관성을 유지한다.</p>\n<p>React의 스케줄러는 우선순위를 기반으로 업데이트 큐를 관리한다. 각 업데이트는 우선순위와 만료 시간을 가지며, 스케줄러는 이를 기반으로 실행 시점을 결정한다.</p>\n<p><img src=\"/content/240909/5.gif\" alt=\"5.gif\" loading=\"lazy\" decoding=\"async\"></p>\n<p>이러한 스케줄링은 <strong>브라우저의 이벤트 루프와 긴밀하게 통합</strong>되어 있어, 프레임 레이트(디스플레이가 화면의 이미지를 얼마나 자주 업데이트하는지를 나타내는 측정 단위)를 최적화하고 리소스 사용을 효율적으로 관리할 수 있다.</p>\n<p><strong>React 18부터는 자동 배치(Automatic Batching)가</strong> 기본적으로 적용되어, 더욱 효율적인 상태 업데이트가 가능해졌다.</p>\n<p>이를 통해 개발자는 별도의 설정 없이도 최적화된 상태 관리의 이점을 누릴 수 있게 되었다. 이러한 배치 처리 시스템은 React 애플리케이션의 성능과 사용자 경험을 크게 향상시키는 핵심 기능이다.</p>\n<h3 id=\"불필요한-리렌더링-방지\"><a class=\"anchor\" href=\"#불필요한-리렌더링-방지\">불필요한 리렌더링 방지</a></h3>\n<p>메모리제이션 활용(useMemo, useCallback)과 선택적 렌더링(필요한 props만 전달해 불필요한 객체 생성 방지)을 기반으로 불필요한 리렌더링을 방지한다.</p>\n<h2 id=\"재조정reconciliation-단계\"><a class=\"anchor\" href=\"#재조정reconciliation-단계\">재조정(Reconciliation) 단계</a></h2>\n<p><img src=\"/content/240909/6.jpeg\" alt=\"6.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>React의 재조정은 상태 변화를 실제 UI 변화로 변환하는 핵심 과정이다.</p>\n<p>이 과정은 효율적인 UI 업데이트를 위해 변경된 부분만을 식별하고 수정하는 것에 중점을 두고있다.</p>\n<h3 id=\"새로운-상태-계산\"><a class=\"anchor\" href=\"#새로운-상태-계산\">새로운 상태 계산</a></h3>\n<p>React는 상태 업데이트를 처리할 때 두 가지 핵심 작업을 수행한다.</p>\n<ul>\n<li>현재 상태와 컴포넌트의 마지막 렌더링 결과를 확인해 이전 상태를 평가한다.</li>\n<li>들어온 업데이트들을 순차적으로 처리하여 최종 상태를 계산한다.</li>\n</ul>\n<h3 id=\"virtual-dom-비교\"><a class=\"anchor\" href=\"#virtual-dom-비교\">Virtual DOM 비교</a></h3>\n<p>React는 효율적인 UI 업데이트를 위해 Virtual DOM을 활용한다.</p>\n<p>현재 Virtual DOM은 실제 DOM에 반영된 현재 UI 상태이고, 새로운 Virtual DOM은 새로운 상태를 기반으로 생성된 UI 트리다.</p>\n<p><strong><a href=\"https://devocean.sk.com/blog/techBoardDetail.do?ID=165611\">Diff 알고리즘</a>은</strong> 두 Virtual DOM을 비교하여 차이점을 찾는다. 특히 key prop은 리스트 요소의 식별과 효율적인 재사용을 위해 중요하다.</p>\n<h3 id=\"필요한-업데이트-결정\"><a class=\"anchor\" href=\"#필요한-업데이트-결정\">필요한 업데이트 결정</a></h3>\n<p>React는 텍스트/속성/구조 변경 업데이트를 처리한다.</p>\n<p><strong>텍스트 업데이트</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>Hello {name}&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>  </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 텍스트 내용만 변경</span></span></code></pre></figure>\n<p><strong>속성 업데이트</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">button</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> className</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{isActive </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'active'</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> ''</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}>  // 클래스만 변경</span></span></code></pre></figure>\n<p><strong>구조적 변경</strong></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{condition </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">ComponentA</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">ComponentB</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> />}  </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 컴포넌트 전체 교체</span></span></code></pre></figure>\n<h3 id=\"fiber-트리-구성\"><a class=\"anchor\" href=\"#fiber-트리-구성\">Fiber 트리 구성</a></h3>\n<p>Fiber 트리에 대한 내용은 다룰 것이 너무 많다. 그래서 별도로 다루려한다.</p>\n<p>내용이 궁금하면 <strong><a href=\"https://github.com/acdlite/react-fiber-architecture\">여기를 참조해보면 좋다</a></strong></p>\n<h2 id=\"커밋commit-단계\"><a class=\"anchor\" href=\"#커밋commit-단계\">커밋(Commit) 단계</a></h2>\n<p><img src=\"/content/240909/7.png\" alt=\"7.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>커밋 단계는 React의 변경사항을 실제 DOM에 안전하게 적용하고, 부수 효과를 관리하며, 메모리를 효율적으로 관리하는 중요한 단계다.</p>\n<p>동기적 실행, 부수 효과 관리, 성능 최적화를 중점으로 다루어 성능과 안정성에 직접적인 영향을 미친다.</p>\n<h3 id=\"실제-dom-업데이트\"><a class=\"anchor\" href=\"#실제-dom-업데이트\">실제 DOM 업데이트</a></h3>\n<p>삭제될 노드를 처리 => 새로운 노드를 마운트 => 기존 노드 업데이트 순서대로 DOM 업데이트를 진행한다.</p>\n<p>그리고 DOM 조작 최적화를 위해 아래 3가지의 작업을 진행한다.</p>\n<ul>\n<li>변경사항을 하나의 배치로 처리</li>\n<li>레이아웃 트리거 최소화</li>\n<li>브라우저 리페인트 최적화</li>\n</ul>\n<h3 id=\"부수-효과effects-실행\"><a class=\"anchor\" href=\"#부수-효과effects-실행\">부수 효과(Effects) 실행</a></h3>\n<p><img src=\"/content/240909/9.png\" alt=\"9.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>부수효과에는 useLayoutEffect(레이아웃 효과) 와 useEffect(패시브 효과)가 있다.</p>\n<p><strong>useLayoutEffect (레이아웃 효과)</strong></p>\n<ul>\n<li>\n<p>DOM 변경 직후, 브라우저가 화면을 그리기 전에 동기적으로 실행</p>\n</li>\n<li>\n<p>React가 DOM을 업데이트한 직후, 브라우저 페인팅 전에 발생</p>\n</li>\n<li>\n<p>실행 순서: DOM 업데이트 → useLayoutEffect → 브라우저 페인팅</p>\n</li>\n</ul>\n<p><strong>useEffect (패시브 효과)</strong></p>\n<ul>\n<li>\n<p>브라우저가 화면을 그린 후 비동기적으로 실행</p>\n</li>\n<li>\n<p>React가 DOM을 업데이트하고 브라우저가 화면을 그린 후 발생</p>\n</li>\n<li>\n<p>실행 순서: DOM 업데이트 → 브라우저 페인팅 → useEffect</p>\n</li>\n</ul>\n<h3 id=\"참조-정리\"><a class=\"anchor\" href=\"#참조-정리\">참조 정리</a></h3>\n<p>참조 정리를 위해 ref 업데이트를 처리하고, 메모리 관리를 진행한다.</p>\n<p>메모리 관리에는 가비지 컬렉션 준비(불필요한 참조 제거, 순환 참조 방지, 메모리 누수 방지)와 리소스 정리(이벤트 리스너 제거, 타이머 정리 ,외부 구독 취소)가 포함되어있다.</p>\n<h2 id=\"완료-단계\"><a class=\"anchor\" href=\"#완료-단계\">완료 단계</a></h2>\n<p>React 애플리케이션의 안정성과 성능을 보장하는 중요한 단계다.</p>\n<p>적절한 클린업, 메모리 관리, 그리고 다음 업데이트 준비를 통해 리소스 누수 방지, 안정적인 성능 유지, 일관된 사용자 경험 제공 등의 요소들을 보장한다.</p>\n<h3 id=\"클린업-함수-실행\"><a class=\"anchor\" href=\"#클린업-함수-실행\">클린업 함수 실행</a></h3>\n<p>클린업의 목적은 이전 렌더링의 부수 효과 정리, 리소스 누수 방지, 상태 일관성 유지 등이 있다.</p>\n<p>클린업 실행 순서는 아래 3가지 단계를 거친다.</p>\n<ol>\n<li>이펙트 클린업</li>\n</ol>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 구독 설정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> subscription</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> dataSource.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">subscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 클린업 함수</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // 다음 이펙트 실행 전 또는 언마운트 시 호출</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    subscription.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">unsubscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, [dataSource]);</span></span></code></pre></figure>\n<ol start=\"2\">\n<li>\n<p>등록된 이벤트 리스너 제거, 타이머/인터벌 정리, 웹소켓 연결 종료 등을 통해 이벤트를 정리한다.</p>\n</li>\n<li>\n<p>이후에는 외부 연결인 데이터 구독 해제, 외부 API 연결 종료, 캐시 정리등을 진행한다.</p>\n</li>\n</ol>\n<h3 id=\"메모리-정리\"><a class=\"anchor\" href=\"#메모리-정리\">메모리 정리</a></h3>\n<p>참조 정리, 캐시 관리, 가비지 컬렉션 준비를 통해 메모리를 정리한다.</p>\n<p>자세하게 설명해보면 cleanupFiber 함수를 사용해 Fiber 노드를 정리해준다 (하위 fiber 옵션을 null로 초기화해주는 개념?)</p>\n<p>참조 정리에는 DOM 참조 해제(함수형 ref, 객체 ref)와 컴포넌트 인스턴스 정리를 의미한다.</p>\n<h3 id=\"다음-업데이트-준비\"><a class=\"anchor\" href=\"#다음-업데이트-준비\">다음 업데이트 준비</a></h3>\n<p>상태를 초기화하고 최적화 준비를 끝낸다.</p>\n<p>다음 업데이트를 준비하기 위해, 업데이트 큐 초기화를 진행한다. 그 다음 우선순위 시스템을 새로 준비하게 되는데 그 내용들은 아래 5개를 의미한다.</p>\n<ul>\n<li>\n<p>위에서 설명했던 레인(Lane) 할당하고 작업 우선순위 설정</p>\n</li>\n<li>\n<p>작업 스케줄링 준비 (작업 큐 초기화, 스케줄링 상태 리셋)</p>\n</li>\n<li>\n<p>성능 최적화 준비 (메모리 모니터링, 성능 메트릭 초기화)</p>\n</li>\n<li>\n<p>실행 컨텍스트 준비 (렌더 컨텍스트 초기화)</p>\n</li>\n<li>\n<p>동시성 모드 준비 (시간 분할 설정, 인터럽트 처리 준비)</p>\n</li>\n</ul>\n<h2 id=\"참고자료\"><a class=\"anchor\" href=\"#참고자료\">참고자료</a></h2>\n<ul>\n<li><a href=\"https://github.com/facebook/react/tree/main/packages/react-reconciler\">React-reconciler</a></li>\n<li><a href=\"https://github.com/facebook/react/tree/main/packages/scheduler\">React-scheduler</a></li>\n<li><a href=\"https://github.com/facebook/react/tree/main/packages/react-dom\">React-DOM</a></li>\n<li><a href=\"https://github.com/acdlite/react-fiber-architecture\">React Fiber architecture</a></li>\n<li><a href=\"https://pomb.us/build-your-own-react/\">React 내부구현 해보기</a></li>\n<li><a href=\"https://philippspiess.com/scheduling-in-react/\">Scheduling in React</a></li>\n<li><a href=\"https://yozm.wishket.com/magazine/detail/2493/\">리액트 배칭의 모든 것</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "240909/index.md",
    "_raw": {
      "sourceFilePath": "240909/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "240909",
      "contentType": "markdown",
      "flattenedPath": "240909"
    },
    "type": "Post",
    "slug": "/240909",
    "categoryArray": [
      "프론트엔드",
      "자바스크립트"
    ],
    "readingTime": "19 min read",
    "excerpt": "React 상태가 변화하는 과정은 크게 5단계로 나눌 수 있다. 초기 트리거 단계: useState를 통한 상태 생성과 업데이트 객체가 만들어지는 단계 스케줄링 단계: 여러 상태 업데이트를 우선순위에 따라 배치 처리하는 단계 재조정(Reconciliation) 단계: Virtual DOM을 비교하여 실제로 변경이 필요한 부분을 파악하는 단계 커밋(Commi..."
  },
  {
    "title": "useSyncExternalStore Deep Dive",
    "date": "2024-10-31T00:00:00.000Z",
    "categories": "프론트엔드 자바스크립트",
    "body": {
      "raw": "\n\nuseSyncExternalStore는 React 18에서 도입된 Hook으로, 외부 상태 관리 스토어와 React의 동시성 렌더링(Concurrent Rendering)을 안전하게 연동하기 위해 설계되었다.\n\nReact 18의 동시성 렌더링 모드에서 외부 스토어의 상태 변경이 일관성을 해치는 문제 발생했는데, 이것을 Tearing 현상이라한다. (간혹 동일한 데이터를 보여주는 UI 컴포넌트들이 서로 다른 값을 표기하는 버그)\n\n<br/>\n\n## Tearing 현상\n\n\n```typescript\nconst store = {\n  count: 0,\n  listeners: new Set(),\n  subscribe(listener) {\n    this.listeners.add(listener);\n    return () => this.listeners.delete(listener);\n  },\n  getValue() {\n    return this.count;\n  },\n  setValue(newValue) {\n    this.count = newValue;\n    this.listeners.forEach((listener) => listener());\n  },\n};\n\nfunction Counter1() {\n  const [count, setCount] = useState(store.getValue());\n\n  useEffect(() => {\n    return store.subscribe(() => {\n      setCount(store.getValue());\n    });\n  }, []);\n\n  return <div>Count: {count}</div>;\n}\n\nfunction Counter2() {\n  const [count, setCount] = useState(store.getValue());\n\n  useEffect(() => {\n    return store.subscribe(() => {\n      setCount(store.getValue());\n    });\n  }, []);\n\n  return <div>Count: {count}</div>;\n}\n```\n\nConcurrent 모드에서 React는 렌더링을 여러 청크로 나누어 처리한다.\n\n그리고 useEffect를 사용한 구독은 비동기적이며, Concurrent 모드에서 렌더링이 중단될 수 있다.\n\n이렇게되면 서로다른 사용자마다 서로다른 데이터를 보게되는데, 데이터 일관성이 중요한 도메인에서는 치명적인 오류를 야기한다.\n\n이런 문제를 useSyncExternalStore로 해결할 수 있다.\n\n```typescript\nfunction Counter1() {\n  const count = useSyncExternalStore(\n    store.subscribe, // 구독 함수\n    store.getValue, // 값을 가져오는 함수\n  );\n\n  return <div>Count: {count}</div>;\n}\n\nfunction Counter2() {\n  const count = useSyncExternalStore(store.subscribe, store.getValue);\n\n  return <div>Count: {count}</div>;\n}\n```\n\nuseSyncExternalStore을 사용하면 상태 업데이트가 동기적으로 처리된다.\n\nReact가 렌더링 도중 스토어 값이 변경되면 즉시 감지하고 모든 컴포넌트가 동일한 시점의 데이터를 보여준다.\n\n이렇게 useSyncExternalStore을 이용해 외부 상태를 구독할 때 useEffect를 사용하는 방식의 한계와 상태 업데이트 동기화 문제를 해결함.\n\n<br/>\n\n> 👋 잠깐! Redux 팀에서 Tearing 문제를 다루었다.\n>\n> [React-Redux v8에서 useSelector 내부코드를 useSyncExternalStore로 업데이트 진행](https://github.com/reduxjs/react-redux/releases/tag/v8.0.0)\n>\n> 더 최적화를 진행하기 위해 useSyncExternalStoreWithSelector을 사용\n \n <br/>\n\n<br/>\n\n## 동작코드 살펴보기\n\n```typescript\nconst snapshot = useSyncExternalStore(\n  subscribe: (onStoreChange: () => void) => () => void,\n  getSnapshot: () => T,\n  getServerSnapshot?: () => T\n);\n```\n\n출처) [React-useSyncExternalStore Github](https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShim.js#L17)\n\n<br/>\n\n### subscribe\n\n- 스토어 구독을 설정하는 함수로 스토어 변경 시 호출될 콜백을 받는다.\n\n- 구독 해제 함수를 반환해야한다.\n\n- 렌더링 간에 안정적인 참조를 유지해야 한다.\n\n<br/>\n\n### getSnapshot\n\n- 스토어의 현재 상태를 반환하는 함수다. 스토어가 변경되지 않았다면 동일한 값을 반환해야 한다.\n\n- 반환값은 불변(immutable)이어야 한다.\n\n- getSnapShot 함수에서 매번 똑같은 참조를 반환하게 되면 React는 변경을 감지할 수 없기에 실제 객체 변화에도 리렌더링이 발생하지 않는다. 그렇기에 Immer 라이브러리, 깊은 복사 등으로 불변성을 보장하며 다른 참조를 반환해야한다. (Redux, Mobx 에서 중점으로 다룸)\n\n<br/>\n\n\n### getServerSnapshot (optional)\n\n- SSR 시 사용될 초기 상태를 반환하는 함수\n\n- 서버와 클라이언트 간 일관된 상태 유지에 사용\n\n<br/>\n\n## useSynExternalStore 분석해보자\n\n```typescript\nfunction useSyncExternalStore(subscribe, getSnapshot) {\n  const value = getSnapshot();\n  const [{ inst }, forceUpdate] = useState({ inst: { value, getSnapshot } });\n\n  useLayoutEffect(() => {\n    inst.value = value;\n    inst.getSnapshot = getSnapshot;\n\n    if (checkIfSnapshotChanged(inst)) {\n      forceUpdate({ inst });\n    }\n  }, [subscribe, value, getSnapshot]);\n\n  useEffect(() => {\n    if (checkIfSnapshotChanged(inst)) {\n      forceUpdate({ inst });\n    }\n\n    const handleStoreChange = () => {\n      if (checkIfSnapshotChanged(inst)) {\n        forceUpdate({ inst });\n      }\n    };\n\n    return subscribe(handleStoreChange);\n  }, [subscribe]);\n\n  return value;\n}\n```\n\n자세하게 알아보기 전에 간단한 동작 순서를 살펴보면\n\n초기 렌더링 단계에서 getSnapshot으로 초기 값 획득 → inst 객체 생성 및 상태 초기화 → useLayoutEffect에서 동기화 확인 → useEffect에서 구독 설정을 진행한다.\n\n업데이트가 발생하게 되면 외부 스토어 변경 → handleStoreChange 호출 → 스냅샷 확인 → 필요시 리렌더링을 하게된다.\n\n업데이트가 완료되면 클린업을 하기 위해 useEffect 클린업 함수 실행하고 구독해제를 진행한다.\n\n<br/>\n\n### 초기에 useSyncExternalStore 설정\n\n```typescript\nfunction useSyncExternalStore(subscribe, getSnapshot) {\n  const value = getSnapshot(); // 현재 스냅샵을 가져옴\n\n  // 컴포넌트의 상태로 인스턴스 객체를 관리\n  // useState의 초기값으로 inst 객체를 생성\n  const [{ inst }, forceUpdate] = useState({\n    inst: {\n      value, // 현재 스냅샷 값\n      getSnapshot, // 스냅샷을 가져오는 함수\n    },\n  });\n}\n```\n\n렌더링 간에 지속적으로 참조해야하는 값들을 저장하기 위해서 inst 객체를 useState로 관리한다.\n\nforceUpdate를 통해 컴포넌트의 리렌더링을 트리거할 수 있다.\n\n<br/>\n\n### Layout Effect에서의 동기화(Tearing 방지를 위한 핵심 메커니즘)\n\n```typescript\nuseLayoutEffect(() => {\n  // inst 객체 업데이트\n  inst.value = value;\n  inst.getSnapshot = getSnapshot;\n\n  // 스냅샷 변경 확인 및 리렌더링\n  if (checkIfSnapshotChanged(inst)) {\n    forceUpdate({ inst });\n  }\n}, [subscribe, value, getSnapshot]);\n```\n\nDOM 업데이트 전에 동기적으로 실행되어야 하기 때문에 useLayoutEffect를 사용한다.\n\ncheckIfSnapshotChanged 함수를 이용해 렌더링 과정에서 스냅샷이 변경되었는지 즉시 확인한다.\n\n<br/>\n\n### Effect에서 구독 설정\n\n```typescript\nuseEffect(() => {\n  // 초기 스냅샷 변경 확인\n  if (checkIfSnapshotChanged(inst)) {\n    forceUpdate({ inst });\n  }\n\n  // 스토어 변경 핸들러\n  const handleStoreChange = () => {\n    if (checkIfSnapshotChanged(inst)) {\n      forceUpdate({ inst });\n    }\n  };\n\n  // 구독 설정 및 정리 함수 반환\n  return subscribe(handleStoreChange);\n}, [subscribe]);\n```\n\n스토어 변경 시 스냅샷 변경 확인 후 필요한 경우만 리렌더링하고 컴포넌트 언마운트 시 자동으로 구독 정리한다.\n\n<br/>\n\n### 스냅샷 변경 확인 로직\n\n```typescript\nfunction checkIfSnapshotChanged(inst) {\n  const latestGetSnapshot = inst.getSnapshot;\n  const prevValue = inst.value;\n\n  try {\n    const nextValue = latestGetSnapshot();\n    return !Object.is(prevValue, nextValue);\n  } catch (error) {\n    return true; // 에러 발생 시 변경된 것으로 간주\n  }\n}\n```\n\nObject.is를 활용해서 정확한 값 비교를 한다. \n\n이 과정에서 에러 처리도 포함되어있고 불변성을 전제로 코드가 작성되어있다.\n\n<br/>\n\n\n## 주요 특징\n\n앞서 이야기한 데로 useSyncExternalStore 를 사용하는 장점은 동기적 업데이트, 성능 최적화, 안정성이다.\n\n### 동기적 업데이트\n\n- 외부 스토어의 변경사항은 항상 동기적으로 처리해 React 상태 업데이트와의 일관성 보장\n\n- **startTransition**(React 18에서 도입된 새로운 API로, UI 업데이트의 우선순위를 구분하는 기능)으로 래핑되어도 동기적 처리를 유지한다.\n  - 비동기적으로 처리할 수 있지만, useSyncExternalStore에서는 동기적으로 처리되어 startTransition 영향을 받지 않는다.\n\n<br/>\n\n### 성능 최적화\n\n- 불필요한 리렌더링 방지\n\n  - 값이 변경되지 않았다면 이전 스냅샷을 재사용한다.\n  - 새로운 값일 때만 새 객체가 생성된다.\n\n- 스토어 업데이트의 배치 처리 지원\n\n- 선택적인 메모이제이션 지원\n\n  ```typescript\n  function OptimizedComponent() {\n    const selectedData = useSyncExternalStoreWithSelector(\n      store.subscribe,\n      store.getSnapshot,\n      store.getServerSnapshot,\n      (state) => state.specificValue,\n      (a, b) => a === b, // 비교를 위한 함수\n    );\n  \n    // 메모이제이션된 값만 사용\n    const memoizedResult = useMemo(() => expensiveComputation(selectedData), [selectedData]);\n  \n    return <div>{memoizedResult}</div>;\n  }\n  ```\n\n<br/>\n\n### 안전성\n\n- Concurrent Mode 에서 데이터 일관성 보장\n\n- 아래처럼 cleanup() 함수를 이용해 정리 함수를 만들어 메모리 누수를 방지할 수 있다.\n\n  ```typescript\n  const useStore = () => {\n    // 구독 해제가 자동으로 처리됨\n    return useSyncExternalStore(\n      useCallback((notify) => {\n        const unsubscribe = store.subscribe(notify);\n        // 컴포넌트 언마운트 시 자동 호출\n        return () => {\n          unsubscribe();\n          cleanup(); // 추가적인 정리 작업\n        };\n      }, []),\n      store.getSnapshot,\n    );\n  };\n    ```\n\n- 컴포넌트 언마운트 시 자동 정리\n\n<br/>\n\n## React 18 이전 버전을 사용하면?\n\n- [use-sync-external-store/shim 패키지 제공](https://www.npmjs.com/package/use-sync-external-store)\n\n- React 16.8(Hooks 도입) 이후 버전 지원\n\n- 자동으로 적절한 구현체 선택\n\n  ```typescript\n  import { useSyncExternalStore } from 'use-sync-external-store/shim';\n  ```\n\n\n<br/>\n\n## 출처\n\n- [React-v18-useSyncExternalStore](https://react.dev/blog/2022/03/29/react-v18#usesyncexternalstore)\n- [useSyncExternalStore](https://ko.react.dev/reference/react/useSyncExternalStore)\n- [useMutableSource → useSyncExternalStore ](https://github.com/reactwg/react-18/discussions/86)\n- [useSyncExternalStore- Github 코드](https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShim.js)\n- [useSyncExternalStoreShimClient.js의 핵심 로직](https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js)\n\n```toc\n\n```\n",
      "html": "<p>useSyncExternalStore는 React 18에서 도입된 Hook으로, 외부 상태 관리 스토어와 React의 동시성 렌더링(Concurrent Rendering)을 안전하게 연동하기 위해 설계되었다.</p>\n<p>React 18의 동시성 렌더링 모드에서 외부 스토어의 상태 변경이 일관성을 해치는 문제 발생했는데, 이것을 Tearing 현상이라한다. (간혹 동일한 데이터를 보여주는 UI 컴포넌트들이 서로 다른 값을 표기하는 버그)</p>\n<h2 id=\"tearing-현상\"><a class=\"anchor\" href=\"#tearing-현상\">Tearing 현상</a></h2>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> store</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  count: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  listeners: </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  subscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">listener</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.listeners.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">add</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(listener);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.listeners.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">delete</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(listener);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  getValue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.count;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  setValue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">newValue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.count </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> newValue;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.listeners.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">forEach</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">listener</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> listener</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Counter1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">count</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(store.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getValue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> store.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">subscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(store.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getValue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, []);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>Count: {count}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">div</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Counter2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">count</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(store.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getValue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> store.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">subscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      setCount</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(store.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">getValue</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">());</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, []);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>Count: {count}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">div</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>Concurrent 모드에서 React는 렌더링을 여러 청크로 나누어 처리한다.</p>\n<p>그리고 useEffect를 사용한 구독은 비동기적이며, Concurrent 모드에서 렌더링이 중단될 수 있다.</p>\n<p>이렇게되면 서로다른 사용자마다 서로다른 데이터를 보게되는데, 데이터 일관성이 중요한 도메인에서는 치명적인 오류를 야기한다.</p>\n<p>이런 문제를 useSyncExternalStore로 해결할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Counter1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> count</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useSyncExternalStore</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    store.subscribe, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 구독 함수</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    store.getValue, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 값을 가져오는 함수</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>Count: {count}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">div</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Counter2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> count</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useSyncExternalStore</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(store.subscribe, store.getValue);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>Count: {count}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">div</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>useSyncExternalStore을 사용하면 상태 업데이트가 동기적으로 처리된다.</p>\n<p>React가 렌더링 도중 스토어 값이 변경되면 즉시 감지하고 모든 컴포넌트가 동일한 시점의 데이터를 보여준다.</p>\n<p>이렇게 useSyncExternalStore을 이용해 외부 상태를 구독할 때 useEffect를 사용하는 방식의 한계와 상태 업데이트 동기화 문제를 해결함.</p>\n<blockquote>\n<p>👋 잠깐! Redux 팀에서 Tearing 문제를 다루었다.</p>\n<p><a href=\"https://github.com/reduxjs/react-redux/releases/tag/v8.0.0\">React-Redux v8에서 useSelector 내부코드를 useSyncExternalStore로 업데이트 진행</a></p>\n<p>더 최적화를 진행하기 위해 useSyncExternalStoreWithSelector을 사용</p>\n</blockquote>\n<h2 id=\"동작코드-살펴보기\"><a class=\"anchor\" href=\"#동작코드-살펴보기\">동작코드 살펴보기</a></h2>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> snapshot</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useSyncExternalStore</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  subscribe: (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">onStoreChange</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  getSnapshot: () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  getServerSnapshot</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> T</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span></code></pre></figure>\n<p>출처) <a href=\"https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShim.js#L17\">React-useSyncExternalStore Github</a></p>\n<h3 id=\"subscribe\"><a class=\"anchor\" href=\"#subscribe\">subscribe</a></h3>\n<ul>\n<li>\n<p>스토어 구독을 설정하는 함수로 스토어 변경 시 호출될 콜백을 받는다.</p>\n</li>\n<li>\n<p>구독 해제 함수를 반환해야한다.</p>\n</li>\n<li>\n<p>렌더링 간에 안정적인 참조를 유지해야 한다.</p>\n</li>\n</ul>\n<h3 id=\"getsnapshot\"><a class=\"anchor\" href=\"#getsnapshot\">getSnapshot</a></h3>\n<ul>\n<li>\n<p>스토어의 현재 상태를 반환하는 함수다. 스토어가 변경되지 않았다면 동일한 값을 반환해야 한다.</p>\n</li>\n<li>\n<p>반환값은 불변(immutable)이어야 한다.</p>\n</li>\n<li>\n<p>getSnapShot 함수에서 매번 똑같은 참조를 반환하게 되면 React는 변경을 감지할 수 없기에 실제 객체 변화에도 리렌더링이 발생하지 않는다. 그렇기에 Immer 라이브러리, 깊은 복사 등으로 불변성을 보장하며 다른 참조를 반환해야한다. (Redux, Mobx 에서 중점으로 다룸)</p>\n</li>\n</ul>\n<h3 id=\"getserversnapshot-optional\"><a class=\"anchor\" href=\"#getserversnapshot-optional\">getServerSnapshot (optional)</a></h3>\n<ul>\n<li>\n<p>SSR 시 사용될 초기 상태를 반환하는 함수</p>\n</li>\n<li>\n<p>서버와 클라이언트 간 일관된 상태 유지에 사용</p>\n</li>\n</ul>\n<h2 id=\"usesynexternalstore-분석해보자\"><a class=\"anchor\" href=\"#usesynexternalstore-분석해보자\">useSynExternalStore 분석해보자</a></h2>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useSyncExternalStore</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">subscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">getSnapshot</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> getSnapshot</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [{ </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">inst</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> }, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">forceUpdate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ inst: { value, getSnapshot } });</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useLayoutEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    inst.value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    inst.getSnapshot </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> getSnapshot;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">checkIfSnapshotChanged</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(inst)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      forceUpdate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ inst });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, [subscribe, value, getSnapshot]);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">checkIfSnapshotChanged</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(inst)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      forceUpdate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ inst });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> handleStoreChange</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">checkIfSnapshotChanged</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(inst)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        forceUpdate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ inst });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    };</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> subscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(handleStoreChange);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }, [subscribe]);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>자세하게 알아보기 전에 간단한 동작 순서를 살펴보면</p>\n<p>초기 렌더링 단계에서 getSnapshot으로 초기 값 획득 → inst 객체 생성 및 상태 초기화 → useLayoutEffect에서 동기화 확인 → useEffect에서 구독 설정을 진행한다.</p>\n<p>업데이트가 발생하게 되면 외부 스토어 변경 → handleStoreChange 호출 → 스냅샷 확인 → 필요시 리렌더링을 하게된다.</p>\n<p>업데이트가 완료되면 클린업을 하기 위해 useEffect 클린업 함수 실행하고 구독해제를 진행한다.</p>\n<h3 id=\"초기에-usesyncexternalstore-설정\"><a class=\"anchor\" href=\"#초기에-usesyncexternalstore-설정\">초기에 useSyncExternalStore 설정</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useSyncExternalStore</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">subscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">getSnapshot</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> getSnapshot</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 현재 스냅샵을 가져옴</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 컴포넌트의 상태로 인스턴스 객체를 관리</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // useState의 초기값으로 inst 객체를 생성</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [{ </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">inst</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> }, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">forceUpdate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useState</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    inst: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      value, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 현재 스냅샷 값</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      getSnapshot, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 스냅샷을 가져오는 함수</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>렌더링 간에 지속적으로 참조해야하는 값들을 저장하기 위해서 inst 객체를 useState로 관리한다.</p>\n<p>forceUpdate를 통해 컴포넌트의 리렌더링을 트리거할 수 있다.</p>\n<h3 id=\"layout-effect에서의-동기화tearing-방지를-위한-핵심-메커니즘\"><a class=\"anchor\" href=\"#layout-effect에서의-동기화tearing-방지를-위한-핵심-메커니즘\">Layout Effect에서의 동기화(Tearing 방지를 위한 핵심 메커니즘)</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useLayoutEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // inst 객체 업데이트</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  inst.value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  inst.getSnapshot </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> getSnapshot;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 스냅샷 변경 확인 및 리렌더링</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">checkIfSnapshotChanged</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(inst)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    forceUpdate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ inst });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, [subscribe, value, getSnapshot]);</span></span></code></pre></figure>\n<p>DOM 업데이트 전에 동기적으로 실행되어야 하기 때문에 useLayoutEffect를 사용한다.</p>\n<p>checkIfSnapshotChanged 함수를 이용해 렌더링 과정에서 스냅샷이 변경되었는지 즉시 확인한다.</p>\n<h3 id=\"effect에서-구독-설정\"><a class=\"anchor\" href=\"#effect에서-구독-설정\">Effect에서 구독 설정</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useEffect</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 초기 스냅샷 변경 확인</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">checkIfSnapshotChanged</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(inst)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    forceUpdate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ inst });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 스토어 변경 핸들러</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> handleStoreChange</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">checkIfSnapshotChanged</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(inst)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      forceUpdate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ inst });</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 구독 설정 및 정리 함수 반환</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> subscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(handleStoreChange);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, [subscribe]);</span></span></code></pre></figure>\n<p>스토어 변경 시 스냅샷 변경 확인 후 필요한 경우만 리렌더링하고 컴포넌트 언마운트 시 자동으로 구독 정리한다.</p>\n<h3 id=\"스냅샷-변경-확인-로직\"><a class=\"anchor\" href=\"#스냅샷-변경-확인-로직\">스냅샷 변경 확인 로직</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> checkIfSnapshotChanged</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">inst</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> latestGetSnapshot</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> inst.getSnapshot;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> prevValue</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> inst.value;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> nextValue</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> latestGetSnapshot</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> !</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Object.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">is</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(prevValue, nextValue);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 에러 발생 시 변경된 것으로 간주</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>Object.is를 활용해서 정확한 값 비교를 한다.</p>\n<p>이 과정에서 에러 처리도 포함되어있고 불변성을 전제로 코드가 작성되어있다.</p>\n<h2 id=\"주요-특징\"><a class=\"anchor\" href=\"#주요-특징\">주요 특징</a></h2>\n<p>앞서 이야기한 데로 useSyncExternalStore 를 사용하는 장점은 동기적 업데이트, 성능 최적화, 안정성이다.</p>\n<h3 id=\"동기적-업데이트\"><a class=\"anchor\" href=\"#동기적-업데이트\">동기적 업데이트</a></h3>\n<ul>\n<li>\n<p>외부 스토어의 변경사항은 항상 동기적으로 처리해 React 상태 업데이트와의 일관성 보장</p>\n</li>\n<li>\n<p><strong>startTransition</strong>(React 18에서 도입된 새로운 API로, UI 업데이트의 우선순위를 구분하는 기능)으로 래핑되어도 동기적 처리를 유지한다.</p>\n<ul>\n<li>비동기적으로 처리할 수 있지만, useSyncExternalStore에서는 동기적으로 처리되어 startTransition 영향을 받지 않는다.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"성능-최적화\"><a class=\"anchor\" href=\"#성능-최적화\">성능 최적화</a></h3>\n<ul>\n<li>\n<p>불필요한 리렌더링 방지</p>\n<ul>\n<li>값이 변경되지 않았다면 이전 스냅샷을 재사용한다.</li>\n<li>새로운 값일 때만 새 객체가 생성된다.</li>\n</ul>\n</li>\n<li>\n<p>스토어 업데이트의 배치 처리 지원</p>\n</li>\n<li>\n<p>선택적인 메모이제이션 지원</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> OptimizedComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> selectedData</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useSyncExternalStoreWithSelector</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    store.subscribe,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    store.getSnapshot,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    store.getServerSnapshot,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> state.specificValue,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">a</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">b</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> a </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> b, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 비교를 위한 함수</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 메모이제이션된 값만 사용</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> memoizedResult</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useMemo</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> expensiveComputation</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(selectedData), [selectedData]);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>{memoizedResult}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">div</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n</li>\n</ul>\n<h3 id=\"안전성\"><a class=\"anchor\" href=\"#안전성\">안전성</a></h3>\n<ul>\n<li>\n<p>Concurrent Mode 에서 데이터 일관성 보장</p>\n</li>\n<li>\n<p>아래처럼 cleanup() 함수를 이용해 정리 함수를 만들어 메모리 누수를 방지할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useStore</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 구독 해제가 자동으로 처리됨</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useSyncExternalStore</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    useCallback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">notify</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> unsubscribe</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> store.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">subscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(notify);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">      // 컴포넌트 언마운트 시 자동 호출</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        unsubscribe</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">        cleanup</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 추가적인 정리 작업</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }, []),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    store.getSnapshot,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span></code></pre></figure>\n</li>\n<li>\n<p>컴포넌트 언마운트 시 자동 정리</p>\n</li>\n</ul>\n<h2 id=\"react-18-이전-버전을-사용하면\"><a class=\"anchor\" href=\"#react-18-이전-버전을-사용하면\">React 18 이전 버전을 사용하면?</a></h2>\n<ul>\n<li>\n<p><a href=\"https://www.npmjs.com/package/use-sync-external-store\">use-sync-external-store/shim 패키지 제공</a></p>\n</li>\n<li>\n<p>React 16.8(Hooks 도입) 이후 버전 지원</p>\n</li>\n<li>\n<p>자동으로 적절한 구현체 선택</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { useSyncExternalStore } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'use-sync-external-store/shim'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span></code></pre></figure>\n</li>\n</ul>\n<h2 id=\"출처\"><a class=\"anchor\" href=\"#출처\">출처</a></h2>\n<ul>\n<li><a href=\"https://react.dev/blog/2022/03/29/react-v18#usesyncexternalstore\">React-v18-useSyncExternalStore</a></li>\n<li><a href=\"https://ko.react.dev/reference/react/useSyncExternalStore\">useSyncExternalStore</a></li>\n<li><a href=\"https://github.com/reactwg/react-18/discussions/86\">useMutableSource → useSyncExternalStore </a></li>\n<li><a href=\"https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShim.js\">useSyncExternalStore- Github 코드</a></li>\n<li><a href=\"https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js\">useSyncExternalStoreShimClient.js의 핵심 로직</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "241031/index.md",
    "_raw": {
      "sourceFilePath": "241031/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "241031",
      "contentType": "markdown",
      "flattenedPath": "241031"
    },
    "type": "Post",
    "slug": "/241031",
    "categoryArray": [
      "프론트엔드",
      "자바스크립트"
    ],
    "readingTime": "11 min read",
    "excerpt": "useSyncExternalStore는 React 18에서 도입된 Hook으로, 외부 상태 관리 스토어와 React의 동시성 렌더링(Concurrent Rendering)을 안전하게 연동하기 위해 설계되었다. React 18의 동시성 렌더링 모드에서 외부 스토어의 상태 변경이 일관성을 해치는 문제 발생했는데, 이것을 Tearing 현상이라한다. (간혹 동일..."
  },
  {
    "title": "어디까지 알고 있으세요. package.json",
    "date": "2024-11-06T00:00:00.000Z",
    "categories": "프론트엔드 소박한궁금증 자바스크립트",
    "body": {
      "raw": "\n![1.png](1.png)\n\n<br>\n\n오늘은 프론트엔드 개발자로서 매일 마주하지만 깊이있게 들여다보지 않았던 package.json에 대해 이야기해볼 예정이다.\n\n프로젝트를 다룰때마다 항상 핸들링하지만 그 이상으로 깊게 공부하지 않았기에 이번기회에 알아보려한다.\n\npackage.json은 단순한 의존성 관리를 위한 파일을 넘어서 프로젝트의 전반적인 메타데이터와 설정을 관리하는 핵심 파일이다.\n\n지금부터 package.json에 대해 깊이있게 알아보자\n\n<br>\n\n# package.json의 생성 과정\n\npackage.json은 `npm init`을 사용해서 생성하는 방법과 수동으로 프로젝트 루트 디렉토리에 직접 JSON 형식으로 생성하는 방법이 있다.\n\nJSON 문법에 에러 발생 가능성이 있기에 직접 생성보다는 패키지 라이브러리 init 명령어를 통해 생성하는 것을 추천한다.\n\ninit을 이용해 package.json이 생성되는 과정을 살펴보자. (본론에서는 기본으로 많이 사용되는 npm을 예시로 설명하겠다.)\n\n> 운영체제, 컴퓨터 시스템 등등 많은 조건에 따라 package.json이 생성되는 과정이 다르고 복잡하다. 이 글을 읽는 사람들이 이해할 수 있는 선에서 설명해보겠다!\n\n<br>\n\n## 프로세스 초기화 단계\n\n프로세스 초기화 단계는 npm init 명령어 실행 --> 프로세스 생성 --> 환경 변수 로드 --> npm 설정 파일 읽기 --> 기본값 초기화 로 이루어진다.\n\nnpm init 명령어를 실행하게 되면 Node.js 런타임이 새로운 프로세스를 생성하게된다. 그렇게하면 process ID(PID)를 할당하게 되고 메모리 공간을 할당한다.\n\n이 때 힙은 동적 메모리를 할당하고, 스택은 함수 호출 및 지역 변수를 할당하게 된다. data segment는 전역변수를 할당한다.\n\n위 작업이 종료되면 환경 설정을 로드한다. (npm을 예시로 했으니) npm 관련 환경 변수(process.env.npm*config*\\*), 사용자 홈 디렉토리(process.env.HOME), 시스템 경로(process.env.PATH) 등이 포함된다.\n\n프로세스 초기화 단계의 마지막 과정에는 설정된 파일을 탐색하는 과정을 거친다.\n\n설정 파일 탐색은 .npmrc 파일 탐색을 의미하는데, 프로젝트/사용자/전역/내장 4개의 공간에 위치한 .npmrc 파일을 탐색한다.\n\n<br>\n\n## Interactive CLI(대화식 인터페이스)\n\nInteractive CLI는 package.json의 데이터를 수집하기전에 빈 템플릿을 준비하는 단계다.\n\n이 단계에서 필수 필드와 기본값이 있는 필드로 나누어 빈 객체를 아래 예시코드처럼 초기화를 진행한다.\n\n```javascript\nclass PackageJsonTemplate {\n  constructor() {\n    this.template = {\n      name: null, // 필수\n      version: null, // 필수\n      description: null, // 선택\n      main: null, // 선택 (기본값: index.js)\n      scripts: {}, // 선택\n      keywords: [], // 선택\n      author: null, // 선택\n      license: null, // 선택 (기본값: ISC)\n    };\n\n    // 필수 필드\n    this.requiredFields = ['name', 'version'];\n\n    // 기본값\n    this.defaults = {\n      version: '1.0.0',\n      main: 'index.js',\n      license: 'ISC',\n      scripts: {\n        test: 'echo \"Error: no test specified\" && exit 1',\n      },\n    };\n  }\n}\n```\n\n그 다음 프롬프트를 이용해 사용자 입력을 수집한다. 수신 받은 데이터를 검증하게 되고, 이 과정이 완료되면 다음 단계인 파일 시스템 조작단계로 넘어간다.\n\n여기서 조심해야할 부분은 입력받은 데이터를 그대로 저장하는 것이 아닌 임시 데이터로 저장하게된다.\n\n<br>\n\n## 파일 시스템 조작\n\n수집된 package.json 데이터를 실제 파일로 저장하는 과정이다.\n\n파일 시스템을 초기화하게 되고, 접근 가능한 권한인지 확인한다. 2단계에서 임시로 저장해둔 데이터를 가지고 파일에 적용하고 임시 파일을 실제 파일로 이동하는 작업을 진행한다.\n\n이 작업은 npm에서 write-file-atomic 패키지의 `PackageJsonWriter` 클래스의 `writePackageJson` 함수를 활용해 간단하고 안전하는 기능을 구현하고있다.\n\n```javascript\nconst writeFileAtomic = require('write-file-atomic');\n\nclass PackageJsonWriter {\n  async writePackageJson(filename, data) {\n    try {\n      const contents = JSON.stringify(data, null, 2) + '\\n';\n      await writeFileAtomic(filename, contents);\n    } catch (error) {\n      throw new Error(`Failed to write package.json: ${error.message}`);\n    }\n  }\n}\n```\n\n파일 시스템 조작 단게에서 파일 변경이 감지 되면 `handleFileChange` 함수를 이용해 변경을 감지해 이벤트를 처리한다.\n\n오류가 발생하게 되면 백업파일의 유무를 파악해 복구하거나 초기 상태로 초기화를 진행한다.\n\n그리고 마지막으로 Lock 파일을 생성해 동시 작업을 유연하게 만드는 작업을 진행한다.\n\n<br>\n\n## JSON 생성 및 검증\n\nJSON 파일을 생성해 기본값과 사용자 입력 값을 병합한다. 그리고 npm 패키지 이름 규칙에 맞도록 정규화 작업을 진행한다.\n\n그 다음 필수 필드를 비롯한 각 필드의 유효성 검사를 진행한다. 이 과정에는 이름 규칙 검증, 버전 형식 검증, 의존성 형식 검증, Schema 검증 등이 있다.\n\n이후 최종 검증된 데이터를 반환한다.\n\n<br>\n\n## 오류 처리 및 복구\n\npackage.json 을 생성하는 과정에서 다양한 오류과 마주할 수 있다.\n\nnpm cli github에서는 다양한 오류 클래스들이 존재하지만 지금까지 제시한 단계에 밀접한 연관을 가진 오류들만 확인해보면 아래와 같다.\n\n```javascript\nclass PackageJsonError extends Error {\n  constructor(message, code) {\n    super(message);\n    this.name = 'PackageJsonError';\n    this.code = code;\n  }\n}\n\nclass ValidationError extends PackageJsonError {\n  constructor(message) {\n    super(message, 'VALIDATION_ERROR');\n  }\n}\n\nclass FileSystemError extends PackageJsonError {\n  constructor(message) {\n    super(message, 'FS_ERROR');\n  }\n}\n\nclass LockError extends PackageJsonError {\n  constructor(message) {\n    super(message, 'LOCK_ERROR');\n  }\n}\n```\n\n이 오류들을 오류 처리 매니저를 통해, 오류들이 복구 시도, 백업 생성, 오류 처리, clean up(정리) 등 다양하게 처리된다.\n\n이 과정에서 로깅 및 모니터링 작업이 일어나 package.json 생성에 따른 전반적 오류와 정보를 확인해볼 수 있다.\n\n<br>\n\n## 메모리 관리 & 프로세스 종료\n\npackage.json은 메모리를 효율적으로 관리하기 위해 dependencies, devDependencies, peerDependencies, bundledDependencies 필드를 생성한다.\n\n이후 모든 프로세스가 종료된다.\n\n이 과정에서도 안전한 종료를 위해 프로세스 종료 신호를 분석한다.\n\n- SIGTERM: 정상 종료 요청\n- SIGINT: Ctrl+C로 인한 종료\n- SIGKILL: 강제 종료 (처리 불가)\n- uncaughtException: 처리되지 않은 예외\n\n위 4가지 신호에의 결과값인 0(정상 종료)/1(에러로 인한 종료)에 따라 프로세스가 마무리된다.\n\n메모리 관리와 프로세스 종료는 시스템 환경에서 중요한 개념이지만, package.json을 생성하는 단계에서는 자동으로 처리해주기에 이번 세션에서는 가볍게 이야기하고 넘어가보겠다\n\n<br>\n\n# package.json의 본질\n\n나는 package.json를 프로젝트 의존성을 관리하고, 프로젝트의 정보를 문서화는 특성 때문에 **Node.js 프로젝트의 명세서**라고 생각한다.\n\n프로젝트를 진행할 때 제일 먼저 살펴보는 package.json의 본질에는 어떤 것들이 있는지 살펴보자\n\n<br>\n\n## 프로젝트 메타데이터 관리 (Project Metadata Management)\n\n프로젝트 메타데이터는 프로젝트를 설명하고 식별하는 데 필요한 모든 정보를 포함한다.\n\n자주 보았겠지만, 메타데이터 필드에는 아래와 같은 정보들이 있다\n\n```json\n{\n  \"name\": \"존잘지훈짱짱맨\",\n  \"version\": \"1.0.0\",\n  \"description\": \"지훈블로그 킹왕짱\",\n  \"author\": \"Jihoon Lee <jihoon7705@gmail.com>\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"web\", \"frontend\", \"react\"],\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/jiji-hoon96\"\n  },\n  \"blogs\": {\n    \"url\": \"https://hooninedev.com/\"\n  },\n  \"homepage\": \"https://hooninedev.com/\"\n}\n```\n\n<br>\n\n### 그럼 메타데이터가 왜 중요할까?\n\n- npm 레지스트리에서 고유한 식별자 역할을 통해 버전 관리 및 업데이트 추적을 가능하게한다.\n\n- npm 검색에서 프로젝트 발견 가능성 향상시킨다.\n\n- `keywords`를 통한 관련 프로젝트 그룹화할 수 있다. (원하는 것을 찾기 수월)\n\n- 오픈소스 라이선스 명시를 통해 사용 제한 사항 명확화할 수 있다.\n\n<br>\n\n## 의존성 관리 (Dependency Management)\n\n의존성 관리에는 의존성 유형, 의존성 버전 관리, 의존성 관리 전략이 있다.\n\n<br>\n\n### 의존성 유형\n\n의존성 유형에는 dependencies, devDependencies, peerDependencies 등이 있다.\n\n> 자세한 내용은 [Dependencies vs DevDependencies vs PeerDependencies](https://hooninedev.com/231002/)을 확인해보면 좋다.\n\n<br>\n\n### 의존성 버전 관리\n\n#### Semantic Versioning\n\n소프트웨어 버전 번호를 체계적으로 관리하기 위한 규칙으로 아래와 같은 구조를 가진다.\n\n```\nMAJOR.MINOR.PATCH[-PRE_RELEASE][+BUILD]\n\n```\n\n- 메이저 버전 : 이전 버전과 호환되지 않는 API 변경\n- 마이너 버전 : 이전 버전과 호환되는 기능 추가\n- 패치 버전 : 이전 버전과 호환되는 버그 수정, 작은 변경\n- 프리릴리즈 식별자 : 정식 버전 전 테스트\n- 빌드 메타데이터 : 빌드 관련 메타 데이터\n\n<br>\n\n### 의존성 관리 전략\n\n- 직접 의존성을 최소화 할 수 있다(필요한 패키지만 설치하거나, 중복 기능 패키지를 제거하는 등)\n\n- 의존성 감사를 진행할 수 있다. (audit, outdated 등을 활용해서)\n\n- Lock 파일 활용해서 정확한 의존성 보장할 수 있고, 팀 간 일관된 환경을 유지할 수 있다.\n\n<br>\n\n## 프로젝트 실행 관리\n\n개발 워크플로우와 빌드 프로세스를 자동화한다. 상세한 역할은 아래와 같다.\n\n- 스크립트를 통한 프로젝트 실행, 빌드, 테스트 등의 작업 자동화 설정\n- 프로젝트 진입점 설정할 수 있다\n\n  ```json\n  {\n    \"main\": \"dist/index.js\", // CommonJS 진입점\n    \"module\": \"dist/index.esm.js\", // ES Module 진입점\n    \"browser\": \"dist/index.umd.js\", // 브라우저 진입점\n    \"types\": \"dist/index.d.ts\" // TypeScript 타입 정의\n  }\n  ```\n\nnpm scripts는 다양한 스크립트 패턴들을 사용해 개발 워크플로우를 구축한다.\n\n아래 제공하는 3가지의 방법을 잘 활용해서 다양한 환경에 대응하는 스크립트를 구축하면 효율성이 높아진다.\n\n<br>\n\n### Pre/Post 훅\n\n특정 스크립트 실행 전(Pre)/후(Post)에 자동으로 실행되는 스크립트를 정의를 의미한다.\n\n```javascript\n{\n  \"scripts\": {\n    \"prebuild\": \"rm -rf dist/\",\n    \"build\": \"webpack\",\n    \"postbuild\": \"cp -r public/* dist/\",\n\n    \"pretest\": \"npm run lint\",\n    \"test\": \"jest\",\n    \"posttest\": \"npm run coverage\"\n  }\n}\n```\n\n이렇게 정의하고 `npm run build` 를 실행하면 prebuild => build => postbuild 순서대로 진행된다.\n\n이런 순서는 이전 단계가 성공적으로 완료되어야 다음 단계가 실행된다.\n\n<br>\n\n### 병렬 실행\n\n`npm run all`, & 연산자, concurrently 패키지를 사용해 복잡한 병렬 실행을 처리한다.\n\n```javascript\n    \"dev\": \"npm-run-all --parallel watch:*\", // npm run all\n    \"dev\": \"webpack --watch & sass --watch src:dist & nodemon server.js\" // &연산자 사용\n    \"start\": \"concurrently -k ~~~\" // concurrently 사용\n```\n\n<br>\n\n### 조건부 스크립트\n\n크로스 플랫폼 환경변수 설정을 처리하기 위한 패턴으로 `cross-env`를 사용한다.\n\n그리고 환경에 따른 조건부 실행을 지원하기 위해 `if-env`를 사용한다.\n\n<br>\n\n## 공부 소감\n\n상당히 어렵다. 쉽게 공부하려하면 너무 쉽고 다룰 부분이 없고, 깊게 공부하니 컴퓨터 지식에 밀접해진다.\n\n일단 동작원리와 package.json의 본질에 대해서 살펴보았다.\n\n이번 공부를 기반으로 점차 깊이 공부해봐야겠다고 생각했다. 특히 package.json 버전관리 문법에 대해 잘 다뤄보지 못했다.\n\n이 부분은 Semantic Versioning이라는 세션을 따로 만들어 다뤄보려한다.\n\n모노레포의 경우 package.json이 더 중요해진다 생각하기때문이다.\n\n<br>\n\n## 참고자료\n\n- [hey(node)의 What Is package.json?](https://heynode.com/tutorial/what-packagejson/)\n- [npm Docs - package.json](https://docs.npmjs.com/cli/v10/configuring-npm/package-json)\n- [NODESOURCE-The Basic of Package.json](https://nodesource.com/blog/the-basics-of-package-json/)\n- [알고 쓰자 package.json - hoya's dev blog](https://hoya-kim.github.io/2021/09/14/package-json/)\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/241106/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>오늘은 프론트엔드 개발자로서 매일 마주하지만 깊이있게 들여다보지 않았던 package.json에 대해 이야기해볼 예정이다.</p>\n<p>프로젝트를 다룰때마다 항상 핸들링하지만 그 이상으로 깊게 공부하지 않았기에 이번기회에 알아보려한다.</p>\n<p>package.json은 단순한 의존성 관리를 위한 파일을 넘어서 프로젝트의 전반적인 메타데이터와 설정을 관리하는 핵심 파일이다.</p>\n<p>지금부터 package.json에 대해 깊이있게 알아보자</p>\n<h1 id=\"packagejson의-생성-과정\"><a class=\"anchor\" href=\"#packagejson의-생성-과정\">package.json의 생성 과정</a></h1>\n<p>package.json은 <code>npm init</code>을 사용해서 생성하는 방법과 수동으로 프로젝트 루트 디렉토리에 직접 JSON 형식으로 생성하는 방법이 있다.</p>\n<p>JSON 문법에 에러 발생 가능성이 있기에 직접 생성보다는 패키지 라이브러리 init 명령어를 통해 생성하는 것을 추천한다.</p>\n<p>init을 이용해 package.json이 생성되는 과정을 살펴보자. (본론에서는 기본으로 많이 사용되는 npm을 예시로 설명하겠다.)</p>\n<blockquote>\n<p>운영체제, 컴퓨터 시스템 등등 많은 조건에 따라 package.json이 생성되는 과정이 다르고 복잡하다. 이 글을 읽는 사람들이 이해할 수 있는 선에서 설명해보겠다!</p>\n</blockquote>\n<h2 id=\"프로세스-초기화-단계\"><a class=\"anchor\" href=\"#프로세스-초기화-단계\">프로세스 초기화 단계</a></h2>\n<p>프로세스 초기화 단계는 npm init 명령어 실행 --> 프로세스 생성 --> 환경 변수 로드 --> npm 설정 파일 읽기 --> 기본값 초기화 로 이루어진다.</p>\n<p>npm init 명령어를 실행하게 되면 Node.js 런타임이 새로운 프로세스를 생성하게된다. 그렇게하면 process ID(PID)를 할당하게 되고 메모리 공간을 할당한다.</p>\n<p>이 때 힙은 동적 메모리를 할당하고, 스택은 함수 호출 및 지역 변수를 할당하게 된다. data segment는 전역변수를 할당한다.</p>\n<p>위 작업이 종료되면 환경 설정을 로드한다. (npm을 예시로 했으니) npm 관련 환경 변수(process.env.npm<em>config</em>*), 사용자 홈 디렉토리(process.env.HOME), 시스템 경로(process.env.PATH) 등이 포함된다.</p>\n<p>프로세스 초기화 단계의 마지막 과정에는 설정된 파일을 탐색하는 과정을 거친다.</p>\n<p>설정 파일 탐색은 .npmrc 파일 탐색을 의미하는데, 프로젝트/사용자/전역/내장 4개의 공간에 위치한 .npmrc 파일을 탐색한다.</p>\n<h2 id=\"interactive-cli대화식-인터페이스\"><a class=\"anchor\" href=\"#interactive-cli대화식-인터페이스\">Interactive CLI(대화식 인터페이스)</a></h2>\n<p>Interactive CLI는 package.json의 데이터를 수집하기전에 빈 템플릿을 준비하는 단계다.</p>\n<p>이 단계에서 필수 필드와 기본값이 있는 필드로 나누어 빈 객체를 아래 예시코드처럼 초기화를 진행한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> PackageJsonTemplate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.template </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      name: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 필수</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      version: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 필수</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      description: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 선택</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      main: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 선택 (기본값: index.js)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      scripts: {}, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 선택</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      keywords: [], </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 선택</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      author: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 선택</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      license: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 선택 (기본값: ISC)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    };</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // 필수 필드</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.requiredFields </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'name'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'version'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">];</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // 기본값</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.defaults </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      version: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'1.0.0'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      main: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'index.js'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      license: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'ISC'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      scripts: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        test: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'echo \"Error: no test specified\" &#x26;&#x26; exit 1'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>그 다음 프롬프트를 이용해 사용자 입력을 수집한다. 수신 받은 데이터를 검증하게 되고, 이 과정이 완료되면 다음 단계인 파일 시스템 조작단계로 넘어간다.</p>\n<p>여기서 조심해야할 부분은 입력받은 데이터를 그대로 저장하는 것이 아닌 임시 데이터로 저장하게된다.</p>\n<h2 id=\"파일-시스템-조작\"><a class=\"anchor\" href=\"#파일-시스템-조작\">파일 시스템 조작</a></h2>\n<p>수집된 package.json 데이터를 실제 파일로 저장하는 과정이다.</p>\n<p>파일 시스템을 초기화하게 되고, 접근 가능한 권한인지 확인한다. 2단계에서 임시로 저장해둔 데이터를 가지고 파일에 적용하고 임시 파일을 실제 파일로 이동하는 작업을 진행한다.</p>\n<p>이 작업은 npm에서 write-file-atomic 패키지의 <code>PackageJsonWriter</code> 클래스의 <code>writePackageJson</code> 함수를 활용해 간단하고 안전하는 기능을 구현하고있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> writeFileAtomic</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> require</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'write-file-atomic'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> PackageJsonWriter</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  async</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> writePackageJson</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">filename</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">data</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    try</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> contents</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> JSON</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">stringify</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(data, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">\\n</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      await</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> writeFileAtomic</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(filename, contents);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">catch</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (error) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      throw</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">`Failed to write package.json: ${</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">error</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">.</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">message</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">}`</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>파일 시스템 조작 단게에서 파일 변경이 감지 되면 <code>handleFileChange</code> 함수를 이용해 변경을 감지해 이벤트를 처리한다.</p>\n<p>오류가 발생하게 되면 백업파일의 유무를 파악해 복구하거나 초기 상태로 초기화를 진행한다.</p>\n<p>그리고 마지막으로 Lock 파일을 생성해 동시 작업을 유연하게 만드는 작업을 진행한다.</p>\n<h2 id=\"json-생성-및-검증\"><a class=\"anchor\" href=\"#json-생성-및-검증\">JSON 생성 및 검증</a></h2>\n<p>JSON 파일을 생성해 기본값과 사용자 입력 값을 병합한다. 그리고 npm 패키지 이름 규칙에 맞도록 정규화 작업을 진행한다.</p>\n<p>그 다음 필수 필드를 비롯한 각 필드의 유효성 검사를 진행한다. 이 과정에는 이름 규칙 검증, 버전 형식 검증, 의존성 형식 검증, Schema 검증 등이 있다.</p>\n<p>이후 최종 검증된 데이터를 반환한다.</p>\n<h2 id=\"오류-처리-및-복구\"><a class=\"anchor\" href=\"#오류-처리-및-복구\">오류 처리 및 복구</a></h2>\n<p>package.json 을 생성하는 과정에서 다양한 오류과 마주할 수 있다.</p>\n<p>npm cli github에서는 다양한 오류 클래스들이 존재하지만 지금까지 제시한 단계에 밀접한 연관을 가진 오류들만 확인해보면 아래와 같다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> PackageJsonError</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Error</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">message</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">code</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    super</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(message);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.name </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'PackageJsonError'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    this</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.code </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> code;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ValidationError</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> PackageJsonError</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">message</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    super</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(message, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'VALIDATION_ERROR'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> FileSystemError</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> PackageJsonError</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">message</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    super</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(message, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'FS_ERROR'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">class</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> LockError</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> PackageJsonError</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  constructor</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">message</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    super</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(message, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'LOCK_ERROR'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>이 오류들을 오류 처리 매니저를 통해, 오류들이 복구 시도, 백업 생성, 오류 처리, clean up(정리) 등 다양하게 처리된다.</p>\n<p>이 과정에서 로깅 및 모니터링 작업이 일어나 package.json 생성에 따른 전반적 오류와 정보를 확인해볼 수 있다.</p>\n<h2 id=\"메모리-관리--프로세스-종료\"><a class=\"anchor\" href=\"#메모리-관리--프로세스-종료\">메모리 관리 &#x26; 프로세스 종료</a></h2>\n<p>package.json은 메모리를 효율적으로 관리하기 위해 dependencies, devDependencies, peerDependencies, bundledDependencies 필드를 생성한다.</p>\n<p>이후 모든 프로세스가 종료된다.</p>\n<p>이 과정에서도 안전한 종료를 위해 프로세스 종료 신호를 분석한다.</p>\n<ul>\n<li>SIGTERM: 정상 종료 요청</li>\n<li>SIGINT: Ctrl+C로 인한 종료</li>\n<li>SIGKILL: 강제 종료 (처리 불가)</li>\n<li>uncaughtException: 처리되지 않은 예외</li>\n</ul>\n<p>위 4가지 신호에의 결과값인 0(정상 종료)/1(에러로 인한 종료)에 따라 프로세스가 마무리된다.</p>\n<p>메모리 관리와 프로세스 종료는 시스템 환경에서 중요한 개념이지만, package.json을 생성하는 단계에서는 자동으로 처리해주기에 이번 세션에서는 가볍게 이야기하고 넘어가보겠다</p>\n<h1 id=\"packagejson의-본질\"><a class=\"anchor\" href=\"#packagejson의-본질\">package.json의 본질</a></h1>\n<p>나는 package.json를 프로젝트 의존성을 관리하고, 프로젝트의 정보를 문서화는 특성 때문에 <strong>Node.js 프로젝트의 명세서</strong>라고 생각한다.</p>\n<p>프로젝트를 진행할 때 제일 먼저 살펴보는 package.json의 본질에는 어떤 것들이 있는지 살펴보자</p>\n<h2 id=\"프로젝트-메타데이터-관리-project-metadata-management\"><a class=\"anchor\" href=\"#프로젝트-메타데이터-관리-project-metadata-management\">프로젝트 메타데이터 관리 (Project Metadata Management)</a></h2>\n<p>프로젝트 메타데이터는 프로젝트를 설명하고 식별하는 데 필요한 모든 정보를 포함한다.</p>\n<p>자주 보았겠지만, 메타데이터 필드에는 아래와 같은 정보들이 있다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"name\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"존잘지훈짱짱맨\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"version\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"1.0.0\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"description\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"지훈블로그 킹왕짱\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"author\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"Jihoon Lee &#x3C;jihoon7705@gmail.com>\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"license\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"MIT\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"keywords\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"web\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"frontend\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"react\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"repository\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"type\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"git\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"url\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"https://github.com/jiji-hoon96\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"blogs\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"url\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"https://hooninedev.com/\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"homepage\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"https://hooninedev.com/\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h3 id=\"그럼-메타데이터가-왜-중요할까\"><a class=\"anchor\" href=\"#그럼-메타데이터가-왜-중요할까\">그럼 메타데이터가 왜 중요할까?</a></h3>\n<ul>\n<li>\n<p>npm 레지스트리에서 고유한 식별자 역할을 통해 버전 관리 및 업데이트 추적을 가능하게한다.</p>\n</li>\n<li>\n<p>npm 검색에서 프로젝트 발견 가능성 향상시킨다.</p>\n</li>\n<li>\n<p><code>keywords</code>를 통한 관련 프로젝트 그룹화할 수 있다. (원하는 것을 찾기 수월)</p>\n</li>\n<li>\n<p>오픈소스 라이선스 명시를 통해 사용 제한 사항 명확화할 수 있다.</p>\n</li>\n</ul>\n<h2 id=\"의존성-관리-dependency-management\"><a class=\"anchor\" href=\"#의존성-관리-dependency-management\">의존성 관리 (Dependency Management)</a></h2>\n<p>의존성 관리에는 의존성 유형, 의존성 버전 관리, 의존성 관리 전략이 있다.</p>\n<h3 id=\"의존성-유형\"><a class=\"anchor\" href=\"#의존성-유형\">의존성 유형</a></h3>\n<p>의존성 유형에는 dependencies, devDependencies, peerDependencies 등이 있다.</p>\n<blockquote>\n<p>자세한 내용은 <a href=\"https://hooninedev.com/231002/\">Dependencies vs DevDependencies vs PeerDependencies</a>을 확인해보면 좋다.</p>\n</blockquote>\n<h3 id=\"의존성-버전-관리\"><a class=\"anchor\" href=\"#의존성-버전-관리\">의존성 버전 관리</a></h3>\n<h4 id=\"semantic-versioning\"><a class=\"anchor\" href=\"#semantic-versioning\">Semantic Versioning</a></h4>\n<p>소프트웨어 버전 번호를 체계적으로 관리하기 위한 규칙으로 아래와 같은 구조를 가진다.</p>\n<pre><code>MAJOR.MINOR.PATCH[-PRE_RELEASE][+BUILD]\n\n</code></pre>\n<ul>\n<li>메이저 버전 : 이전 버전과 호환되지 않는 API 변경</li>\n<li>마이너 버전 : 이전 버전과 호환되는 기능 추가</li>\n<li>패치 버전 : 이전 버전과 호환되는 버그 수정, 작은 변경</li>\n<li>프리릴리즈 식별자 : 정식 버전 전 테스트</li>\n<li>빌드 메타데이터 : 빌드 관련 메타 데이터</li>\n</ul>\n<h3 id=\"의존성-관리-전략\"><a class=\"anchor\" href=\"#의존성-관리-전략\">의존성 관리 전략</a></h3>\n<ul>\n<li>\n<p>직접 의존성을 최소화 할 수 있다(필요한 패키지만 설치하거나, 중복 기능 패키지를 제거하는 등)</p>\n</li>\n<li>\n<p>의존성 감사를 진행할 수 있다. (audit, outdated 등을 활용해서)</p>\n</li>\n<li>\n<p>Lock 파일 활용해서 정확한 의존성 보장할 수 있고, 팀 간 일관된 환경을 유지할 수 있다.</p>\n</li>\n</ul>\n<h2 id=\"프로젝트-실행-관리\"><a class=\"anchor\" href=\"#프로젝트-실행-관리\">프로젝트 실행 관리</a></h2>\n<p>개발 워크플로우와 빌드 프로세스를 자동화한다. 상세한 역할은 아래와 같다.</p>\n<ul>\n<li>\n<p>스크립트를 통한 프로젝트 실행, 빌드, 테스트 등의 작업 자동화 설정</p>\n</li>\n<li>\n<p>프로젝트 진입점 설정할 수 있다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"main\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"dist/index.js\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// CommonJS 진입점</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"module\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"dist/index.esm.js\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// ES Module 진입점</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"browser\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"dist/index.umd.js\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 브라우저 진입점</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"types\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"dist/index.d.ts\"</span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\"> // TypeScript 타입 정의</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n</li>\n</ul>\n<p>npm scripts는 다양한 스크립트 패턴들을 사용해 개발 워크플로우를 구축한다.</p>\n<p>아래 제공하는 3가지의 방법을 잘 활용해서 다양한 환경에 대응하는 스크립트를 구축하면 효율성이 높아진다.</p>\n<h3 id=\"prepost-훅\"><a class=\"anchor\" href=\"#prepost-훅\">Pre/Post 훅</a></h3>\n<p>특정 스크립트 실행 전(Pre)/후(Post)에 자동으로 실행되는 스크립트를 정의를 의미한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">  \"scripts\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">    \"prebuild\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"rm -rf dist/\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">    \"build\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"webpack\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">    \"postbuild\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"cp -r public/* dist/\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">    \"pretest\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"npm run lint\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">    \"test\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"jest\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">    \"posttest\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"npm run coverage\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>이렇게 정의하고 <code>npm run build</code> 를 실행하면 prebuild => build => postbuild 순서대로 진행된다.</p>\n<p>이런 순서는 이전 단계가 성공적으로 완료되어야 다음 단계가 실행된다.</p>\n<h3 id=\"병렬-실행\"><a class=\"anchor\" href=\"#병렬-실행\">병렬 실행</a></h3>\n<p><code>npm run all</code>, &#x26; 연산자, concurrently 패키지를 사용해 복잡한 병렬 실행을 처리한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">    \"dev\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"npm-run-all --parallel watch:*\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// npm run all</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">    \"dev\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"webpack --watch &#x26; sass --watch src:dist &#x26; nodemon server.js\"</span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\"> // &#x26;연산자 사용</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">    \"start\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"concurrently -k ~~~\"</span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\"> // concurrently 사용</span></span></code></pre></figure>\n<h3 id=\"조건부-스크립트\"><a class=\"anchor\" href=\"#조건부-스크립트\">조건부 스크립트</a></h3>\n<p>크로스 플랫폼 환경변수 설정을 처리하기 위한 패턴으로 <code>cross-env</code>를 사용한다.</p>\n<p>그리고 환경에 따른 조건부 실행을 지원하기 위해 <code>if-env</code>를 사용한다.</p>\n<h2 id=\"공부-소감\"><a class=\"anchor\" href=\"#공부-소감\">공부 소감</a></h2>\n<p>상당히 어렵다. 쉽게 공부하려하면 너무 쉽고 다룰 부분이 없고, 깊게 공부하니 컴퓨터 지식에 밀접해진다.</p>\n<p>일단 동작원리와 package.json의 본질에 대해서 살펴보았다.</p>\n<p>이번 공부를 기반으로 점차 깊이 공부해봐야겠다고 생각했다. 특히 package.json 버전관리 문법에 대해 잘 다뤄보지 못했다.</p>\n<p>이 부분은 Semantic Versioning이라는 세션을 따로 만들어 다뤄보려한다.</p>\n<p>모노레포의 경우 package.json이 더 중요해진다 생각하기때문이다.</p>\n<h2 id=\"참고자료\"><a class=\"anchor\" href=\"#참고자료\">참고자료</a></h2>\n<ul>\n<li><a href=\"https://heynode.com/tutorial/what-packagejson/\">hey(node)의 What Is package.json?</a></li>\n<li><a href=\"https://docs.npmjs.com/cli/v10/configuring-npm/package-json\">npm Docs - package.json</a></li>\n<li><a href=\"https://nodesource.com/blog/the-basics-of-package-json/\">NODESOURCE-The Basic of Package.json</a></li>\n<li><a href=\"https://hoya-kim.github.io/2021/09/14/package-json/\">알고 쓰자 package.json - hoya's dev blog</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "241106/index.md",
    "_raw": {
      "sourceFilePath": "241106/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "241106",
      "contentType": "markdown",
      "flattenedPath": "241106"
    },
    "type": "Post",
    "slug": "/241106",
    "categoryArray": [
      "프론트엔드",
      "소박한궁금증",
      "자바스크립트"
    ],
    "readingTime": "16 min read",
    "excerpt": "오늘은 프론트엔드 개발자로서 매일 마주하지만 깊이있게 들여다보지 않았던 package.json에 대해 이야기해볼 예정이다. 프로젝트를 다룰때마다 항상 핸들링하지만 그 이상으로 깊게 공부하지 않았기에 이번기회에 알아보려한다. package.json은 단순한 의존성 관리를 위한 파일을 넘어서 프로젝트의 전반적인 메타데이터와 설정을 관리하는 핵심 파일이다. 지금..."
  },
  {
    "title": "Zustand 불변성 관리와 immer 미들웨어 동작 원리(valtio를 곁들인)",
    "date": "2024-11-16T00:00:00.000Z",
    "categories": "프론트엔드 자바스크립트",
    "body": {
      "raw": "\n![1.webp](1.webp)\n\nzustand의 immer 그리고 valtio에 대해 알아보기전에 불변성에 대해 간단히 알아보자.\n\n<br/>\n\n# 불변성\n\n불변성은 한번 생성된 데이터의 상태가 변경되지 않는다는 개념이다. \n\n직접 수정을 금지하고, 변경이 필요할 때 새로운 객체를 생성해 원본 데이터의 무결성을 유지해야한다.\n\n상태 변경이 직접적인 수정이 아닌 새로운 참조를 통해 이루어지므로, 상태 변화를 추적하고 예측하기 쉬워진다.\n\nReact의 렌더링 최적화는 참조 비교에 기반한다. 불변성을 통해 객체 참조 변경을 빠르게 확인하기에, 불필요한 렌더링을 방지할 수 있다.\n\n각 상태 변화에서 새로운 객체를 생성해 이전 상태를 보존할 수 있다. 이를 통해 상태 변화를 추적할 수 있다.\n\n<br/>\n\n\n## 참조 비교\n\n참조 비교는 메모리 관점에서 두 값이 동일한 메모리 주소를 가리키고 있는지를 확인하는 것을 의미한다.\n\n원시값은 값 자체를 비교하고, 참조값은 메모리 주소를 비교한다.\n\n얕은 비교는 객체의 최상위 레벨에서만 참조를 비교하고, 깊은 비교는 객체의 모든 중첩 레벨에서 값을 비교한다.\n\n## 메모리와 참조의 관계\n\n모든 객체는 고유한 메모리 주소를 가진다. 두 참조를 비교할 때는 실제 값이 아닌 메모리 주소를 비교한다.\n\n참조는 변수가 실제 데이터가 저장된 메모리 주소를 가리키는 포인터를 의미한다.\n\n\n<br>\n\n# zustand immer 미들웨어\n\n![3.png](3.png)\n\n<br/>\n\n깊은 객체 구조에서 수동으로 불변성을 관리하는 것은 복잡하고 에러가 발생하기 쉽다\n\n특히 스프레드 연산자, Object.assign() 같은 방식은 깊은 중첩 구조에서 코드가 매우 복잡해질 수 있다.\n\nimmer은 draft 객체를 이용해 객체를 직접 수정하는 것처럼 간단하게 처리할 수 있다.\n\n<br>\n\n## draft 객체\n\n불변성을 유지하면서도 마치 직접 객체를 수정하는 것처럼 코드를 작성할 수 있게 해주는 패턴을 의미한다.\n\n기존 상태를 복사하여 임시 객체(draft)를 만들고, 이를 수정한 후 최종적으로 새로운 불변 객체를 생성한다.\n\n```javascript\nconst baseState = {\n  name: \"John\",\n  age: 30,\n};\n\n// produce는 아래에서 설명\n\nconst nextState = produce(baseState, (draft) => {\n  draft.age += 1; // 마치 직접 수정하는 것처럼 보임\n});\n```\n\nProxy를 사용하여 모든 변경 사항을 추적한다.\n\n> 🙋🏻‍♂️ Proxy 란?\n>\n> ```javascript\n> const target = {\n>   name: \"John\",\n>   age: 30,\n> };\n>\n> const handler = {\n>   get: function (target, prop) {\n>     return target[prop];\n>   },\n>   set: function (target, prop, value) {\n>     target[prop] = value;\n>     return true;\n>   },\n> };\n>\n> const proxy = new Proxy(target, handler);\n> ```\n>\n> - 프록시는 객체에 대한 기본 동작(함수호출, 속성에 대한 접근, 속성 열거)를 가로채고 재정의 하는 것을 의미한다.\n>\n> - 원본 객체를 감싸는 가상의 객체를 생성한다.\n>\n> - 모든 작업을 중간에서 감시하고 제어한다. 미들웨어와 같은 개념이다.\n\n<br>\n\n실제로는 원본 객체를 수정하지 않고, 변경사항을 기록한다. 최종적으로 모든 변경사항을 적용한 새로운 불변 객체 생성한다.\n\n이것을 zustand에서 immer을 사용하는 코드로 변경하면 아래처럼 구조를 변경할 수 있다.\n\n```javascript\nimport create from \"zustand\";\nimport { immer } from \"zustand/middleware/immer\";\n\nconst useStore = create(\n  immer((set) => ({\n    users: [],\n    addUser: (user) =>\n      set((state) => {\n        state.users.push(user);\n      }),\n  }))\n);\n```\n\n<br/>\n\n## immerImpl\n\n상태를 보존하고 전파하는 코드는 여러 코드의 연관성을 통해 이루어진다.\n\n주제가 불변성인만큼 모든 코드를 깊이 분석하는 것보다 핵심 구현부인 immerImpl에 대해서 공부해보자.\n\n> [zustand immerImpl 내부코드](https://github.com/pmndrs/zustand/blob/main/src/middleware/immer.ts)\n\n```typescript\nconst immerImpl: ImmerImpl = (initializer) => (set, get, store) => {\n  type T = ReturnType<typeof initializer>;\n\n  store.setState = (updater, replace, ...a) => {\n    const nextState = (\n      typeof updater === \"function\" ? produce(updater as any) : updater\n    ) as ((s: T) => T) | T | Partial<T>;\n\n    return set(nextState, replace as any, ...a);\n  };\n\n  return initializer(store.setState, get, store);\n};\n```\n\n우선 immerImpl 함수는 store creator를 받아서 새로운 store creator을 반환하는 고차 함수다.\n\n> store creator\n>\n> - Zustand에서 상태(state)와 액션(actions)을 포함하는 스토어를 생성하는 함수\n> - set(상태 업데이트 함수), get(현재 상태를 가져오는 함수), store(스토어 객체 자체에 대한 참조)로 구성됨\n\nstore의 setState를 재정의한다.\n\n그 다음 updater을 처리하는데, updater이 함수인 경우와 아닌 경우를 구분해서 함수면 Immer의 produce로 감싸서 불변성을 보장하고, 아니면 객체 그대로 사용한다.\n\n마지막으로 원본 set 함수를 호출하고, 수정된 setState로 initializer을 반환한다.\n\n<br/>\n\n### produce 함수\n\n```typescript\nfunction produce<Base, Return>(\n  base: Base,\n  recipe: (draft: Draft<Base>) => Return,\n  patchListener?: PatchListener\n): Base extends undefined ? Return : Return extends undefined ? Base : Return;\n```\n\nproduce 함수는 현재 상태의 Base, 상태를 수정하는 함수 recipe(진짜 github에서 타입명 recipe로 되어있음), patchListener로 구성되어있다.\n\n프록시 객체인(draft)를 생성하고, recipe 함수를 실행 및 수정사항을 추적한다.\n\n변경사항을 분석해서 새로운 상태를 생성해 변경사항이 있을때 변경을 적용해서, 없으면 원본을 반환한다.\n\n<br/>\n\n### 타입 안전성 보장\n\n```typescript\nas((s: T) => T) | T | Partial<T>;\n```\n\n위 코드가 이해가 안되어서 찾아보니, 함수, 전체 상태 객체, 부분 상태 객체 모두 지원하기 위해서 반환값의 타입을 명시적으로 지정한것이라 한다.\n\n<br/>\n\n![4.jpeg](4.jpeg)\n\n## 그래서 완전한 불변성을 보장할까?\n\nzustand immer는 완벽한 불변성을 보장하지는 못한다.\n\n특정한 상황을 꼽지는 못하겠지만, 외부 참조에 대한 문제 발생, 다른 참조에 mutation 할 수 있고, 깊은 중첩에서 부분 업데이트를 할 때 안전성이 떨어지는 등 다양한 문제를 야기한다.\n\n그리고 아래와같은 javascript 언어적 특성도 불변성 완전 보장에 문제를 야기한다.\n\n- JavaScript의 객체는 기본적으로 참조로 전달된다. 얕은 복사만으로는 깊은 중첩 객체의 불변성을 보장할 수 없고, const도 참조의 재할당만 막을 뿐, 내부 속성 변경은 막지 못한다.\n\n- Object.freeze()가 shallow freeze만 제공한다.\n\n- 배열 메서드들이 원본을 직접 수정하는 경우가 많음 (이거는 나쁜 버릇이긴한데 많은 개발자가 배열 메서드의 참조개념을 잘 활용하지못하고 있다 생각함)\n\n- Object.seal()이나 Object.preventExtensions()도 완벽한 불변성을 제공하지 않는다.\n\n- 프로토타입을 통한 우회적 접근 가능하고, 프로토타입 체인 수정을 통한 동작 변경 가능하다. 상속된 속성은 더 예상치 못한 영향을 초래하기도 한다.\n\n이런 상황에서 어떻게 대응해야할까? 그래서 zustand discord에 문의했다\n\n![이미지1](image.png)\n\n특별한 문제없으면 Object freeze()를 사용하라고 제안받았다.\n\n성능상에 큰 문제가 없는지 재질문을 했더니, 성능에 많은 영향을 주지않는다는 답변을 받았다.\n\n이런 저런 수다를 나누었다. \n\n2일뒤 zustand maintainer(Daishi Kato)가 왔다. immer로는 완전한 불변성 보장이 힘들기에 valtio를 만들었다한다.\n\n![이미지2](image2.png)\n\n그래서 알아보러 간다. Valtio\n\n![5.png](5.png)\n\n<br>\n\n# valtio\n\nzustand immer을 알아보다가 여기까지 왔다. 조금만 더 힘내보자! \n\n나는 valtio에 대해 모른다. 하지만 공부하다보니 valtio는 좋은 라이브러리라고 생각한다. (나중에 큰 챕터에서 다뤄보고, 여기서는 간단하게 알아보자!)\n\nvaltio와 zustand immer에서 가장 큰 차이점은 proxy의 사용 방식이다.\n\n<br/>\n\n\n## immer\n\n상태 업데이트 시에만 일시적으로 프록시를 생성한다.\n\n[immerjs의 produce 함수](https://github.com/immerjs/immer/blob/main/src/core/immerClass.ts)가 실행되는 동안에만 프록시가 존재하고, 업데이트가 완료되면 모든 변경사항을 기록했다가 한번에 새로운 불변 객체를 생성한다.\n\n```javascript\nproduce(state, (draft) => {\n  draft.count += 1; // 불변성을 신경쓰지 않고 직접 수정\n});\n```\n\n<br/>\n\n## valtio\n\n상태 객체를 처음 생성할 때부터 프록시로 래핑하고, 이 프록시는 지속적으로 유지된다.\n\nproxy-compare를 사용하여 상태 변경을 실시간으로 감지하고 추적한다. 곧 설명하겠지만 subscribe 함수를 통해 변경사항을 실시간으로 전파한다.\n\n쉽게 표현하면 모든 상태 변경이 프록시를 통해 이뤄지므로 실수로 인한 직접 수정을 방지해 연속적인 상태 추적이 가능하다.\n\n```javascript\nstate.count += 1; // 프록시가 자동으로 변경을 감지하고 처리\n```\n\n<br/>\n\n## 어떤 코드 동작으로 immer와 다르게 동작할까?\n\n```typescript\nconst createHandlerDefault = <T extends object>(\n  isInitializing: () => boolean,\n  addPropListener: (prop: string | symbol, propValue: unknown) => void,\n  removePropListener: (prop: string | symbol) => void,\n  notifyUpdate: (op: Op) => void\n): ProxyHandler<T> => ({\n  deleteProperty(target: T, prop: string | symbol) {\n    const prevValue = Reflect.get(target, prop);\n    removePropListener(prop);\n    const deleted = Reflect.deleteProperty(target, prop);\n    if (deleted) {\n      notifyUpdate([\"delete\", [prop], prevValue]);\n    }\n    return deleted;\n  },\n  set(target: T, prop: string | symbol, value: any, receiver: object) {\n    const hasPrevValue = !isInitializing() && Reflect.has(target, prop);\n    const prevValue = Reflect.get(target, prop, receiver);\n\n    // objectIs를 통해 캐시된 이전값과 현재 값을 계속 확인한다. 그리고 동일하면 업데이트를 방지한다.\n    if (\n      hasPrevValue &&\n      (objectIs(prevValue, value) ||\n        (proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value))))\n    ) {\n      return true;\n    }\n\n    removePropListener(prop);\n    if (isObject(value)) {\n      value = getUntracked(value) || value;\n    }\n\n    // 중첩된 객체도 자동으로 프록시화 => 이것이 가장 큰 차이같다. immer는 객체 생성할 때, produce 내에서만 불변성을 관리하지만 valtio는 지속적으로 관찰 비교한다.\n    const nextValue =\n      !proxyStateMap.has(value) && canProxy(value) ? proxy(value) : value;\n\n    addPropListener(prop, nextValue);\n    Reflect.set(target, prop, nextValue, receiver);\n    notifyUpdate([\"set\", [prop], value, prevValue]);\n    return true;\n  },\n});\n```\n\n다 안봐도 괜찮다. 주석 작성해둔 부분만 봐도 충분하다. \n\n나는 valtio를 좋은 라이브러리라고 생각한다. 하지만 valtio를 아직 사용하기에는 타입추론이나 호환성 이슈등 고려해야할 부분이 아직까지 존재하기에 다양한 테스트를 통해 도입을 고려해봐야한다 생각한다.\n\n<br/>\n\n## 마지막으로 valtio 장점을 어필해보면\n\n메모리 사용량이 낮다. 왜냐면 프록시를 계속 유지하면서 실제 변경된 부분만 업데이트하기때문이다.\n\ntargetCache와 snapCache를 사용하여 불필요한 재생성을 방지하고, 변경된 부분만 효율적으로 업데이트하기에 성능 저하의 우려가 적다.\n\nuseSnapshot 훅을 제공하여 리액트와 긴밀하게 통합되며, 컴포넌트 레벨에서 최적화된 리렌더링을 지원한다.\n\n실시간 변경을 주로 다루는 부분에서는 valtio 활용이 좋다고 보인다.\n\n```toc\n\n```\n",
      "html": "<p><img src=\"/content/241116/1.webp\" alt=\"1.webp\" loading=\"lazy\" decoding=\"async\"></p>\n<p>zustand의 immer 그리고 valtio에 대해 알아보기전에 불변성에 대해 간단히 알아보자.</p>\n<h1 id=\"불변성\"><a class=\"anchor\" href=\"#불변성\">불변성</a></h1>\n<p>불변성은 한번 생성된 데이터의 상태가 변경되지 않는다는 개념이다.</p>\n<p>직접 수정을 금지하고, 변경이 필요할 때 새로운 객체를 생성해 원본 데이터의 무결성을 유지해야한다.</p>\n<p>상태 변경이 직접적인 수정이 아닌 새로운 참조를 통해 이루어지므로, 상태 변화를 추적하고 예측하기 쉬워진다.</p>\n<p>React의 렌더링 최적화는 참조 비교에 기반한다. 불변성을 통해 객체 참조 변경을 빠르게 확인하기에, 불필요한 렌더링을 방지할 수 있다.</p>\n<p>각 상태 변화에서 새로운 객체를 생성해 이전 상태를 보존할 수 있다. 이를 통해 상태 변화를 추적할 수 있다.</p>\n<h2 id=\"참조-비교\"><a class=\"anchor\" href=\"#참조-비교\">참조 비교</a></h2>\n<p>참조 비교는 메모리 관점에서 두 값이 동일한 메모리 주소를 가리키고 있는지를 확인하는 것을 의미한다.</p>\n<p>원시값은 값 자체를 비교하고, 참조값은 메모리 주소를 비교한다.</p>\n<p>얕은 비교는 객체의 최상위 레벨에서만 참조를 비교하고, 깊은 비교는 객체의 모든 중첩 레벨에서 값을 비교한다.</p>\n<h2 id=\"메모리와-참조의-관계\"><a class=\"anchor\" href=\"#메모리와-참조의-관계\">메모리와 참조의 관계</a></h2>\n<p>모든 객체는 고유한 메모리 주소를 가진다. 두 참조를 비교할 때는 실제 값이 아닌 메모리 주소를 비교한다.</p>\n<p>참조는 변수가 실제 데이터가 저장된 메모리 주소를 가리키는 포인터를 의미한다.</p>\n<h1 id=\"zustand-immer-미들웨어\"><a class=\"anchor\" href=\"#zustand-immer-미들웨어\">zustand immer 미들웨어</a></h1>\n<p><img src=\"/content/241116/3.png\" alt=\"3.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>깊은 객체 구조에서 수동으로 불변성을 관리하는 것은 복잡하고 에러가 발생하기 쉽다</p>\n<p>특히 스프레드 연산자, Object.assign() 같은 방식은 깊은 중첩 구조에서 코드가 매우 복잡해질 수 있다.</p>\n<p>immer은 draft 객체를 이용해 객체를 직접 수정하는 것처럼 간단하게 처리할 수 있다.</p>\n<h2 id=\"draft-객체\"><a class=\"anchor\" href=\"#draft-객체\">draft 객체</a></h2>\n<p>불변성을 유지하면서도 마치 직접 객체를 수정하는 것처럼 코드를 작성할 수 있게 해주는 패턴을 의미한다.</p>\n<p>기존 상태를 복사하여 임시 객체(draft)를 만들고, 이를 수정한 후 최종적으로 새로운 불변 객체를 생성한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> baseState</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  name: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"John\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  age: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">30</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// produce는 아래에서 설명</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> nextState</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> produce</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(baseState, (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">draft</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  draft.age </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 마치 직접 수정하는 것처럼 보임</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span></code></pre></figure>\n<p>Proxy를 사용하여 모든 변경 사항을 추적한다.</p>\n<blockquote>\n<p>🙋🏻‍♂️ Proxy 란?</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> target</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  name: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"John\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  age: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">30</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> handler</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  get</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">target</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">prop</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> target[prop];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">target</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">prop</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    target[prop] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> proxy</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> new</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Proxy</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(target, handler);</span></span></code></pre></figure>\n<ul>\n<li>\n<p>프록시는 객체에 대한 기본 동작(함수호출, 속성에 대한 접근, 속성 열거)를 가로채고 재정의 하는 것을 의미한다.</p>\n</li>\n<li>\n<p>원본 객체를 감싸는 가상의 객체를 생성한다.</p>\n</li>\n<li>\n<p>모든 작업을 중간에서 감시하고 제어한다. 미들웨어와 같은 개념이다.</p>\n</li>\n</ul>\n</blockquote>\n<p>실제로는 원본 객체를 수정하지 않고, 변경사항을 기록한다. 최종적으로 모든 변경사항을 적용한 새로운 불변 객체 생성한다.</p>\n<p>이것을 zustand에서 immer을 사용하는 코드로 변경하면 아래처럼 구조를 변경할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> create </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"zustand\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { immer } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"zustand/middleware/immer\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> useStore</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> create</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  immer</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    users: [],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    addUser</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">user</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">state</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        state.users.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">push</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(user);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      }),</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span></code></pre></figure>\n<h2 id=\"immerimpl\"><a class=\"anchor\" href=\"#immerimpl\">immerImpl</a></h2>\n<p>상태를 보존하고 전파하는 코드는 여러 코드의 연관성을 통해 이루어진다.</p>\n<p>주제가 불변성인만큼 모든 코드를 깊이 분석하는 것보다 핵심 구현부인 immerImpl에 대해서 공부해보자.</p>\n<blockquote>\n<p><a href=\"https://github.com/pmndrs/zustand/blob/main/src/middleware/immer.ts\">zustand immerImpl 내부코드</a></p>\n</blockquote>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> immerImpl</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ImmerImpl</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">initializer</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">get</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">store</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ReturnType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">typeof</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> initializer>;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  store.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">setState</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">updater</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">replace</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">a</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> nextState</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      typeof</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> updater </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"function\"</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> produce</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(updater </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\"> updater</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    ) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">s</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">|</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Partial</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(nextState, replace </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">a);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> initializer</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(store.setState, get, store);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">};</span></span></code></pre></figure>\n<p>우선 immerImpl 함수는 store creator를 받아서 새로운 store creator을 반환하는 고차 함수다.</p>\n<blockquote>\n<p>store creator</p>\n<ul>\n<li>Zustand에서 상태(state)와 액션(actions)을 포함하는 스토어를 생성하는 함수</li>\n<li>set(상태 업데이트 함수), get(현재 상태를 가져오는 함수), store(스토어 객체 자체에 대한 참조)로 구성됨</li>\n</ul>\n</blockquote>\n<p>store의 setState를 재정의한다.</p>\n<p>그 다음 updater을 처리하는데, updater이 함수인 경우와 아닌 경우를 구분해서 함수면 Immer의 produce로 감싸서 불변성을 보장하고, 아니면 객체 그대로 사용한다.</p>\n<p>마지막으로 원본 set 함수를 호출하고, 수정된 setState로 initializer을 반환한다.</p>\n<h3 id=\"produce-함수\"><a class=\"anchor\" href=\"#produce-함수\">produce 함수</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> produce</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">Base</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">Return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  base</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Base</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  recipe</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">draft</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Draft</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">Base</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  patchListener</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> PatchListener</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Base</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> undefined</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Return</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> undefined</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Base</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span></code></pre></figure>\n<p>produce 함수는 현재 상태의 Base, 상태를 수정하는 함수 recipe(진짜 github에서 타입명 recipe로 되어있음), patchListener로 구성되어있다.</p>\n<p>프록시 객체인(draft)를 생성하고, recipe 함수를 실행 및 수정사항을 추적한다.</p>\n<p>변경사항을 분석해서 새로운 상태를 생성해 변경사항이 있을때 변경을 적용해서, 없으면 원본을 반환한다.</p>\n<h3 id=\"타입-안전성-보장\"><a class=\"anchor\" href=\"#타입-안전성-보장\">타입 안전성 보장</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">as</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">((</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">s</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">|</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Partial</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span></code></pre></figure>\n<p>위 코드가 이해가 안되어서 찾아보니, 함수, 전체 상태 객체, 부분 상태 객체 모두 지원하기 위해서 반환값의 타입을 명시적으로 지정한것이라 한다.</p>\n<p><img src=\"/content/241116/4.jpeg\" alt=\"4.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<h2 id=\"그래서-완전한-불변성을-보장할까\"><a class=\"anchor\" href=\"#그래서-완전한-불변성을-보장할까\">그래서 완전한 불변성을 보장할까?</a></h2>\n<p>zustand immer는 완벽한 불변성을 보장하지는 못한다.</p>\n<p>특정한 상황을 꼽지는 못하겠지만, 외부 참조에 대한 문제 발생, 다른 참조에 mutation 할 수 있고, 깊은 중첩에서 부분 업데이트를 할 때 안전성이 떨어지는 등 다양한 문제를 야기한다.</p>\n<p>그리고 아래와같은 javascript 언어적 특성도 불변성 완전 보장에 문제를 야기한다.</p>\n<ul>\n<li>\n<p>JavaScript의 객체는 기본적으로 참조로 전달된다. 얕은 복사만으로는 깊은 중첩 객체의 불변성을 보장할 수 없고, const도 참조의 재할당만 막을 뿐, 내부 속성 변경은 막지 못한다.</p>\n</li>\n<li>\n<p>Object.freeze()가 shallow freeze만 제공한다.</p>\n</li>\n<li>\n<p>배열 메서드들이 원본을 직접 수정하는 경우가 많음 (이거는 나쁜 버릇이긴한데 많은 개발자가 배열 메서드의 참조개념을 잘 활용하지못하고 있다 생각함)</p>\n</li>\n<li>\n<p>Object.seal()이나 Object.preventExtensions()도 완벽한 불변성을 제공하지 않는다.</p>\n</li>\n<li>\n<p>프로토타입을 통한 우회적 접근 가능하고, 프로토타입 체인 수정을 통한 동작 변경 가능하다. 상속된 속성은 더 예상치 못한 영향을 초래하기도 한다.</p>\n</li>\n</ul>\n<p>이런 상황에서 어떻게 대응해야할까? 그래서 zustand discord에 문의했다</p>\n<p><img src=\"/content/241116/image.png\" alt=\"이미지1\" loading=\"lazy\" decoding=\"async\"></p>\n<p>특별한 문제없으면 Object freeze()를 사용하라고 제안받았다.</p>\n<p>성능상에 큰 문제가 없는지 재질문을 했더니, 성능에 많은 영향을 주지않는다는 답변을 받았다.</p>\n<p>이런 저런 수다를 나누었다.</p>\n<p>2일뒤 zustand maintainer(Daishi Kato)가 왔다. immer로는 완전한 불변성 보장이 힘들기에 valtio를 만들었다한다.</p>\n<p><img src=\"/content/241116/image2.png\" alt=\"이미지2\" loading=\"lazy\" decoding=\"async\"></p>\n<p>그래서 알아보러 간다. Valtio</p>\n<p><img src=\"/content/241116/5.png\" alt=\"5.png\" loading=\"lazy\" decoding=\"async\"></p>\n<h1 id=\"valtio\"><a class=\"anchor\" href=\"#valtio\">valtio</a></h1>\n<p>zustand immer을 알아보다가 여기까지 왔다. 조금만 더 힘내보자!</p>\n<p>나는 valtio에 대해 모른다. 하지만 공부하다보니 valtio는 좋은 라이브러리라고 생각한다. (나중에 큰 챕터에서 다뤄보고, 여기서는 간단하게 알아보자!)</p>\n<p>valtio와 zustand immer에서 가장 큰 차이점은 proxy의 사용 방식이다.</p>\n<h2 id=\"immer\"><a class=\"anchor\" href=\"#immer\">immer</a></h2>\n<p>상태 업데이트 시에만 일시적으로 프록시를 생성한다.</p>\n<p><a href=\"https://github.com/immerjs/immer/blob/main/src/core/immerClass.ts\">immerjs의 produce 함수</a>가 실행되는 동안에만 프록시가 존재하고, 업데이트가 완료되면 모든 변경사항을 기록했다가 한번에 새로운 불변 객체를 생성한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">produce</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(state, (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">draft</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  draft.count </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 불변성을 신경쓰지 않고 직접 수정</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span></code></pre></figure>\n<h2 id=\"valtio-1\"><a class=\"anchor\" href=\"#valtio-1\">valtio</a></h2>\n<p>상태 객체를 처음 생성할 때부터 프록시로 래핑하고, 이 프록시는 지속적으로 유지된다.</p>\n<p>proxy-compare를 사용하여 상태 변경을 실시간으로 감지하고 추적한다. 곧 설명하겠지만 subscribe 함수를 통해 변경사항을 실시간으로 전파한다.</p>\n<p>쉽게 표현하면 모든 상태 변경이 프록시를 통해 이뤄지므로 실수로 인한 직접 수정을 방지해 연속적인 상태 추적이 가능하다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"javascript\" data-theme=\"github-dark github-light\"><code data-language=\"javascript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">state.count </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+=</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 프록시가 자동으로 변경을 감지하고 처리</span></span></code></pre></figure>\n<h2 id=\"어떤-코드-동작으로-immer와-다르게-동작할까\"><a class=\"anchor\" href=\"#어떤-코드-동작으로-immer와-다르게-동작할까\">어떤 코드 동작으로 immer와 다르게 동작할까?</a></h2>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"typescript\" data-theme=\"github-dark github-light\"><code data-language=\"typescript\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createHandlerDefault</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> object</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  isInitializing</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> () </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> boolean</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  addPropListener</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">prop</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> symbol</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">propValue</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> unknown</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  removePropListener</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">prop</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> symbol</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  notifyUpdate</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">op</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Op</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ProxyHandler</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> ({</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  deleteProperty</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">target</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">prop</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> symbol</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> prevValue</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Reflect.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">get</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(target, prop);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    removePropListener</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(prop);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> deleted</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Reflect.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">deleteProperty</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(target, prop);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (deleted) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">      notifyUpdate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"delete\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, [prop], prevValue]);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> deleted;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">target</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">prop</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> symbol</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">value</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">receiver</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> object</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> hasPrevValue</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> !</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">isInitializing</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x26;&#x26;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Reflect.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">has</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(target, prop);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> prevValue</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> Reflect.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">get</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(target, prop, receiver);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // objectIs를 통해 캐시된 이전값과 현재 값을 계속 확인한다. 그리고 동일하면 업데이트를 방지한다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      hasPrevValue </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x26;&#x26;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">objectIs</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(prevValue, value) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">||</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">        (proxyCache.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">has</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x26;&#x26;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> objectIs</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(prevValue, proxyCache.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">get</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value))))</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    ) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    removePropListener</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(prop);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">isObject</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      value </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> getUntracked</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">||</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // 중첩된 객체도 자동으로 프록시화 => 이것이 가장 큰 차이같다. immer는 객체 생성할 때, produce 내에서만 불변성을 관리하지만 valtio는 지속적으로 관찰 비교한다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> nextValue</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      !</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">proxyStateMap.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">has</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x26;&#x26;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> canProxy</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> proxy</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(value) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> value;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    addPropListener</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(prop, nextValue);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    Reflect.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">set</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(target, prop, nextValue, receiver);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">    notifyUpdate</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"set\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, [prop], value, prevValue]);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span></code></pre></figure>\n<p>다 안봐도 괜찮다. 주석 작성해둔 부분만 봐도 충분하다.</p>\n<p>나는 valtio를 좋은 라이브러리라고 생각한다. 하지만 valtio를 아직 사용하기에는 타입추론이나 호환성 이슈등 고려해야할 부분이 아직까지 존재하기에 다양한 테스트를 통해 도입을 고려해봐야한다 생각한다.</p>\n<h2 id=\"마지막으로-valtio-장점을-어필해보면\"><a class=\"anchor\" href=\"#마지막으로-valtio-장점을-어필해보면\">마지막으로 valtio 장점을 어필해보면</a></h2>\n<p>메모리 사용량이 낮다. 왜냐면 프록시를 계속 유지하면서 실제 변경된 부분만 업데이트하기때문이다.</p>\n<p>targetCache와 snapCache를 사용하여 불필요한 재생성을 방지하고, 변경된 부분만 효율적으로 업데이트하기에 성능 저하의 우려가 적다.</p>\n<p>useSnapshot 훅을 제공하여 리액트와 긴밀하게 통합되며, 컴포넌트 레벨에서 최적화된 리렌더링을 지원한다.</p>\n<p>실시간 변경을 주로 다루는 부분에서는 valtio 활용이 좋다고 보인다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "241116/index.md",
    "_raw": {
      "sourceFilePath": "241116/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "241116",
      "contentType": "markdown",
      "flattenedPath": "241116"
    },
    "type": "Post",
    "slug": "/241116",
    "categoryArray": [
      "프론트엔드",
      "자바스크립트"
    ],
    "readingTime": "15 min read",
    "excerpt": "zustand의 immer 그리고 valtio에 대해 알아보기전에 불변성에 대해 간단히 알아보자. 불변성 불변성은 한번 생성된 데이터의 상태가 변경되지 않는다는 개념이다. 직접 수정을 금지하고, 변경이 필요할 때 새로운 객체를 생성해 원본 데이터의 무결성을 유지해야한다. 상태 변경이 직접적인 수정이 아닌 새로운 참조를 통해 이루어지므로, 상태 변화를 추적하..."
  },
  {
    "title": "Biome 가 EsLint와 Prettier를 대체할 수 있을까?",
    "date": "2024-12-01T00:00:00.000Z",
    "categories": "프론트엔드 자바스크립트",
    "body": {
      "raw": "\n\n\nIDE와 포매팅 도구의 다양성으로 인한 문제점들이 사내에서 발생하고 있었다. \n\n서로 다른 IDE(WebStorm, VSCode 등)를 사용하는 환경에서 일관된 코드 스타일을 유지하기가 어려웠고, IDE별로 설정 파일을 따로 관리해야 하는 번거로움이 있었다. 또한 포매팅 차이로 인해 불필요한 코드 리뷰 지적이 발생하곤 했다.\n\n이러한 상황에서 ESLint의 포매팅 규칙들이 Deprecated되면서, 새로운 대안이 필요하게 되어, 여러 대안들을 검토해보았다.\n\n- **Prettier + ESLint** 조합은 기존 ESLint 규칙들의 마이그레이션 문제와 도구 간 충돌 방지를 위한 추가 설정이 필요함\n- **@stylistic/eslint-plugin-ts는** 아직 커뮤니티 초기 단계라 안정성 검증이 부족하고 별도 플러그인 관리에 대한 부담이 있음\n\n이런 상황에서 Biome이라는 도구에 관심을 가지게 되었다. \n\nBiome은 웹 프로젝트를 위한 고성능 툴체인으로, JavaScript, TypeScript, JSX 등의 코드 포매팅과 린팅을 통합적으로 제공하는 도구다. ESLint와 Prettier의 기능을 통합적으로 제공하면서도, Rust 기반으로 개발되어 뛰어난 성능과 안정성을 보장한다.\n\n기존에 많이 사용되던 Prettier와 97% 호환성을 자랑하며, ESLint 기능도 포함하고 있어 하나의 도구로 코드 품질 관리가 가능하다.\n\n특히 속도와 용량 면에서 큰 장점을 보여주고 있어, 팀에서 Biome 도입을 결정하게 되었다.\n\n그럼 이제 Biome이 정확히 무엇이고, 어떻게 사용하는지 자세히 알아보자.\n\n\n<br/>\n\n\n## 왜 Biome을 사용해야 할까?\n\n하나의 도구로 포매팅과 린팅을 모두 처리할 수 있어, 복잡한 설정이 필요 없다.\n\n그리고  Rust로 작성되어 기존 도구들보다 훨씬 빠른 속도를 보여준다. 공식 벤치마크에 따르면 Prettier보다 25배, ESLint보다 15배 빠르다고 한다.\n\n![1.png](1.png)\n\n 코드 처리, 오류 표시, 캐싱 등에서 일관된 사용자 경험을 제공한다.\n\n<br/>\n\n## 어떻게 사용할까?\n\nbiome 설정은 아주 간단하다. **[공식 문서](https://biomejs.dev/guides/getting-started/)** 를 읽어보면 친절하게 나와있으니 참고해보자\n\n먼저 `npm install --save-dev --save-exact @biomejs/biome` 명령어로 Biome을 설치한다.\n\n이후 biome.json 파일을 만들기 위해 `npx @biomejs/biome init` 명령어를 실행한다.\n\n참고로 사용하는 IDE 에서 Biome 를 사용하기 위한 익스텐션을 설치해야 한다. \n\nVSCode를 사용한다면 [VSCode Biome](https://marketplace.visualstudio.com/items?itemName=biomejs.biome)를 설치하고, webStorm 을 사용한다면 [webStorm Biome](https://plugins.jetbrains.com/plugin/22761-biome)을 설치하자.\n\n이제 Biome을 사용할 준비가 되었다.\n\n팀원들마다 사용하는 eslint, prettier 설정을 biome.json 파일에 추가하고 settings.json 설정에 아래 코드를 추가해보자.\n\n```json\n{\n  \"editor.defaultFormatter\": \"biomejs.biome\",\n  \"editor.codeActionsOnSave\": {\n    \"quickfix.biome\": \"explicit\",\n    \"source.organizeImports.biome\": \"explicit\"\n  }\n}\n\n```\n\n<br/>\n\n## 사용해보며 직접 비교해보자\n\nBiome을 사용하면서 코드 포매팅과 린팅을 통합적으로 관리할 수 있어서 편리했다. 또한 Rust로 개발되어 속도가 빠르고 안정성이 높아서 사용자 경험이 좋았다.\n\n왼쪽이 biome, 오른쪽이 ESLint+Prettier를 사용한 코드다. 비교해보면서 분석해보자.\n\n<br/>\n\n### Vite 프로젝트 로컬 실행 시간\n\n![biome1.png](biome1.png) | ![lint1.png](lint1.png)\n---|---|\n\n\nBiome: 506ms / ESLint+Prettier: 630ms 으로 약 20% 더 빠른 실행 시간을 보여주었다.\n\n<br/>\n\n### Vite 프로젝트 빌드 시간\n\n![biome2.png](biome2.png) | ![lint2.png](lint2.png)\n---|---|\n\nbiome: 117.13s, cpu 1:02.23 / ESLint+Prettier: 131.48s, cpu 1:15.31 으로 Biome 이 약 10% 더 빠른 빌드 시간을 보여주었다.\n\n<br/>\n\n### Lint 작업\n\n![biome3.png](biome3.png) | ![lint3.png](lint3.png)\n---|---|\n\n가장 큰 차이는 Lint 작업에서 나타났다.\n\n왼쪽 사진 Biome: 0.79s (total CPU time: 0.470), ESLint: 16.32s (total CPU time: 8.600) 으로 Lint 작업에서 Biome 이 약 20배 더 빠른 성능을 보여주었다. CPU 사용량도 훨씬 효율적이었다.\n\n<br>\n\n<br>\n\n![3.jpeg](3.jpeg)\n\n흐..음..\n\n<br>\n\n## 왜 성능이 더 좋을까?\n\n나를 비롯한 대부분의 사람들이 Biome를 사용하는 이유는 성능 때문이다. 하지만 나는 Rust 기반으로 개발되어서 성능이 좋다고 알고있지만 자세하게 왜 성능이 더 좋은지 알아보지 않았다.\n\nBiome의 성능이 더 좋은 이유에 대해 알아보자.\n\n<br/>\n\n### 강력한 Rust의 성능\n\n![5.webp](5.webp) | ![6.webp](6.webp)\n---|---|\n\nBiome은 시스템 프로그래밍 언어인 Rust로 작성되었다. Rust는 제로 비용 추상화와 가비지 컬렉터 없이도 메모리를 안전하게 관리할 수 있는 특징을 가지고 있다.\n   \n반면에 ESLint와 Prettier는 JavaScript/TypeScript로 작성되어 Node.js 런타임에 의존하여, V8 엔진의 JIT 컴파일 과정과 가비지 컬렉션으로 인한 오버헤드가 발생한다.\n\n<br/>\n\n\n### 효율적인 단일 파싱 시스템\n\nBiome은 하나의 파서로 포매팅과 린팅을 모두 처리한다. 코드를 한 번 파싱하여 생성된 AST(Abstract Syntax Tree)를 포매팅과 린팅 모두에 활용하고있다.\n   \n반면 ESLint와 Prettier를 함께 사용할 경우, 각각 별도의 파싱 과정을 거쳐 파일을 두 번 읽고 두 번의 파싱 과정을 거치게 된다. 그래서 Biome의 단일 파싱 시스템은 중복 작업을 제거하고 메모리 사용량을 줄여 전체적인 성능 향상을 가져온다.\n\n<br/>\n\n\n### 최적화된 병렬 처리\n\n![7.png](7.png)\n\nRust의 동시성 모델을 활용하여 Biome은 병렬 처리를 구현했다. 작업을 더 작은 단위로 분할하여 여러 스레드에서 동시에 처리할 수 있으며, 락-프리 알고리즘을 사용하여 스레드 간 경쟁 상태를 최소화했다.\n\nNode.js의 이벤트 루프 기반 비동기 처리는 기본적으로 단일 스레드에서 실행되며, Worker threads를 사용하더라도 추가적인 오버헤드가 발생할 수 있다. 따라서 Biome의 병렬 처리는 ESLint와 Prettier보다 더욱 효율적인 성능을 준다.\n\n<br/>\n\n### 메모리 효율적인 AST 처리\n\n<br/>\n\n![4.svg](4.svg)\n\n<br/>\n\nBiome의 AST 처리 방식은 메모리 레이아웃을 최적화하고 불필요한 객체 할당을 최소화한다. 또한 효율적인 트리 순회 알고리즘을 사용하여 코드 분석 속도를 높인다. 그로 인해 JavaScript의 객체 기반 AST 처리 방식에 비해 더 적은 메모리를 사용하면서도 빠른 처리가 가능하다.\n\n<br/>\n\n## 그럼 Biome을 사용해야 할까?\n\nBiome의 뛰어난 성능과 간편한 설정에도 불구하고, 모든 프로젝트에 무조건적으로 도입하는 것은 바람직하지 않다고 생각한다. \n\n우리 회사 처럼 대규모 프로젝트를 운영하고 있고 빌드/린트 성능이 중요한 경우, Biome은 매력적인 선택이 되었다. 특히 CI/CD 파이프라인에서 코드 검사에 많은 시간이 소요되거나, 개발자들이 느린 린팅 속도로 인해 불편을 겪고 있어, 더 도입을 서둘렀다.\n\n하지만 Biome이 아직 지원하지 않는 플러그인이나 규칙이 있을 수 있으니, 프로젝트의 특성과 요구사항을 고려하여 도입 여부를 결정해야 한다.\n\n이전에 **[rome](https://github.com/rome/tools) 도구**를 개발한팀이 Biome를 개발했다. 이 과정에서 rome 이 아카이빙이 되어, 기존 사용자에게 불편함을 줬다는 이야기를 들었는데, 이런 부분도 고려해야 한다고 생각한다.\n\n![8.png](8.png)\n\n위 npm trends 를 보면 아직.. 갈길이 멀지만, 앞으로 더 많은 사용자들이 Biome을 사용하게 될 것으로 예상한다.\n\n그래도 많은 관심 부탁!!\n\n![10.png](10.png)\n\n```toc\n\n```\n",
      "html": "<p>IDE와 포매팅 도구의 다양성으로 인한 문제점들이 사내에서 발생하고 있었다.</p>\n<p>서로 다른 IDE(WebStorm, VSCode 등)를 사용하는 환경에서 일관된 코드 스타일을 유지하기가 어려웠고, IDE별로 설정 파일을 따로 관리해야 하는 번거로움이 있었다. 또한 포매팅 차이로 인해 불필요한 코드 리뷰 지적이 발생하곤 했다.</p>\n<p>이러한 상황에서 ESLint의 포매팅 규칙들이 Deprecated되면서, 새로운 대안이 필요하게 되어, 여러 대안들을 검토해보았다.</p>\n<ul>\n<li><strong>Prettier + ESLint</strong> 조합은 기존 ESLint 규칙들의 마이그레이션 문제와 도구 간 충돌 방지를 위한 추가 설정이 필요함</li>\n<li><strong>@stylistic/eslint-plugin-ts는</strong> 아직 커뮤니티 초기 단계라 안정성 검증이 부족하고 별도 플러그인 관리에 대한 부담이 있음</li>\n</ul>\n<p>이런 상황에서 Biome이라는 도구에 관심을 가지게 되었다.</p>\n<p>Biome은 웹 프로젝트를 위한 고성능 툴체인으로, JavaScript, TypeScript, JSX 등의 코드 포매팅과 린팅을 통합적으로 제공하는 도구다. ESLint와 Prettier의 기능을 통합적으로 제공하면서도, Rust 기반으로 개발되어 뛰어난 성능과 안정성을 보장한다.</p>\n<p>기존에 많이 사용되던 Prettier와 97% 호환성을 자랑하며, ESLint 기능도 포함하고 있어 하나의 도구로 코드 품질 관리가 가능하다.</p>\n<p>특히 속도와 용량 면에서 큰 장점을 보여주고 있어, 팀에서 Biome 도입을 결정하게 되었다.</p>\n<p>그럼 이제 Biome이 정확히 무엇이고, 어떻게 사용하는지 자세히 알아보자.</p>\n<h2 id=\"왜-biome을-사용해야-할까\"><a class=\"anchor\" href=\"#왜-biome을-사용해야-할까\">왜 Biome을 사용해야 할까?</a></h2>\n<p>하나의 도구로 포매팅과 린팅을 모두 처리할 수 있어, 복잡한 설정이 필요 없다.</p>\n<p>그리고  Rust로 작성되어 기존 도구들보다 훨씬 빠른 속도를 보여준다. 공식 벤치마크에 따르면 Prettier보다 25배, ESLint보다 15배 빠르다고 한다.</p>\n<p><img src=\"/content/241201/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>코드 처리, 오류 표시, 캐싱 등에서 일관된 사용자 경험을 제공한다.</p>\n<h2 id=\"어떻게-사용할까\"><a class=\"anchor\" href=\"#어떻게-사용할까\">어떻게 사용할까?</a></h2>\n<p>biome 설정은 아주 간단하다. <strong><a href=\"https://biomejs.dev/guides/getting-started/\">공식 문서</a></strong> 를 읽어보면 친절하게 나와있으니 참고해보자</p>\n<p>먼저 <code>npm install --save-dev --save-exact @biomejs/biome</code> 명령어로 Biome을 설치한다.</p>\n<p>이후 biome.json 파일을 만들기 위해 <code>npx @biomejs/biome init</code> 명령어를 실행한다.</p>\n<p>참고로 사용하는 IDE 에서 Biome 를 사용하기 위한 익스텐션을 설치해야 한다.</p>\n<p>VSCode를 사용한다면 <a href=\"https://marketplace.visualstudio.com/items?itemName=biomejs.biome\">VSCode Biome</a>를 설치하고, webStorm 을 사용한다면 <a href=\"https://plugins.jetbrains.com/plugin/22761-biome\">webStorm Biome</a>을 설치하자.</p>\n<p>이제 Biome을 사용할 준비가 되었다.</p>\n<p>팀원들마다 사용하는 eslint, prettier 설정을 biome.json 파일에 추가하고 settings.json 설정에 아래 코드를 추가해보자.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"editor.defaultFormatter\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"biomejs.biome\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"editor.codeActionsOnSave\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"quickfix.biome\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"explicit\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"source.organizeImports.biome\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"explicit\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span></code></pre></figure>\n<h2 id=\"사용해보며-직접-비교해보자\"><a class=\"anchor\" href=\"#사용해보며-직접-비교해보자\">사용해보며 직접 비교해보자</a></h2>\n<p>Biome을 사용하면서 코드 포매팅과 린팅을 통합적으로 관리할 수 있어서 편리했다. 또한 Rust로 개발되어 속도가 빠르고 안정성이 높아서 사용자 경험이 좋았다.</p>\n<p>왼쪽이 biome, 오른쪽이 ESLint+Prettier를 사용한 코드다. 비교해보면서 분석해보자.</p>\n<h3 id=\"vite-프로젝트-로컬-실행-시간\"><a class=\"anchor\" href=\"#vite-프로젝트-로컬-실행-시간\">Vite 프로젝트 로컬 실행 시간</a></h3>\n<p><img src=\"/content/241201/biome1.png\" alt=\"biome1.png\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/241201/lint1.png\" alt=\"lint1.png\" loading=\"lazy\" decoding=\"async\">\n---|---|</p>\n<p>Biome: 506ms / ESLint+Prettier: 630ms 으로 약 20% 더 빠른 실행 시간을 보여주었다.</p>\n<h3 id=\"vite-프로젝트-빌드-시간\"><a class=\"anchor\" href=\"#vite-프로젝트-빌드-시간\">Vite 프로젝트 빌드 시간</a></h3>\n<p><img src=\"/content/241201/biome2.png\" alt=\"biome2.png\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/241201/lint2.png\" alt=\"lint2.png\" loading=\"lazy\" decoding=\"async\">\n---|---|</p>\n<p>biome: 117.13s, cpu 1:02.23 / ESLint+Prettier: 131.48s, cpu 1:15.31 으로 Biome 이 약 10% 더 빠른 빌드 시간을 보여주었다.</p>\n<h3 id=\"lint-작업\"><a class=\"anchor\" href=\"#lint-작업\">Lint 작업</a></h3>\n<p><img src=\"/content/241201/biome3.png\" alt=\"biome3.png\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/241201/lint3.png\" alt=\"lint3.png\" loading=\"lazy\" decoding=\"async\">\n---|---|</p>\n<p>가장 큰 차이는 Lint 작업에서 나타났다.</p>\n<p>왼쪽 사진 Biome: 0.79s (total CPU time: 0.470), ESLint: 16.32s (total CPU time: 8.600) 으로 Lint 작업에서 Biome 이 약 20배 더 빠른 성능을 보여주었다. CPU 사용량도 훨씬 효율적이었다.</p>\n<p><img src=\"/content/241201/3.jpeg\" alt=\"3.jpeg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>흐..음..</p>\n<h2 id=\"왜-성능이-더-좋을까\"><a class=\"anchor\" href=\"#왜-성능이-더-좋을까\">왜 성능이 더 좋을까?</a></h2>\n<p>나를 비롯한 대부분의 사람들이 Biome를 사용하는 이유는 성능 때문이다. 하지만 나는 Rust 기반으로 개발되어서 성능이 좋다고 알고있지만 자세하게 왜 성능이 더 좋은지 알아보지 않았다.</p>\n<p>Biome의 성능이 더 좋은 이유에 대해 알아보자.</p>\n<h3 id=\"강력한-rust의-성능\"><a class=\"anchor\" href=\"#강력한-rust의-성능\">강력한 Rust의 성능</a></h3>\n<p><img src=\"/content/241201/5.webp\" alt=\"5.webp\" loading=\"lazy\" decoding=\"async\"> | <img src=\"/content/241201/6.webp\" alt=\"6.webp\" loading=\"lazy\" decoding=\"async\">\n---|---|</p>\n<p>Biome은 시스템 프로그래밍 언어인 Rust로 작성되었다. Rust는 제로 비용 추상화와 가비지 컬렉터 없이도 메모리를 안전하게 관리할 수 있는 특징을 가지고 있다.</p>\n<p>반면에 ESLint와 Prettier는 JavaScript/TypeScript로 작성되어 Node.js 런타임에 의존하여, V8 엔진의 JIT 컴파일 과정과 가비지 컬렉션으로 인한 오버헤드가 발생한다.</p>\n<h3 id=\"효율적인-단일-파싱-시스템\"><a class=\"anchor\" href=\"#효율적인-단일-파싱-시스템\">효율적인 단일 파싱 시스템</a></h3>\n<p>Biome은 하나의 파서로 포매팅과 린팅을 모두 처리한다. 코드를 한 번 파싱하여 생성된 AST(Abstract Syntax Tree)를 포매팅과 린팅 모두에 활용하고있다.</p>\n<p>반면 ESLint와 Prettier를 함께 사용할 경우, 각각 별도의 파싱 과정을 거쳐 파일을 두 번 읽고 두 번의 파싱 과정을 거치게 된다. 그래서 Biome의 단일 파싱 시스템은 중복 작업을 제거하고 메모리 사용량을 줄여 전체적인 성능 향상을 가져온다.</p>\n<h3 id=\"최적화된-병렬-처리\"><a class=\"anchor\" href=\"#최적화된-병렬-처리\">최적화된 병렬 처리</a></h3>\n<p><img src=\"/content/241201/7.png\" alt=\"7.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Rust의 동시성 모델을 활용하여 Biome은 병렬 처리를 구현했다. 작업을 더 작은 단위로 분할하여 여러 스레드에서 동시에 처리할 수 있으며, 락-프리 알고리즘을 사용하여 스레드 간 경쟁 상태를 최소화했다.</p>\n<p>Node.js의 이벤트 루프 기반 비동기 처리는 기본적으로 단일 스레드에서 실행되며, Worker threads를 사용하더라도 추가적인 오버헤드가 발생할 수 있다. 따라서 Biome의 병렬 처리는 ESLint와 Prettier보다 더욱 효율적인 성능을 준다.</p>\n<h3 id=\"메모리-효율적인-ast-처리\"><a class=\"anchor\" href=\"#메모리-효율적인-ast-처리\">메모리 효율적인 AST 처리</a></h3>\n<p><img src=\"/content/241201/4.svg\" alt=\"4.svg\" loading=\"lazy\" decoding=\"async\"></p>\n<p>Biome의 AST 처리 방식은 메모리 레이아웃을 최적화하고 불필요한 객체 할당을 최소화한다. 또한 효율적인 트리 순회 알고리즘을 사용하여 코드 분석 속도를 높인다. 그로 인해 JavaScript의 객체 기반 AST 처리 방식에 비해 더 적은 메모리를 사용하면서도 빠른 처리가 가능하다.</p>\n<h2 id=\"그럼-biome을-사용해야-할까\"><a class=\"anchor\" href=\"#그럼-biome을-사용해야-할까\">그럼 Biome을 사용해야 할까?</a></h2>\n<p>Biome의 뛰어난 성능과 간편한 설정에도 불구하고, 모든 프로젝트에 무조건적으로 도입하는 것은 바람직하지 않다고 생각한다.</p>\n<p>우리 회사 처럼 대규모 프로젝트를 운영하고 있고 빌드/린트 성능이 중요한 경우, Biome은 매력적인 선택이 되었다. 특히 CI/CD 파이프라인에서 코드 검사에 많은 시간이 소요되거나, 개발자들이 느린 린팅 속도로 인해 불편을 겪고 있어, 더 도입을 서둘렀다.</p>\n<p>하지만 Biome이 아직 지원하지 않는 플러그인이나 규칙이 있을 수 있으니, 프로젝트의 특성과 요구사항을 고려하여 도입 여부를 결정해야 한다.</p>\n<p>이전에 <strong><a href=\"https://github.com/rome/tools\">rome</a> 도구</strong>를 개발한팀이 Biome를 개발했다. 이 과정에서 rome 이 아카이빙이 되어, 기존 사용자에게 불편함을 줬다는 이야기를 들었는데, 이런 부분도 고려해야 한다고 생각한다.</p>\n<p><img src=\"/content/241201/8.png\" alt=\"8.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>위 npm trends 를 보면 아직.. 갈길이 멀지만, 앞으로 더 많은 사용자들이 Biome을 사용하게 될 것으로 예상한다.</p>\n<p>그래도 많은 관심 부탁!!</p>\n<p><img src=\"/content/241201/10.png\" alt=\"10.png\" loading=\"lazy\" decoding=\"async\"></p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "241201/index.md",
    "_raw": {
      "sourceFilePath": "241201/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "241201",
      "contentType": "markdown",
      "flattenedPath": "241201"
    },
    "type": "Post",
    "slug": "/241201",
    "categoryArray": [
      "프론트엔드",
      "자바스크립트"
    ],
    "readingTime": "11 min read",
    "excerpt": "IDE와 포매팅 도구의 다양성으로 인한 문제점들이 사내에서 발생하고 있었다. 서로 다른 IDE(WebStorm, VSCode 등)를 사용하는 환경에서 일관된 코드 스타일을 유지하기가 어려웠고, IDE별로 설정 파일을 따로 관리해야 하는 번거로움이 있었다. 또한 포매팅 차이로 인해 불필요한 코드 리뷰 지적이 발생하곤 했다. 이러한 상황에서 ESLint의 포매..."
  },
  {
    "title": "Verdaccio와 Lerna를 활용한 사내 유틸리티 라이브러리 구축기",
    "date": "2025-04-04T00:00:00.000Z",
    "categories": "프론트엔드 인프라",
    "body": {
      "raw": "\n회사 내에서 프론트엔드 공통 유틸리티 모듈을 통합 관리하는 작업을 맡으면서, 다음과 같은 요구사항이 생겼다.\n\n- 여러 레포지토리에 중복된 로직을 하나로 추출해 관리하고 싶다.\n- 패키지 단위로 분리해 모노레포 형태로 운영하되, 유연한 버전 관리가 필요하다.\n- 외부 공개 없이 사내에서만 배포 및 사용 가능한 NPM 패키지 레지스트리를 갖추고 싶다.\n- CI/CD 파이프라인에서도 안전하고 빠르게 배포되도록 자동화를 고려해야 한다.\n\n이 문제를 해결하기 위해 선택한 조합이 바로 `Lerna`와 `Verdaccio`다.\n\nLerna는 모노레포에서 패키지를 효과적으로 분리하고, 빌드/배포 파이프라인을 정리하는 데 탁월하다. \n\n특히 **independent versioning 전략**을 활용하면 각 패키지의 변경사항만 추적하여 배포할 수 있어 유틸리티성 모듈 관리에 적합하다.\n\n반면, Verdaccio는 사내 전용 NPM 레지스트리를 손쉽게 구축할 수 있는 도구로, 설정이 단순하며, Docker 기반으로 격리된 레지스트리를 운영할 수 있다. npmjs.org와의 proxy 연결도 가능해, 공용 패키지를 사내 캐싱하는 역할까지 수행할 수 있다.\n\n이 글에서는 단순한 튜토리얼이 아닌, 실제 구축 경험을 바탕으로 **설계 의도, 구조 구성, 보안 전략, 자동화 배포 흐름**까지 기술적으로 깊게 다뤄볼 예정이다.\n\n---\n\n### 기술 선택의 이유\n\n사내 유틸리티 라이브러리의 특성상, 아래와 같은 구조가 필요했다.\n\n- 프로젝트 간 코드 중복 제거 (ex. date formatter, error handler, toast utils 등)\n- 빌드 후 개별 패키지로 publish, 각 프로젝트에서 scoped import로 사용\n- 사내 프라이빗 레지스트리로 퍼블리싱 (Verdaccio)\n- 자동화 배포 스크립트 (Lerna + Git tag 기반 publish)\n\n이를 고려했을 때 `Turborepo`, `Nx` 같은 최신 도구도 고려했지만,\n\n- Nx는 workspace 내 모든 패키지가 동일한 버전 관리 체계를 요구하거나, monolithic CI 구조가 필요한 경우 더 적합하다고 생각\n- Lerna는 더 유연한 버전 전략을 제공하고, 다양한 팀이 패키지를 독립적으로 운영할 수 있게 도와줌\n- Verdaccio는 자체 인증과 스코프 제어를 통한 접근 제어가 가능\n\n그렇기에 Lerna + Verdaccio가 현재 상황에서 가장 합리적인 선택이었다.\n\n\n---\n\n---\n\n---\n\n## Lerna 기반 모노레포 아키텍처 구성\n\n사내 유틸리티 라이브러리는 장기적으로 확장 가능하고 모듈화된 구조여야 했다. \n\n단순히 공통 함수들을 모아두는 수준을 넘어서, 각기 다른 목적의 기능들이 하나의 레포 안에서 독립적으로 유지보수 가능해야 했기 때문이다.\n\n그래서 도입한 구조가 바로 `Lerna` 기반의 모노레포 아키텍처였다.\n\n---\n\n### 모노레포 패키지 구조 설계\n\n모노레포에는 현재 두 개의 주요 패키지가 존재한다.\n\n- `@company/common-library`: 날짜 파싱, 타입 헬퍼, 유효성 검사 등 다양한 프론트엔드 프로젝트에서 재사용되는 범용 유틸리티 모듈\n- `@company/napi`: 내부 시스템과 연동되는 네이티브 API wrapper 혹은 RPC 클라이언트 역할의 모듈\n\n이런 구조를 통해 **도메인 별 패키지 책임을 분리하면서도**, 공통 코드베이스 안에서 통합 관리가 가능하도록 구성했다.\n\n```\npackages/\n├── company-common-library/\n├── company-napi/\n```\n\n패키지들은 모두 `packages/` 디렉토리 하위에 존재하며, 각각 독립적인 `package.json`, 빌드, 테스트 환경을 가진다.\n\n<br/>\n\n### Lerna 설정 (`lerna.json`)과 버전 관리\n\n```json\n{\n  \"version\": \"independent\",\n  \"packages\": [\"packages/*\"],\n  \"npmClient\": \"pnpm\"\n}\n```\n\nLerna는 기본적으로 두 가지 버전 전략을 지원한다\n\n- **fixed 모드** : 모든 패키지가 같은 버전으로 관리됨\n- **independent 모드** : 패키지별로 독립적인 버전 관리\n\n우리는 `independent` 모드를 선택했는데, 이 전략에서는 다음과 같은 방식으로 버전이 관리된다.\n\n- `lerna publish` 실행 시, git 히스토리를 기준으로 각 패키지별 변경 여부를 분석\n- 변경이 감지된 패키지만 대상으로 `patch`, `minor`, `major` 중 하나로 버전 증가\n- 해당 패키지의 `package.json` 버전을 올리고, 태그를 각각 생성\n- 결과적으로 버전은 다음처럼 분기될 수 있다\n\n```json\ncompany-common-library@1.0.0\ncompany-napi@1.0.0\n```\n\n이렇게 하게 되면 변경되지 않은 패키지를 불필요하게 배포하지 않아도 되고, 공통 유틸리티와 도메인별 모듈 간 릴리즈 흐름 분리가 쉬우며, 팀 간 병렬적인 개발/배포가 가능하다.\n\n`independent` 버전 전략에서는 각 패키지가 독립적으로 버전 업되기 때문에, **패키지 간 참조 관계**에 주의가 필요하다.  \n\n예를 들어 `@company/common-library`를 사용하는 `@company/napi`가 있을 경우, common-library가 새로 릴리즈되더라도, napi가 참조하는 버전 범위에 해당하지 않으면 업데이트가 반영되지 않는다.\n\n이를 방지하기 위해서는 다음 두 가지를 고려해볼 수 있다.\n\n--- \n\n#### Version Range 설정 (`^`, `~`, etc.)\n\n보통 `^1.0.0`과 같이 major version 범위 내에서 자동 업데이트를 허용하는 방식이 사용된다.\n이는 common-library가 `1.0.0 → 1.2.3`으로 변경되어도 napi가 자동으로 최신 버전을 참조할 수 있게 한다.\n하지만 `1.0.0 → 2.0.0` 같은 breaking change는 자동으로 반영되지 않도록 막는다.\n\n---\n\n#### CI 테스트와 통합 빌드 검증\n\n버전이 올라간 패키지가 다른 패키지에 영향을 주는 경우, 의존 패키지에서도 함께 테스트해야 한다.\n\nCI 파이프라인에서는 전체 workspace를 대상으로 테스트를 실행하거나, **Lerna의 affected strategy (--since, --scope)를** 활용해 영향받는 패키지만 테스트하는 것도 방법이다.\n\n여기서 Lerna의 affected strategy는 변경된 패키지에 대해서만 작업을 수행하기 위한 전략을 의미한다. `--since` 옵션을 통해 지정된 Git ref 이후 변경된 패키지에만 명령 적용할 수 있고, `--scope` 옵션을 통해 특정 패키지에만 명령을 적용할 수 있다. \n\n<br/>\n\n### pnpm workspace와의 연동\n\n`package.json` 루트에서는 `workspaces` 설정을 통해 pnpm과 Lerna의 패키지 인식 범위를 통일했다.\n\n```json\n\"workspaces\": [\n  \"packages/*\"\n]\n```\n\npnpm은 Lerna와 달리 의존성을 루트에 hoist하지 않고 `.pnpm` 디렉토리에 격리해 설치한다.  \n덕분에 패키지 간 충돌을 방지할 수 있다. 그리고 파일을 여러 위치에 **복사**하지 않고, 하나의 실제 파일을 여러 위치에서 **참조**하게 만드는 방식인 **하드링크 기반 캐싱**을 통해 빌드 속도까지 개선된다.\n\n또한 `root` 패키지를 `file:`로 의존성 선언해 내부 참조 관계를 명시적으로 설정하였다\n\n```json\n\"devDependencies\": {\n  \"root\": \"file:../../\"\n}\n```\n\n<br/>\n\n### 패키지별 빌드 전략과 타입 관리\n\n각 패키지는 vite + tsc 조합으로 빌드된다.\n\n공통 모듈은 vite로 번들링된 ESM을 export하고, 동시에 `dts-bundle-generator`를 사용해 모든 타입 정의를 하나의 .d.ts 파일로 정리한다.\n\n```json\n\"build\": \"del-cli build/**/* && tsc && vite build && dts-bundle-generator ...\"\n```\n\ndts-bundle-generator 이란?\n  - TypeScript로 작성된 라이브러리를 외부에 제공할 때, 여러 개의 .d.ts 파일 대신 하나의 진입점 타입 파일을 생성해주는 도구\n  - 내부적으로 모든 타입 의존성을 분석해 export 기준으로 병합\n  - 타입만 사용하는 외부 라이브러리(zod, type-fest 등)는 inline 방식으로 포함 가능\n  - IDE에서 자동 완성, 타입 추론이 명확해지고, 사용자 입장에서도 import가 간결해지게 한다\n\n<br/>\n\n`exports` 필드는 타입, 브라우저, 기본 엔트리를 명시적으로 구분해 다양한 런타임에서도 타입 추론이 정확히 동작하도록 구성했다\n\n```json\n\"exports\": {\n  \".\": {\n    \"types\": \"./dist/company-common-library.d.ts\", // TypeScript에서 import 시 참조할 타입 선언 파일\n    \"browser\": \"./dist/company-common-library.js\", // 브라우저 번들 환경에서 우선적으로 참조할 모듈\n    \"default\": \"./dist/company-common-library.js\" // 기타 환경(Node.js 등)에서 사용할 기본 모듈\n  }\n}\n```\n\nNode.js 13 이상에서는 exports 필드를 통해 **패키지 외부에서 import 가능한 경로를 명시적으로 제한**할 수 있다. 이는 단순히 entry point를 설정하는 게 아니라, 내부 파일 구조를 외부에 노출하지 않도록 보호하는 기능이기도 하다.\n\n예를 들어 위 설정에서는 아래처럼만 import가 가능하고,\n\n```ts\nimport { formatDate } from '@company/common';\n```\n\n직접 경로 접근은 불가능하다\n\n```ts\n// ❌ ERR_PACKAGE_PATH_NOT_EXPORTED 오류 발생\nimport { formatDate } from '@company/common/utils/format';\n```\n\n\n<br/>\n\n### 테스트와 커버리지 전략\n\n유닛 테스트는 `vitest`로 작성되며, 공통 유틸 함수의 안정성과 리팩토링을 보장하기 위한 커버리지를 기본으로 포함했다.\n\n```json\n\"scripts\": {\n  \"test\": \"vitest\",\n  \"test:coverage\": \"vitest --coverage\"\n}\n```\n\n`__tests__/`와 `__bench__/` 디렉토리는 기능 테스트 외에도 퍼포먼스 비교 테스트를 병행하도록 설계되었다.  \n이는 내부 util 함수들 간 병목 현상 탐지를 위한 구조이며, 런타임 성능 개선을 정량적으로 추적할 수 있게 한다.\n\n\n\n--- \n\n\n## Verdaccio 기반 프라이빗 NPM 레지스트리 구축\n\n앞선 글에서 Lerna 기반의 모노레포 아키텍처를 통해 공통 유틸리티 라이브러리를 패키지 단위로 관리하는 구조를 살펴보았다. \n\n하지만 이를 실제로 배포하고 사용할 수 있으려면 내부 전용 NPM 레지스트리가 필요하다.\n\n<br/>\n\n### 왜 내부 전용이어야 했을까?\n\n우리가 관리하는 유틸리티 패키지에는 비즈니스 로직이 직접 담기지 않더라도, **사내 시스템 구조나 네이밍, 유효성 규칙** 등 외부에 노출되면 민감할 수 있는 내부 도메인 정보가 간접적으로 포함된다. \n\n또한, 사내 환경에 최적화된 설정 및 인터페이스를 포함하고 있기 때문에, 외부 레지스트리(NPM public registry)에서 공개적으로 운영하는 것이 적절하지 않다.\n\n무엇보다도 외부 패키지와의 **네이밍 충돌이나 dependency confusion** 같은 공격 벡터를 차단하기 위해, 스코프가 명확히 정의된 사설 레지스트리를 통해 관리하는 것이 더 안전하고 예측 가능하다.\n\n외부에 공개되지 않고, CI/CD와 연계되며, 접근 제어가 가능한 프라이빗 레지스트리를 구축하는 데 가장 적합한 도구는 바로 **Verdaccio**였다.\n\nVerdaccio는 경량화된 Node.js 기반 NPM registry로, 손쉽게 설치하고 구성할 수 있으며, Docker 환경과도 잘 통합된다.\n\n<br/>\n\n### Docker 기반 레지스트리 인프라 구성\n\n사내 인프라에는 다음과 같은 형태로 `verdaccio` 인스턴스를 구성하였다:\n\n```yaml\n# docker-compose.yml\nversion: '3.7'\n\nservices:\n  verdaccio:\n    image: hub.docker.company.net/verdaccio\n    container_name: verdaccio\n    restart: always\n    environment:\n      - VERDACCIO_PORT=COMPANY_PORT\n    ports:\n      - COMPANY_PORT=PORT\n    volumes:\n      - storage:/verdaccio/storage\n    networks:\n      - verdaccio_bridge\n\nvolumes:\n  storage:\n\nnetworks:\n  verdaccio_bridge:\n    driver: bridge\n```\n\n- `COMPANY_PORT`를 통해 외부 접근을 제공\n- `storage` 볼륨을 분리해 캐시 및 패키지 데이터를 지속성하게 저장\n- `verdaccio_bridge`를 통해 다른 사내 서비스와 연동 가능하도록 네트워크 분리\n\n<br/>\n\n#### 그럼 왜 별도의 네트워크(`verdaccio_bridge`)를 사용할까?\n\nDocker Compose에서 `networks`를 명시적으로 분리한 이유는 **사내 서비스 간 통신 경계를 제어하고 보안을 강화하기 위함**이다.\n\n- `verdaccio`는 단일 독립 서비스가 아니라, CI/CD 서버, 릴리즈 빌더, 테스트 실행기 등 다양한 사내 컨테이너와 상호 작용하게 된다.\n- `verdaccio_bridge`라는 브릿지 네트워크에 연결된 서비스들만 `http://verdaccio:PORT` 형태로 내부 통신이 가능하다.\n- 외부에서의 접근은 오직 공개 포트(COMPANY_PORT)를 통해서만 가능하며, 내부 접근은 명시적으로 네트워크에 연결된 컨테이너로 제한된다.\n\n<br/>\n\n이 구조는 다음과 같은 효과를 제공한다\n\n| 목적 | 효과 |\n|------|------|\n| 내부 통신 제한 | 의도된 컨테이너 간 연결만 허용 (예: CI만 verdaccio에 접근 가능) |\n| 보안 강화 | 외부로부터 직접 접근을 막고, 네트워크 구간을 논리적으로 분리 |\n| 운영 유연성 | 환경별로 독립된 레지스트리 환경 구성 가능 (dev, staging, prod) |\n\n결국 Verdaccio가 포함된 도커 네트워크를 분리함으로써, 단순한 패키지 저장소 이상의 **통제 가능한 사내 배포 허브**로 기능하게 된다.\n\n---\n\n### 설정 파일 구조 및 접근 제어\n\n핵심 설정은 `config.yaml`로 관리된다. 주요 설정 포인트는 다음과 같다\n\n```yaml\nstorage: /verdaccio/storage\nurl_prefix: /npm/\n\nauth:\n  htpasswd:\n    file: /verdaccio/conf/htpasswd\n\npackages:\n  '@company/*':\n    access: $authenticated\n    publish: $authenticated\n\n  '**':\n    access: $all\n    publish: $authenticated\n    proxy: npmjs\n```\n\n#### 주요 포인트\n\n- `@company/*` 스코프 패키지에 대해서는 인증된 사용자만 publish/read 가능하도록 설정\n- `proxy: npmjs` 설정으로, 사내 캐싱 기능과 fallback 지원\n- `url_prefix` 를 `/npm/`으로 설정해 nginx 리버스 프록시 또는 CI 내부에서 명확한 경로 관리 가능\n- 인증은 `htpasswd` 기반으로 구성하며, 사용자 수 제한 및 bcrypt 암호화도 설정 가능\n\n<br/>\n\n#### 인증(htpasswd)은 어떻게 동작할까?\n\nauth.htpasswd 설정은 기본적인 HTTP 인증 기반으로 작동하며, htpasswd 파일은 `사용자명:해시된 패스워드` 형태로 저장된다.\n이때 사용되는 해시는 bcrypt이며, 패스워드 보안성과 저장 구조가 단순한 텍스트 인증보다 훌씬 안전하다.\n\n- 사용자 추가는 CLI 또는 직접 생성 가능\n- publish, install 시 HTTP Authorization 헤더로 인증이 수행됨\n- CI 환경에서는 npm login 또는 NPM_TOKEN으로 자동 처리 가능\n- 사용자 수가 많아질 경우 LDAP, OAuth 등의 외부 인증 연동 플러그인도 존재함\n\n<br/>\n\n#### 프록시(proxy)는 언제 동작하는가?\n\nVerdaccio의 proxy 설정은 해당 패키지가 로컬(storage)에 존재하지 않을 때만 외부 registry로 요청을 전달한다.\n이 기능을 통해 사내에서 외부 패키지를 설치하더라도, 최초 요청 이후에는 로컬 캐시에 저장되므로 성능이 향상된다.\n\n- `proxy: npmjs`는 uplink로 https://registry.npmjs.org를 의미\n- 최초 요청 시 메타정보와 .tgz 파일이 /storage 디렉토리에 캐싱됨\n- 동일 요청은 외부 네트워크 없이 캐시에서 처리됨\n\n---\n\n### 보안을 고려한 운영 전략\n\n프라이빗 레지스트리는 종종 **dependency confusion**과 같은 공격에 노출될 수 있다. 이를 방지하기 위해 다음과 같은 정책을 적용했다\n\n| 설정 항목 | 목적 |\n|----------|------|\n| `proxy` 제거 (특정 스코프에 대해) | 외부 npmjs로 fallback 막기 |\n| `publish` 제한 | 인증된 사용자만 업로드 가능 |\n| `unpublish` 제한 | 과거 버전 삭제 불가하도록 설정 |\n| `middlewares.audit.enabled: true` | 감사 로그 기록 활성화 |\n| Docker 내부 포트 비공개 | 외부 접근은 특정 게이트웨이에서만 허용 |\n\n@company/* 같이 사내 전용 스코프에는 프록시를 명시적으로 비활성화하는 것이 권장되고 있다.\n\n또한 Verdaccio와 proxy 조합에서는 스코프 전략과 외부 fallback 경로를 명확하게 구분하는 것이 중요하다.\n\n<br/>\n\n### 퍼블리시 및 연동 흐름\n\n패키지 publish는 다음과 같은 명령어 흐름으로 구성된다:\n\n```bash\npnpm build\nnpm set registry http://verdaccio.company.net:COMPANY_PORT/npm/\nnpm login\nlerna publish patch --yes\n```\n\n- `lerna publish`는 각 변경된 패키지에 대해 독립적으로 버전 증가 및 배포\n- `registry` 설정을 통해 verdaccio에 publish가 가능하도록 한다\n- CI/CD에서는 `NPM_TOKEN`을 활용해 자동 로그인 처리\n\n---\n\n\nVerdaccio를 통해 빠르고 간편하게 프라이빗 레지스트리를 구축할 수 있었다. 추가로 보안 설정과 proxy 전략을 적절히 조합하여, dependency confusion을 효과적으로 방지할 수 있었다.\n\n향후에는 OAuth 기반 인증, Web UI 비활성화, nginx 리버스 프록시 연동 등으로 보안 강화를 고민해봐도 좋을것 같다.\n\n\n---\n\n## semantic-release 도입 배경\n\n\n앞선 챕터에서는 `Lerna` 기반 모노레포와 `Verdaccio` 프라이빗 레지스트리 인프라 구성을 다루었다. 이제 이 구조가 실질적으로 작동하기 위해서는 **버전 관리 및 배포 흐름의 자동화**가 필요하다.\n\n\n특히 사내 라이브러리의 특성상 배포가 자주 발생하고, 사람이 직접 `lerna publish`에 버전 인자를 입력해 버전 번호를 관리하는 것은 실수의 여지가 크다. 또한 변경 없는 패키지까지 함께 publish 되는 경우 발생하기도 하고, 버전 증가 정책이 일관되지 않음으로써 버전 관리가 어려운 상황이 발생하기도한다.\n\n그래서 semantic-release(플러그인 기반의 릴리즈 파이프라인)를 활용해 커밋 메시지를 기반으로 자동으로 버전이 관리되도록 구성했다.\n\nsemantic-release는 각 단계가 plugin으로 구성되며, release process의 각 역할(버전 계산, changelog 생성, git 태그, publish 등)을 분리된 모듈로 처리하는 특징을 가진다.\n\n기본 실행 흐름은 다음과 같다\n\n**commit-analyzer** => **release-notes-generator** => **npm** => **git** =>  github, slack, etc… (Optional)\n\n---\n\n### CI에서 semantic-release 자동 실행\n\nsemantic-release는 보통 GitHub Action 또는 GitLab CI와 함께 사용되지만, 우리는 사내 인프라를 위해 Bitbucket Pipelines를 기반으로 구성하였다.\n\n아래 예시와 같이 pipeline을 구성했다\n\n```yaml\npipelines:\n  branches:\n    main:\n      - step:\n          name: release\n          caches:\n            - node\n          script:\n            - pnpm install\n            - pnpm build\n            - pnpm semantic-release\n```\n\n- main 브랜치에 머지되면 자동으로 `semantic-release`가 실행되고\n- 커밋 메시지에 따라 버전이 증가하며, git tag가 생성되고\n- 지정된 레지스트리 (Verdaccio)로 패키지가 publish된다\n\n---\n\n### Lerna와의 통합\n\nLerna 8 버전 이후에는 자체적인 conventional commits 기반 릴리즈 지원이 강화되었으나, 우리 구성에서는 `semantic-release` 단독 사용이 아닌, 다음과 같은 역할 분담 구조를 가졌다\n\n- Lerna → 모노레포 패키지 실행 관리, build 스크립트 일괄 실행\n- semantic-release → 버전 계산 및 git tag, changelog 생성\n- pnpm → workspace 및 의존성 관리\n\n이 구조로 인해 각자의 역할이 명확하게 나뉘며, 중복 설정 없이 유지보수가 용이해졌다.\n\n---\n\nsemantic-release를 통해 다음과 같은 효과를 얻을 수 있었다\n\n- 사람이 직접 버전 관리를 하지 않아도 되어 실수 방지\n- 릴리즈 로그, git tag, changelog 자동 생성으로 배포 이력 관리 용이\n- CI 환경에서 자동 publish 흐름 구성 → 완전한 GitOps 실현\n\n이는 특히 사내 공통 라이브러리처럼 빠르게 변화하고, 여러 프로젝트에서 재사용되는 컴포넌트를 관리할 때 큰 장점을 가진다.\n\n---\n\n\n\n## Scoped 패키지란?\n\nScoped 패키지는 `@scope/name` 형태의 네이밍을 가진 NPM 패키지다.\n\n```bash\n@company/company-common-library\n@company/company-napi\n```\n\n이를 통해 다음과 같은 효과를 얻을 수 있다:\n\n- **패키지 네이밍의 네임스페이스화** → 사내 도메인 명확화\n- **프라이빗 레지스트리 내 권한 제어** (config.yaml에서 `@company/*` 스코프 제한)\n- **모듈 간 관계 파악 용이** → 범용 vs 도메인 특화 모듈 구분\n\nVerdaccio의 설정에서도 `@company/*` 에 대해 별도의 접근 및 publish 정책을 구성할 수 있어 보안/정책 관리에 적합하다.\n\n---\n\n### 서비스 프로젝트에서 설치 및 사용\n\n패키지를 사용하려는 서비스 프로젝트에서는 다음과 같이 설정한다\n\n#### `.npmrc` 구성\n\n```bash\n@company:registry=http://verdaccio.company.net:COMPANY_PORT/npm/\n//verdaccio.company.net:COMPANY_PORT/npm/:_authToken=xxxxx\n```\n\n- 특정 스코프(`@company`)만 내부 레지스트리로 리다이렉트\n- 나머지는 public npm registry를 그대로 사용\n\n이를 통해 내부 패키지는 Verdaccio에서, 외부 라이브러리는 기존 npm에서 가져오도록 이원화된 설정이 가능하다.\n\n<br/>\n\n#### 설치\n\n라이브러리는 비공개이기떄문에, 설치 예시만 보여주겠다.\n\n```bash\npnpm install @company/company-common-library\n```\n\n---\n\n### import 방식\n\nscoped 패키지로 배포된 유틸리티는 다음과 같이 프로젝트 내에서 import 가능하다:\n\n```ts\nimport { formatDate, safeParse } from '@company/company-common-library/utils/date';\nimport { buildQueryString } from '@company/company-common-library/utils/url';\n```\n\n- 경량 ESM 번들로 export되기 때문에 트리 쉐이킹에 최적화\n- 타입 정의도 함께 제공되므로 TS 프로젝트에서 타입 추론이 즉시 가능\n- IDE 자동완성 및 문서화에서 큰 이점\n\n---\n\n### 호환성과 배포 주기 전략\n\n공통 유틸리티의 경우 **주기적인 배포보다는 필요 기반의 배포 전략**을 채택했다.  \nsemantic-release가 자동으로 버전을 관리해주기 때문에, 사용처에서는 아래 전략을 따라간다\n\n- patch 업데이트는 바로 반영\n- minor 이상 업데이트는 PR에 release note 링크 포함 후 수동 반영\n- major 업데이트는 코드베이스 검토 및 팀 공유 후 채택\n\n또한 scoped 패키지는 **사내 Monorepo가 아닌 외부 레포**에서도 문제 없이 사용할 수 있다는 점이 큰 장점이다.\n\n---\n\n\n## 결론\n이번 유틸리티 라이브러리 구축 프로젝트는 단순히 패키지를 나누고 배포하는 수준을 넘어, 사내 개발 생산성, 코드 품질, 협업 효율성을 구조적으로 끌어올리기 위한 인프라 작업이었다.\n\n--- \n\n![2.png](/content/250404/2.png)\n\n--- \n\n✅ 도입을 통해 얻게 된 주요 장점\n\n- semantic-release를 통해 사람이 직접 버전 숫자를 관리하지 않아도 됨\n- Lerna + pnpm을 통해 패키지를 독립적으로 유지보수 가능\n- Verdaccio + scoped registry를 통해 외부 노출 없이 안전하게 운영\n- 단일 install로 사용 가능하며 타입 정의 및 import 구조까지 통일\n- publish → install → 반영까지 모든 흐름이 자동화되어 안정적\n\n가장 큰 장점은 **유지보수가 쉬운 아키텍처가 되었다**는 점이다. \n\n사람에 의존한 규칙이 아니라, 구조와 도구 자체가 품질과 일관성을 유지해주기 때문이다.\n\n**이러한 인프라가 갖춰졌을 때, 개발자는 더 이상 공통 로직을 복사하거나 컨벤션을 따로 전달하지 않아도 된다. 이제는 그냥 install 하면 되고, 자동으로 type도 따라온다.**\n\n--- \n\n## 앞으로의 개선 포인트\n- 전환 고려 여러 패키지에 영향을 주는 경우에는 Changesets의 PR 단위 버전 제안이 더 유리할 수도 있다고 생각해, semantic-release → Changesets 전환도 고려해볼 것 같다.\n\n- Verdaccio 인증 방식 개선 : 현재는 htpasswd 기반이지만, 사내 SSO 또는 OAuth2 연동 등 중앙 인증과 통합 가능성 검토..\n\n- 컴포넌트 단위 모듈 분리 : 현재는 유틸리티 중심이지만, 디자인 시스템이나 React 컴포넌트도 동일한 방식으로 확장 가능\n\n- 릴리즈 노트 시각화 자동화 : Slack 연동 및 Github Actions 기반 release summary 자동 게시 등 운영 효율화를 추가 검토 중.. (공수가 너무 크다)\n\n--- \n\n인프라는 결국 **개발 문화와 협업 체계의 중심**을 구성하는 것이다.\n\n처음엔 번거롭고 복잡해 보이지만, 한 번 체계를 만들어두면 이후의 유지 비용은 급격히 줄어든다.\n\n힘든 일 뒤에 보람이 온다고 했던가. 지금 와서 돌아보면, 꽤 괜찮은 경험이었다.\n\n--- \n\n![1.jpg](/content/250404/1.jpg)\n\n\n---\n\n\n```toc\n\n```",
      "html": "<p>회사 내에서 프론트엔드 공통 유틸리티 모듈을 통합 관리하는 작업을 맡으면서, 다음과 같은 요구사항이 생겼다.</p>\n<ul>\n<li>여러 레포지토리에 중복된 로직을 하나로 추출해 관리하고 싶다.</li>\n<li>패키지 단위로 분리해 모노레포 형태로 운영하되, 유연한 버전 관리가 필요하다.</li>\n<li>외부 공개 없이 사내에서만 배포 및 사용 가능한 NPM 패키지 레지스트리를 갖추고 싶다.</li>\n<li>CI/CD 파이프라인에서도 안전하고 빠르게 배포되도록 자동화를 고려해야 한다.</li>\n</ul>\n<p>이 문제를 해결하기 위해 선택한 조합이 바로 <code>Lerna</code>와 <code>Verdaccio</code>다.</p>\n<p>Lerna는 모노레포에서 패키지를 효과적으로 분리하고, 빌드/배포 파이프라인을 정리하는 데 탁월하다.</p>\n<p>특히 <strong>independent versioning 전략</strong>을 활용하면 각 패키지의 변경사항만 추적하여 배포할 수 있어 유틸리티성 모듈 관리에 적합하다.</p>\n<p>반면, Verdaccio는 사내 전용 NPM 레지스트리를 손쉽게 구축할 수 있는 도구로, 설정이 단순하며, Docker 기반으로 격리된 레지스트리를 운영할 수 있다. npmjs.org와의 proxy 연결도 가능해, 공용 패키지를 사내 캐싱하는 역할까지 수행할 수 있다.</p>\n<p>이 글에서는 단순한 튜토리얼이 아닌, 실제 구축 경험을 바탕으로 <strong>설계 의도, 구조 구성, 보안 전략, 자동화 배포 흐름</strong>까지 기술적으로 깊게 다뤄볼 예정이다.</p>\n<hr>\n<h3 id=\"기술-선택의-이유\"><a class=\"anchor\" href=\"#기술-선택의-이유\">기술 선택의 이유</a></h3>\n<p>사내 유틸리티 라이브러리의 특성상, 아래와 같은 구조가 필요했다.</p>\n<ul>\n<li>프로젝트 간 코드 중복 제거 (ex. date formatter, error handler, toast utils 등)</li>\n<li>빌드 후 개별 패키지로 publish, 각 프로젝트에서 scoped import로 사용</li>\n<li>사내 프라이빗 레지스트리로 퍼블리싱 (Verdaccio)</li>\n<li>자동화 배포 스크립트 (Lerna + Git tag 기반 publish)</li>\n</ul>\n<p>이를 고려했을 때 <code>Turborepo</code>, <code>Nx</code> 같은 최신 도구도 고려했지만,</p>\n<ul>\n<li>Nx는 workspace 내 모든 패키지가 동일한 버전 관리 체계를 요구하거나, monolithic CI 구조가 필요한 경우 더 적합하다고 생각</li>\n<li>Lerna는 더 유연한 버전 전략을 제공하고, 다양한 팀이 패키지를 독립적으로 운영할 수 있게 도와줌</li>\n<li>Verdaccio는 자체 인증과 스코프 제어를 통한 접근 제어가 가능</li>\n</ul>\n<p>그렇기에 Lerna + Verdaccio가 현재 상황에서 가장 합리적인 선택이었다.</p>\n<hr>\n<hr>\n<hr>\n<h2 id=\"lerna-기반-모노레포-아키텍처-구성\"><a class=\"anchor\" href=\"#lerna-기반-모노레포-아키텍처-구성\">Lerna 기반 모노레포 아키텍처 구성</a></h2>\n<p>사내 유틸리티 라이브러리는 장기적으로 확장 가능하고 모듈화된 구조여야 했다.</p>\n<p>단순히 공통 함수들을 모아두는 수준을 넘어서, 각기 다른 목적의 기능들이 하나의 레포 안에서 독립적으로 유지보수 가능해야 했기 때문이다.</p>\n<p>그래서 도입한 구조가 바로 <code>Lerna</code> 기반의 모노레포 아키텍처였다.</p>\n<hr>\n<h3 id=\"모노레포-패키지-구조-설계\"><a class=\"anchor\" href=\"#모노레포-패키지-구조-설계\">모노레포 패키지 구조 설계</a></h3>\n<p>모노레포에는 현재 두 개의 주요 패키지가 존재한다.</p>\n<ul>\n<li><code>@company/common-library</code>: 날짜 파싱, 타입 헬퍼, 유효성 검사 등 다양한 프론트엔드 프로젝트에서 재사용되는 범용 유틸리티 모듈</li>\n<li><code>@company/napi</code>: 내부 시스템과 연동되는 네이티브 API wrapper 혹은 RPC 클라이언트 역할의 모듈</li>\n</ul>\n<p>이런 구조를 통해 <strong>도메인 별 패키지 책임을 분리하면서도</strong>, 공통 코드베이스 안에서 통합 관리가 가능하도록 구성했다.</p>\n<pre><code>packages/\n├── company-common-library/\n├── company-napi/\n</code></pre>\n<p>패키지들은 모두 <code>packages/</code> 디렉토리 하위에 존재하며, 각각 독립적인 <code>package.json</code>, 빌드, 테스트 환경을 가진다.</p>\n<h3 id=\"lerna-설정-lernajson과-버전-관리\"><a class=\"anchor\" href=\"#lerna-설정-lernajson과-버전-관리\">Lerna 설정 (<code>lerna.json</code>)과 버전 관리</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"version\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"independent\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"packages\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"packages/*\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">],</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"npmClient\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"pnpm\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>Lerna는 기본적으로 두 가지 버전 전략을 지원한다</p>\n<ul>\n<li><strong>fixed 모드</strong> : 모든 패키지가 같은 버전으로 관리됨</li>\n<li><strong>independent 모드</strong> : 패키지별로 독립적인 버전 관리</li>\n</ul>\n<p>우리는 <code>independent</code> 모드를 선택했는데, 이 전략에서는 다음과 같은 방식으로 버전이 관리된다.</p>\n<ul>\n<li><code>lerna publish</code> 실행 시, git 히스토리를 기준으로 각 패키지별 변경 여부를 분석</li>\n<li>변경이 감지된 패키지만 대상으로 <code>patch</code>, <code>minor</code>, <code>major</code> 중 하나로 버전 증가</li>\n<li>해당 패키지의 <code>package.json</code> 버전을 올리고, 태그를 각각 생성</li>\n<li>결과적으로 버전은 다음처럼 분기될 수 있다</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">company-common-library@</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1.0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">company-napi@</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1.0</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">0</span></span></code></pre></figure>\n<p>이렇게 하게 되면 변경되지 않은 패키지를 불필요하게 배포하지 않아도 되고, 공통 유틸리티와 도메인별 모듈 간 릴리즈 흐름 분리가 쉬우며, 팀 간 병렬적인 개발/배포가 가능하다.</p>\n<p><code>independent</code> 버전 전략에서는 각 패키지가 독립적으로 버전 업되기 때문에, <strong>패키지 간 참조 관계</strong>에 주의가 필요하다.</p>\n<p>예를 들어 <code>@company/common-library</code>를 사용하는 <code>@company/napi</code>가 있을 경우, common-library가 새로 릴리즈되더라도, napi가 참조하는 버전 범위에 해당하지 않으면 업데이트가 반영되지 않는다.</p>\n<p>이를 방지하기 위해서는 다음 두 가지를 고려해볼 수 있다.</p>\n<hr>\n<h4 id=\"version-range-설정---etc\"><a class=\"anchor\" href=\"#version-range-설정---etc\">Version Range 설정 (<code>^</code>, <code>~</code>, etc.)</a></h4>\n<p>보통 <code>^1.0.0</code>과 같이 major version 범위 내에서 자동 업데이트를 허용하는 방식이 사용된다.\n이는 common-library가 <code>1.0.0 → 1.2.3</code>으로 변경되어도 napi가 자동으로 최신 버전을 참조할 수 있게 한다.\n하지만 <code>1.0.0 → 2.0.0</code> 같은 breaking change는 자동으로 반영되지 않도록 막는다.</p>\n<hr>\n<h4 id=\"ci-테스트와-통합-빌드-검증\"><a class=\"anchor\" href=\"#ci-테스트와-통합-빌드-검증\">CI 테스트와 통합 빌드 검증</a></h4>\n<p>버전이 올라간 패키지가 다른 패키지에 영향을 주는 경우, 의존 패키지에서도 함께 테스트해야 한다.</p>\n<p>CI 파이프라인에서는 전체 workspace를 대상으로 테스트를 실행하거나, <strong>Lerna의 affected strategy (--since, --scope)를</strong> 활용해 영향받는 패키지만 테스트하는 것도 방법이다.</p>\n<p>여기서 Lerna의 affected strategy는 변경된 패키지에 대해서만 작업을 수행하기 위한 전략을 의미한다. <code>--since</code> 옵션을 통해 지정된 Git ref 이후 변경된 패키지에만 명령 적용할 수 있고, <code>--scope</code> 옵션을 통해 특정 패키지에만 명령을 적용할 수 있다.</p>\n<h3 id=\"pnpm-workspace와의-연동\"><a class=\"anchor\" href=\"#pnpm-workspace와의-연동\">pnpm workspace와의 연동</a></h3>\n<p><code>package.json</code> 루트에서는 <code>workspaces</code> 설정을 통해 pnpm과 Lerna의 패키지 인식 범위를 통일했다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"workspaces\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: [</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">  \"packages/*\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span></span></code></pre></figure>\n<p>pnpm은 Lerna와 달리 의존성을 루트에 hoist하지 않고 <code>.pnpm</code> 디렉토리에 격리해 설치한다.<br>\n덕분에 패키지 간 충돌을 방지할 수 있다. 그리고 파일을 여러 위치에 <strong>복사</strong>하지 않고, 하나의 실제 파일을 여러 위치에서 <strong>참조</strong>하게 만드는 방식인 <strong>하드링크 기반 캐싱</strong>을 통해 빌드 속도까지 개선된다.</p>\n<p>또한 <code>root</code> 패키지를 <code>file:</code>로 의존성 선언해 내부 참조 관계를 명시적으로 설정하였다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"devDependencies\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"root\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"file:../../\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<h3 id=\"패키지별-빌드-전략과-타입-관리\"><a class=\"anchor\" href=\"#패키지별-빌드-전략과-타입-관리\">패키지별 빌드 전략과 타입 관리</a></h3>\n<p>각 패키지는 vite + tsc 조합으로 빌드된다.</p>\n<p>공통 모듈은 vite로 번들링된 ESM을 export하고, 동시에 <code>dts-bundle-generator</code>를 사용해 모든 타입 정의를 하나의 .d.ts 파일로 정리한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"build\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"del-cli build/**/* &#x26;&#x26; tsc &#x26;&#x26; vite build &#x26;&#x26; dts-bundle-generator ...\"</span></span></code></pre></figure>\n<p>dts-bundle-generator 이란?</p>\n<ul>\n<li>TypeScript로 작성된 라이브러리를 외부에 제공할 때, 여러 개의 .d.ts 파일 대신 하나의 진입점 타입 파일을 생성해주는 도구</li>\n<li>내부적으로 모든 타입 의존성을 분석해 export 기준으로 병합</li>\n<li>타입만 사용하는 외부 라이브러리(zod, type-fest 등)는 inline 방식으로 포함 가능</li>\n<li>IDE에서 자동 완성, 타입 추론이 명확해지고, 사용자 입장에서도 import가 간결해지게 한다</li>\n</ul>\n<p><code>exports</code> 필드는 타입, 브라우저, 기본 엔트리를 명시적으로 구분해 다양한 런타임에서도 타입 추론이 정확히 동작하도록 구성했다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"exports\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \".\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"types\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"./dist/company-common-library.d.ts\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// TypeScript에서 import 시 참조할 타입 선언 파일</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"browser\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"./dist/company-common-library.js\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 브라우저 번들 환경에서 우선적으로 참조할 모듈</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">    \"default\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"./dist/company-common-library.js\"</span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\"> // 기타 환경(Node.js 등)에서 사용할 기본 모듈</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>Node.js 13 이상에서는 exports 필드를 통해 <strong>패키지 외부에서 import 가능한 경로를 명시적으로 제한</strong>할 수 있다. 이는 단순히 entry point를 설정하는 게 아니라, 내부 파일 구조를 외부에 노출하지 않도록 보호하는 기능이기도 하다.</p>\n<p>예를 들어 위 설정에서는 아래처럼만 import가 가능하고,</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { formatDate } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '@company/common'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span></code></pre></figure>\n<p>직접 경로 접근은 불가능하다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// ❌ ERR_PACKAGE_PATH_NOT_EXPORTED 오류 발생</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { formatDate } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '@company/common/utils/format'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span></code></pre></figure>\n<h3 id=\"테스트와-커버리지-전략\"><a class=\"anchor\" href=\"#테스트와-커버리지-전략\">테스트와 커버리지 전략</a></h3>\n<p>유닛 테스트는 <code>vitest</code>로 작성되며, 공통 유틸 함수의 안정성과 리팩토링을 보장하기 위한 커버리지를 기본으로 포함했다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"json\" data-theme=\"github-dark github-light\"><code data-language=\"json\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"scripts\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"test\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"vitest\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  \"test:coverage\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"vitest --coverage\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p><code>__tests__/</code>와 <code>__bench__/</code> 디렉토리는 기능 테스트 외에도 퍼포먼스 비교 테스트를 병행하도록 설계되었다.<br>\n이는 내부 util 함수들 간 병목 현상 탐지를 위한 구조이며, 런타임 성능 개선을 정량적으로 추적할 수 있게 한다.</p>\n<hr>\n<h2 id=\"verdaccio-기반-프라이빗-npm-레지스트리-구축\"><a class=\"anchor\" href=\"#verdaccio-기반-프라이빗-npm-레지스트리-구축\">Verdaccio 기반 프라이빗 NPM 레지스트리 구축</a></h2>\n<p>앞선 글에서 Lerna 기반의 모노레포 아키텍처를 통해 공통 유틸리티 라이브러리를 패키지 단위로 관리하는 구조를 살펴보았다.</p>\n<p>하지만 이를 실제로 배포하고 사용할 수 있으려면 내부 전용 NPM 레지스트리가 필요하다.</p>\n<h3 id=\"왜-내부-전용이어야-했을까\"><a class=\"anchor\" href=\"#왜-내부-전용이어야-했을까\">왜 내부 전용이어야 했을까?</a></h3>\n<p>우리가 관리하는 유틸리티 패키지에는 비즈니스 로직이 직접 담기지 않더라도, <strong>사내 시스템 구조나 네이밍, 유효성 규칙</strong> 등 외부에 노출되면 민감할 수 있는 내부 도메인 정보가 간접적으로 포함된다.</p>\n<p>또한, 사내 환경에 최적화된 설정 및 인터페이스를 포함하고 있기 때문에, 외부 레지스트리(NPM public registry)에서 공개적으로 운영하는 것이 적절하지 않다.</p>\n<p>무엇보다도 외부 패키지와의 <strong>네이밍 충돌이나 dependency confusion</strong> 같은 공격 벡터를 차단하기 위해, 스코프가 명확히 정의된 사설 레지스트리를 통해 관리하는 것이 더 안전하고 예측 가능하다.</p>\n<p>외부에 공개되지 않고, CI/CD와 연계되며, 접근 제어가 가능한 프라이빗 레지스트리를 구축하는 데 가장 적합한 도구는 바로 <strong>Verdaccio</strong>였다.</p>\n<p>Verdaccio는 경량화된 Node.js 기반 NPM registry로, 손쉽게 설치하고 구성할 수 있으며, Docker 환경과도 잘 통합된다.</p>\n<h3 id=\"docker-기반-레지스트리-인프라-구성\"><a class=\"anchor\" href=\"#docker-기반-레지스트리-인프라-구성\">Docker 기반 레지스트리 인프라 구성</a></h3>\n<p>사내 인프라에는 다음과 같은 형태로 <code>verdaccio</code> 인스턴스를 구성하였다:</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"yaml\" data-theme=\"github-dark github-light\"><code data-language=\"yaml\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\"># docker-compose.yml</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">version</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'3.7'</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">services</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">  verdaccio</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    image</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">hub.docker.company.net/verdaccio</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    container_name</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">verdaccio</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    restart</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">always</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    environment</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      - </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">VERDACCIO_PORT=COMPANY_PORT</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    ports</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      - </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">COMPANY_PORT=PORT</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    volumes</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      - </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">storage:/verdaccio/storage</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    networks</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      - </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">verdaccio_bridge</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">volumes</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">  storage</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">networks</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">  verdaccio_bridge</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    driver</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">bridge</span></span></code></pre></figure>\n<ul>\n<li><code>COMPANY_PORT</code>를 통해 외부 접근을 제공</li>\n<li><code>storage</code> 볼륨을 분리해 캐시 및 패키지 데이터를 지속성하게 저장</li>\n<li><code>verdaccio_bridge</code>를 통해 다른 사내 서비스와 연동 가능하도록 네트워크 분리</li>\n</ul>\n<h4 id=\"그럼-왜-별도의-네트워크verdaccio_bridge를-사용할까\"><a class=\"anchor\" href=\"#그럼-왜-별도의-네트워크verdaccio_bridge를-사용할까\">그럼 왜 별도의 네트워크(<code>verdaccio_bridge</code>)를 사용할까?</a></h4>\n<p>Docker Compose에서 <code>networks</code>를 명시적으로 분리한 이유는 <strong>사내 서비스 간 통신 경계를 제어하고 보안을 강화하기 위함</strong>이다.</p>\n<ul>\n<li><code>verdaccio</code>는 단일 독립 서비스가 아니라, CI/CD 서버, 릴리즈 빌더, 테스트 실행기 등 다양한 사내 컨테이너와 상호 작용하게 된다.</li>\n<li><code>verdaccio_bridge</code>라는 브릿지 네트워크에 연결된 서비스들만 <code>http://verdaccio:PORT</code> 형태로 내부 통신이 가능하다.</li>\n<li>외부에서의 접근은 오직 공개 포트(COMPANY_PORT)를 통해서만 가능하며, 내부 접근은 명시적으로 네트워크에 연결된 컨테이너로 제한된다.</li>\n</ul>\n<p>이 구조는 다음과 같은 효과를 제공한다</p>\n<p>| 목적 | 효과 |\n|------|------|\n| 내부 통신 제한 | 의도된 컨테이너 간 연결만 허용 (예: CI만 verdaccio에 접근 가능) |\n| 보안 강화 | 외부로부터 직접 접근을 막고, 네트워크 구간을 논리적으로 분리 |\n| 운영 유연성 | 환경별로 독립된 레지스트리 환경 구성 가능 (dev, staging, prod) |</p>\n<p>결국 Verdaccio가 포함된 도커 네트워크를 분리함으로써, 단순한 패키지 저장소 이상의 <strong>통제 가능한 사내 배포 허브</strong>로 기능하게 된다.</p>\n<hr>\n<h3 id=\"설정-파일-구조-및-접근-제어\"><a class=\"anchor\" href=\"#설정-파일-구조-및-접근-제어\">설정 파일 구조 및 접근 제어</a></h3>\n<p>핵심 설정은 <code>config.yaml</code>로 관리된다. 주요 설정 포인트는 다음과 같다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"yaml\" data-theme=\"github-dark github-light\"><code data-language=\"yaml\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">storage</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">/verdaccio/storage</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">url_prefix</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">/npm/</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">auth</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">  htpasswd</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    file</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">/verdaccio/conf/htpasswd</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">packages</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">  '@company/*'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    access</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">$authenticated</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    publish</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">$authenticated</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">  '**'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    access</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">$all</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    publish</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">$authenticated</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    proxy</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">npmjs</span></span></code></pre></figure>\n<h4 id=\"주요-포인트\"><a class=\"anchor\" href=\"#주요-포인트\">주요 포인트</a></h4>\n<ul>\n<li><code>@company/*</code> 스코프 패키지에 대해서는 인증된 사용자만 publish/read 가능하도록 설정</li>\n<li><code>proxy: npmjs</code> 설정으로, 사내 캐싱 기능과 fallback 지원</li>\n<li><code>url_prefix</code> 를 <code>/npm/</code>으로 설정해 nginx 리버스 프록시 또는 CI 내부에서 명확한 경로 관리 가능</li>\n<li>인증은 <code>htpasswd</code> 기반으로 구성하며, 사용자 수 제한 및 bcrypt 암호화도 설정 가능</li>\n</ul>\n<h4 id=\"인증htpasswd은-어떻게-동작할까\"><a class=\"anchor\" href=\"#인증htpasswd은-어떻게-동작할까\">인증(htpasswd)은 어떻게 동작할까?</a></h4>\n<p>auth.htpasswd 설정은 기본적인 HTTP 인증 기반으로 작동하며, htpasswd 파일은 <code>사용자명:해시된 패스워드</code> 형태로 저장된다.\n이때 사용되는 해시는 bcrypt이며, 패스워드 보안성과 저장 구조가 단순한 텍스트 인증보다 훌씬 안전하다.</p>\n<ul>\n<li>사용자 추가는 CLI 또는 직접 생성 가능</li>\n<li>publish, install 시 HTTP Authorization 헤더로 인증이 수행됨</li>\n<li>CI 환경에서는 npm login 또는 NPM_TOKEN으로 자동 처리 가능</li>\n<li>사용자 수가 많아질 경우 LDAP, OAuth 등의 외부 인증 연동 플러그인도 존재함</li>\n</ul>\n<h4 id=\"프록시proxy는-언제-동작하는가\"><a class=\"anchor\" href=\"#프록시proxy는-언제-동작하는가\">프록시(proxy)는 언제 동작하는가?</a></h4>\n<p>Verdaccio의 proxy 설정은 해당 패키지가 로컬(storage)에 존재하지 않을 때만 외부 registry로 요청을 전달한다.\n이 기능을 통해 사내에서 외부 패키지를 설치하더라도, 최초 요청 이후에는 로컬 캐시에 저장되므로 성능이 향상된다.</p>\n<ul>\n<li><code>proxy: npmjs</code>는 uplink로 https://registry.npmjs.org를 의미</li>\n<li>최초 요청 시 메타정보와 .tgz 파일이 /storage 디렉토리에 캐싱됨</li>\n<li>동일 요청은 외부 네트워크 없이 캐시에서 처리됨</li>\n</ul>\n<hr>\n<h3 id=\"보안을-고려한-운영-전략\"><a class=\"anchor\" href=\"#보안을-고려한-운영-전략\">보안을 고려한 운영 전략</a></h3>\n<p>프라이빗 레지스트리는 종종 <strong>dependency confusion</strong>과 같은 공격에 노출될 수 있다. 이를 방지하기 위해 다음과 같은 정책을 적용했다</p>\n<p>| 설정 항목 | 목적 |\n|----------|------|\n| <code>proxy</code> 제거 (특정 스코프에 대해) | 외부 npmjs로 fallback 막기 |\n| <code>publish</code> 제한 | 인증된 사용자만 업로드 가능 |\n| <code>unpublish</code> 제한 | 과거 버전 삭제 불가하도록 설정 |\n| <code>middlewares.audit.enabled: true</code> | 감사 로그 기록 활성화 |\n| Docker 내부 포트 비공개 | 외부 접근은 특정 게이트웨이에서만 허용 |</p>\n<p>@company/* 같이 사내 전용 스코프에는 프록시를 명시적으로 비활성화하는 것이 권장되고 있다.</p>\n<p>또한 Verdaccio와 proxy 조합에서는 스코프 전략과 외부 fallback 경로를 명확하게 구분하는 것이 중요하다.</p>\n<h3 id=\"퍼블리시-및-연동-흐름\"><a class=\"anchor\" href=\"#퍼블리시-및-연동-흐름\">퍼블리시 및 연동 흐름</a></h3>\n<p>패키지 publish는 다음과 같은 명령어 흐름으로 구성된다:</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"bash\" data-theme=\"github-dark github-light\"><code data-language=\"bash\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">pnpm</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> build</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">npm</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> set</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> registry</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> http://verdaccio.company.net:COMPANY_PORT/npm/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">npm</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> login</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">lerna</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> publish</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> patch</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> --yes</span></span></code></pre></figure>\n<ul>\n<li><code>lerna publish</code>는 각 변경된 패키지에 대해 독립적으로 버전 증가 및 배포</li>\n<li><code>registry</code> 설정을 통해 verdaccio에 publish가 가능하도록 한다</li>\n<li>CI/CD에서는 <code>NPM_TOKEN</code>을 활용해 자동 로그인 처리</li>\n</ul>\n<hr>\n<p>Verdaccio를 통해 빠르고 간편하게 프라이빗 레지스트리를 구축할 수 있었다. 추가로 보안 설정과 proxy 전략을 적절히 조합하여, dependency confusion을 효과적으로 방지할 수 있었다.</p>\n<p>향후에는 OAuth 기반 인증, Web UI 비활성화, nginx 리버스 프록시 연동 등으로 보안 강화를 고민해봐도 좋을것 같다.</p>\n<hr>\n<h2 id=\"semantic-release-도입-배경\"><a class=\"anchor\" href=\"#semantic-release-도입-배경\">semantic-release 도입 배경</a></h2>\n<p>앞선 챕터에서는 <code>Lerna</code> 기반 모노레포와 <code>Verdaccio</code> 프라이빗 레지스트리 인프라 구성을 다루었다. 이제 이 구조가 실질적으로 작동하기 위해서는 <strong>버전 관리 및 배포 흐름의 자동화</strong>가 필요하다.</p>\n<p>특히 사내 라이브러리의 특성상 배포가 자주 발생하고, 사람이 직접 <code>lerna publish</code>에 버전 인자를 입력해 버전 번호를 관리하는 것은 실수의 여지가 크다. 또한 변경 없는 패키지까지 함께 publish 되는 경우 발생하기도 하고, 버전 증가 정책이 일관되지 않음으로써 버전 관리가 어려운 상황이 발생하기도한다.</p>\n<p>그래서 semantic-release(플러그인 기반의 릴리즈 파이프라인)를 활용해 커밋 메시지를 기반으로 자동으로 버전이 관리되도록 구성했다.</p>\n<p>semantic-release는 각 단계가 plugin으로 구성되며, release process의 각 역할(버전 계산, changelog 생성, git 태그, publish 등)을 분리된 모듈로 처리하는 특징을 가진다.</p>\n<p>기본 실행 흐름은 다음과 같다</p>\n<p><strong>commit-analyzer</strong> => <strong>release-notes-generator</strong> => <strong>npm</strong> => <strong>git</strong> =>  github, slack, etc… (Optional)</p>\n<hr>\n<h3 id=\"ci에서-semantic-release-자동-실행\"><a class=\"anchor\" href=\"#ci에서-semantic-release-자동-실행\">CI에서 semantic-release 자동 실행</a></h3>\n<p>semantic-release는 보통 GitHub Action 또는 GitLab CI와 함께 사용되지만, 우리는 사내 인프라를 위해 Bitbucket Pipelines를 기반으로 구성하였다.</p>\n<p>아래 예시와 같이 pipeline을 구성했다</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"yaml\" data-theme=\"github-dark github-light\"><code data-language=\"yaml\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">pipelines</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">  branches</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">    main</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      - </span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">step</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">          name</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">release</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">          caches</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">            - </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">node</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">          script</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">:</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">            - </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">pnpm install</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">            - </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">pnpm build</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">            - </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">pnpm semantic-release</span></span></code></pre></figure>\n<ul>\n<li>main 브랜치에 머지되면 자동으로 <code>semantic-release</code>가 실행되고</li>\n<li>커밋 메시지에 따라 버전이 증가하며, git tag가 생성되고</li>\n<li>지정된 레지스트리 (Verdaccio)로 패키지가 publish된다</li>\n</ul>\n<hr>\n<h3 id=\"lerna와의-통합\"><a class=\"anchor\" href=\"#lerna와의-통합\">Lerna와의 통합</a></h3>\n<p>Lerna 8 버전 이후에는 자체적인 conventional commits 기반 릴리즈 지원이 강화되었으나, 우리 구성에서는 <code>semantic-release</code> 단독 사용이 아닌, 다음과 같은 역할 분담 구조를 가졌다</p>\n<ul>\n<li>Lerna → 모노레포 패키지 실행 관리, build 스크립트 일괄 실행</li>\n<li>semantic-release → 버전 계산 및 git tag, changelog 생성</li>\n<li>pnpm → workspace 및 의존성 관리</li>\n</ul>\n<p>이 구조로 인해 각자의 역할이 명확하게 나뉘며, 중복 설정 없이 유지보수가 용이해졌다.</p>\n<hr>\n<p>semantic-release를 통해 다음과 같은 효과를 얻을 수 있었다</p>\n<ul>\n<li>사람이 직접 버전 관리를 하지 않아도 되어 실수 방지</li>\n<li>릴리즈 로그, git tag, changelog 자동 생성으로 배포 이력 관리 용이</li>\n<li>CI 환경에서 자동 publish 흐름 구성 → 완전한 GitOps 실현</li>\n</ul>\n<p>이는 특히 사내 공통 라이브러리처럼 빠르게 변화하고, 여러 프로젝트에서 재사용되는 컴포넌트를 관리할 때 큰 장점을 가진다.</p>\n<hr>\n<h2 id=\"scoped-패키지란\"><a class=\"anchor\" href=\"#scoped-패키지란\">Scoped 패키지란?</a></h2>\n<p>Scoped 패키지는 <code>@scope/name</code> 형태의 네이밍을 가진 NPM 패키지다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"bash\" data-theme=\"github-dark github-light\"><code data-language=\"bash\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">@company/company-common-library</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">@company/company-napi</span></span></code></pre></figure>\n<p>이를 통해 다음과 같은 효과를 얻을 수 있다:</p>\n<ul>\n<li><strong>패키지 네이밍의 네임스페이스화</strong> → 사내 도메인 명확화</li>\n<li><strong>프라이빗 레지스트리 내 권한 제어</strong> (config.yaml에서 <code>@company/*</code> 스코프 제한)</li>\n<li><strong>모듈 간 관계 파악 용이</strong> → 범용 vs 도메인 특화 모듈 구분</li>\n</ul>\n<p>Verdaccio의 설정에서도 <code>@company/*</code> 에 대해 별도의 접근 및 publish 정책을 구성할 수 있어 보안/정책 관리에 적합하다.</p>\n<hr>\n<h3 id=\"서비스-프로젝트에서-설치-및-사용\"><a class=\"anchor\" href=\"#서비스-프로젝트에서-설치-및-사용\">서비스 프로젝트에서 설치 및 사용</a></h3>\n<p>패키지를 사용하려는 서비스 프로젝트에서는 다음과 같이 설정한다</p>\n<h4 id=\"npmrc-구성\"><a class=\"anchor\" href=\"#npmrc-구성\"><code>.npmrc</code> 구성</a></h4>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"bash\" data-theme=\"github-dark github-light\"><code data-language=\"bash\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">@company:registry</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">=http://verdaccio.company.net:COMPANY_PORT/npm/</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">//verdaccio.company.net:COMPANY_PORT/npm/:_authToken</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">=xxxxx</span></span></code></pre></figure>\n<ul>\n<li>특정 스코프(<code>@company</code>)만 내부 레지스트리로 리다이렉트</li>\n<li>나머지는 public npm registry를 그대로 사용</li>\n</ul>\n<p>이를 통해 내부 패키지는 Verdaccio에서, 외부 라이브러리는 기존 npm에서 가져오도록 이원화된 설정이 가능하다.</p>\n<h4 id=\"설치\"><a class=\"anchor\" href=\"#설치\">설치</a></h4>\n<p>라이브러리는 비공개이기떄문에, 설치 예시만 보여주겠다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"bash\" data-theme=\"github-dark github-light\"><code data-language=\"bash\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">pnpm</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> install</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> @company/company-common-library</span></span></code></pre></figure>\n<hr>\n<h3 id=\"import-방식\"><a class=\"anchor\" href=\"#import-방식\">import 방식</a></h3>\n<p>scoped 패키지로 배포된 유틸리티는 다음과 같이 프로젝트 내에서 import 가능하다:</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { formatDate, safeParse } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '@company/company-common-library/utils/date'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">import</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { buildQueryString } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">from</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '@company/company-common-library/utils/url'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span></code></pre></figure>\n<ul>\n<li>경량 ESM 번들로 export되기 때문에 트리 쉐이킹에 최적화</li>\n<li>타입 정의도 함께 제공되므로 TS 프로젝트에서 타입 추론이 즉시 가능</li>\n<li>IDE 자동완성 및 문서화에서 큰 이점</li>\n</ul>\n<hr>\n<h3 id=\"호환성과-배포-주기-전략\"><a class=\"anchor\" href=\"#호환성과-배포-주기-전략\">호환성과 배포 주기 전략</a></h3>\n<p>공통 유틸리티의 경우 <strong>주기적인 배포보다는 필요 기반의 배포 전략</strong>을 채택했다.<br>\nsemantic-release가 자동으로 버전을 관리해주기 때문에, 사용처에서는 아래 전략을 따라간다</p>\n<ul>\n<li>patch 업데이트는 바로 반영</li>\n<li>minor 이상 업데이트는 PR에 release note 링크 포함 후 수동 반영</li>\n<li>major 업데이트는 코드베이스 검토 및 팀 공유 후 채택</li>\n</ul>\n<p>또한 scoped 패키지는 <strong>사내 Monorepo가 아닌 외부 레포</strong>에서도 문제 없이 사용할 수 있다는 점이 큰 장점이다.</p>\n<hr>\n<h2 id=\"결론\"><a class=\"anchor\" href=\"#결론\">결론</a></h2>\n<p>이번 유틸리티 라이브러리 구축 프로젝트는 단순히 패키지를 나누고 배포하는 수준을 넘어, 사내 개발 생산성, 코드 품질, 협업 효율성을 구조적으로 끌어올리기 위한 인프라 작업이었다.</p>\n<hr>\n<p><img src=\"/content/250404/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></p>\n<hr>\n<p>✅ 도입을 통해 얻게 된 주요 장점</p>\n<ul>\n<li>semantic-release를 통해 사람이 직접 버전 숫자를 관리하지 않아도 됨</li>\n<li>Lerna + pnpm을 통해 패키지를 독립적으로 유지보수 가능</li>\n<li>Verdaccio + scoped registry를 통해 외부 노출 없이 안전하게 운영</li>\n<li>단일 install로 사용 가능하며 타입 정의 및 import 구조까지 통일</li>\n<li>publish → install → 반영까지 모든 흐름이 자동화되어 안정적</li>\n</ul>\n<p>가장 큰 장점은 <strong>유지보수가 쉬운 아키텍처가 되었다</strong>는 점이다.</p>\n<p>사람에 의존한 규칙이 아니라, 구조와 도구 자체가 품질과 일관성을 유지해주기 때문이다.</p>\n<p><strong>이러한 인프라가 갖춰졌을 때, 개발자는 더 이상 공통 로직을 복사하거나 컨벤션을 따로 전달하지 않아도 된다. 이제는 그냥 install 하면 되고, 자동으로 type도 따라온다.</strong></p>\n<hr>\n<h2 id=\"앞으로의-개선-포인트\"><a class=\"anchor\" href=\"#앞으로의-개선-포인트\">앞으로의 개선 포인트</a></h2>\n<ul>\n<li>\n<p>전환 고려 여러 패키지에 영향을 주는 경우에는 Changesets의 PR 단위 버전 제안이 더 유리할 수도 있다고 생각해, semantic-release → Changesets 전환도 고려해볼 것 같다.</p>\n</li>\n<li>\n<p>Verdaccio 인증 방식 개선 : 현재는 htpasswd 기반이지만, 사내 SSO 또는 OAuth2 연동 등 중앙 인증과 통합 가능성 검토..</p>\n</li>\n<li>\n<p>컴포넌트 단위 모듈 분리 : 현재는 유틸리티 중심이지만, 디자인 시스템이나 React 컴포넌트도 동일한 방식으로 확장 가능</p>\n</li>\n<li>\n<p>릴리즈 노트 시각화 자동화 : Slack 연동 및 Github Actions 기반 release summary 자동 게시 등 운영 효율화를 추가 검토 중.. (공수가 너무 크다)</p>\n</li>\n</ul>\n<hr>\n<p>인프라는 결국 <strong>개발 문화와 협업 체계의 중심</strong>을 구성하는 것이다.</p>\n<p>처음엔 번거롭고 복잡해 보이지만, 한 번 체계를 만들어두면 이후의 유지 비용은 급격히 줄어든다.</p>\n<p>힘든 일 뒤에 보람이 온다고 했던가. 지금 와서 돌아보면, 꽤 괜찮은 경험이었다.</p>\n<hr>\n<p><img src=\"/content/250404/1.jpg\" alt=\"1.jpg\" loading=\"lazy\" decoding=\"async\"></p>\n<hr>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "250404/index.md",
    "_raw": {
      "sourceFilePath": "250404/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "250404",
      "contentType": "markdown",
      "flattenedPath": "250404"
    },
    "type": "Post",
    "slug": "/250404",
    "categoryArray": [
      "프론트엔드",
      "인프라"
    ],
    "readingTime": "32 min read",
    "excerpt": "회사 내에서 프론트엔드 공통 유틸리티 모듈을 통합 관리하는 작업을 맡으면서, 다음과 같은 요구사항이 생겼다. 여러 레포지토리에 중복된 로직을 하나로 추출해 관리하고 싶다. 패키지 단위로 분리해 모노레포 형태로 운영하되, 유연한 버전 관리가 필요하다. 외부 공개 없이 사내에서만 배포 및 사용 가능한 NPM 패키지 레지스트리를 갖추고 싶다. CI/CD 파이프라..."
  },
  {
    "title": "TS infer 에 대해서 깊이 탐구해보자",
    "date": "2025-04-24T00:00:00.000Z",
    "categories": "프론트엔드 TypeScript",
    "body": {
      "raw": "\n요즘 Type Challenge 를 통해 TypeScript를 공부하고있는데 빈번하게, infer 을 자주 다루게 되었다.\n\n ![1.png](/content/250424/1.png)\n\n단순하게, infer 가 어떻게 사용되는지 뿐 아니라, 어떤 목적으로 만들어지고 사용되고 동작하는지 알아보도록 하자.\n\n---\n\n# 특정 타입을 찾는 infer\n\n```ts\ntype ElementType<T> = T extends (infer U)[] ? U : never;\n```\n\n위 예시 코드를 보고, infer의 역할을 추론해보자.\n\ninfer라는 단어 자체가 '추론하다'라는 의미를 가지고 있어, 프로그래머 입장에서는 타입스크립트에서 자동으로 무언가를 추론하거나, let U = 추론된 값과 같이 변수를 선언하는 키워드로 오해할 수도 있다.\n\n하지만 실제로 infer는 변수 선언 키워드가 아니라, 조건부 타입 내부에서만 사용되는 특수한 키워드로, TypeScript 컴파일러에게 '이 위치에서 타입을 추론하라'고 지시하는 역할을 한다.\n\n즉, 프로그래머가 직접 값을 추론하는 것이 아니라, 컴파일러가 해당 위치의 타입을 자동으로 추론하도록 위임하는 구문이다.\n\n---\n\n## What is Infer?\n\ninfer 키워드는 TypeScript의 조건부 타입(conditional types) 내에서만 사용할 수 있으며, 타입 매칭 과정에서 특정 위치의 타입을 타입 변수로 캡처하는 역할을 한다.\n\n이는 복잡한 타입에서 특정 부분을 추출하여 재사용할 수 있게 해주는 강력한 타입 추론 메커니즘이다.\n\n앞서 본 예시 코드를 보기 쉽게 바꿔놓으면 아래와 같다. \n\n```ts\ntype 결과타입<T> = T extends 패턴<infer U> ? U : 대체타입\n```\n\n이것을 글로 쉽게 풀어보면, infer U는 패턴 매칭 과정에서 U라는 타입 변수를 선언하고, 그 위치에 해당하는 실제 타입을 캡처하겠다는 의미다.\n\n---\n\n## TypeScript 컴파일러 내부에서 어떻게 Infer 를 처리할까?\n\nInfer는 컴파일러 내부에서 타입 추론을 위한 주요 역할은 다음과 같다.\n\n- 타입 분해 (Type Decomposition) : 함수, 튜플, 객체 등 복합 타입에서 특정 부분을 추출하여, 중첩된 타입 구조에서 내부 타입 접근 용이하다.\n\n- 패턴 매칭 기반 타입 추론 : 구조적 패턴을 기반으로 타입 변수에 값 바인딩하여, 선언적 방식으로 복잡한 타입 관계 표현 가능\n\n- 타입 변환 및 매핑 : 기존 타입을 기반으로 새로운 타입 생성\n\n컴파일러 내부 동작에 대한 내용들은 [Typescript Github](https://raw.githubusercontent.com/microsoft/TypeScript/refs/heads/main/src/compiler/checker.ts)를 참고하여 작성되었다. 코드의 양도 많고, 어렵지만 직접 코드를 보는 것이 가장 좋을 것 같다. 찾아보실 분은 `src/compiler/checker.ts`를 탐구해보면 된다.\n\n너무 어려우면 그냥 넘어가고, 요약만 살펴봐도 좋다.\n\n\n---\n\n### 조건부 타입 분석 및 초기화\n\n컴파일러는 우선 조건부 타입을 분석하여 검사 타입(T), 확장 타입 패턴(extends 뒤의 타입), 그리고 true/false 결과 타입을 식별한다. \n\n이 과정에서 infer 키워드가 포함된 타입 변수들을 찾아 타입 변수 환경(type variable environment)에 등록한다.\n\n```ts\nfunction processConditionalType(node: ConditionalTypeNode): Type {\n  const checkType = getTypeFromTypeNode(node.checkType);\n  const extendsType = getTypeFromTypeNode(node.extendsType);\n  const trueType = getTypeFromTypeNode(node.trueType);\n  const falseType = getTypeFromTypeNode(node.falseType);\n  \n  const inferTypeVariables = findInferTypeVariables(node.extendsType);\n  const typeVarEnvironment = createTypeVarEnvironment(inferTypeVariables);\n  \n  return resolveConditionalType(\n    checkType, \n    extendsType, \n    trueType, \n    falseType, \n    typeVarEnvironment\n  );\n}\n```\n\ncheckType은 조건부 타입의 검사 타입, extendsType은 확장 타입 패턴, trueType은 true 결과 타입, falseType은 false 결과 타입을 나타낸다.\n\n`inferTypeVariables`는 extendsType에서 infer 키워드가 포함된 타입 변수들을 찾고, `typeVarEnvironment`는 타입 변수 환경을 생성한다.\n\n`resolveConditionalType`은 조건부 타입을 해석하는 함수로, 타입 체커를 통해 패턴 매칭 알고리즘을 실행한다.\n\n---\n\n### 타입 패턴 매칭 및 추론 수행\n\n이어 컴파일러는 검사 타입(T)이 확장 타입 패턴과 일치하는지 확인한다. 이 과정에서 infer 키워드가 위치한 부분에 대응하는 실제 타입을 캡처하여 타입 변수 환경에 저장한다.\n\n```ts\nfunction resolveConditionalType(\n  checkType: Type,\n  extendsType: Type,\n  trueType: Type,\n  falseType: Type,\n  typeVarEnv: TypeVarEnvironment\n): Type {\n  if (isUnionType(checkType)) {\n    return distributeOverUnion(\n      checkType,\n      type => resolveConditionalType(type, extendsType, trueType, falseType, typeVarEnv.clone())\n    );\n  }\n  \n  const isMatch = matchTypeWithPattern(checkType, extendsType, typeVarEnv);\n  \n  const constraintsValid = validateTypeConstraints(typeVarEnv);\n  \n  if (isMatch && constraintsValid) {\n    return substituteInferredTypes(trueType, typeVarEnv);\n  } else {\n    return falseType;\n  }\n}\n```\n\n위 코드로 패턴 매칭 및 타입 추론 프로세스를 살펴보자.\n\n`isUnionType` 을 활용해 검사 타입이 유니온 타입인지 확인하고, `distributeOverUnion`을 활용해 유니온 타입을 분산 처리하여 각 타입에 대해 조건부 타입을 재평가하고, 리턴한다.\n\n`matchTypeWithPattern`은 검사 타입이 확장 타입 패턴과 일치하는지 확인하고, `validateTypeConstraints`은 타입 제약 조건을 검사한다.\n\n`isMatch`와 `constraintsValid`이 true라면 `substituteInferredTypes`은 추론된 타입 변수를 적용하여 결과 타입을 결정하고, 그렇지 않다면 `falseType`을 리턴해 대체 타입을 변환한다.\n\n---\n\n### 통합된 타입 추론 프로세스\n\n실제 매칭과 추론 과정에서 컴파일러는 타입 구조를 재귀적으로 분석하며, 다양한 타입 형태(객체, 배열, 함수 등)에 대한 패턴 매칭을 수행한다.\n\n```ts\nfunction matchTypeWithPattern(\n  source: Type,\n  pattern: Type,\n  typeVarEnv: TypeVarEnvironment\n): boolean {\n  if (source === pattern) {\n    return true;\n  }\n  \n  if (isInferTypeVar(pattern)) {\n    const inferVar = getInferTypeVar(pattern);\n    const constraints = getTypeConstraints(inferVar);\n    \n    if (!constraints || isTypeAssignableTo(source, constraints)) {\n      typeVarEnv.addInference(inferVar, source);\n      return true;\n    }\n    return false;\n  }\n  \n  if (isObjectType(pattern) && isObjectType(source)) {\n    return matchObjectTypes(source, pattern, typeVarEnv);\n  }\n  \n  if (isArrayType(pattern)) {\n    return matchArrayTypes(source, pattern, typeVarEnv);\n  }\n  \n  if (isFunctionType(pattern)) {\n    return matchFunctionTypes(source, pattern, typeVarEnv);\n  }\n  \n  // 기타 타입 형태에 대한 매칭\n  // ...\n  \n  return false;\n}\n```\n\n이 과정에서 직접 매칭을 검사하고, 패턴이 infer 타입 변수인 경우 타입을 캡처한다.\n\n그리고 구조적 타입에 대한 재귀적 매칭을 수행하고 이어 기타 타입 형태에 대한 매칭을 차례대로 진행한다. 마지막으로 앞의 매칭들을 충족하지 못하면 매칭 실패인 `false`를 리턴한다.\n\n---\n\n## 너무 어렵다. 각 단계를 실제 예시로 흐름을 살펴보자.\n\n```ts\ntype ReturnType<T> = T extends (...args: any[]) => infer R ? R : never;\n\nfunction greet(name: string): string {\n  return `Hello, ${name}!`;\n}\n\ntype GreetReturn = ReturnType<typeof greet>;\n```\n\n`ReturnType<typeof greet>` 평가를 시작한다.\n\n여기서 조건부 타입 분석을 통해 검사 타입은 `typeof greet` 이 되고, 패턴은 `(...args: any[]) => infer R` 이 되는데 infer R 은 아직 추론되지 않음을 의미한다.\n\n곧 이어 패턴 매칭 수행을 통해 `typeof greet`는 함수 타입이므로 패턴과 구조적 매칭 시도하고 함수 타입 매칭 중 반환 타입 위치에서 infer R을 만나 실제 반환 타입 string을 R에 캡처한다.\n\n이로 인해 true 분기 결과 반환으로 `ReturnType<typeof greet>` 평가 결과는 string으로 결정된다. 만약 매칭이 실패해서 false 분기로 이어지면 never로 결정된다.\n\n--- \n\n\n\n---\n\n## 여러 상황에서 Infer 을 다뤄보자\n\ninfer는 앞서 살펴본 컴파일러 내부 동작처럼 다양한 분기로 처리된다.\n\n이 모든 분기 상황을 하나하나 다루기에는 너무 복잡하므로, 아래에서는 대표적인 상황별 예시 코드를 통해 infer의 활용법을 살펴보려 한다.\n\n---\n\n### 함수 반환 타입 추출\n\n```ts\ntype ReturnType<T> = T extends (...args: any[]) => infer R ? R : any;\n\nfunction fetchData(): Promise<string> { \n  return Promise.resolve(\"data\");\n}\n\ntype FetchResult = ReturnType<typeof fetchData>; // Promise<string>\n``` \n\n이 예시에서 ReturnType 유틸리티 타입은 함수 타입의 반환 타입을 추출한다.\n\nT가 함수 타입인 경우, 패턴 `(...args: any[]) => infer R`에 매칭되고, 매칭된 infer R은 함수의 반환 타입 위치에서 실제 타입을 추론하여 캡처한다.\n\n결과적으로 R(추론된 반환 타입)이 반환된다.\n\n---\n\n### 함수 매개변수 타입 추출\n\n```ts\ntype FirstParameter<T> = T extends (first: infer U, ...args: any[]) => any ? U : never;\n\nfunction handleEvent(id: number, event: Event): void {\n  // 구현부\n}\n\ntype IdType = FirstParameter<typeof handleEvent>; // number\n```\n\n이 예시에서 FirstParameter 유틸리티 타입은 함수의 첫 번째 매개변수 타입을 추출한다.\n\nT가 함수 타입인 경우, 패턴 `first: infer U, ...args: any[]) => any`에 매칭되고, 매칭된 infer U는 첫 번째 매개변수 타입 위치에서 실제 타입을 추론하여 캡처한다.\n\n결과적으로 U(추론된 첫 번째 매개변수 타입)이 반환된다.\n\n---\n\n### 조건부 타입 내 여러 infer을 사용\n\n```ts\ntype Unpacked<T> = \n  T extends (infer U)[] ? U :\n  T extends (...args: any[]) => infer U ? U :\n  T extends Promise<infer U> ? U :\n  T;\n\ntype T1 = Unpacked<string[]>;          // string\ntype T2 = Unpacked<() => number>;       // number\ntype T3 = Unpacked<Promise<boolean>>;   // boolean\ntype T4 = Unpacked<string>;             // string\n```\n\n이 예시에서 Unpacked 유틸리티 타입은 다양한 형태의 래퍼 타입에서 내부 타입을 추출한다.\n\n- T가 배열 타입인 경우, 패턴 `infer U[]`에 매칭되어 배열 요소 타입 U를 추출한다.\n- T가 함수 타입인 경우, 패턴 `(...args: any[]) => infer U`에 매칭되어 반환 타입 U를 추출한다.\n- T가 Promise 타입인 경우, 패턴 `Promise<infer U>`에 매칭되어 Promise 결과 타입 U를 추출한다.\n- 위 패턴에 매칭되지 않는 경우, 원본 타입 T를 그대로 반환한다.\n\n---\n\n### 객체 속성 타입 추출\n\n```ts\ntype PropertyType<T, K extends keyof T> = T extends { [P in K]: infer U } ? U : never;\n\ninterface User {\n  id: number;\n  name: string;\n  settings: { theme: 'light' | 'dark' };\n}\n\ntype ThemeType = PropertyType<User['settings'], 'theme'>; // 'light' | 'dark'\n\n```\n\nT가 K 키를 가진 객체 타입인 경우, 해당 속성의 타입 U를 추론한다. 여기서 중첩된 객체 속성도 접근 연산자(.)를 통해 추출할 수 있다.\n\n---\n\n### 튜틀 요소 타입 추출\n\n```ts\ntype FirstElement<T extends any[]> = T extends [infer U, ...any[]] ? U : never;\ntype LastElement<T extends any[]> = T extends [...any[], infer U] ? U : never;\n\ntype Tuple = [string, number, boolean];\ntype First = FirstElement<Tuple>; // string\ntype Last = LastElement<Tuple>;   // boolean\n\n\n```\n\n이 예시에서는 튜플의 첫 번째와 마지막 요소 타입을 추출하게 된다.\n\n- FirstElement는 패턴 `[infer U, ...any[]]`를 사용하여 첫 번째 요소 타입을 추출한다.\n- LastElement는 패턴 `[...any[], infer U]`를 사용하여 마지막 요소 타입을 추출한다.\n\n---\n\n### 유니온 타입 처리\n\n```ts\ntype ExtractNumberFromUnion<T> = T extends infer U\n  ? U extends number ? U : never\n  : never;\n\ntype Union = string | number | boolean;\ntype Numbers = ExtractNumberFromUnion<Union>; // number\n```\n\n분산적 조건부 타입의 특성을 활용하여 유니온 타입의 각 멤버에 대해 개별적으로 적용된다.\n\n- 첫 번째 조건부 타입`(T extends infer U)`은 항상 참이지만, 유니온 타입의 각 멤버를 개별적으로 U에 바인딩한다.\n- 두 번째 조건부 타입`(U extends number)`은 U가 number인 경우에만 해당 타입을 유지한다.\n\n---\n\n## 마무리\n\nTypeScript의 infer 키워드는 처음 접했을 때 다소 난해하게 느껴질 수 있지만, 복잡한 타입 시스템을 다룰 때 강력한 도구가 된다고 생각한다. 특히 Type Challenge와 같은 타입 구현을 할 때 Infer 에 대한 개념을 확실하게 알고 있어야한다.\n\ninfer는 단순히 타입을 추론하는 것을 넘어, 타입 레벨 프로그래밍의 핵심 구성 요소로서 다음과 같은 이점을 제공한다.\n\n- 코드 재사용성 향상: 복잡한 타입 구조에서 필요한 부분만 추출하여 재사용\n- 타입 안전성 강화: 런타임 에러 대신 컴파일 타임에 타입 관련 문제를 포착\n- 표현력 증가: 복잡한 타입 관계를 더 명확하고 간결하게 표현\n\n일상적인 개발에서는 ReturnType, Parameters 같은 내장 유틸리티 타입을 통해 간접적으로 infer의 혜택을 누리게 되지만, 더 복잡한 타입 문제에 직면했을 때 직접 infer를 활용하는 능력이 필요할 것 같다.\n\n타입 챌린지를 계속 풀어나가며 infer와 TypeScript의 타입 시스템에 더 깊이 익숙해지다 보면, 이전에는 불가능하다고 생각했던 타입 레벨의 문제들도 해결할 수 있을 것 같다.\n\n지치지말고 계속해서 풀어보자.\n\n\n```toc\n\n```",
      "html": "<p>요즘 Type Challenge 를 통해 TypeScript를 공부하고있는데 빈번하게, infer 을 자주 다루게 되었다.</p>\n<p><img src=\"/content/250424/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>단순하게, infer 가 어떻게 사용되는지 뿐 아니라, 어떤 목적으로 만들어지고 사용되고 동작하는지 알아보도록 하자.</p>\n<hr>\n<h1 id=\"특정-타입을-찾는-infer\"><a class=\"anchor\" href=\"#특정-타입을-찾는-infer\">특정 타입을 찾는 infer</a></h1>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ElementType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)[] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> never</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span></code></pre></figure>\n<p>위 예시 코드를 보고, infer의 역할을 추론해보자.</p>\n<p>infer라는 단어 자체가 '추론하다'라는 의미를 가지고 있어, 프로그래머 입장에서는 타입스크립트에서 자동으로 무언가를 추론하거나, let U = 추론된 값과 같이 변수를 선언하는 키워드로 오해할 수도 있다.</p>\n<p>하지만 실제로 infer는 변수 선언 키워드가 아니라, 조건부 타입 내부에서만 사용되는 특수한 키워드로, TypeScript 컴파일러에게 '이 위치에서 타입을 추론하라'고 지시하는 역할을 한다.</p>\n<p>즉, 프로그래머가 직접 값을 추론하는 것이 아니라, 컴파일러가 해당 위치의 타입을 자동으로 추론하도록 위임하는 구문이다.</p>\n<hr>\n<h2 id=\"what-is-infer\"><a class=\"anchor\" href=\"#what-is-infer\">What is Infer?</a></h2>\n<p>infer 키워드는 TypeScript의 조건부 타입(conditional types) 내에서만 사용할 수 있으며, 타입 매칭 과정에서 특정 위치의 타입을 타입 변수로 캡처하는 역할을 한다.</p>\n<p>이는 복잡한 타입에서 특정 부분을 추출하여 재사용할 수 있게 해주는 강력한 타입 추론 메커니즘이다.</p>\n<p>앞서 본 예시 코드를 보기 쉽게 바꿔놓으면 아래와 같다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> 결과타입</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> 패턴</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> 대체타입</span></span></code></pre></figure>\n<p>이것을 글로 쉽게 풀어보면, infer U는 패턴 매칭 과정에서 U라는 타입 변수를 선언하고, 그 위치에 해당하는 실제 타입을 캡처하겠다는 의미다.</p>\n<hr>\n<h2 id=\"typescript-컴파일러-내부에서-어떻게-infer-를-처리할까\"><a class=\"anchor\" href=\"#typescript-컴파일러-내부에서-어떻게-infer-를-처리할까\">TypeScript 컴파일러 내부에서 어떻게 Infer 를 처리할까?</a></h2>\n<p>Infer는 컴파일러 내부에서 타입 추론을 위한 주요 역할은 다음과 같다.</p>\n<ul>\n<li>\n<p>타입 분해 (Type Decomposition) : 함수, 튜플, 객체 등 복합 타입에서 특정 부분을 추출하여, 중첩된 타입 구조에서 내부 타입 접근 용이하다.</p>\n</li>\n<li>\n<p>패턴 매칭 기반 타입 추론 : 구조적 패턴을 기반으로 타입 변수에 값 바인딩하여, 선언적 방식으로 복잡한 타입 관계 표현 가능</p>\n</li>\n<li>\n<p>타입 변환 및 매핑 : 기존 타입을 기반으로 새로운 타입 생성</p>\n</li>\n</ul>\n<p>컴파일러 내부 동작에 대한 내용들은 <a href=\"https://raw.githubusercontent.com/microsoft/TypeScript/refs/heads/main/src/compiler/checker.ts\">Typescript Github</a>를 참고하여 작성되었다. 코드의 양도 많고, 어렵지만 직접 코드를 보는 것이 가장 좋을 것 같다. 찾아보실 분은 <code>src/compiler/checker.ts</code>를 탐구해보면 된다.</p>\n<p>너무 어려우면 그냥 넘어가고, 요약만 살펴봐도 좋다.</p>\n<hr>\n<h3 id=\"조건부-타입-분석-및-초기화\"><a class=\"anchor\" href=\"#조건부-타입-분석-및-초기화\">조건부 타입 분석 및 초기화</a></h3>\n<p>컴파일러는 우선 조건부 타입을 분석하여 검사 타입(T), 확장 타입 패턴(extends 뒤의 타입), 그리고 true/false 결과 타입을 식별한다.</p>\n<p>이 과정에서 infer 키워드가 포함된 타입 변수들을 찾아 타입 변수 환경(type variable environment)에 등록한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> processConditionalType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">node</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ConditionalTypeNode</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Type</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> checkType</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> getTypeFromTypeNode</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(node.checkType);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> extendsType</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> getTypeFromTypeNode</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(node.extendsType);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> trueType</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> getTypeFromTypeNode</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(node.trueType);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> falseType</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> getTypeFromTypeNode</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(node.falseType);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> inferTypeVariables</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> findInferTypeVariables</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(node.extendsType);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> typeVarEnvironment</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createTypeVarEnvironment</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(inferTypeVariables);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> resolveConditionalType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    checkType, </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    extendsType, </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    trueType, </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    falseType, </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    typeVarEnvironment</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>checkType은 조건부 타입의 검사 타입, extendsType은 확장 타입 패턴, trueType은 true 결과 타입, falseType은 false 결과 타입을 나타낸다.</p>\n<p><code>inferTypeVariables</code>는 extendsType에서 infer 키워드가 포함된 타입 변수들을 찾고, <code>typeVarEnvironment</code>는 타입 변수 환경을 생성한다.</p>\n<p><code>resolveConditionalType</code>은 조건부 타입을 해석하는 함수로, 타입 체커를 통해 패턴 매칭 알고리즘을 실행한다.</p>\n<hr>\n<h3 id=\"타입-패턴-매칭-및-추론-수행\"><a class=\"anchor\" href=\"#타입-패턴-매칭-및-추론-수행\">타입 패턴 매칭 및 추론 수행</a></h3>\n<p>이어 컴파일러는 검사 타입(T)이 확장 타입 패턴과 일치하는지 확인한다. 이 과정에서 infer 키워드가 위치한 부분에 대응하는 실제 타입을 캡처하여 타입 변수 환경에 저장한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> resolveConditionalType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  checkType</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Type</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  extendsType</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Type</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  trueType</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Type</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  falseType</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Type</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  typeVarEnv</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TypeVarEnvironment</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Type</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">isUnionType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(checkType)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> distributeOverUnion</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      checkType,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">      type</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> resolveConditionalType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(type, extendsType, trueType, falseType, typeVarEnv.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">clone</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">())</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> isMatch</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> matchTypeWithPattern</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(checkType, extendsType, typeVarEnv);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> constraintsValid</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> validateTypeConstraints</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(typeVarEnv);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (isMatch </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x26;&#x26;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> constraintsValid) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> substituteInferredTypes</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(trueType, typeVarEnv);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">else</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> falseType;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>위 코드로 패턴 매칭 및 타입 추론 프로세스를 살펴보자.</p>\n<p><code>isUnionType</code> 을 활용해 검사 타입이 유니온 타입인지 확인하고, <code>distributeOverUnion</code>을 활용해 유니온 타입을 분산 처리하여 각 타입에 대해 조건부 타입을 재평가하고, 리턴한다.</p>\n<p><code>matchTypeWithPattern</code>은 검사 타입이 확장 타입 패턴과 일치하는지 확인하고, <code>validateTypeConstraints</code>은 타입 제약 조건을 검사한다.</p>\n<p><code>isMatch</code>와 <code>constraintsValid</code>이 true라면 <code>substituteInferredTypes</code>은 추론된 타입 변수를 적용하여 결과 타입을 결정하고, 그렇지 않다면 <code>falseType</code>을 리턴해 대체 타입을 변환한다.</p>\n<hr>\n<h3 id=\"통합된-타입-추론-프로세스\"><a class=\"anchor\" href=\"#통합된-타입-추론-프로세스\">통합된 타입 추론 프로세스</a></h3>\n<p>실제 매칭과 추론 과정에서 컴파일러는 타입 구조를 재귀적으로 분석하며, 다양한 타입 형태(객체, 배열, 함수 등)에 대한 패턴 매칭을 수행한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> matchTypeWithPattern</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  source</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Type</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  pattern</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Type</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  typeVarEnv</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TypeVarEnvironment</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> boolean</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (source </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> pattern) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">isInferTypeVar</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(pattern)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> inferVar</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> getInferTypeVar</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(pattern);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> constraints</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> getTypeConstraints</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(inferVar);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">!</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">constraints </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">||</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> isTypeAssignableTo</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(source, constraints)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      typeVarEnv.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">addInference</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(inferVar, source);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">      return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> true</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">isObjectType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(pattern) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x26;&#x26;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> isObjectType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(source)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> matchObjectTypes</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(source, pattern, typeVarEnv);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">isArrayType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(pattern)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> matchArrayTypes</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(source, pattern, typeVarEnv);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">isFunctionType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(pattern)) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> matchFunctionTypes</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(source, pattern, typeVarEnv);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 기타 타입 형태에 대한 매칭</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // ...</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> false</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>이 과정에서 직접 매칭을 검사하고, 패턴이 infer 타입 변수인 경우 타입을 캡처한다.</p>\n<p>그리고 구조적 타입에 대한 재귀적 매칭을 수행하고 이어 기타 타입 형태에 대한 매칭을 차례대로 진행한다. 마지막으로 앞의 매칭들을 충족하지 못하면 매칭 실패인 <code>false</code>를 리턴한다.</p>\n<hr>\n<h2 id=\"너무-어렵다-각-단계를-실제-예시로-흐름을-살펴보자\"><a class=\"anchor\" href=\"#너무-어렵다-각-단계를-실제-예시로-흐름을-살펴보자\">너무 어렵다. 각 단계를 실제 예시로 흐름을 살펴보자.</a></h2>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ReturnType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">args</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[]) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> R</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> R</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> never</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> greet</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">name</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> `Hello, ${</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">name</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">}!`</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> GreetReturn</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ReturnType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">typeof</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> greet>;</span></span></code></pre></figure>\n<p><code>ReturnType&#x3C;typeof greet></code> 평가를 시작한다.</p>\n<p>여기서 조건부 타입 분석을 통해 검사 타입은 <code>typeof greet</code> 이 되고, 패턴은 <code>(...args: any[]) => infer R</code> 이 되는데 infer R 은 아직 추론되지 않음을 의미한다.</p>\n<p>곧 이어 패턴 매칭 수행을 통해 <code>typeof greet</code>는 함수 타입이므로 패턴과 구조적 매칭 시도하고 함수 타입 매칭 중 반환 타입 위치에서 infer R을 만나 실제 반환 타입 string을 R에 캡처한다.</p>\n<p>이로 인해 true 분기 결과 반환으로 <code>ReturnType&#x3C;typeof greet></code> 평가 결과는 string으로 결정된다. 만약 매칭이 실패해서 false 분기로 이어지면 never로 결정된다.</p>\n<hr>\n<hr>\n<h2 id=\"여러-상황에서-infer-을-다뤄보자\"><a class=\"anchor\" href=\"#여러-상황에서-infer-을-다뤄보자\">여러 상황에서 Infer 을 다뤄보자</a></h2>\n<p>infer는 앞서 살펴본 컴파일러 내부 동작처럼 다양한 분기로 처리된다.</p>\n<p>이 모든 분기 상황을 하나하나 다루기에는 너무 복잡하므로, 아래에서는 대표적인 상황별 예시 코드를 통해 infer의 활용법을 살펴보려 한다.</p>\n<hr>\n<h3 id=\"함수-반환-타입-추출\"><a class=\"anchor\" href=\"#함수-반환-타입-추출\">함수 반환 타입 추출</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ReturnType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">args</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[]) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> R</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> R</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> fetchData</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> { </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">resolve</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"data\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> FetchResult</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ReturnType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">typeof</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> fetchData>; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// Promise&#x3C;string></span></span></code></pre></figure>\n<p>이 예시에서 ReturnType 유틸리티 타입은 함수 타입의 반환 타입을 추출한다.</p>\n<p>T가 함수 타입인 경우, 패턴 <code>(...args: any[]) => infer R</code>에 매칭되고, 매칭된 infer R은 함수의 반환 타입 위치에서 실제 타입을 추론하여 캡처한다.</p>\n<p>결과적으로 R(추론된 반환 타입)이 반환된다.</p>\n<hr>\n<h3 id=\"함수-매개변수-타입-추출\"><a class=\"anchor\" href=\"#함수-매개변수-타입-추출\">함수 매개변수 타입 추출</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> FirstParameter</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">first</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">args</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[]) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> never</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> handleEvent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">id</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">event</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Event</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> void</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 구현부</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> IdType</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> FirstParameter</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">typeof</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> handleEvent>; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// number</span></span></code></pre></figure>\n<p>이 예시에서 FirstParameter 유틸리티 타입은 함수의 첫 번째 매개변수 타입을 추출한다.</p>\n<p>T가 함수 타입인 경우, 패턴 <code>first: infer U, ...args: any[]) => any</code>에 매칭되고, 매칭된 infer U는 첫 번째 매개변수 타입 위치에서 실제 타입을 추론하여 캡처한다.</p>\n<p>결과적으로 U(추론된 첫 번째 매개변수 타입)이 반환된다.</p>\n<hr>\n<h3 id=\"조건부-타입-내-여러-infer을-사용\"><a class=\"anchor\" href=\"#조건부-타입-내-여러-infer을-사용\">조건부 타입 내 여러 infer을 사용</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Unpacked</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)[] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">args</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[]) </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T1</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Unpacked</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[]>;          </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// string</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T2</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Unpacked</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>;       </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// number</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T3</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Unpacked</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">boolean</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>>;   </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// boolean</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T4</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Unpacked</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>;             </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// string</span></span></code></pre></figure>\n<p>이 예시에서 Unpacked 유틸리티 타입은 다양한 형태의 래퍼 타입에서 내부 타입을 추출한다.</p>\n<ul>\n<li>T가 배열 타입인 경우, 패턴 <code>infer U[]</code>에 매칭되어 배열 요소 타입 U를 추출한다.</li>\n<li>T가 함수 타입인 경우, 패턴 <code>(...args: any[]) => infer U</code>에 매칭되어 반환 타입 U를 추출한다.</li>\n<li>T가 Promise 타입인 경우, 패턴 <code>Promise&#x3C;infer U></code>에 매칭되어 Promise 결과 타입 U를 추출한다.</li>\n<li>위 패턴에 매칭되지 않는 경우, 원본 타입 T를 그대로 반환한다.</li>\n</ul>\n<hr>\n<h3 id=\"객체-속성-타입-추출\"><a class=\"anchor\" href=\"#객체-속성-타입-추출\">객체 속성 타입 추출</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> PropertyType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">K</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> keyof</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { [</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">P</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> in</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> K</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> never</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">interface</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> User</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  id</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  name</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  settings</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { </span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">theme</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'light'</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'dark'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ThemeType</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> PropertyType</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">User</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'settings'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">], </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'theme'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 'light' | 'dark'</span></span>\n<span data-line=\"\"> </span></code></pre></figure>\n<p>T가 K 키를 가진 객체 타입인 경우, 해당 속성의 타입 U를 추론한다. 여기서 중첩된 객체 속성도 접근 연산자(.)를 통해 추출할 수 있다.</p>\n<hr>\n<h3 id=\"튜틀-요소-타입-추출\"><a class=\"anchor\" href=\"#튜틀-요소-타입-추출\">튜틀 요소 타입 추출</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> FirstElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[]> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[]] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> never</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> LastElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[]> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">...</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[], </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> never</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Tuple</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">number</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">boolean</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> First</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> FirstElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">Tuple</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// string</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Last</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> LastElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">Tuple</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>;   </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// boolean</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"> </span></code></pre></figure>\n<p>이 예시에서는 튜플의 첫 번째와 마지막 요소 타입을 추출하게 된다.</p>\n<ul>\n<li>FirstElement는 패턴 <code>[infer U, ...any[]]</code>를 사용하여 첫 번째 요소 타입을 추출한다.</li>\n<li>LastElement는 패턴 <code>[...any[], infer U]</code>를 사용하여 마지막 요소 타입을 추출한다.</li>\n</ul>\n<hr>\n<h3 id=\"유니온-타입-처리\"><a class=\"anchor\" href=\"#유니온-타입-처리\">유니온 타입 처리</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ExtractNumberFromUnion</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">T</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> T</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> infer</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  ?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> extends</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> U</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> never</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  :</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> never</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Union</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> number</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> boolean</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Numbers</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ExtractNumberFromUnion</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">Union</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// number</span></span></code></pre></figure>\n<p>분산적 조건부 타입의 특성을 활용하여 유니온 타입의 각 멤버에 대해 개별적으로 적용된다.</p>\n<ul>\n<li>첫 번째 조건부 타입<code>(T extends infer U)</code>은 항상 참이지만, 유니온 타입의 각 멤버를 개별적으로 U에 바인딩한다.</li>\n<li>두 번째 조건부 타입<code>(U extends number)</code>은 U가 number인 경우에만 해당 타입을 유지한다.</li>\n</ul>\n<hr>\n<h2 id=\"마무리\"><a class=\"anchor\" href=\"#마무리\">마무리</a></h2>\n<p>TypeScript의 infer 키워드는 처음 접했을 때 다소 난해하게 느껴질 수 있지만, 복잡한 타입 시스템을 다룰 때 강력한 도구가 된다고 생각한다. 특히 Type Challenge와 같은 타입 구현을 할 때 Infer 에 대한 개념을 확실하게 알고 있어야한다.</p>\n<p>infer는 단순히 타입을 추론하는 것을 넘어, 타입 레벨 프로그래밍의 핵심 구성 요소로서 다음과 같은 이점을 제공한다.</p>\n<ul>\n<li>코드 재사용성 향상: 복잡한 타입 구조에서 필요한 부분만 추출하여 재사용</li>\n<li>타입 안전성 강화: 런타임 에러 대신 컴파일 타임에 타입 관련 문제를 포착</li>\n<li>표현력 증가: 복잡한 타입 관계를 더 명확하고 간결하게 표현</li>\n</ul>\n<p>일상적인 개발에서는 ReturnType, Parameters 같은 내장 유틸리티 타입을 통해 간접적으로 infer의 혜택을 누리게 되지만, 더 복잡한 타입 문제에 직면했을 때 직접 infer를 활용하는 능력이 필요할 것 같다.</p>\n<p>타입 챌린지를 계속 풀어나가며 infer와 TypeScript의 타입 시스템에 더 깊이 익숙해지다 보면, 이전에는 불가능하다고 생각했던 타입 레벨의 문제들도 해결할 수 있을 것 같다.</p>\n<p>지치지말고 계속해서 풀어보자.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "250424/index.md",
    "_raw": {
      "sourceFilePath": "250424/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "250424",
      "contentType": "markdown",
      "flattenedPath": "250424"
    },
    "type": "Post",
    "slug": "/250424",
    "categoryArray": [
      "프론트엔드",
      "TypeScript"
    ],
    "readingTime": "16 min read",
    "excerpt": "요즘 Type Challenge 를 통해 TypeScript를 공부하고있는데 빈번하게, infer 을 자주 다루게 되었다. 단순하게, infer 가 어떻게 사용되는지 뿐 아니라, 어떤 목적으로 만들어지고 사용되고 동작하는지 알아보도록 하자. 특정 타입을 찾는 infer 위 예시 코드를 보고, infer의 역할을 추론해보자. infer라는 단어 자체가 '추론..."
  },
  {
    "title": "Vite의 transformRequest()",
    "date": "2025-05-07T00:00:00.000Z",
    "categories": "프론트엔드",
    "body": {
      "raw": "\nVite를 사용하다 보면, 개발 서버에서 모듈이 실시간으로 빠르게 갱신되는 경험을 하게 된다.  \n이 과정의 핵심에 있는 함수가 바로 `transformRequest()`다.\n\n이번 글에서는 Vite 개발 서버 내부에서 이 함수가 어떤 역할을 하는지, 어떤 순서로 동작하는지, 그리고 실제 사용하면서 주의할 점은 무엇인지까지 정리해본다.\n\n---\n\n## TransformRequest란?\n\nVite의 개발 서버는 브라우저로부터의 HTTP 요청을 인터셉트하여, 요청된 모듈을 즉석에서 변환(transform) 후 제공한다. 이 핵심 과정을 담당하는 내부 함수가 바로 `transformRequest(url, serverContext)`이다. 이 함수는 Vite의 플러그인 시스템과 깊이 연관되어 있으며, 다음과 같은 정교한 파이프라인을 통해 동작한다.\n\n---\n\n### 1. 모듈 식별 및 로딩 (Module Identification & Loading)\n- 요청된 url을 기준으로 Vite의 모듈 해석 로직 (Module Resolution)을 통해 실제 파일 시스템 경로 또는 가상 모듈 ID를 확정한다.\n- 확정된 ID를 사용하여 load 훅을 호출하는 플러그인을 통해 모듈의 원본 코드를 로드한다. 기본적으로는 파일 시스템에서 직접 파일을 읽어오지만, 플러그인을 통해 커스텀 로딩 로직을 구현할 수 있다.\n\n---\n\n### 2. 플러그인 기반 코드 변환 (Plugin-driven Code Transformation)\n- 로드된 코드는 Vite에 등록된 플러그인들의 transform 훅 체인을 통과한다. 각 플러그인은 transform(code, id, options) 훅을 통해 코드를 분석하고 수정할 기회를 갖는다.\n- 이 과정에서 Babel, PostCSS, SASS/LESS 전처리기 등 다양한 변환 작업이 순차적으로 적용될 수 있다. 플러그인은 코드 문자열뿐만 아니라 AST(Abstract Syntax Tree) 레벨에서의 조작도 수행할 수 있으며, 소스맵(source map) 생성 및 관리를 지원한다.\n- Vite는 이 과정에서 모듈 간의 의존성을 파악하여 모듈 그래프(Module Graph)를 구축하고, HMR(Hot Module Replacement)을 위한 데이터를 수집한다.\n\n---\n\n### 3. 내장 변환기 적용 (Built-in Transformers Application)\n- 플러그인 변환 이후, 필요한 경우 Vite의 내장 변환기가 동작한다. 대표적으로 esbuild가 사용되어 TypeScript, JSX, TSX 파일을 매우 빠른 속도로 순수 JavaScript로 트랜스파일한다.\n- .css 파일의 경우, PostCSS 처리 및 CSS Modules, HMR을 위한 래핑(wrapping) 등이 이루어진다.\n- .vue 또는 .svelte 같은 SFC(Single File Component)는 해당 플러그인의 transform 훅에서 이미 처리되었을 가능성이 높지만, 이 단계에서 추가적인 Vite 내부 처리가 적용될 수 있다.\n\n---\n\n### 4. 결과 집계 및 반환 (Result Aggregation & Return)\n- 모든 변환 과정을 거친 최종 코드(result.code)와 함께, 디버깅을 위한 소스맵(result.map), 그리고 플러그인들이 전달한 추가 메타데이터(result.meta)를 포함하는 객체를 반환한다.\n- 이 결과는 HTTP 응답으로 브라우저에 전달되거나, 서버 사이드 렌더링(SSR) 시에는 서버 측 실행 환경에서 사용된다.\n\n\n그러면 아래 예시 코드를 활용해 Vite 개발 서버 환경에서 특정 모듈의 변환 결과를 확인해보자.\n\n```ts\nconst result = await server.transformRequest('/src/main.ts', {\n  html: server.config.root + '/index.html'\n});\n\nif (result) {\n  console.log(result.code);\n}\n```\n\n**server**는 현재 실행 중인 ViteDevServer의 인스턴스를 가리킨다. 이 객체는 Vite 개발 서버의 다양한 기능과 설정에 접근할 수 있는 진입점 역할을 한다.\n\n**server.transformRequest(url, options)** 에서 url은 변환을 요청할 모듈의 URL 경로로, 예시에서는 `'/src/main.ts'`로, 프로젝트 소스 디렉토리 내의 main.ts 파일이다. 이 URL은 웹 브라우저가 요청하는 경로와 유사한 형태를 가진다.\n\noptions은 변환 과정에 영향을 줄 수 있는 추가적인 컨텍스트 정보를 제공하는 객체이다. 예시코드에서 `html: server.config.root + '/index.html'`로, 현재 변환 요청이 어떤 HTML 파일을 기준으로 이루어지는지를 명시한다. `server.config.root`는 Vite 프로젝트의 루트 디렉토리를 나타내며, 여기에 /index.html을 더해 일반적으로 프로젝트의 메인 HTML 파일 경로를 지정한다. \n\n이 정보는 특정 플러그인이 HTML 컨텍스트에 따라 다르게 동작하거나, CSS `@import` 경로 해석, 혹은 SSR(Server-Side Rendering) 시 에셋 번들링 등에서 활용될 수 있다.\n\n---\n\n## 내부 구조를 코드와 함께 보기\n\nVite의 [`transformRequest`](https://github.com/vitejs/vite/blob/main/packages/vite/src/node/server/transformRequest.ts) 함수의 실제 구현은 HMR, 소스맵 처리, 캐싱 전략 등 다양한 요소가 고려되어 상당히 어렵고 정교하다. 그렇기에 핵심적인 처리 흐름을 간략화하여 살펴보자.\n\n핵심은 **\"ID 해석 → 로드 → (플러그인 & esbuild) 변환 → 캐싱 및 반환\"** 의 흐름으로 요약할 수 있다. 이 과정을 통해 Vite는 요청된 모듈을 효율적으로 처리하고 빠른 개발 서버 성능을 제공한다. 이 부분을 명심하고 아래 설명을 따라가보자.\n\n\n```ts\n\n// 실제 transformRequest 함수의 시그니처 및 초기 캐시 확인 로직 (간략화)\nexport async function transformRequest(\n  environment: DevEnvironment, \n  url: string,                \n  options: TransformOptions = {} \n): Promise<TransformResult | null> { \n\n  // (옵션 기본값 설정, 서버 닫힘 상태 확인 등의 전처리 로직이 여기에 위치합니다.)\n\n  //    동일한 URL과 옵션에 대한 요청이 이미 처리 중인지 확인합니다.\n  const cacheKey = `${options.html ? 'html:' : ''}${url}`;\n  const pending = environment._pendingRequests.get(cacheKey);\n\n  if (pending) {\n    // 이미 진행 중인 요청이 있고, 해당 요청이 현재 시점에서도 유효하다면\n    return pending.request;\n  }\n\n  // 새로운 변환 작업 시작\n  return result;\n}\n```\n\n---\n\n### 1단계 : 초기화 및 캐시 확인\n\n요청 URL과 컨텍스트를 기반으로 캐시 키를 생성한다. 이미 동일한 요청이 진행 중인지 확인하고, 있다면 그 결과를 기다린다. 모듈이 마지막으로 무효화된 시간을 기준으로 최신 상태인지 확인한다.\n\n실제 Vite 소스코드에서는 doTransform, loadAndTransform 등의 내부 함수로 분리되어 처리한다. 그리고 에러 처리, HMR을 위한 소프트 무효화(soft invalidation) 처리, 의존성 최적화 연동 등 훨씬 더 많은 세부 로직이 포함되어 있다.\n\n--- \n\n### 2단계 : URL 정규화 및 모듈 ID 해석\n\nURL에서 불필요한 쿼리(예: 타임스탬프)를 제거한다. 그리고 `pluginContainer.resolveId(url)`를 호출하여 플러그인을 통해 URL을 실제 파일 시스템 경로 또는 고유 ID로 변환한다.  (예: '/src/main.ts' -> '/Users/username/my-project/src/main.ts')\n\n이렇게 변환된 ID를 기준으로 모듈 그래프에서 기존 모듈 정보를 조회하고, 유효한 캐시가 있다면 반환한다.\n\n---\n\n### 3단계 : 코드 로드 (Load)\n\n`pluginContainer.load(id)`를 호출하여 등록된 플러그인들의 `load` 훅을 실행한다. 플러그인이 모듈 코드를 반환하면 그 코드를 사용하고, 그렇지 않으면 파일 시스템에서 직접 파일을 읽어온다. 로드된 코드에서 인라인 소스맵이 있다면 추출한다.\n\n---\n\n### 4단계 : 코드 변환 (Transform)\n\n`pluginContainer.transform(code, id, { inMap: map })`을 호출하여 등록된 모든 플러그인의 `transform` 훅이 순차적으로 실행되어 코드를 변환한다.  (예: Vue SFC 처리, PostCSS 변환, 사용자 정의 변환 등)\n\nTypeScript, JSX, TSX와 같은 파일은 Vite에 내장된 esbuild 플러그인 또는 관련 플러그인에 의해 JavaScript로 매우 빠르게 트랜스파일된다. 각 플러그인은 코드와 소스맵을 입력받아, 수정된 코드와 소스맵을 다음 플러그인으로 전달하거나 최종 결과로 반환한다.\n\n---\n\n\n### 5단계 : 소스맵 후처리\n\n변환 과정에서 생성되거나 수정된 소스맵을 정규화한다. 원본 소스 내용을 소스맵에 포함시키거나(`injectSourcesContent`), 특정 소스 파일을 무시하는(`sourcemapIgnoreList`) 등의 후처리를 적용한다.\n\n이 다음 단계에서 SSR 환경을 위한 추가 변환을 할 수 있다.\n\n\n---\n\n### 6단계 : 결과 생성 및 캐싱\n\n최종적으로 변환된 코드, 소스맵, ETag(캐싱용) 등을 포함하는 결과 객체를 생성한다. 만약 모듈 처리 중에 해당 모듈이 무효화되지 않았다면, 이 결과를 모듈 그래프에 캐싱하여 다음 요청 시 빠르게 재사용할 수 있도록 한다.\n\n\n---\n\n## transformRequest이 왜 중요한가?\n\n`transformRequest` 함수는 Vite의 핵심 기능인 모듈 핫 리로딩(HMR)을 가능하게 하는 중추적인 역할을 한다. 개발 중 코드가 변경되면, `transformRequest`는 해당 모듈만 신속하게 다시 읽어 변환하고 브라우저에 전달하여 즉각적인 화면 업데이트를 제공한다. \n\n또한, 개발자가 특정 플러그인을 개발하거나 기존 플러그인의 동작을 디버깅할 때 매우 유용하다. 예를 들어, custom transform 훅이 예상대로 작동하는지 테스트하거나, TypeScript, JSX, Vue SFC와 같은 파일이 JavaScript로 어떻게 변환되는지 그 결과를 직접 추적하고 확인할 수 있다. \n\n이처럼 `transformRequest`는 Vite의 빠른 개발 경험을 제공하고, 플러그인 생태계를 확장하며, 코드 변환 과정을 투명하게 만들어 개발자에게 강력한 분석 도구를 제공한다는 점에서 매우 중요하다.\n\n---\n\n## 연관 이슈 및 참고자료\n\n- [Nuxt에서 transformRequest 관련 이슈](https://github.com/vitejs/vite/issues/4898)  \n  → SSR 환경에서 transform이 누락되는 버그 사례\n- [Vite JavaScript API 문서](https://vite.dev/guide/api-javascript)  \n  → createServer, transformRequest, ssrLoadModule 등의 공식 API 가이드\n- [esbuild transform API](https://esbuild.github.io/api/#transform)  \n  → TypeScript → JavaScript로 변환되는 과정 이해에 필수\n\n---\n\n## 마치며\n\n`transformRequest()`는 Vite 개발 서버에서 가장 중요한 처리 로직 중 하나다.  \n단순히 내부용 API로 보기보다는, **플러그인 개발, 변환 디버깅, 성능 분석** 시 활용할 수 있는 강력한 도구로 이해하면 좋다.\n\n그리고 이러한 내부 API를 탐색하고 실험하는 과정은 번들러에 대한 이해도를 한층 높여준다.\n\n 다음엔 Vite의 `ssrLoadModule()`이나 `transformWithEsbuild()`도 함께 분석해보면 재미있을 것 같다.\n\n---\n\n```toc\n```\n",
      "html": "<p>Vite를 사용하다 보면, 개발 서버에서 모듈이 실시간으로 빠르게 갱신되는 경험을 하게 된다.<br>\n이 과정의 핵심에 있는 함수가 바로 <code>transformRequest()</code>다.</p>\n<p>이번 글에서는 Vite 개발 서버 내부에서 이 함수가 어떤 역할을 하는지, 어떤 순서로 동작하는지, 그리고 실제 사용하면서 주의할 점은 무엇인지까지 정리해본다.</p>\n<hr>\n<h2 id=\"transformrequest란\"><a class=\"anchor\" href=\"#transformrequest란\">TransformRequest란?</a></h2>\n<p>Vite의 개발 서버는 브라우저로부터의 HTTP 요청을 인터셉트하여, 요청된 모듈을 즉석에서 변환(transform) 후 제공한다. 이 핵심 과정을 담당하는 내부 함수가 바로 <code>transformRequest(url, serverContext)</code>이다. 이 함수는 Vite의 플러그인 시스템과 깊이 연관되어 있으며, 다음과 같은 정교한 파이프라인을 통해 동작한다.</p>\n<hr>\n<h3 id=\"1-모듈-식별-및-로딩-module-identification--loading\"><a class=\"anchor\" href=\"#1-모듈-식별-및-로딩-module-identification--loading\">1. 모듈 식별 및 로딩 (Module Identification &#x26; Loading)</a></h3>\n<ul>\n<li>요청된 url을 기준으로 Vite의 모듈 해석 로직 (Module Resolution)을 통해 실제 파일 시스템 경로 또는 가상 모듈 ID를 확정한다.</li>\n<li>확정된 ID를 사용하여 load 훅을 호출하는 플러그인을 통해 모듈의 원본 코드를 로드한다. 기본적으로는 파일 시스템에서 직접 파일을 읽어오지만, 플러그인을 통해 커스텀 로딩 로직을 구현할 수 있다.</li>\n</ul>\n<hr>\n<h3 id=\"2-플러그인-기반-코드-변환-plugin-driven-code-transformation\"><a class=\"anchor\" href=\"#2-플러그인-기반-코드-변환-plugin-driven-code-transformation\">2. 플러그인 기반 코드 변환 (Plugin-driven Code Transformation)</a></h3>\n<ul>\n<li>로드된 코드는 Vite에 등록된 플러그인들의 transform 훅 체인을 통과한다. 각 플러그인은 transform(code, id, options) 훅을 통해 코드를 분석하고 수정할 기회를 갖는다.</li>\n<li>이 과정에서 Babel, PostCSS, SASS/LESS 전처리기 등 다양한 변환 작업이 순차적으로 적용될 수 있다. 플러그인은 코드 문자열뿐만 아니라 AST(Abstract Syntax Tree) 레벨에서의 조작도 수행할 수 있으며, 소스맵(source map) 생성 및 관리를 지원한다.</li>\n<li>Vite는 이 과정에서 모듈 간의 의존성을 파악하여 모듈 그래프(Module Graph)를 구축하고, HMR(Hot Module Replacement)을 위한 데이터를 수집한다.</li>\n</ul>\n<hr>\n<h3 id=\"3-내장-변환기-적용-built-in-transformers-application\"><a class=\"anchor\" href=\"#3-내장-변환기-적용-built-in-transformers-application\">3. 내장 변환기 적용 (Built-in Transformers Application)</a></h3>\n<ul>\n<li>플러그인 변환 이후, 필요한 경우 Vite의 내장 변환기가 동작한다. 대표적으로 esbuild가 사용되어 TypeScript, JSX, TSX 파일을 매우 빠른 속도로 순수 JavaScript로 트랜스파일한다.</li>\n<li>.css 파일의 경우, PostCSS 처리 및 CSS Modules, HMR을 위한 래핑(wrapping) 등이 이루어진다.</li>\n<li>.vue 또는 .svelte 같은 SFC(Single File Component)는 해당 플러그인의 transform 훅에서 이미 처리되었을 가능성이 높지만, 이 단계에서 추가적인 Vite 내부 처리가 적용될 수 있다.</li>\n</ul>\n<hr>\n<h3 id=\"4-결과-집계-및-반환-result-aggregation--return\"><a class=\"anchor\" href=\"#4-결과-집계-및-반환-result-aggregation--return\">4. 결과 집계 및 반환 (Result Aggregation &#x26; Return)</a></h3>\n<ul>\n<li>모든 변환 과정을 거친 최종 코드(result.code)와 함께, 디버깅을 위한 소스맵(result.map), 그리고 플러그인들이 전달한 추가 메타데이터(result.meta)를 포함하는 객체를 반환한다.</li>\n<li>이 결과는 HTTP 응답으로 브라우저에 전달되거나, 서버 사이드 렌더링(SSR) 시에는 서버 측 실행 환경에서 사용된다.</li>\n</ul>\n<p>그러면 아래 예시 코드를 활용해 Vite 개발 서버 환경에서 특정 모듈의 변환 결과를 확인해보자.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> result</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> await</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> server.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">transformRequest</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'/src/main.ts'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  html: server.config.root </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">+</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> '/index.html'</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (result) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(result.code);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p><strong>server</strong>는 현재 실행 중인 ViteDevServer의 인스턴스를 가리킨다. 이 객체는 Vite 개발 서버의 다양한 기능과 설정에 접근할 수 있는 진입점 역할을 한다.</p>\n<p><strong>server.transformRequest(url, options)</strong> 에서 url은 변환을 요청할 모듈의 URL 경로로, 예시에서는 <code>'/src/main.ts'</code>로, 프로젝트 소스 디렉토리 내의 main.ts 파일이다. 이 URL은 웹 브라우저가 요청하는 경로와 유사한 형태를 가진다.</p>\n<p>options은 변환 과정에 영향을 줄 수 있는 추가적인 컨텍스트 정보를 제공하는 객체이다. 예시코드에서 <code>html: server.config.root + '/index.html'</code>로, 현재 변환 요청이 어떤 HTML 파일을 기준으로 이루어지는지를 명시한다. <code>server.config.root</code>는 Vite 프로젝트의 루트 디렉토리를 나타내며, 여기에 /index.html을 더해 일반적으로 프로젝트의 메인 HTML 파일 경로를 지정한다.</p>\n<p>이 정보는 특정 플러그인이 HTML 컨텍스트에 따라 다르게 동작하거나, CSS <code>@import</code> 경로 해석, 혹은 SSR(Server-Side Rendering) 시 에셋 번들링 등에서 활용될 수 있다.</p>\n<hr>\n<h2 id=\"내부-구조를-코드와-함께-보기\"><a class=\"anchor\" href=\"#내부-구조를-코드와-함께-보기\">내부 구조를 코드와 함께 보기</a></h2>\n<p>Vite의 <a href=\"https://github.com/vitejs/vite/blob/main/packages/vite/src/node/server/transformRequest.ts\"><code>transformRequest</code></a> 함수의 실제 구현은 HMR, 소스맵 처리, 캐싱 전략 등 다양한 요소가 고려되어 상당히 어렵고 정교하다. 그렇기에 핵심적인 처리 흐름을 간략화하여 살펴보자.</p>\n<p>핵심은 <strong>\"ID 해석 → 로드 → (플러그인 &#x26; esbuild) 변환 → 캐싱 및 반환\"</strong> 의 흐름으로 요약할 수 있다. 이 과정을 통해 Vite는 요청된 모듈을 효율적으로 처리하고 빠른 개발 서버 성능을 제공한다. 이 부분을 명심하고 아래 설명을 따라가보자.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 실제 transformRequest 함수의 시그니처 및 초기 캐시 확인 로직 (간략화)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> async</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> transformRequest</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  environment</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> DevEnvironment</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  url</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,                </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  options</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> TransformOptions</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {} </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Promise</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">TransformResult</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">> { </span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // (옵션 기본값 설정, 서버 닫힘 상태 확인 등의 전처리 로직이 여기에 위치합니다.)</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  //    동일한 URL과 옵션에 대한 요청이 이미 처리 중인지 확인합니다.</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> cacheKey</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> `${</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">options</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">.</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">html</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> ?</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> 'html:'</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> :</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> ''}${</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">url</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">}`</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> pending</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> environment._pendingRequests.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">get</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(cacheKey);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  if</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (pending) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">    // 이미 진행 중인 요청이 있고, 해당 요청이 현재 시점에서도 유효하다면</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> pending.request;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // 새로운 변환 작업 시작</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> result;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<hr>\n<h3 id=\"1단계--초기화-및-캐시-확인\"><a class=\"anchor\" href=\"#1단계--초기화-및-캐시-확인\">1단계 : 초기화 및 캐시 확인</a></h3>\n<p>요청 URL과 컨텍스트를 기반으로 캐시 키를 생성한다. 이미 동일한 요청이 진행 중인지 확인하고, 있다면 그 결과를 기다린다. 모듈이 마지막으로 무효화된 시간을 기준으로 최신 상태인지 확인한다.</p>\n<p>실제 Vite 소스코드에서는 doTransform, loadAndTransform 등의 내부 함수로 분리되어 처리한다. 그리고 에러 처리, HMR을 위한 소프트 무효화(soft invalidation) 처리, 의존성 최적화 연동 등 훨씬 더 많은 세부 로직이 포함되어 있다.</p>\n<hr>\n<h3 id=\"2단계--url-정규화-및-모듈-id-해석\"><a class=\"anchor\" href=\"#2단계--url-정규화-및-모듈-id-해석\">2단계 : URL 정규화 및 모듈 ID 해석</a></h3>\n<p>URL에서 불필요한 쿼리(예: 타임스탬프)를 제거한다. 그리고 <code>pluginContainer.resolveId(url)</code>를 호출하여 플러그인을 통해 URL을 실제 파일 시스템 경로 또는 고유 ID로 변환한다.  (예: '/src/main.ts' -> '/Users/username/my-project/src/main.ts')</p>\n<p>이렇게 변환된 ID를 기준으로 모듈 그래프에서 기존 모듈 정보를 조회하고, 유효한 캐시가 있다면 반환한다.</p>\n<hr>\n<h3 id=\"3단계--코드-로드-load\"><a class=\"anchor\" href=\"#3단계--코드-로드-load\">3단계 : 코드 로드 (Load)</a></h3>\n<p><code>pluginContainer.load(id)</code>를 호출하여 등록된 플러그인들의 <code>load</code> 훅을 실행한다. 플러그인이 모듈 코드를 반환하면 그 코드를 사용하고, 그렇지 않으면 파일 시스템에서 직접 파일을 읽어온다. 로드된 코드에서 인라인 소스맵이 있다면 추출한다.</p>\n<hr>\n<h3 id=\"4단계--코드-변환-transform\"><a class=\"anchor\" href=\"#4단계--코드-변환-transform\">4단계 : 코드 변환 (Transform)</a></h3>\n<p><code>pluginContainer.transform(code, id, { inMap: map })</code>을 호출하여 등록된 모든 플러그인의 <code>transform</code> 훅이 순차적으로 실행되어 코드를 변환한다.  (예: Vue SFC 처리, PostCSS 변환, 사용자 정의 변환 등)</p>\n<p>TypeScript, JSX, TSX와 같은 파일은 Vite에 내장된 esbuild 플러그인 또는 관련 플러그인에 의해 JavaScript로 매우 빠르게 트랜스파일된다. 각 플러그인은 코드와 소스맵을 입력받아, 수정된 코드와 소스맵을 다음 플러그인으로 전달하거나 최종 결과로 반환한다.</p>\n<hr>\n<h3 id=\"5단계--소스맵-후처리\"><a class=\"anchor\" href=\"#5단계--소스맵-후처리\">5단계 : 소스맵 후처리</a></h3>\n<p>변환 과정에서 생성되거나 수정된 소스맵을 정규화한다. 원본 소스 내용을 소스맵에 포함시키거나(<code>injectSourcesContent</code>), 특정 소스 파일을 무시하는(<code>sourcemapIgnoreList</code>) 등의 후처리를 적용한다.</p>\n<p>이 다음 단계에서 SSR 환경을 위한 추가 변환을 할 수 있다.</p>\n<hr>\n<h3 id=\"6단계--결과-생성-및-캐싱\"><a class=\"anchor\" href=\"#6단계--결과-생성-및-캐싱\">6단계 : 결과 생성 및 캐싱</a></h3>\n<p>최종적으로 변환된 코드, 소스맵, ETag(캐싱용) 등을 포함하는 결과 객체를 생성한다. 만약 모듈 처리 중에 해당 모듈이 무효화되지 않았다면, 이 결과를 모듈 그래프에 캐싱하여 다음 요청 시 빠르게 재사용할 수 있도록 한다.</p>\n<hr>\n<h2 id=\"transformrequest이-왜-중요한가\"><a class=\"anchor\" href=\"#transformrequest이-왜-중요한가\">transformRequest이 왜 중요한가?</a></h2>\n<p><code>transformRequest</code> 함수는 Vite의 핵심 기능인 모듈 핫 리로딩(HMR)을 가능하게 하는 중추적인 역할을 한다. 개발 중 코드가 변경되면, <code>transformRequest</code>는 해당 모듈만 신속하게 다시 읽어 변환하고 브라우저에 전달하여 즉각적인 화면 업데이트를 제공한다.</p>\n<p>또한, 개발자가 특정 플러그인을 개발하거나 기존 플러그인의 동작을 디버깅할 때 매우 유용하다. 예를 들어, custom transform 훅이 예상대로 작동하는지 테스트하거나, TypeScript, JSX, Vue SFC와 같은 파일이 JavaScript로 어떻게 변환되는지 그 결과를 직접 추적하고 확인할 수 있다.</p>\n<p>이처럼 <code>transformRequest</code>는 Vite의 빠른 개발 경험을 제공하고, 플러그인 생태계를 확장하며, 코드 변환 과정을 투명하게 만들어 개발자에게 강력한 분석 도구를 제공한다는 점에서 매우 중요하다.</p>\n<hr>\n<h2 id=\"연관-이슈-및-참고자료\"><a class=\"anchor\" href=\"#연관-이슈-및-참고자료\">연관 이슈 및 참고자료</a></h2>\n<ul>\n<li><a href=\"https://github.com/vitejs/vite/issues/4898\">Nuxt에서 transformRequest 관련 이슈</a><br>\n→ SSR 환경에서 transform이 누락되는 버그 사례</li>\n<li><a href=\"https://vite.dev/guide/api-javascript\">Vite JavaScript API 문서</a><br>\n→ createServer, transformRequest, ssrLoadModule 등의 공식 API 가이드</li>\n<li><a href=\"https://esbuild.github.io/api/#transform\">esbuild transform API</a><br>\n→ TypeScript → JavaScript로 변환되는 과정 이해에 필수</li>\n</ul>\n<hr>\n<h2 id=\"마치며\"><a class=\"anchor\" href=\"#마치며\">마치며</a></h2>\n<p><code>transformRequest()</code>는 Vite 개발 서버에서 가장 중요한 처리 로직 중 하나다.<br>\n단순히 내부용 API로 보기보다는, <strong>플러그인 개발, 변환 디버깅, 성능 분석</strong> 시 활용할 수 있는 강력한 도구로 이해하면 좋다.</p>\n<p>그리고 이러한 내부 API를 탐색하고 실험하는 과정은 번들러에 대한 이해도를 한층 높여준다.</p>\n<p>다음엔 Vite의 <code>ssrLoadModule()</code>이나 <code>transformWithEsbuild()</code>도 함께 분석해보면 재미있을 것 같다.</p>\n<hr>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "250507/index.md",
    "_raw": {
      "sourceFilePath": "250507/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "250507",
      "contentType": "markdown",
      "flattenedPath": "250507"
    },
    "type": "Post",
    "slug": "/250507",
    "categoryArray": [
      "프론트엔드"
    ],
    "readingTime": "14 min read",
    "excerpt": "Vite를 사용하다 보면, 개발 서버에서 모듈이 실시간으로 빠르게 갱신되는 경험을 하게 된다. 이 과정의 핵심에 있는 함수가 바로 transformRequest()다. 이번 글에서는 Vite 개발 서버 내부에서 이 함수가 어떤 역할을 하는지, 어떤 순서로 동작하는지, 그리고 실제 사용하면서 주의할 점은 무엇인지까지 정리해본다. TransformRequest..."
  },
  {
    "title": "React Fiber 완전 정복",
    "date": "2025-05-20T00:00:00.000Z",
    "categories": "프론트엔드 React",
    "body": {
      "raw": "\nReact를 최근에 접한 개발자라면 대부분 한 번쯤은 \"Fiber\"라는 용어를 들어봤을 것이다. 실제로 면접에서 자주 등장하는 주제이기 때문에, 작업 단위를 나누어 처리한다는 식의 표면적인 설명은 익숙할 수 있다. 하지만 Fiber가 왜 도입되었는지, 이전에는 React가 어떤 방식으로 동작했는지, 그리고 Fiber가 어떻게 설계되어 있는지는 잘 모르는 경우가 많다.\n\n이 글에서는 단순한 개념 설명을 넘어서, React Fiber의 내부 동작 방식과 구조가 어떻게 구현되어 있는지 시각 자료와 함께 깊이 있게 살펴보려 한다.\n\n---\n\n## 왜 Fiber가 등장헀을까?\n\nReact 15까지는 재귀 기반의 `Stack Reconciler`를 사용했는데, 이는 다음과 같은 한계를 가졌다.\n\n- 렌더링 중 중단 불가 (모든 트리를 한 번에 렌더)\n- 애니메이션, 제스처, 레이아웃 같은 실시간 작업 대응 어려움\n- UI가 복잡해질수록 성능 병목 증가\n- 에러 발생 시 전체 앱 중단\n\n이에 React 팀은 작업을 쪼개고 우선순위를 조절할 수 있는 새로운 실행 모델을 고민했고, 그렇게 탄생한 것이 React Fiber다. react-fiber-architecture 은 Andrew Clark이 제안한 개념으로, [문서](https://github.com/acdlite/react-fiber-architecture)를 참고할 수 있다.\n\n~~이 글을 작성하고 얼마 안되어, React 팀에 합류한것으로 보인다. 그 이후 React 는 엄청난 발전을..~~\n\n--- \n\n### Stack vs Fiber: 코드로 이해하는 차이점\n\n아래는 동일한 컴포넌트를 렌더링할 때, Stack과 Fiber가 어떻게 서로 다른 구조로 렌더링하는지를 코드 수준에서 비교한 것이다.\n\n```jsx\nfunction renderComponent(component) {\n  const element = component.render();\n  element.props.children.forEach(child => renderComponent(child)); // 재귀 호출\n}\n```\n\nStack 방식은 이렇게 렌더링한다. 이 방식은 간단하지만, 렌더링이 깊어지면 브라우저의 메인 스레드를 한 번에 오래 점유하게 되어 UI가 멈춘다. 동작을 살펴보기 위해 아래 동영상을 살펴보자\n\n\n<video width=\"640\" height=\"480\" controls>\n  <source src=\"/content/250520/stack.mov\" type=\"video/mp4\">\n</video>\n\n---\n\nFiber 방식은 작업을 작게 쪼개고 requestIdleCallback으로 나눠 실행하므로, 렌더링 중에도 사용자 이벤트(버튼 클릭 등)를 차단하지 않는다.\n\n```jsx\nfunction performWork(deadline) {\n  while (nextUnitOfWork && deadline.timeRemaining() > 5) {\n    nextUnitOfWork = performUnitOfWork(nextUnitOfWork);\n  }\n  requestIdleCallback(performWork); // 나눠서 실행\n}\n```\n\n<video width=\"640\" height=\"480\" controls>\n  <source src=\"/content/250520/fiber.mov\" type=\"video/mp4\">\n</video>\n\n---\n\n만약 동작을 비교해보고싶으면 **<a href=\"https://animated-lollipop-2b6cbb.netlify.app/\" target=\"_blank\" rel=\"noopener noreferrer\">여기를</a>** 클릭하면 된다. 그러면 직접 Fiber Reconciler 와 Stack Reconciler의 동작을 볼 수 있다.\n\n---\n\n# Fiber\n\nFiber는 React의 렌더링 자체를 구성하는 런타임 아키텍처다.  다음과 같은 특징을 가진다\n\n- **작업 단위**로 분리\n- **우선순위 기반 스케줄링** 가능\n- **렌더링 도중 작업 일시 중단/재개** 지원\n\nFiber는 **current(현재 화면을 구성 중인 트리)** 와 **workInProgress(다음 렌더링을 준비 중인 트리)** 두 트리 구조를 유지한다. 이 두 트리는 alternate 속성으로 서로 연결되어, 작업 완료 시 교체된다.\n\n```ts\ncurrentFiber.alternate === workInProgressFiber;\n```\n\nFiber는 JavaScript 객체이며, 각 React Element는 해당 객체로 변환된다.\n\n그렇다면, Fiber 노드는 내부적으로 어떤 구조를 가지고 있을까?\n단순하게 생각해보면 \"노드\"라는 개념에서 떠올릴 수 있는 기본 속성들 예를 들어 노드의 타입, key, 자식 노드 등을 포함하고 있을 것이라 예상할 수 있다.\n\n이제 실제로 Fiber 노드가 어떻게 구성되어 있는지 살펴보자.\n\n---\n\n## Fiber 구조\n\nReact Fiber 노드 구조에 관한 공식 문서를 찾아봤지만, React 팀은 Fiber의 내부 구현에 대한 공식 문서를 제공하지 않고 있다. 대신, **Andrew Clark(React 팀)이 작성한 ([공식 문서](https://github.com/acdlite/react-fiber-architecture))가** 주요 참고 자료로 널리 사용된다. 제공해준 자료를 활용해서 Fiber의 구조를 살펴보자\n\n---\n\n### type, key\n\n`zacharydfreeman/react-fiber`의 `react-fiber.ts` 파일에서는 ReactElement 인터페이스를 통해 type과 key가 어떻게 정의되는지 볼 수 있다.\n\n```ts\nexport interface ReactElement {\n  type: string | Function; // type은 문자열(HTML 태그) 또는 함수(컴포넌트)\n  props: {\n    [key: string]: any;\n    children: ReactElement[];\n  };\n  key: string | null;      // key는 문자열 또는 null\n  ref: any;\n  _owner: FiberNode | null;\n}\n\nexport interface FiberNode {\n  element: ReactElement; // FiberNode는 ReactElement를 포함하며, 이를 통해 type과 key에 접근\n  parent: FiberNode | null;\n  child: FiberNode | null;\n  sibling: FiberNode | null;\n  // ... 기타 필드\n}\n```\n\ntype 은 React가 이전 렌더링된 Fiber 노드와 새로 생성된 엘리먼트를 비교할 때 가장 먼저 type을 확인하기에 재조정 과정에서 매우 중요하다.\n\n- 만약 이전에도 div였고 이번에도 div이거나, 이전에도 MyComponent였고 이번에도 MyComponent라면 React는 해당 Fiber 노드를 재사용하여 속성(props)만 업데이트하려고 시도\n- 만약 이전에는 div였는데 이번에는 span으로 바뀌었거나, MyComponent에서 OtherComponent로 바뀌었다면 React는 기존 Fiber 노드를 버리고 새로운 type에 맞는 새 Fiber 노드를 생성\n\nkey는 주로 리스트(배열) 렌더링 시에 사용된다. 리스트의 아이템들이 변경, 추가, 삭제, 또는 재정렬될 때, key는 React가 각 아이템을 효율적으로 식별하고 최소한의 DOM 변경으로 업데이트할 수 있도록 돕는다.\n\nkey가 없으면 React는 리스트 아이템의 순서가 변경되었을 때 어떤 아이템이 어떤 아이템으로 이동했는지 정확히 알기 어렵다. 이로 인해 불필요하게 많은 DOM 조작이 발생하거나 컴포넌트의 내부 상태가 의도치 않게 유지/소실될 수 있다.\n\n\n\n\n\n\n--- \n\n### 트리 구조 (child, sibling, return)\n\n```js\nfunction 부모() {\n  return [<자식1/>, <자식2/>];\n}\n```\n\n- child: 컴포넌트의 render 메서드가 반환한 첫 번째 자식 요소를 가리킨다. 위 예제에서는 `<자식1/>`이 해당된다.\n\n- sibling: 동일한 부모를 가진 다음 형제 요소를 의미한다. 위 예제에서 `<자식1/>`의 sibling은 `<자식2/>`이다.\n\n- return: 현재 Fiber 노드의 처리가 끝난 뒤 되돌아갈 부모 Fiber를 가리킨다. 위 예제에서 `<자식1/>`과 `<자식2/>`의 return은 모두 부모이다.\n\n이 세 필드는 함께 단일 연결 리스트(Singly Linked List) 형태의 트리 구조를 형성한다. React는 이 구조를 기반으로 노드를 순회하며 렌더링 작업을 수행한다.\n\n---\n\n### pendingProps, memoizedProps\n\npendingProps는 해당 Fiber가 실행되기 시작할 시점에 전달된 새로운 props를 의미하며,\nmemoizedProps는 이전 렌더링에서 처리 완료된 이전 props를 나타낸다.\n\n이 두 값이 동일하다면, React는 이전 렌더링 결과를 그대로 재사용할 수 있어, 불필요한 연산을 방지하고 성능을 최적화할 수 있다.\n\n---\n\n### 작업 우선순위 (pendingWorkPriority)\n\nReact Fiber는 각 작업 단위에 숫자 기반의 **우선순위(priority)를** 부여하여, 스케줄러가 어떤 작업을 먼저 처리할지 판단할 수 있도록 한다.\n여기서 0(NoWork)을 제외하면, 숫자가 클수록 우선순위는 낮아지는 구조다.\n\n기존의 React에서는 setState가 호출되면 전체 컴포넌트 트리가 즉시 재렌더링되어 브라우저의 메인 스레드를 블로킹하는 문제가 있었다.\n하지만 Fiber가 도입된 이후, setState는 해당 Fiber 노드에 우선순위를 부여하는 방식으로 변경되었고, 스케줄러는 이 우선순위를 기반으로 다음에 처리할 작업을 선택하게 되었다.\n\n이 구조 덕분에 React는 애니메이션, 제스처, 레이아웃 등 실시간 상호작용을 방해하지 않고 작업을 나눠 수행할 수 있게 되었고, 이후에는 더욱 정교한 lane 시스템으로 발전하여 작업 분배의 효율성과 유연성이 크게 향상되었다.\n\n---\n\n### Alternate\n\nReact Fiber의 alternate 시스템은 더블 버퍼링(Double Buffering) 개념을 구현한 것이다. 이는 비디오 게임에서 화면의 깜빡임을 방지하기 위해 사용하는 기법과 유사하다.\n\n```js\nfunction 위험한방식() {\n  currentTree.updateDirectly(); // ❌ 위험!\n}\n```\n\n만약 현재 트리를 직접 수정한다면, 깜빡이거나 불완전한 상태의 화면이 사용자에게 노출될 수 있다.\n\nReact는 이러한 문제를 방지하기 위해 현재 트리는 그대로 유지한 채, 새로운 작업용 트리(work-in-progress)에서 변경 작업을 수행한다. 모든 작업이 완료된 후에야 화면에 한 번에 반영되므로, 사용자 경험이 매끄럽게 유지된다.\n\n이때 사용되는 것이 alternate 구조다.\n각 Fiber는 자신과 쌍을 이루는 또 다른 Fiber를 참조하며, `currentFiber.alternate === workInProgressFiber` 와 같이 서로를 가리키는 이중 참조 구조를 가진다.\n\n이 구조 덕분에 React는 기존 alternate Fiber 객체를 재사용하면서 메모리 효율성을 확보할 수 있다.\n변경이 발생한 경우에는 해당 필드만 업데이트하여 렌더링하고, 그렇지 않으면 이전 결과를 그대로 활용하는 bailout(스킵) 최적화가 가능해진다.\n\n---\n\n### output\n\noutput은 실제 DOM에 적용될 수 있는 구체적인 DOM 노드 정보를 의미한다.\n\n```jsx\n// 첫번째 예시\nfunction 아바타() {\n  return <img src=\"profile.jpg\" />; \n}\n```\n\n첫번째 예시는 React 엘리먼트를 반환하지만, 실제 DOM은 생성되지 않는다.\n\n\n```jsx\n// 두번째 예시\n<img src=\"profile.jpg\" />  \n<div className=\"프로필\" /> \n```\n\n두번째 예시는 실제 각각 DOM Image 요소와 DOM Div 요소를 생성한다. 이제 더 자세하게 살펴보자.\n\n```jsx\nfunction 프로필() {\n  return (\n    <div className=\"프로필\">\n      <아바타 />\n      <정보 />\n    </div>\n  );\n}\n\nfunction 아바타() {\n  return <img src=\"profile.jpg\" alt=\"프로필\" />;\n}\n\nfunction 유저정보() {\n  return (\n    <div>\n      <h2>홍길동</h2>\n      <p>개발자</p>\n    </div>\n  );\n}\n```\n\n프로필 컴포넌트는 아바타와 유저정보를 렌더링한다. 그리고 아래와 같이 Fiber 트리와 output 을 생성한다.\n\n```\n프로필 (출력: 없음, 컴포넌트 함수)\n  │\n  └─► div.프로필 (출력: <div class=\"프로필\">...</div>)\n       │\n       ├─► 아바타 (출력: 없음, 컴포넌트 함수)\n       │    │\n       │    └─► img (출력: <img src=\"profile.jpg\" alt=\"프로필\">)\n       │\n       └─► 유저정보 (출력: 없음, 컴포넌트 함수)\n            │\n            └─► div (출력: <div>...</div>)\n                 │\n                 ├─► h2 (출력: <h2>홍길동</h2>)\n                 │\n                 └─► p (출력: <p>개발자</p>)\n```\n\n이제는 output 수집이 어떻게 되고 정보가 어떻게 전달되는지 살펴보자. \n\n처음 단계에서는 리프(호스트) 노드에서 output 이 생성된다.\n\n여기서 호스트 컴포넌트에서만 출력이 생성되는데, 호스트 컴포넌트(div,span,img)만 브라우저가 이해할 수 있기 때문이고, 사용자 컴포넌트(프로필,아바타,유저정보)는 추상화된 개념이기때문에 브라우저가 몰라 다른 요소와 조합되거나 다른 요소로 변환된다.\n\n```js\n// 호스트 컴포넌트들이 실제 DOM 정보 생성\nimg_fiber.output = createDOMElement('img', {\n  src: 'profile.jpg', \n  alt: '프로필'\n});\n\nh2_fiber.output = createDOMElement('h2', {}, '홍길동');\np_fiber.output = createDOMElement('p', {}, '개발자');\n```\n\n이제 부모로 부터 output 을 수집한다.\n\n```js\n// div 노드가 자식들의 출력을 수집\n유저정보_div_fiber.output = createDOMElement('div', {}, [\n  h2_fiber.output,  // <h2>홍길동</h2>\n  p_fiber.output    // <p>개발자</p>\n]);\n\n// 최상위 div가 모든 자식 출력을 수집  \n프로필_div_fiber.output = createDOMElement('div', {className: '프로필'}, [\n  img_fiber.output,      // <img src=\"profile.jpg\" alt=\"프로필\">\n  유저정보_div_fiber.output   // <div><h2>홍길동</h2><p>개발자</p></div>\n]);\n```\n\n마지막으로 컴포넌트는 자식의 출력을 그대로 전달한다.\n\n```js\n// 사용자 정의 컴포넌트는 자식의 출력을 위로 전달\n아바타_fiber.output = img_fiber.output;\n유저정보_fiber.output = 유저정보_div_fiber.output;\n프로필_fiber.output = 프로필_div_fiber.output;\n```\n\n---\n\n## Fiber의 작동 흐름 (Render vs Commit)\n\nFiber는 내부적으로 Render Phase와 Commit Phase라는 두 단계의 과정을 거친다.\n\n이 구조는 React가 UI 업데이트를 보다 유연하고 효율적으로 제어할 수 있도록 해준다. 각 단계는 서로 다른 목적과 특성을 가지며, 내부적으로는 다양한 함수와 스케줄링 로직을 통해 정교하게 작동한다.\n\n- Render Phase에서는 어떤 변화가 필요한지를 계산하며, 이 과정은 비동기적으로 수행될 수 있다.\n\n- Commit Phase에서는 계산된 변경 사항을 실제 DOM에 한 번에 적용하며, 이 단계는 동기적으로 실행된다.\n\n이러한 단계적 처리 방식은 React가 사용자 상호작용, 애니메이션, 네트워크 지연 등 다양한 조건 속에서도 부드럽고 일관된 UI 경험을 제공할 수 있는 기반이 된다.\n\n[![2.png](/content/250520/2.png)](https://storied-centaur-55230f.netlify.app/)\n\nFiber의 작동흐름을 확인하고 싶으면 위 이미지를 클릭해서 직접 확인해볼 수 있다.\n\n--- \n\n### Render Phase (비동기 가능)\n\nRender Phase는 UI에 어떤 변경이 필요한지 계산하는 단계로, DOM에는 실제로 아무런 영향을 주지 않는다. 이 단계는 비동기적으로 중단 및 재개가 가능하며, 주로 다음 두 함수 중심으로 동작한다\n\n- **beginWork(fiber)**: 현재 Fiber 노드에서 필요한 계산을 수행한다.\n\n  - 각 Fiber의 타입(Function Component, Class Component, Host Component 등)에 따라 적절한 로직을 실행\n\n  - 자식 Fiber 노드를 생성하고 연결\n\n  - props가 이전과 동일하다면 memoization을 활용해 스킵할 수 있음\n\n- **completeWork(fiber)**: 자식 노드의 작업이 완료되면 부모 방향으로 올라가며 작업을 마무리한다.\n\n  - DOM 생성 작업이나 effect 정보 준비\n\n  - 부모 방향으로 올라가며 누락된 정보를 보완\n\n  - 커밋 단계에서 실행할 작업을 effect list에 누적\n\n이 단계에서는 DOM을 직접 수정하지 않고, 오직 변경 사항을 계산만 수행한다.\n\n---\n\n### Commit Phase (항상 동기)\n\nCommit Phase는 Render Phase에서 계산된 변경 사항을 실제 DOM에 반영하는 단계다. 이 단계는 동기적으로 수행되며, 사용자의 화면에 즉시 영향을 준다.\n\n- DOM 조작: commitMutationEffects() 등을 통해 실제 DOM 업데이트 수행\n\n- 라이프사이클 및 훅 실행: componentDidMount, componentDidUpdate, useEffect 등 실행\n\n- Effect 처리: 각 effect 노드들을 nextEffect를 따라 선형 리스트 형태로 연결하여 순차적으로 처리\n\n이 단계는 중단이 불가능하며, 반드시 한 번에 끝까지 수행된다.\n\n\n\n```toc\n```",
      "html": "<p>React를 최근에 접한 개발자라면 대부분 한 번쯤은 \"Fiber\"라는 용어를 들어봤을 것이다. 실제로 면접에서 자주 등장하는 주제이기 때문에, 작업 단위를 나누어 처리한다는 식의 표면적인 설명은 익숙할 수 있다. 하지만 Fiber가 왜 도입되었는지, 이전에는 React가 어떤 방식으로 동작했는지, 그리고 Fiber가 어떻게 설계되어 있는지는 잘 모르는 경우가 많다.</p>\n<p>이 글에서는 단순한 개념 설명을 넘어서, React Fiber의 내부 동작 방식과 구조가 어떻게 구현되어 있는지 시각 자료와 함께 깊이 있게 살펴보려 한다.</p>\n<hr>\n<h2 id=\"왜-fiber가-등장헀을까\"><a class=\"anchor\" href=\"#왜-fiber가-등장헀을까\">왜 Fiber가 등장헀을까?</a></h2>\n<p>React 15까지는 재귀 기반의 <code>Stack Reconciler</code>를 사용했는데, 이는 다음과 같은 한계를 가졌다.</p>\n<ul>\n<li>렌더링 중 중단 불가 (모든 트리를 한 번에 렌더)</li>\n<li>애니메이션, 제스처, 레이아웃 같은 실시간 작업 대응 어려움</li>\n<li>UI가 복잡해질수록 성능 병목 증가</li>\n<li>에러 발생 시 전체 앱 중단</li>\n</ul>\n<p>이에 React 팀은 작업을 쪼개고 우선순위를 조절할 수 있는 새로운 실행 모델을 고민했고, 그렇게 탄생한 것이 React Fiber다. react-fiber-architecture 은 Andrew Clark이 제안한 개념으로, <a href=\"https://github.com/acdlite/react-fiber-architecture\">문서</a>를 참고할 수 있다.</p>\n<p>~~이 글을 작성하고 얼마 안되어, React 팀에 합류한것으로 보인다. 그 이후 React 는 엄청난 발전을..~~</p>\n<hr>\n<h3 id=\"stack-vs-fiber-코드로-이해하는-차이점\"><a class=\"anchor\" href=\"#stack-vs-fiber-코드로-이해하는-차이점\">Stack vs Fiber: 코드로 이해하는 차이점</a></h3>\n<p>아래는 동일한 컴포넌트를 렌더링할 때, Stack과 Fiber가 어떻게 서로 다른 구조로 렌더링하는지를 코드 수준에서 비교한 것이다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> renderComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">component</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> element</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> component.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">render</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">();</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  element.props.children.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">forEach</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">child</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =></span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> renderComponent</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(child)); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 재귀 호출</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>Stack 방식은 이렇게 렌더링한다. 이 방식은 간단하지만, 렌더링이 깊어지면 브라우저의 메인 스레드를 한 번에 오래 점유하게 되어 UI가 멈춘다. 동작을 살펴보기 위해 아래 동영상을 살펴보자</p>\n<hr>\n<p>Fiber 방식은 작업을 작게 쪼개고 requestIdleCallback으로 나눠 실행하므로, 렌더링 중에도 사용자 이벤트(버튼 클릭 등)를 차단하지 않는다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> performWork</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">deadline</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  while</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (nextUnitOfWork </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x26;&#x26;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> deadline.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">timeRemaining</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> 5</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    nextUnitOfWork </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> performUnitOfWork</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(nextUnitOfWork);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">  requestIdleCallback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(performWork); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 나눠서 실행</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<hr>\n<p>만약 동작을 비교해보고싶으면 <strong>여기를</strong> 클릭하면 된다. 그러면 직접 Fiber Reconciler 와 Stack Reconciler의 동작을 볼 수 있다.</p>\n<hr>\n<h1 id=\"fiber\"><a class=\"anchor\" href=\"#fiber\">Fiber</a></h1>\n<p>Fiber는 React의 렌더링 자체를 구성하는 런타임 아키텍처다.  다음과 같은 특징을 가진다</p>\n<ul>\n<li><strong>작업 단위</strong>로 분리</li>\n<li><strong>우선순위 기반 스케줄링</strong> 가능</li>\n<li><strong>렌더링 도중 작업 일시 중단/재개</strong> 지원</li>\n</ul>\n<p>Fiber는 <strong>current(현재 화면을 구성 중인 트리)</strong> 와 <strong>workInProgress(다음 렌더링을 준비 중인 트리)</strong> 두 트리 구조를 유지한다. 이 두 트리는 alternate 속성으로 서로 연결되어, 작업 완료 시 교체된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">currentFiber.alternate </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">===</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> workInProgressFiber;</span></span></code></pre></figure>\n<p>Fiber는 JavaScript 객체이며, 각 React Element는 해당 객체로 변환된다.</p>\n<p>그렇다면, Fiber 노드는 내부적으로 어떤 구조를 가지고 있을까?\n단순하게 생각해보면 \"노드\"라는 개념에서 떠올릴 수 있는 기본 속성들 예를 들어 노드의 타입, key, 자식 노드 등을 포함하고 있을 것이라 예상할 수 있다.</p>\n<p>이제 실제로 Fiber 노드가 어떻게 구성되어 있는지 살펴보자.</p>\n<hr>\n<h2 id=\"fiber-구조\"><a class=\"anchor\" href=\"#fiber-구조\">Fiber 구조</a></h2>\n<p>React Fiber 노드 구조에 관한 공식 문서를 찾아봤지만, React 팀은 Fiber의 내부 구현에 대한 공식 문서를 제공하지 않고 있다. 대신, <strong>Andrew Clark(React 팀)이 작성한 (<a href=\"https://github.com/acdlite/react-fiber-architecture\">공식 문서</a>)가</strong> 주요 참고 자료로 널리 사용된다. 제공해준 자료를 활용해서 Fiber의 구조를 살펴보자</p>\n<hr>\n<h3 id=\"type-key\"><a class=\"anchor\" href=\"#type-key\">type, key</a></h3>\n<p><code>zacharydfreeman/react-fiber</code>의 <code>react-fiber.ts</code> 파일에서는 ReactElement 인터페이스를 통해 type과 key가 어떻게 정의되는지 볼 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> interface</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ReactElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  type</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Function</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// type은 문자열(HTML 태그) 또는 함수(컴포넌트)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  props</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    [</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">key</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">    children</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ReactElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">[];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  };</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  key</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> string</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;      </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// key는 문자열 또는 null</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  ref</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> any</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  _owner</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> FiberNode</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">export</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> interface</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> FiberNode</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  element</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ReactElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// FiberNode는 ReactElement를 포함하며, 이를 통해 type과 key에 접근</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  parent</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> FiberNode</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  child</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> FiberNode</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">  sibling</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> FiberNode</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> null</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">  // ... 기타 필드</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>type 은 React가 이전 렌더링된 Fiber 노드와 새로 생성된 엘리먼트를 비교할 때 가장 먼저 type을 확인하기에 재조정 과정에서 매우 중요하다.</p>\n<ul>\n<li>만약 이전에도 div였고 이번에도 div이거나, 이전에도 MyComponent였고 이번에도 MyComponent라면 React는 해당 Fiber 노드를 재사용하여 속성(props)만 업데이트하려고 시도</li>\n<li>만약 이전에는 div였는데 이번에는 span으로 바뀌었거나, MyComponent에서 OtherComponent로 바뀌었다면 React는 기존 Fiber 노드를 버리고 새로운 type에 맞는 새 Fiber 노드를 생성</li>\n</ul>\n<p>key는 주로 리스트(배열) 렌더링 시에 사용된다. 리스트의 아이템들이 변경, 추가, 삭제, 또는 재정렬될 때, key는 React가 각 아이템을 효율적으로 식별하고 최소한의 DOM 변경으로 업데이트할 수 있도록 돕는다.</p>\n<p>key가 없으면 React는 리스트 아이템의 순서가 변경되었을 때 어떤 아이템이 어떤 아이템으로 이동했는지 정확히 알기 어렵다. 이로 인해 불필요하게 많은 DOM 조작이 발생하거나 컴포넌트의 내부 상태가 의도치 않게 유지/소실될 수 있다.</p>\n<hr>\n<h3 id=\"트리-구조-child-sibling-return\"><a class=\"anchor\" href=\"#트리-구조-child-sibling-return\">트리 구조 (child, sibling, return)</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"js\" data-theme=\"github-dark github-light\"><code data-language=\"js\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> 부모</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [&#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">자식1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">/>, &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">자식2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">/>];</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<ul>\n<li>\n<p>child: 컴포넌트의 render 메서드가 반환한 첫 번째 자식 요소를 가리킨다. 위 예제에서는 <code>&#x3C;자식1/></code>이 해당된다.</p>\n</li>\n<li>\n<p>sibling: 동일한 부모를 가진 다음 형제 요소를 의미한다. 위 예제에서 <code>&#x3C;자식1/></code>의 sibling은 <code>&#x3C;자식2/></code>이다.</p>\n</li>\n<li>\n<p>return: 현재 Fiber 노드의 처리가 끝난 뒤 되돌아갈 부모 Fiber를 가리킨다. 위 예제에서 <code>&#x3C;자식1/></code>과 <code>&#x3C;자식2/></code>의 return은 모두 부모이다.</p>\n</li>\n</ul>\n<p>이 세 필드는 함께 단일 연결 리스트(Singly Linked List) 형태의 트리 구조를 형성한다. React는 이 구조를 기반으로 노드를 순회하며 렌더링 작업을 수행한다.</p>\n<hr>\n<h3 id=\"pendingprops-memoizedprops\"><a class=\"anchor\" href=\"#pendingprops-memoizedprops\">pendingProps, memoizedProps</a></h3>\n<p>pendingProps는 해당 Fiber가 실행되기 시작할 시점에 전달된 새로운 props를 의미하며,\nmemoizedProps는 이전 렌더링에서 처리 완료된 이전 props를 나타낸다.</p>\n<p>이 두 값이 동일하다면, React는 이전 렌더링 결과를 그대로 재사용할 수 있어, 불필요한 연산을 방지하고 성능을 최적화할 수 있다.</p>\n<hr>\n<h3 id=\"작업-우선순위-pendingworkpriority\"><a class=\"anchor\" href=\"#작업-우선순위-pendingworkpriority\">작업 우선순위 (pendingWorkPriority)</a></h3>\n<p>React Fiber는 각 작업 단위에 숫자 기반의 <strong>우선순위(priority)를</strong> 부여하여, 스케줄러가 어떤 작업을 먼저 처리할지 판단할 수 있도록 한다.\n여기서 0(NoWork)을 제외하면, 숫자가 클수록 우선순위는 낮아지는 구조다.</p>\n<p>기존의 React에서는 setState가 호출되면 전체 컴포넌트 트리가 즉시 재렌더링되어 브라우저의 메인 스레드를 블로킹하는 문제가 있었다.\n하지만 Fiber가 도입된 이후, setState는 해당 Fiber 노드에 우선순위를 부여하는 방식으로 변경되었고, 스케줄러는 이 우선순위를 기반으로 다음에 처리할 작업을 선택하게 되었다.</p>\n<p>이 구조 덕분에 React는 애니메이션, 제스처, 레이아웃 등 실시간 상호작용을 방해하지 않고 작업을 나눠 수행할 수 있게 되었고, 이후에는 더욱 정교한 lane 시스템으로 발전하여 작업 분배의 효율성과 유연성이 크게 향상되었다.</p>\n<hr>\n<h3 id=\"alternate\"><a class=\"anchor\" href=\"#alternate\">Alternate</a></h3>\n<p>React Fiber의 alternate 시스템은 더블 버퍼링(Double Buffering) 개념을 구현한 것이다. 이는 비디오 게임에서 화면의 깜빡임을 방지하기 위해 사용하는 기법과 유사하다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"js\" data-theme=\"github-dark github-light\"><code data-language=\"js\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> 위험한방식</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  currentTree.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">updateDirectly</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// ❌ 위험!</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>만약 현재 트리를 직접 수정한다면, 깜빡이거나 불완전한 상태의 화면이 사용자에게 노출될 수 있다.</p>\n<p>React는 이러한 문제를 방지하기 위해 현재 트리는 그대로 유지한 채, 새로운 작업용 트리(work-in-progress)에서 변경 작업을 수행한다. 모든 작업이 완료된 후에야 화면에 한 번에 반영되므로, 사용자 경험이 매끄럽게 유지된다.</p>\n<p>이때 사용되는 것이 alternate 구조다.\n각 Fiber는 자신과 쌍을 이루는 또 다른 Fiber를 참조하며, <code>currentFiber.alternate === workInProgressFiber</code> 와 같이 서로를 가리키는 이중 참조 구조를 가진다.</p>\n<p>이 구조 덕분에 React는 기존 alternate Fiber 객체를 재사용하면서 메모리 효율성을 확보할 수 있다.\n변경이 발생한 경우에는 해당 필드만 업데이트하여 렌더링하고, 그렇지 않으면 이전 결과를 그대로 활용하는 bailout(스킵) 최적화가 가능해진다.</p>\n<hr>\n<h3 id=\"output\"><a class=\"anchor\" href=\"#output\">output</a></h3>\n<p>output은 실제 DOM에 적용될 수 있는 구체적인 DOM 노드 정보를 의미한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 첫번째 예시</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> 아바타</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">img</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> src</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"profile.jpg\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> />; </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>첫번째 예시는 React 엘리먼트를 반환하지만, 실제 DOM은 생성되지 않는다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 두번째 예시</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">img</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> src</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"profile.jpg\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> />  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">&#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> className</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"프로필\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /> </span></span></code></pre></figure>\n<p>두번째 예시는 실제 각각 DOM Image 요소와 DOM Div 요소를 생성한다. 이제 더 자세하게 살펴보자.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"jsx\" data-theme=\"github-dark github-light\"><code data-language=\"jsx\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> 프로필</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> className</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"프로필\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">아바타</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">정보</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> 아바타</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">img</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> src</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"profile.jpg\"</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> alt</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"프로필\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> />;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> 유저정보</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">() {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">h2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>홍길동&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">h2</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">      &#x3C;</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">p</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">>개발자&#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">p</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">    &#x3C;/</span><span style=\"--shiki-dark:#85E89D;--shiki-light:#22863A\">div</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  );</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>프로필 컴포넌트는 아바타와 유저정보를 렌더링한다. 그리고 아래와 같이 Fiber 트리와 output 을 생성한다.</p>\n<pre><code>프로필 (출력: 없음, 컴포넌트 함수)\n  │\n  └─► div.프로필 (출력: &#x3C;div class=\"프로필\">...&#x3C;/div>)\n       │\n       ├─► 아바타 (출력: 없음, 컴포넌트 함수)\n       │    │\n       │    └─► img (출력: &#x3C;img src=\"profile.jpg\" alt=\"프로필\">)\n       │\n       └─► 유저정보 (출력: 없음, 컴포넌트 함수)\n            │\n            └─► div (출력: &#x3C;div>...&#x3C;/div>)\n                 │\n                 ├─► h2 (출력: &#x3C;h2>홍길동&#x3C;/h2>)\n                 │\n                 └─► p (출력: &#x3C;p>개발자&#x3C;/p>)\n</code></pre>\n<p>이제는 output 수집이 어떻게 되고 정보가 어떻게 전달되는지 살펴보자.</p>\n<p>처음 단계에서는 리프(호스트) 노드에서 output 이 생성된다.</p>\n<p>여기서 호스트 컴포넌트에서만 출력이 생성되는데, 호스트 컴포넌트(div,span,img)만 브라우저가 이해할 수 있기 때문이고, 사용자 컴포넌트(프로필,아바타,유저정보)는 추상화된 개념이기때문에 브라우저가 몰라 다른 요소와 조합되거나 다른 요소로 변환된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"js\" data-theme=\"github-dark github-light\"><code data-language=\"js\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 호스트 컴포넌트들이 실제 DOM 정보 생성</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">img_fiber.output </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createDOMElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'img'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  src: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'profile.jpg'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  alt: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'프로필'</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">});</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">h2_fiber.output </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createDOMElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'h2'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, {}, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'홍길동'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">p_fiber.output </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createDOMElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'p'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, {}, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'개발자'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span></code></pre></figure>\n<p>이제 부모로 부터 output 을 수집한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"js\" data-theme=\"github-dark github-light\"><code data-language=\"js\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// div 노드가 자식들의 출력을 수집</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">유저정보_div_fiber.output </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createDOMElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'div'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, {}, [</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  h2_fiber.output,  </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// &#x3C;h2>홍길동&#x3C;/h2></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  p_fiber.output    </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// &#x3C;p>개발자&#x3C;/p></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 최상위 div가 모든 자식 출력을 수집  </span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">프로필_div_fiber.output </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createDOMElement</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'div'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, {className: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'프로필'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, [</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  img_fiber.output,      </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// &#x3C;img src=\"profile.jpg\" alt=\"프로필\"></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  유저정보_div_fiber.output   </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// &#x3C;div>&#x3C;h2>홍길동&#x3C;/h2>&#x3C;p>개발자&#x3C;/p>&#x3C;/div></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">]);</span></span></code></pre></figure>\n<p>마지막으로 컴포넌트는 자식의 출력을 그대로 전달한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"js\" data-theme=\"github-dark github-light\"><code data-language=\"js\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 사용자 정의 컴포넌트는 자식의 출력을 위로 전달</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">아바타_fiber.output </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> img_fiber.output;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">유저정보_fiber.output </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> 유저정보_div_fiber.output;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">프로필_fiber.output </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> 프로필_div_fiber.output;</span></span></code></pre></figure>\n<hr>\n<h2 id=\"fiber의-작동-흐름-render-vs-commit\"><a class=\"anchor\" href=\"#fiber의-작동-흐름-render-vs-commit\">Fiber의 작동 흐름 (Render vs Commit)</a></h2>\n<p>Fiber는 내부적으로 Render Phase와 Commit Phase라는 두 단계의 과정을 거친다.</p>\n<p>이 구조는 React가 UI 업데이트를 보다 유연하고 효율적으로 제어할 수 있도록 해준다. 각 단계는 서로 다른 목적과 특성을 가지며, 내부적으로는 다양한 함수와 스케줄링 로직을 통해 정교하게 작동한다.</p>\n<ul>\n<li>\n<p>Render Phase에서는 어떤 변화가 필요한지를 계산하며, 이 과정은 비동기적으로 수행될 수 있다.</p>\n</li>\n<li>\n<p>Commit Phase에서는 계산된 변경 사항을 실제 DOM에 한 번에 적용하며, 이 단계는 동기적으로 실행된다.</p>\n</li>\n</ul>\n<p>이러한 단계적 처리 방식은 React가 사용자 상호작용, 애니메이션, 네트워크 지연 등 다양한 조건 속에서도 부드럽고 일관된 UI 경험을 제공할 수 있는 기반이 된다.</p>\n<p><a href=\"https://storied-centaur-55230f.netlify.app/\"><img src=\"/content/250520/2.png\" alt=\"2.png\" loading=\"lazy\" decoding=\"async\"></a></p>\n<p>Fiber의 작동흐름을 확인하고 싶으면 위 이미지를 클릭해서 직접 확인해볼 수 있다.</p>\n<hr>\n<h3 id=\"render-phase-비동기-가능\"><a class=\"anchor\" href=\"#render-phase-비동기-가능\">Render Phase (비동기 가능)</a></h3>\n<p>Render Phase는 UI에 어떤 변경이 필요한지 계산하는 단계로, DOM에는 실제로 아무런 영향을 주지 않는다. 이 단계는 비동기적으로 중단 및 재개가 가능하며, 주로 다음 두 함수 중심으로 동작한다</p>\n<ul>\n<li>\n<p><strong>beginWork(fiber)</strong>: 현재 Fiber 노드에서 필요한 계산을 수행한다.</p>\n<ul>\n<li>\n<p>각 Fiber의 타입(Function Component, Class Component, Host Component 등)에 따라 적절한 로직을 실행</p>\n</li>\n<li>\n<p>자식 Fiber 노드를 생성하고 연결</p>\n</li>\n<li>\n<p>props가 이전과 동일하다면 memoization을 활용해 스킵할 수 있음</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>completeWork(fiber)</strong>: 자식 노드의 작업이 완료되면 부모 방향으로 올라가며 작업을 마무리한다.</p>\n<ul>\n<li>\n<p>DOM 생성 작업이나 effect 정보 준비</p>\n</li>\n<li>\n<p>부모 방향으로 올라가며 누락된 정보를 보완</p>\n</li>\n<li>\n<p>커밋 단계에서 실행할 작업을 effect list에 누적</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>이 단계에서는 DOM을 직접 수정하지 않고, 오직 변경 사항을 계산만 수행한다.</p>\n<hr>\n<h3 id=\"commit-phase-항상-동기\"><a class=\"anchor\" href=\"#commit-phase-항상-동기\">Commit Phase (항상 동기)</a></h3>\n<p>Commit Phase는 Render Phase에서 계산된 변경 사항을 실제 DOM에 반영하는 단계다. 이 단계는 동기적으로 수행되며, 사용자의 화면에 즉시 영향을 준다.</p>\n<ul>\n<li>\n<p>DOM 조작: commitMutationEffects() 등을 통해 실제 DOM 업데이트 수행</p>\n</li>\n<li>\n<p>라이프사이클 및 훅 실행: componentDidMount, componentDidUpdate, useEffect 등 실행</p>\n</li>\n<li>\n<p>Effect 처리: 각 effect 노드들을 nextEffect를 따라 선형 리스트 형태로 연결하여 순차적으로 처리</p>\n</li>\n</ul>\n<p>이 단계는 중단이 불가능하며, 반드시 한 번에 끝까지 수행된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "250520/index.md",
    "_raw": {
      "sourceFilePath": "250520/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "250520",
      "contentType": "markdown",
      "flattenedPath": "250520"
    },
    "type": "Post",
    "slug": "/250520",
    "categoryArray": [
      "프론트엔드",
      "React"
    ],
    "readingTime": "20 min read",
    "excerpt": "React를 최근에 접한 개발자라면 대부분 한 번쯤은 \"Fiber\"라는 용어를 들어봤을 것이다. 실제로 면접에서 자주 등장하는 주제이기 때문에, 작업 단위를 나누어 처리한다는 식의 표면적인 설명은 익숙할 수 있다. 하지만 Fiber가 왜 도입되었는지, 이전에는 React가 어떤 방식으로 동작했는지, 그리고 Fiber가 어떻게 설계되어 있는지는 잘 모르는 경..."
  },
  {
    "title": "함수 참조 제대로 알자.",
    "date": "2025-06-17T00:00:00.000Z",
    "categories": "프론트엔드 React",
    "body": {
      "raw": "\nReact에서 `useCallback`은 성능 최적화를 위해 자주 사용된다. 하지만 `useCallback`의 사용 자체에만 집중하다 보면, 정작 단순한 함수 참조 유지라는 기본 개념을 잊고 작업하게 된다. 그리고 시간이 지난 뒤, **왜 이 함수는 계속 새로 생성되는 거지?** 라는 의문을 갖게 된다.\n\n이번 글에서는 회사에서 `useCallback`을 사용하던 중, **함수 참조에 대한 개념을 간과한 채 디버깅에 시간을 낭비했던 경험을 반성하는 의미로 내용을 정리해보았다.**\n\n![1.png](/content/250617/1.png)\n\n---\n\n\n## useCallback\n\nReact 컴포넌트가 리렌더링될 때, 함수 선언도 함께 다시 실행된다. 이는 매번 **새로운 메모리 참조를 가진 함수 객체가 생성된다는 뜻**이다. 이렇게 생성된 함수가 `useEffect`의 의존성 배열(deps)에 포함되어 있다면, 의도치 않은 재실행이 발생할 수 있다. 또 자식 컴포넌트에 props로 해당 함수를 전달할 경우, 참조가 바뀌면서 memoization이 무효화되어 **불필요한 리렌더링**이 일어날 수 있다.\n\n이때 `useCallback`은 지정한 `deps`가 변경되지 않는 한 함수의 참조를 유지해, **불필요한 연산과 리렌더링을 방지**할 수 있도록 도와준다.\n\n```ts\nconst memoizedFn = useCallback(fn, deps);\n```\n\n---\n\n### 참조(reference)\n\n자바스크립트에서 `함수는 객체다.` 따라서 다음 두 코드는 `완전히 다른 동작`을 한다.\n\n```ts\nconst handleClick = useCallback(() => {\n  console.log('dd');\n}, []);\n\nreturn (\n  <>\n    <button onClick={handleClick}>1번</button>\n    <button onClick={() => handleClick()}>2번</button>\n  </>\n);\n```\n\n위 코드를 보면, `onClick={handleClick}`은 `useCallback`에 의해 **메모이제이션된 함수 참조를 그대로 전달**한다. \n\n반면, `onClick={() => handleClick()}`은 렌더링될 때마다 **새로운 함수 객체**를 생성한다. \n\n즉, useCallback으로 만든 함수를 불필요하게 감싸는 순간, 참조 유지의 이점은 사라진다.\n\n- onClick={handleClick}은 불필요한 리렌더링을 방지할 수 있다. (정상)\n\n- onClick={() => handleClick()}은 useCallback의 이점을 완전히 무효화한다. (잘못된 사용)\n\n---\n\n\n## 자식 컴포넌트에 영향이 있을까?\n\nReact는 props가 바뀌었는지를 Object.is()로 비교한다. 따라서 () => handleClick()은 매번 새로운 함수 객체이기 때문에 아래 상황에서는 Child가 매번 리렌더링된다.\n\n```ts\n<Child onClick={() => handleClick()} />\n```\n\n반면, onClick={handleClick}은 useCallback에 의해 참조가 유지되므로, Child가 리렌더링되지 않는다.\n\n---\n\n### Object.is()\n\nReact는 함수형 컴포넌트가 리렌더링될 때 props가 이전과 달라졌는지를 판단하기 위해 Object.is()를 사용한다. 특히 React.memo, useMemo, useCallback 등 메모이제이션 관련 최적화 기법에서 이 비교 방식은 매우 중요한 역할을 한다.\n\n`Object.is(value1, value2)`는 두 값이 **같은 값인지(SameValue 알고리즘)** 를 비교하는 JavaScript 내장 함수로, ===와 매우 유사하지만 몇 가지 미묘한 차이가 있다.\n\n`NaN === NaN` 에서 ===는 false를 반환하지만 Object.is()는 true를 반환한다. 그리고 `+0 === -0` 에서 ===는 true를 반환하지만 Object.is()는 false를 반환한다.\n\n즉, Object.is()는 보다 정밀한 동일성 비교를 수행하고,  NaN, +0, -0 등의 케이스에서도 오동작하지 않도록 설계된 함수다. 그래서 React 에서 `Object.is()`를 사용하여 props가 이전과 달라졌는지를 판단한다.\n\n\n--- \n\n## 브라우저/엔진 관점에서의 최적화\n\n모던 자바스크립트 엔진(V8 등)은 함수 객체를 반복적으로 생성하고 해제하는 과정에서 **GC(가비지 컬렉션)** 비용이 증가할 수 있다. 특히 다음과 같은 경우에 성능 저하가 발생할 수 있다\n\n- 컴포넌트 리렌더링 시 **새로운 함수 객체가 매번 생성**되는 경우\n- 렌더된 DOM에 **이벤트 핸들러가 대량으로 등록**되는 경우\n- 내부적으로 **클로저 환경이 계속해서 새롭게 생성**되어 메모리 누수가 발생할 가능성이 있는 경우\n\n이는 브라우저 엔진이 매 렌더마다 생성된 함수를 개별적인 클로저 컨텍스트와 함께 추적해야 하기 때문이다. GC 타이밍이 UI 업데이트와 맞물릴 경우 프레임 드롭이나 UI 랙으로 이어질 수 있다.\n\n그래서 **useCallback을 통해 함수 참조를 고정하고, 컴포넌트 외부에서 클로저 생성을 피한 구조를 최적화한다**.\n\n---\n\n### 그럼 언제 () => fn()을 써도 괜찮을까?\n\nuseCallback이 항상 정답은 아니다. 함수 내부에서 **최신 props나 상태(state)** 를 참조해야 하는 경우, 외부에 고정된 함수를 쓰면 stale closure 문제가 발생할 수 있다.\n\n```ts\n<button onClick={() => doSomething(id)}>삭제</button>\n```\n\n예를 들어 id가 렌더링 시점에 따라 바뀌는 값이라면, useCallback으로 감싸도 이 id가 stale(오래된 값)일 수 있다.\n\n---\n\n### React 19의 useEvent\n\nReact 19 이전에는 ahooks의 useMemoizedFn이 유사한 역할을 수행할 수 있는 방법이 있었다. (적극적으로 사용되지 않았던 것 같다.)\n\nReact 19에서는 useEvent 훅이 공식화되었다. 이 훅은 이벤트 핸들러에서 최신 상태나 props를 안정적으로 참조할 수 있도록 돕는다. 내부적으로는 stable reference를 유지하되, 내부 로직에서는 항상 최신 값을 읽도록 구현되어 있다.\n\n---\n\n## 결론\n\n디버깅을 하다 보면, 평소에 잘 알고 있다고 생각했던 훅이나 개념들이 실제로는 완전히 이해되지 않았던 부분이라는 걸 깨닫게 된다.\n\n그래서 문제의 명확한 원인을 빠르게 파악하기 위해서는, 익숙한 개념일수록 다시 한번 정확히 이해하고 있는지 점검해보는 태도가 반드시 필요하다는 것을 다시 한번 느꼈다.\n\n## 참고 자료\n- [React 공식 문서: Hooks FAQ - useCallback](https://arc.net/l/quote/bwcierlc)\n- [V8 엔진의 함수 생성 및 GC 정책: v8.dev](https://v8.dev/blog/)\n\n\n```toc\n\n```",
      "html": "<p>React에서 <code>useCallback</code>은 성능 최적화를 위해 자주 사용된다. 하지만 <code>useCallback</code>의 사용 자체에만 집중하다 보면, 정작 단순한 함수 참조 유지라는 기본 개념을 잊고 작업하게 된다. 그리고 시간이 지난 뒤, <strong>왜 이 함수는 계속 새로 생성되는 거지?</strong> 라는 의문을 갖게 된다.</p>\n<p>이번 글에서는 회사에서 <code>useCallback</code>을 사용하던 중, <strong>함수 참조에 대한 개념을 간과한 채 디버깅에 시간을 낭비했던 경험을 반성하는 의미로 내용을 정리해보았다.</strong></p>\n<p><img src=\"/content/250617/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<hr>\n<h2 id=\"usecallback\"><a class=\"anchor\" href=\"#usecallback\">useCallback</a></h2>\n<p>React 컴포넌트가 리렌더링될 때, 함수 선언도 함께 다시 실행된다. 이는 매번 <strong>새로운 메모리 참조를 가진 함수 객체가 생성된다는 뜻</strong>이다. 이렇게 생성된 함수가 <code>useEffect</code>의 의존성 배열(deps)에 포함되어 있다면, 의도치 않은 재실행이 발생할 수 있다. 또 자식 컴포넌트에 props로 해당 함수를 전달할 경우, 참조가 바뀌면서 memoization이 무효화되어 <strong>불필요한 리렌더링</strong>이 일어날 수 있다.</p>\n<p>이때 <code>useCallback</code>은 지정한 <code>deps</code>가 변경되지 않는 한 함수의 참조를 유지해, <strong>불필요한 연산과 리렌더링을 방지</strong>할 수 있도록 도와준다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> memoizedFn</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useCallback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(fn, deps);</span></span></code></pre></figure>\n<hr>\n<h3 id=\"참조reference\"><a class=\"anchor\" href=\"#참조reference\">참조(reference)</a></h3>\n<p>자바스크립트에서 <code>함수는 객체다.</code> 따라서 다음 두 코드는 <code>완전히 다른 동작</code>을 한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> handleClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> useCallback</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(() </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  console.</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">log</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">'dd'</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}, []);</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">return</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  &#x3C;></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">button onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{handleClick}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">1번</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">button</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">    &#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">button onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{() => </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">handleClick</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">2번</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">button</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">  &#x3C;/></span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span></code></pre></figure>\n<p>위 코드를 보면, <code>onClick={handleClick}</code>은 <code>useCallback</code>에 의해 <strong>메모이제이션된 함수 참조를 그대로 전달</strong>한다.</p>\n<p>반면, <code>onClick={() => handleClick()}</code>은 렌더링될 때마다 <strong>새로운 함수 객체</strong>를 생성한다.</p>\n<p>즉, useCallback으로 만든 함수를 불필요하게 감싸는 순간, 참조 유지의 이점은 사라진다.</p>\n<ul>\n<li>\n<p>onClick={handleClick}은 불필요한 리렌더링을 방지할 수 있다. (정상)</p>\n</li>\n<li>\n<p>onClick={() => handleClick()}은 useCallback의 이점을 완전히 무효화한다. (잘못된 사용)</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"자식-컴포넌트에-영향이-있을까\"><a class=\"anchor\" href=\"#자식-컴포넌트에-영향이-있을까\">자식 컴포넌트에 영향이 있을까?</a></h2>\n<p>React는 props가 바뀌었는지를 Object.is()로 비교한다. 따라서 () => handleClick()은 매번 새로운 함수 객체이기 때문에 아래 상황에서는 Child가 매번 리렌더링된다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">Child onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{() => </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">handleClick</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">()} </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">/></span></span></code></pre></figure>\n<p>반면, onClick={handleClick}은 useCallback에 의해 참조가 유지되므로, Child가 리렌더링되지 않는다.</p>\n<hr>\n<h3 id=\"objectis\"><a class=\"anchor\" href=\"#objectis\">Object.is()</a></h3>\n<p>React는 함수형 컴포넌트가 리렌더링될 때 props가 이전과 달라졌는지를 판단하기 위해 Object.is()를 사용한다. 특히 React.memo, useMemo, useCallback 등 메모이제이션 관련 최적화 기법에서 이 비교 방식은 매우 중요한 역할을 한다.</p>\n<p><code>Object.is(value1, value2)</code>는 두 값이 <strong>같은 값인지(SameValue 알고리즘)</strong> 를 비교하는 JavaScript 내장 함수로, ===와 매우 유사하지만 몇 가지 미묘한 차이가 있다.</p>\n<p><code>NaN === NaN</code> 에서 ===는 false를 반환하지만 Object.is()는 true를 반환한다. 그리고 <code>+0 === -0</code> 에서 ===는 true를 반환하지만 Object.is()는 false를 반환한다.</p>\n<p>즉, Object.is()는 보다 정밀한 동일성 비교를 수행하고,  NaN, +0, -0 등의 케이스에서도 오동작하지 않도록 설계된 함수다. 그래서 React 에서 <code>Object.is()</code>를 사용하여 props가 이전과 달라졌는지를 판단한다.</p>\n<hr>\n<h2 id=\"브라우저엔진-관점에서의-최적화\"><a class=\"anchor\" href=\"#브라우저엔진-관점에서의-최적화\">브라우저/엔진 관점에서의 최적화</a></h2>\n<p>모던 자바스크립트 엔진(V8 등)은 함수 객체를 반복적으로 생성하고 해제하는 과정에서 <strong>GC(가비지 컬렉션)</strong> 비용이 증가할 수 있다. 특히 다음과 같은 경우에 성능 저하가 발생할 수 있다</p>\n<ul>\n<li>컴포넌트 리렌더링 시 <strong>새로운 함수 객체가 매번 생성</strong>되는 경우</li>\n<li>렌더된 DOM에 <strong>이벤트 핸들러가 대량으로 등록</strong>되는 경우</li>\n<li>내부적으로 <strong>클로저 환경이 계속해서 새롭게 생성</strong>되어 메모리 누수가 발생할 가능성이 있는 경우</li>\n</ul>\n<p>이는 브라우저 엔진이 매 렌더마다 생성된 함수를 개별적인 클로저 컨텍스트와 함께 추적해야 하기 때문이다. GC 타이밍이 UI 업데이트와 맞물릴 경우 프레임 드롭이나 UI 랙으로 이어질 수 있다.</p>\n<p>그래서 <strong>useCallback을 통해 함수 참조를 고정하고, 컴포넌트 외부에서 클로저 생성을 피한 구조를 최적화한다</strong>.</p>\n<hr>\n<h3 id=\"그럼-언제---fn을-써도-괜찮을까\"><a class=\"anchor\" href=\"#그럼-언제---fn을-써도-괜찮을까\">그럼 언제 () => fn()을 써도 괜찮을까?</a></h3>\n<p>useCallback이 항상 정답은 아니다. 함수 내부에서 <strong>최신 props나 상태(state)</strong> 를 참조해야 하는 경우, 외부에 고정된 함수를 쓰면 stale closure 문제가 발생할 수 있다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">button onClick</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">{() => </span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">doSomething</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">id</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)}</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">삭제</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">&#x3C;/</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">button</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">></span></span></code></pre></figure>\n<p>예를 들어 id가 렌더링 시점에 따라 바뀌는 값이라면, useCallback으로 감싸도 이 id가 stale(오래된 값)일 수 있다.</p>\n<hr>\n<h3 id=\"react-19의-useevent\"><a class=\"anchor\" href=\"#react-19의-useevent\">React 19의 useEvent</a></h3>\n<p>React 19 이전에는 ahooks의 useMemoizedFn이 유사한 역할을 수행할 수 있는 방법이 있었다. (적극적으로 사용되지 않았던 것 같다.)</p>\n<p>React 19에서는 useEvent 훅이 공식화되었다. 이 훅은 이벤트 핸들러에서 최신 상태나 props를 안정적으로 참조할 수 있도록 돕는다. 내부적으로는 stable reference를 유지하되, 내부 로직에서는 항상 최신 값을 읽도록 구현되어 있다.</p>\n<hr>\n<h2 id=\"결론\"><a class=\"anchor\" href=\"#결론\">결론</a></h2>\n<p>디버깅을 하다 보면, 평소에 잘 알고 있다고 생각했던 훅이나 개념들이 실제로는 완전히 이해되지 않았던 부분이라는 걸 깨닫게 된다.</p>\n<p>그래서 문제의 명확한 원인을 빠르게 파악하기 위해서는, 익숙한 개념일수록 다시 한번 정확히 이해하고 있는지 점검해보는 태도가 반드시 필요하다는 것을 다시 한번 느꼈다.</p>\n<h2 id=\"참고-자료\"><a class=\"anchor\" href=\"#참고-자료\">참고 자료</a></h2>\n<ul>\n<li><a href=\"https://arc.net/l/quote/bwcierlc\">React 공식 문서: Hooks FAQ - useCallback</a></li>\n<li><a href=\"https://v8.dev/blog/\">V8 엔진의 함수 생성 및 GC 정책: v8.dev</a></li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "250617/index.md",
    "_raw": {
      "sourceFilePath": "250617/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "250617",
      "contentType": "markdown",
      "flattenedPath": "250617"
    },
    "type": "Post",
    "slug": "/250617",
    "categoryArray": [
      "프론트엔드",
      "React"
    ],
    "readingTime": "8 min read",
    "excerpt": "React에서 useCallback은 성능 최적화를 위해 자주 사용된다. 하지만 useCallback의 사용 자체에만 집중하다 보면, 정작 단순한 함수 참조 유지라는 기본 개념을 잊고 작업하게 된다. 그리고 시간이 지난 뒤, 왜 이 함수는 계속 새로 생성되는 거지? 라는 의문을 갖게 된다. 이번 글에서는 회사에서 useCallback을 사용하던 중, 함수 ..."
  },
  {
    "title": "심해에서 올라오는 중입니다",
    "date": "2025-05-28T00:00:00.000Z",
    "categories": "회고",
    "body": {
      "raw": "\n### 내가 잘하고 있는 걸까?\n\n### 어떤 것부터 시작해야 하지?\n\n---\n\n---\n\n프론트엔드 개발자로 일하며, 나는 매일 스스로의 부족함을 마주한다.\n그리고 미래를 위해 갖춰야 할 역량은 끝도 없이 쏟아진다.\n\n불안함에 동아리와 스터디를 시작했다. 좋은 동료들을 만난 만큼, 자연스럽게 나를 그들과 **비교**하게 되었다.\n\n\n- 어떤 이는 디자인 시스템에 관심이 많아 직접 구축하며 UI 개발에 깊이 몰입한다.\n- 또 다른 이는 DevOps와 인프라에 관심을 갖고 Docker와 쿠버네티스를 학습한다.\n- 어떤 이는 UX를 넘어 DX를 고민하며 직접 라이브러리를 만들기도 한다.\n\n그들과 나를 비교할수록, **나는 한없이 깊은 심해 속으로 가라앉는다.** 불안속에서 허우적대다 문득 정신을 차리고, 하나씩 해보기로 결심했다.\n\n---\n\n운이 좋게도 나는 빠르게 취업할 수 있었다.\n\n하지만 독학으로 **'당장 필요한 기술'만** 익혔던 나는 실무에서 기초 실력의 부족함을 크게 느꼈다. 그래서 다시 JavaScript부터 차근차근 공부하기 시작했다.\n\n공부와 실무를 병행하며 사내 프로젝트를 진행하다 보니, 자연스럽게 **프로덕트 안정화와 기능 개발**에 관심이 생겼다.\n오랜 시간 동안 다양한 라이브러리를 도입하고, 아키텍처 구조를 고민하며 컨벤션을 직접 기획했다.\n이 모든 것을 바탕으로 대규모 리팩토링을 진행했고, 프론트엔드 안정화를 위해 밤낮을 고민했다.\n\n작은 불편을 줄이기 위해 시작한 일이었지만, 점차 **'더 개선할 수 있는 일은 무엇일까?'** 를 스스로 묻기 시작했다.\n\n---\n\n### Proof of Concept 기반 DX 개선\n\n작게 시작한 사내 개선은 어느새 내 욕심이 되어 있었고, 그만큼 더 깊은 학습을 필요로 했다. JS조차 끝이 없는 세계지만, 완벽하지 않은 상태에서도 나는 다음 단계(Infra와 DevOps)로 나아갔다.\n\nDocker로 이미지를 만들고, CI/CD 환경을 구성하기 위한 공부를 시작했고, 공부한 내용을 바탕으로 사내에서 PoC를 진행했다. 몇 주간의 노력 끝에 눈에 보이는 성과를 만들어냈지만, 곧 의문이 들기 시작했다.\n\n**“이게 정말 효과적인 개선일까? 내가 제대로 해낸 게 맞을까?”**\n\n앞서 배포환경에 대한 회고도 진행하지 못한채 새로운 문제들이 생겼다.\n\n사내에서는 반복적인 문법 오류로 인한 이슈들이 끊임없이 발생했고, 각기 다른 개발자들이 일관성 없는 코드를 작성하며, 수정과 에러가 이어졌다.\n\n**“이걸 어떻게 줄일 수 있을까?”**\n\n그쯤 여러가지 라이브러리를 찾아보았고, 특히 **[Toss의 es-toolkit](https://github.com/toss/es-toolkit)를** 관심있게 살펴보았다.\n\n그리고 **사내에서 사용하는 문법을 통용하는 내부 패키지를 만들어보자**는 결정을 내렸다. 그렇게 다시, 또 하나의 시도를 시작했다.\n\n배우고 있는 JS, 성능 최적화, 추상화, 클라우드, 인프라 개념들이 정리가 안된채 머릿속을 휘저었지만, 진행하던 공부를 멈추고 프로젝트를 개발했고, 실사용까지 완료했다.\n\n그 결과, 사내 패키지를 기반으로 코드 작성이 일관되면서 코드 리뷰가 수월해졌고, 개별 함수 단위로 구성된 내부 유틸 패키지를 통해 tree-shaking 부담도 줄었다.외부 라이브러리 의존도를 낮추면서, 신규 프로젝트 투입 시 학습 비용과 초기 에러 발생률도 줄어들었다\n\n표면적으로는 성공이었다. 하지만 조직내에서 내 역할에 대한 검증을 해줄 리더의 부재로, 제대로 검증받을 기회는 없었다.\n\n그래도 **내가 문제를 찾고, 주도적으로 도전해볼 수 있다는 자신감** 을 얻었다. \n\n물론 여전히 어설프고, 새 개념이 등장하면 어색하고 두려운 나지만, 그 불안은 학습으로 어느 정도 극복할 수 있다는 사실도 함께 깨달았다.\n\n---\n\n### 어느덧 3년 차.\n\n프론트엔드라는 직무뿐 아니라, 세상의 모든 직무는 끝없이 배워야 하는 길 위에 있다. 나는 그동안 두 번의 이직 준비를 했다. 한 번은 좋은 결과가 있었고, 지금은 많은 고민 속에 새로운 도전을 진행하고 있다.\n\n두려움 속에서 멈춰도 괜찮다. 계획을 세우는 것도, 무작정 시작하는 것도 좋다. **다만 실패를 두려워해서, 아무것도 하지 않는 것만은 피했으면 좋겠다.**\n\n그동안 나는 수많은 책을 사고, 인강을 듣고, 스터디를 운영하고, 클라우드 자격증을 준비하며 시도했다. 그 과정에서 많은 시도들을 끝까지 이어가지 못했다. (물론, 일부는 **‘끝’** 이 어디인지조차 명확하지 않기에 단정짓기도 어렵다.)\n\n그때는 그런 나를 **‘실패했다’** 고 생각했다. 하지만 그건 실패가 아니라, **‘그저 과정이었다’** 는 것을.\n\n--- \n\n### SIPE\n\n올해 초, 나는 **‘SIPE’** 라는 동아리 활동을 마무리했다. ~~(물론 DND, DevOcean 등 다양한 동아리 활동도 진행했지만)~~\n\n그곳에서 멋진 사람들을 만나며 **자극받기도** 했고, 비교 속에서 **열등감을 느끼기도 했다.**\n\n동아리는 나에게 큰 동기였고, 주도적으로 스터디와 프로젝트를 운영하며 성장의 체감도 분명했다.\n\n하지만 지나친 의존을 끊기 위해 동아리를 그만두기로 결심했을 때, **“혼자서도 잘할 수 있을까?”** 하는 불안이 밀려왔다.\n\n그리고 벌써 4개월이 지났다. 코딩 테스트와 TypeScript 공부는 자주 멈췄지만, 코드를 쓰고, 책을 읽고, 아키텍처와 도메인 분리를 고민하며 오픈소스 기여도 해보았다.\n\n그동안 내가 느낀 것들을 정리해보면, 아주 단순하다.\n\n> - 무언가를 처음부터 잘하는 사람은 없다.\n>\n> - 한 가지만 잘하는 것도 좋지만(물론 이 방법이 내가 생각하는 성공의 지름길이겠지만), 필요한 것을 찾아 다양하게 해보는 것도 충분히 멋지다\n>\n> - 단, 자주 나를 객관화하고, 부족한 점을 정리해보자.\n>\n> - 그리고 계속해보자. 끈기 있게. 포기하지 말자.\n>\n\n---\n\n### 지금 어떤 선택을 하든, 어떤 고민을 하든, 불안한 건 너무나 당연하다.\n\n올해의 절반이 지나가는 이 시점, 도전의 좌절과 빠르게 흘러간 시간에 회의감이 들 수도 있다.\n\n하지만, 그것들은 결코 나쁜 시간이 아니다. 나이키에서 자주 본 문구처럼, **Just do it.** 그저 해보자.\n\n그러면 언젠가 우리는, 지금보다 훨씬 더 나은 사람이 되어 있을 것이다.\n\n---\n\n### 이 글을 마무리 하며\n\n하루를 마칠 때면 스스로에게 이렇게 말한다.\n\n**“짧은 시간이지만, 정말 많은 걸 해냈어. 오늘도 수고했어.”**\n\n---\n\n그리고 아침이 되면, 나에게 말한다.\n\n**\"그만 자고 일어나\"**\n\n---\n\n나는 **끊임없이 불안을 느끼는 사람이지만, 그만큼 계속 무엇인가 하는 사람**이다.\n\n---\n\n## 그래. 나는 **T** 다.\n\n\n---\n\n올해 절반을 보내며 스스로에 대한 정리로 글을 마무리 해보겠다.\n\n### 내가 느끼는 부족함\n\n- 논리적인 대화\n- 어려운 코드 읽기\n- 프로그래밍 언어, CS 지식\n- 한 가지 목표를 끝까지 끌고 가는 끈기\n- 비즈니스 도메인 분리 및 아키텍처 설계를 위한 코드 작성 역량\n\n### 올해 남은 시간 동안 내가 해보고 싶은 일\n\n- 발표 많이 하기\n- 오픈 소스 많이 읽고, 생산성 높여주는 라이브러리 주도적 개발해보기\n- **코드 리뷰 많이 하기 (부족하지만 코드리뷰 요청 해주시면 열심히 해보겠다..)**\n- **‘추상화와 분리’** 를 고려해서 구현 많이 해보기 (이런 주제에 관심이 있으시면 언제든지 연락해주세요)\n- 건강 챙기기 (제일 중요한데 제일 못한다. 나는 돼지다.)\n\n",
      "html": "<h3 id=\"내가-잘하고-있는-걸까\"><a class=\"anchor\" href=\"#내가-잘하고-있는-걸까\">내가 잘하고 있는 걸까?</a></h3>\n<h3 id=\"어떤-것부터-시작해야-하지\"><a class=\"anchor\" href=\"#어떤-것부터-시작해야-하지\">어떤 것부터 시작해야 하지?</a></h3>\n<hr>\n<hr>\n<p>프론트엔드 개발자로 일하며, 나는 매일 스스로의 부족함을 마주한다.\n그리고 미래를 위해 갖춰야 할 역량은 끝도 없이 쏟아진다.</p>\n<p>불안함에 동아리와 스터디를 시작했다. 좋은 동료들을 만난 만큼, 자연스럽게 나를 그들과 <strong>비교</strong>하게 되었다.</p>\n<ul>\n<li>어떤 이는 디자인 시스템에 관심이 많아 직접 구축하며 UI 개발에 깊이 몰입한다.</li>\n<li>또 다른 이는 DevOps와 인프라에 관심을 갖고 Docker와 쿠버네티스를 학습한다.</li>\n<li>어떤 이는 UX를 넘어 DX를 고민하며 직접 라이브러리를 만들기도 한다.</li>\n</ul>\n<p>그들과 나를 비교할수록, <strong>나는 한없이 깊은 심해 속으로 가라앉는다.</strong> 불안속에서 허우적대다 문득 정신을 차리고, 하나씩 해보기로 결심했다.</p>\n<hr>\n<p>운이 좋게도 나는 빠르게 취업할 수 있었다.</p>\n<p>하지만 독학으로 <strong>'당장 필요한 기술'만</strong> 익혔던 나는 실무에서 기초 실력의 부족함을 크게 느꼈다. 그래서 다시 JavaScript부터 차근차근 공부하기 시작했다.</p>\n<p>공부와 실무를 병행하며 사내 프로젝트를 진행하다 보니, 자연스럽게 <strong>프로덕트 안정화와 기능 개발</strong>에 관심이 생겼다.\n오랜 시간 동안 다양한 라이브러리를 도입하고, 아키텍처 구조를 고민하며 컨벤션을 직접 기획했다.\n이 모든 것을 바탕으로 대규모 리팩토링을 진행했고, 프론트엔드 안정화를 위해 밤낮을 고민했다.</p>\n<p>작은 불편을 줄이기 위해 시작한 일이었지만, 점차 <strong>'더 개선할 수 있는 일은 무엇일까?'</strong> 를 스스로 묻기 시작했다.</p>\n<hr>\n<h3 id=\"proof-of-concept-기반-dx-개선\"><a class=\"anchor\" href=\"#proof-of-concept-기반-dx-개선\">Proof of Concept 기반 DX 개선</a></h3>\n<p>작게 시작한 사내 개선은 어느새 내 욕심이 되어 있었고, 그만큼 더 깊은 학습을 필요로 했다. JS조차 끝이 없는 세계지만, 완벽하지 않은 상태에서도 나는 다음 단계(Infra와 DevOps)로 나아갔다.</p>\n<p>Docker로 이미지를 만들고, CI/CD 환경을 구성하기 위한 공부를 시작했고, 공부한 내용을 바탕으로 사내에서 PoC를 진행했다. 몇 주간의 노력 끝에 눈에 보이는 성과를 만들어냈지만, 곧 의문이 들기 시작했다.</p>\n<p><strong>“이게 정말 효과적인 개선일까? 내가 제대로 해낸 게 맞을까?”</strong></p>\n<p>앞서 배포환경에 대한 회고도 진행하지 못한채 새로운 문제들이 생겼다.</p>\n<p>사내에서는 반복적인 문법 오류로 인한 이슈들이 끊임없이 발생했고, 각기 다른 개발자들이 일관성 없는 코드를 작성하며, 수정과 에러가 이어졌다.</p>\n<p><strong>“이걸 어떻게 줄일 수 있을까?”</strong></p>\n<p>그쯤 여러가지 라이브러리를 찾아보았고, 특히 <strong><a href=\"https://github.com/toss/es-toolkit\">Toss의 es-toolkit</a>를</strong> 관심있게 살펴보았다.</p>\n<p>그리고 <strong>사내에서 사용하는 문법을 통용하는 내부 패키지를 만들어보자</strong>는 결정을 내렸다. 그렇게 다시, 또 하나의 시도를 시작했다.</p>\n<p>배우고 있는 JS, 성능 최적화, 추상화, 클라우드, 인프라 개념들이 정리가 안된채 머릿속을 휘저었지만, 진행하던 공부를 멈추고 프로젝트를 개발했고, 실사용까지 완료했다.</p>\n<p>그 결과, 사내 패키지를 기반으로 코드 작성이 일관되면서 코드 리뷰가 수월해졌고, 개별 함수 단위로 구성된 내부 유틸 패키지를 통해 tree-shaking 부담도 줄었다.외부 라이브러리 의존도를 낮추면서, 신규 프로젝트 투입 시 학습 비용과 초기 에러 발생률도 줄어들었다</p>\n<p>표면적으로는 성공이었다. 하지만 조직내에서 내 역할에 대한 검증을 해줄 리더의 부재로, 제대로 검증받을 기회는 없었다.</p>\n<p>그래도 <strong>내가 문제를 찾고, 주도적으로 도전해볼 수 있다는 자신감</strong> 을 얻었다.</p>\n<p>물론 여전히 어설프고, 새 개념이 등장하면 어색하고 두려운 나지만, 그 불안은 학습으로 어느 정도 극복할 수 있다는 사실도 함께 깨달았다.</p>\n<hr>\n<h3 id=\"어느덧-3년-차\"><a class=\"anchor\" href=\"#어느덧-3년-차\">어느덧 3년 차.</a></h3>\n<p>프론트엔드라는 직무뿐 아니라, 세상의 모든 직무는 끝없이 배워야 하는 길 위에 있다. 나는 그동안 두 번의 이직 준비를 했다. 한 번은 좋은 결과가 있었고, 지금은 많은 고민 속에 새로운 도전을 진행하고 있다.</p>\n<p>두려움 속에서 멈춰도 괜찮다. 계획을 세우는 것도, 무작정 시작하는 것도 좋다. <strong>다만 실패를 두려워해서, 아무것도 하지 않는 것만은 피했으면 좋겠다.</strong></p>\n<p>그동안 나는 수많은 책을 사고, 인강을 듣고, 스터디를 운영하고, 클라우드 자격증을 준비하며 시도했다. 그 과정에서 많은 시도들을 끝까지 이어가지 못했다. (물론, 일부는 <strong>‘끝’</strong> 이 어디인지조차 명확하지 않기에 단정짓기도 어렵다.)</p>\n<p>그때는 그런 나를 <strong>‘실패했다’</strong> 고 생각했다. 하지만 그건 실패가 아니라, <strong>‘그저 과정이었다’</strong> 는 것을.</p>\n<hr>\n<h3 id=\"sipe\"><a class=\"anchor\" href=\"#sipe\">SIPE</a></h3>\n<p>올해 초, 나는 <strong>‘SIPE’</strong> 라는 동아리 활동을 마무리했다. ~~(물론 DND, DevOcean 등 다양한 동아리 활동도 진행했지만)~~</p>\n<p>그곳에서 멋진 사람들을 만나며 <strong>자극받기도</strong> 했고, 비교 속에서 <strong>열등감을 느끼기도 했다.</strong></p>\n<p>동아리는 나에게 큰 동기였고, 주도적으로 스터디와 프로젝트를 운영하며 성장의 체감도 분명했다.</p>\n<p>하지만 지나친 의존을 끊기 위해 동아리를 그만두기로 결심했을 때, <strong>“혼자서도 잘할 수 있을까?”</strong> 하는 불안이 밀려왔다.</p>\n<p>그리고 벌써 4개월이 지났다. 코딩 테스트와 TypeScript 공부는 자주 멈췄지만, 코드를 쓰고, 책을 읽고, 아키텍처와 도메인 분리를 고민하며 오픈소스 기여도 해보았다.</p>\n<p>그동안 내가 느낀 것들을 정리해보면, 아주 단순하다.</p>\n<blockquote>\n<ul>\n<li>\n<p>무언가를 처음부터 잘하는 사람은 없다.</p>\n</li>\n<li>\n<p>한 가지만 잘하는 것도 좋지만(물론 이 방법이 내가 생각하는 성공의 지름길이겠지만), 필요한 것을 찾아 다양하게 해보는 것도 충분히 멋지다</p>\n</li>\n<li>\n<p>단, 자주 나를 객관화하고, 부족한 점을 정리해보자.</p>\n</li>\n<li>\n<p>그리고 계속해보자. 끈기 있게. 포기하지 말자.</p>\n</li>\n</ul>\n</blockquote>\n<hr>\n<h3 id=\"지금-어떤-선택을-하든-어떤-고민을-하든-불안한-건-너무나-당연하다\"><a class=\"anchor\" href=\"#지금-어떤-선택을-하든-어떤-고민을-하든-불안한-건-너무나-당연하다\">지금 어떤 선택을 하든, 어떤 고민을 하든, 불안한 건 너무나 당연하다.</a></h3>\n<p>올해의 절반이 지나가는 이 시점, 도전의 좌절과 빠르게 흘러간 시간에 회의감이 들 수도 있다.</p>\n<p>하지만, 그것들은 결코 나쁜 시간이 아니다. 나이키에서 자주 본 문구처럼, <strong>Just do it.</strong> 그저 해보자.</p>\n<p>그러면 언젠가 우리는, 지금보다 훨씬 더 나은 사람이 되어 있을 것이다.</p>\n<hr>\n<h3 id=\"이-글을-마무리-하며\"><a class=\"anchor\" href=\"#이-글을-마무리-하며\">이 글을 마무리 하며</a></h3>\n<p>하루를 마칠 때면 스스로에게 이렇게 말한다.</p>\n<p><strong>“짧은 시간이지만, 정말 많은 걸 해냈어. 오늘도 수고했어.”</strong></p>\n<hr>\n<p>그리고 아침이 되면, 나에게 말한다.</p>\n<p><strong>\"그만 자고 일어나\"</strong></p>\n<hr>\n<p>나는 <strong>끊임없이 불안을 느끼는 사람이지만, 그만큼 계속 무엇인가 하는 사람</strong>이다.</p>\n<hr>\n<h2 id=\"그래-나는-t-다\"><a class=\"anchor\" href=\"#그래-나는-t-다\">그래. 나는 <strong>T</strong> 다.</a></h2>\n<hr>\n<p>올해 절반을 보내며 스스로에 대한 정리로 글을 마무리 해보겠다.</p>\n<h3 id=\"내가-느끼는-부족함\"><a class=\"anchor\" href=\"#내가-느끼는-부족함\">내가 느끼는 부족함</a></h3>\n<ul>\n<li>논리적인 대화</li>\n<li>어려운 코드 읽기</li>\n<li>프로그래밍 언어, CS 지식</li>\n<li>한 가지 목표를 끝까지 끌고 가는 끈기</li>\n<li>비즈니스 도메인 분리 및 아키텍처 설계를 위한 코드 작성 역량</li>\n</ul>\n<h3 id=\"올해-남은-시간-동안-내가-해보고-싶은-일\"><a class=\"anchor\" href=\"#올해-남은-시간-동안-내가-해보고-싶은-일\">올해 남은 시간 동안 내가 해보고 싶은 일</a></h3>\n<ul>\n<li>발표 많이 하기</li>\n<li>오픈 소스 많이 읽고, 생산성 높여주는 라이브러리 주도적 개발해보기</li>\n<li><strong>코드 리뷰 많이 하기 (부족하지만 코드리뷰 요청 해주시면 열심히 해보겠다..)</strong></li>\n<li><strong>‘추상화와 분리’</strong> 를 고려해서 구현 많이 해보기 (이런 주제에 관심이 있으시면 언제든지 연락해주세요)</li>\n<li>건강 챙기기 (제일 중요한데 제일 못한다. 나는 돼지다.)</li>\n</ul>"
    },
    "_id": "250527/index.md",
    "_raw": {
      "sourceFilePath": "250527/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "250527",
      "contentType": "markdown",
      "flattenedPath": "250527"
    },
    "type": "Post",
    "slug": "/250527",
    "categoryArray": [
      "회고"
    ],
    "readingTime": "12 min read",
    "excerpt": "내가 잘하고 있는 걸까? 어떤 것부터 시작해야 하지? 프론트엔드 개발자로 일하며, 나는 매일 스스로의 부족함을 마주한다. 그리고 미래를 위해 갖춰야 할 역량은 끝도 없이 쏟아진다. 불안함에 동아리와 스터디를 시작했다. 좋은 동료들을 만난 만큼, 자연스럽게 나를 그들과 비교하게 되었다. 어떤 이는 디자인 시스템에 관심이 많아 직접 구축하며 UI 개발에 깊이 ..."
  },
  {
    "title": "as const 한 줄로 만드는 타입 안정성",
    "date": "2025-06-20T00:00:00.000Z",
    "categories": "프론트엔드 TypeScript",
    "body": {
      "raw": "\n프론트엔드 실무에서 `as const`를 단순히 타입 추론을 돕는 보조 수단이 아니라, **불변성 선언과 동시에 타입의 리터럴화를 통해 안정성과 자동완성을 극대화**할 수 있는 툴로 유용하게 사용하고 있다.\n\n이번 글에서는 실무에서 `as const`의 활용 사례를 중심으로 활용과 원리까지 깊이 있게 다뤄보려 한다.\n\n---\n\n## as const\n\n`as const`는 TypeScript에서 **값을 리터럴 타입으로 고정(literal narrowing)** 하기 위한 단언문이다.\n\n```ts\nconst button = \"primary\";         // 타입: string\nconst button = \"primary\" as const; // 타입: \"primary\"\n```\n\n배열이나 객체에 쓰면 해당 구조를 읽기 전용(readonly)으로 만들면서 각 요소의 타입을 리터럴로 고정한다.\n\n```ts\nconst status = [\"idle\", \"loading\"] as const;\n// 타입: readonly [\"idle\", \"loading\"]\n```\n\n이처럼 **값을 변경 불가능한 상수로 명시**하고, 타입도 좁게 고정되도록 만드는 것이 핵심이다.\n\n---\n\n### TanStack Query – query key 안정성 확보\n\n```ts\nconst queryKey = [\"user\", userId] as const;\nuseQuery({ queryKey, queryFn });\n```\n\n여기서 `as const`를 쓰지 않으면 queryKey는 `(string | number)[]`로 추론되어 타입 안정성이 떨어진다.\n\n반면 `as const`를 쓰면 queryKey가 정확히 `readonly [\"user\", string]`이 되어, **query key가 고정된 식별자로 취급**되고, 캐싱/비교/인밸리데이션에서도 더 안정적으로 작동한다.\n\n---\n\n### React Router – 라우팅과 같은 객체 구조의 키값 고정\n\n```ts\nconst router = createBrowserRouter([\n  { path: \"/home\", element: <HomePage /> },\n  { path: \"/about\", element: <AboutPage /> }\n] as const);\n```\n\nReact Router는 내부적으로 라우트 배열을 순회하면서 타입을 추론하려고 하기 때문에, `as const`로 선언해주면 각 path의 리터럴 값(`\"/home\"`, `\"/about\"`)을 정확히 추론할 수 있다.\n\n이를 통해 **라우트 기반 자동완성, 타입 기반 네비게이션 제어**가 가능해진다.\n\n---\n\n## `as const`를 쓰지 않아야 할 때\n\n무조건 좁은 타입이 좋은 건 아니다. 다음과 같은 경우는 오히려 `as const`를 쓰지 않는 것이 낫다.\n\n```ts\nlet status = \"idle\" as const;\n```\n\n이렇게 하면 `status`는 절대 다른 문자열을 가질 수 없기 때문에, 동적으로 상태를 변경해야 하는 경우엔 적절치 않다.\n\n--- \n\n```ts\nfunction update(type: \"create\" | \"delete\") {}\nupdate(\"create\" as const); // 불필요\n```\n\n함수 시그니처가 리터럴 타입을 받는 경우, 이미 문자열 리터럴을 넣으면 타입이 자동으로 좁혀진다. 명시적 `as const`는 오히려 코드만 장황해질 수 있다.\n\n---\n\n## 내부 동작 원리 – const assertion의 타입화\n\nTypeScript에서 `as const`는 해당 값은 **readonly**로 간주되고, 가능한 한 좁은 타입으로 **리터럴 추론**을 한다.\n\n```ts\nconst obj = { a: 1, b: \"x\" } as const;\n// 타입: { readonly a: 1; readonly b: \"x\"; }\n```\n\n이는 일종의 **const assertion**으로, 값 자체는 JS에서 변하지 않지만 타입도 함께 고정시키는 것이 특징이다.\n\n배열, 객체, 튜플 등에 모두 적용 가능하며, **유형 안정성(type safety)을 명시적으로 선언하는 수단**이다.\n\n---\n\n### 기술적으로 조금 더 깊게 들어가면\n\nTypeScript는 `as const`를 만나면 해당 값 전체를 readonly로 처리하며, 내부 속성 하나하나를 리터럴 타입으로 고정한다.\n\n이는 내부적으로 `const T: { readonly a: 1, readonly b: \"x\" }` 같은 형태로 변환된다.\n\n제네릭 함수에서 `as const`된 인자를 넘기면, 추론된 타입이 정확한 리터럴 형태로 유지되기 때문에 타입 제한, 자동완성, 추론 정확도가 크게 향상된다.\n\n특히 readonly 튜플로 바뀐다는 점에서, 배열 기반 추론(예: query key 등)에 매우 큰 이점을 준다.\n\n```ts\nconst key = [\"user\", 1] as const;\ntype Key = typeof key; // readonly [\"user\", 1]\n```\n\n만약 `as const` 없이 선언했다면 `Key`는 `(string | number)[]`이 되었을 것이고, 타입 정합성은 깨졌을 것이다.\n\n---\n\n## `enum`과 비슷하지만 다르다.\n\n`as const`와 `enum`은 모두 **값 집합을 고정시키는** 용도로 사용되지만, 아래와 같은 차이가 있다.\n\n---\n\n| 항목           | `as const`  | `enum`        |\n| ------------ | ----------- | ------------- |\n| 런타임 존재 여부    | 값 그 자체      | 객체 생성됨        |\n| 타입 유추 방식     | 리터럴 타입으로 추론 | 명시적 타입 선언 필요  |\n| Tree-shaking | 가능          | 어려움           |\n| JS 출력 코드     | 없음          | 존재 (실제 객체 생성) |\n\n\n```ts\ntype Mode = (typeof MODES)[number];\n\nconst MODES = [\"light\", \"dark\"] as const;\n\nenum ModeEnum {\n  Light = \"light\",\n  Dark = \"dark\"\n}\n```\n\n대부분의 경우 **불필요한 런타임 비용 없이 타입만 고정하고 싶을 때는 `as const`가 더 효율적**이다.\n\n\n\n```toc\n```",
      "html": "<p>프론트엔드 실무에서 <code>as const</code>를 단순히 타입 추론을 돕는 보조 수단이 아니라, <strong>불변성 선언과 동시에 타입의 리터럴화를 통해 안정성과 자동완성을 극대화</strong>할 수 있는 툴로 유용하게 사용하고 있다.</p>\n<p>이번 글에서는 실무에서 <code>as const</code>의 활용 사례를 중심으로 활용과 원리까지 깊이 있게 다뤄보려 한다.</p>\n<hr>\n<h2 id=\"as-const\"><a class=\"anchor\" href=\"#as-const\">as const</a></h2>\n<p><code>as const</code>는 TypeScript에서 <strong>값을 리터럴 타입으로 고정(literal narrowing)</strong> 하기 위한 단언문이다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> button</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"primary\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;         </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 타입: string</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> button</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"primary\"</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> as</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 타입: \"primary\"</span></span></code></pre></figure>\n<p>배열이나 객체에 쓰면 해당 구조를 읽기 전용(readonly)으로 만들면서 각 요소의 타입을 리터럴로 고정한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> status</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"idle\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"loading\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 타입: readonly [\"idle\", \"loading\"]</span></span></code></pre></figure>\n<p>이처럼 <strong>값을 변경 불가능한 상수로 명시</strong>하고, 타입도 좁게 고정되도록 만드는 것이 핵심이다.</p>\n<hr>\n<h3 id=\"tanstack-query--query-key-안정성-확보\"><a class=\"anchor\" href=\"#tanstack-query--query-key-안정성-확보\">TanStack Query – query key 안정성 확보</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> queryKey</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"user\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, userId] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">useQuery</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">({ queryKey, queryFn });</span></span></code></pre></figure>\n<p>여기서 <code>as const</code>를 쓰지 않으면 queryKey는 <code>(string | number)[]</code>로 추론되어 타입 안정성이 떨어진다.</p>\n<p>반면 <code>as const</code>를 쓰면 queryKey가 정확히 <code>readonly [\"user\", string]</code>이 되어, <strong>query key가 고정된 식별자로 취급</strong>되고, 캐싱/비교/인밸리데이션에서도 더 안정적으로 작동한다.</p>\n<hr>\n<h3 id=\"react-router--라우팅과-같은-객체-구조의-키값-고정\"><a class=\"anchor\" href=\"#react-router--라우팅과-같은-객체-구조의-키값-고정\">React Router – 라우팅과 같은 객체 구조의 키값 고정</a></h3>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> router</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> createBrowserRouter</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">([</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  { path: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"/home\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, element: &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">HomePage</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /> },</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">  { path: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"/about\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, element: &#x3C;</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">AboutPage</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> /> }</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">);</span></span></code></pre></figure>\n<p>React Router는 내부적으로 라우트 배열을 순회하면서 타입을 추론하려고 하기 때문에, <code>as const</code>로 선언해주면 각 path의 리터럴 값(<code>\"/home\"</code>, <code>\"/about\"</code>)을 정확히 추론할 수 있다.</p>\n<p>이를 통해 <strong>라우트 기반 자동완성, 타입 기반 네비게이션 제어</strong>가 가능해진다.</p>\n<hr>\n<h2 id=\"as-const를-쓰지-않아야-할-때\"><a class=\"anchor\" href=\"#as-const를-쓰지-않아야-할-때\"><code>as const</code>를 쓰지 않아야 할 때</a></h2>\n<p>무조건 좁은 타입이 좋은 건 아니다. 다음과 같은 경우는 오히려 <code>as const</code>를 쓰지 않는 것이 낫다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">let</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> status </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">=</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"idle\"</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> as</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span></code></pre></figure>\n<p>이렇게 하면 <code>status</code>는 절대 다른 문자열을 가질 수 없기 때문에, 동적으로 상태를 변경해야 하는 경우엔 적절치 않다.</p>\n<hr>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">function</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">type</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">:</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"create\"</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> |</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"delete\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">) {}</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\">update</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">(</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"create\"</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> as</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">); </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 불필요</span></span></code></pre></figure>\n<p>함수 시그니처가 리터럴 타입을 받는 경우, 이미 문자열 리터럴을 넣으면 타입이 자동으로 좁혀진다. 명시적 <code>as const</code>는 오히려 코드만 장황해질 수 있다.</p>\n<hr>\n<h2 id=\"내부-동작-원리--const-assertion의-타입화\"><a class=\"anchor\" href=\"#내부-동작-원리--const-assertion의-타입화\">내부 동작 원리 – const assertion의 타입화</a></h2>\n<p>TypeScript에서 <code>as const</code>는 해당 값은 <strong>readonly</strong>로 간주되고, 가능한 한 좁은 타입으로 <strong>리터럴 추론</strong>을 한다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> obj</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> { a: </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, b: </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"x\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> } </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// 타입: { readonly a: 1; readonly b: \"x\"; }</span></span></code></pre></figure>\n<p>이는 일종의 <strong>const assertion</strong>으로, 값 자체는 JS에서 변하지 않지만 타입도 함께 고정시키는 것이 특징이다.</p>\n<p>배열, 객체, 튜플 등에 모두 적용 가능하며, <strong>유형 안정성(type safety)을 명시적으로 선언하는 수단</strong>이다.</p>\n<hr>\n<h3 id=\"기술적으로-조금-더-깊게-들어가면\"><a class=\"anchor\" href=\"#기술적으로-조금-더-깊게-들어가면\">기술적으로 조금 더 깊게 들어가면</a></h3>\n<p>TypeScript는 <code>as const</code>를 만나면 해당 값 전체를 readonly로 처리하며, 내부 속성 하나하나를 리터럴 타입으로 고정한다.</p>\n<p>이는 내부적으로 <code>const T: { readonly a: 1, readonly b: \"x\" }</code> 같은 형태로 변환된다.</p>\n<p>제네릭 함수에서 <code>as const</code>된 인자를 넘기면, 추론된 타입이 정확한 리터럴 형태로 유지되기 때문에 타입 제한, 자동완성, 추론 정확도가 크게 향상된다.</p>\n<p>특히 readonly 튜플로 바뀐다는 점에서, 배열 기반 추론(예: query key 등)에 매우 큰 이점을 준다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> key</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"user\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">1</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Key</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> typeof</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> key; </span><span style=\"--shiki-dark:#6A737D;--shiki-light:#6A737D\">// readonly [\"user\", 1]</span></span></code></pre></figure>\n<p>만약 <code>as const</code> 없이 선언했다면 <code>Key</code>는 <code>(string | number)[]</code>이 되었을 것이고, 타입 정합성은 깨졌을 것이다.</p>\n<hr>\n<h2 id=\"enum과-비슷하지만-다르다\"><a class=\"anchor\" href=\"#enum과-비슷하지만-다르다\"><code>enum</code>과 비슷하지만 다르다.</a></h2>\n<p><code>as const</code>와 <code>enum</code>은 모두 <strong>값 집합을 고정시키는</strong> 용도로 사용되지만, 아래와 같은 차이가 있다.</p>\n<hr>\n<p>| 항목           | <code>as const</code>  | <code>enum</code>        |\n| ------------ | ----------- | ------------- |\n| 런타임 존재 여부    | 값 그 자체      | 객체 생성됨        |\n| 타입 유추 방식     | 리터럴 타입으로 추론 | 명시적 타입 선언 필요  |\n| Tree-shaking | 가능          | 어려움           |\n| JS 출력 코드     | 없음          | 존재 (실제 객체 생성) |</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"ts\" data-theme=\"github-dark github-light\"><code data-language=\"ts\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">type</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> Mode</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> (</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">typeof</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> MODES</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">)[</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">number</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">];</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">const</span><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\"> MODES</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> [</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"light\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">, </span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\">\"dark\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">] </span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">as</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> const</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">;</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\">enum</span><span style=\"--shiki-dark:#B392F0;--shiki-light:#6F42C1\"> ModeEnum</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> {</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  Light</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"light\"</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">,</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#79B8FF;--shiki-light:#005CC5\">  Dark</span><span style=\"--shiki-dark:#F97583;--shiki-light:#D73A49\"> =</span><span style=\"--shiki-dark:#9ECBFF;--shiki-light:#032F62\"> \"dark\"</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">}</span></span></code></pre></figure>\n<p>대부분의 경우 <strong>불필요한 런타임 비용 없이 타입만 고정하고 싶을 때는 <code>as const</code>가 더 효율적</strong>이다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "250620/index.md",
    "_raw": {
      "sourceFilePath": "250620/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "250620",
      "contentType": "markdown",
      "flattenedPath": "250620"
    },
    "type": "Post",
    "slug": "/250620",
    "categoryArray": [
      "프론트엔드",
      "TypeScript"
    ],
    "readingTime": "7 min read",
    "excerpt": "프론트엔드 실무에서 as const를 단순히 타입 추론을 돕는 보조 수단이 아니라, 불변성 선언과 동시에 타입의 리터럴화를 통해 안정성과 자동완성을 극대화할 수 있는 툴로 유용하게 사용하고 있다. 이번 글에서는 실무에서 as const의 활용 사례를 중심으로 활용과 원리까지 깊이 있게 다뤄보려 한다. as const as const는 TypeScript에서..."
  },
  {
    "title": "저랑 오픈소스 같이 공부하실분~",
    "date": "2025-06-25T00:00:00.000Z",
    "categories": "프론트엔드 TypeScript",
    "body": {
      "raw": "\n사내에서 성능 병목을 겪거나, 라이브러리의 버전 관리를 하다 보면 자연스럽게 오픈소스의 코어 로직을 탐색하게 된다.\n불과 몇 달 전까지만 해도 오픈소스 코드를 읽는 것 자체가 벅찼지만, **AI의 발전** 덕분에 ~~(물론 내 실력이 향상된 것도 있지만)~~ 자체가 달라졌고, 지금은 훨씬 쉽게 탐구할 수 있게 되었다.\n\n![1.png](/content/250625/1.png)\n\n예전에는 내가 필요한 부분만 빠르게 훑고 넘어가는 일이 많았지만, 최근엔 코어 기능을 응용하거나 프로젝트에 직접 접목해야 하는 일이 잦아지면서 **더 깊이 있는 이해와 분석이** 필요해졌다.\n\n아마 이 글을 읽는 많은 분들이 단순한 관심을 넘어서, **실질적인 오픈소스 기여를** 목표로 하고 있으리라 생각한다. 그래서 이 글은 단순한 맞춤법 수정이나 사소한 버그 픽스가 아닌,  내가 어떤 방식으로 AI를 활용해 오픈소스의 핵심 로직을 탐구하고, **구조적 이해를 바탕으로** 한 **의미 있는 기여를 위한 접근 방법에 초점을 맞추어 정리**해보려 한다.\n\n---\n\n## AI를 활용한 오픈소스 탐구 \n\n**“AI를 활용해 오픈소스를 공부한다”** 고 하면 막연하게 느껴질 수 있다.\n\n\n실제로 오픈소스 코드베이스는 방대한 경우가 많아, 모든 내용을 AI에게 학습시키는 건 아직 불가능하다. (가벼운 용량의 라이브러리면 가능할 것 같지만..)\n\n그래서 나는 아래와 같은 계획을 세우고, 그에 맞춰 AI를 효율적으로 활용해왔다.(요즘 claude 4.0 모델을 사용하고있다.)\n\n```\n1. 관심 있는 라이브러리를 포크한다.\n\n2. 핵심 로직 한 부분을 선정하고, 관련 로직들을 탐색하며 구조를 파악한다.\n\n3. 명확한 구조를 보여주는 로직을 중심으로 AI에게 학습시킨다.\n\n4. AI와의 대화를 통해 메인테이너의 설계 의도와 방향성을 추정한다.\n\n5. 이해되지 않는 부분은 질문 리스트로 정리한다.\n\n6. 각 질문에 대해 가설을 세우고, AI에게 흐름 설명을 요청하며 검증한다.\n\n7. 이해한 내용이 타당하다면, 실제 개선 PR을 위한 브랜치를 만들어 기여를 시도한다.\n```\n\n이렇게 보면 이해가 되지 않는 부분이 많을 것 같아 가장 최근에 공부하고 기여해본 **TanStack Route 라우팅 탐색 최적화 ([PR #4513](https://github.com/TanStack/router/pull/4513))** 을 가지고 이야기해보겠다.\n\n\n---\n\n### 관심 있는 라이브러리 선택해보자.\n\n가장 먼저 관심 가지고 깊게 분석해볼 라이브러리를 선택하는 것이 첫 번째다. 나는 다음의 기준을 우선순위로 두었다.\n\n- 회사에서 실제로 사용 중인 라이브러리\n- 사내에서 사용하는 버전과 공식 최신 버전 간의 간극이 큰 라이브러리\n- 유사 기능을 가진 다른 라이브러리들과의 구조 비교가 가능한 라이브러리\n\n나는 최근 회사에서 `react-router`를 사용하고 있었는데, 앞으로 `tanstack-router`로 교체해보는 것이 더 나은 선택일 수 있을지 고민하게 되었다.\n계기는 우연히 본 Reddit 게시글이었다. (물론 새로운 라이브러리가 나올때마다 쉽게 바꾸고 대응할 수 없겠지만, 관심은 가져야한다고 생각한다.)\n\n- [React Router v7이 Remix의 구조적 영향을 크게 받았으며, 점점 Remix 중심의 방향으로 진화하고 있다는 내용.](https://www.reddit.com/r/reactjs/comments/1iatblk/react_router_v7_has_to_be_a_psyop/)\n- [React Router v7과 TanStack Router의 차이점이 무엇인가요?](https://www.reddit.com/r/reactjs/comments/1klp8cr/react_router_v7_or_tanstack_router/)\n\n이 내용이 궁금해져 react-router의 버전 히스토리를 살펴보았고, 그 대안으로 떠오른 tanstack-router가 눈에 들어왔다.\n보다 명확한 비교와 판단을 위해 tanstack/router 레포지토리를 포크하고 본격적인 분석을 시작했다.\n\n```md\nTanStack 라이브러리 성장 속도가 엄청 빠르다.\n\n처음 tanstack/query 만 서버상태관리를 위해 사용했다.\n\n그러다 정신차리고 보니, router, store, db, form 등 라이브러리들을 쏟아내고있다.\n\n모든 라이브러리를 알지 못해도 현재 사용하고있는 아래 라이브러리의 코어 로직은 탐구해봐야겠다고 생각했다.\n\n- react-router\n- 클라이언트 상태관리 라이브러리(zustand, jotai, recoil)\n- react-hook-form\n\n```\n---\n\n### 핵심 로직 한 부분을 선정하고, 공부해보자.\n\n처음부터 코어 로직들을 다 살펴보겠다는 목표를 가지고 탐구를 시작했다.\n\n하지만 코어 로직이 상당히 비대하고, 깊은 이해도를 가지기에는 많은 시간이 소비가 되어 원래의 목표를 달성하기 전에 절망에 빠져버렸다. 그래서 내가 중점으로 살펴볼 핵심 로직을 정하고 그 로직을 중심으로 연결된 로직들을 살펴보는 방식을 취했다.\n\n내가 tanstack-router를 살펴보려 했을 때 가장 먼저 궁금했던 것은 성능 병목과 구조적 효율성이었다. 특히 다음 세 가지가 주요 관찰 포인트였다.\n\n- TanStack Router는 성능 측면에서 얼마나 최적화되어 있을까?\n- 기존 react-router와 비교했을 때, 제공하는 메서드나 API의 호환성이 충분할까?\n- 실무에서 마이그레이션을 진행한다면 비용이 얼마나 들까?\n\n이 중 가장 먼저 확인해야 할 것은 라우팅 트리 매칭 방식이었고, 이에 관련된 **[matchRoutesInternal](https://github.com/TanStack/router/blob/640ac95fa7582753e5464b2950af8ad1f6e3179b/packages/router-core/src/router.ts#L1075)을** 집중적으로 탐색하게 되었다.\n\n---\n\n### 학습한 로직을 중심으로 AI에게 학습시킨다.\n\n코드를 분석하다 보니 `matchRoutesInternal` 함수가 라우트 트리를 전부 순회하며 매칭하는 구조로 작성되어 있다는 점이 눈에 띄었다.\n\n메인 로직과 연관된 함수들을 보았다. `getMatchedRoutes` 함수를 통해 경로 매칭하고 내부에 파라미터 파싱 및 검증, 검색 파라미터 검증 로직들이 서로 연관되어있다.\n\n이 방식은 트리 깊이가 깊거나, 라우트 수가 많아질수록 성능 병목이 발생할 수 있는 구조라고 생각해보았다. 그래서 학습한 로직과 `matchRoutesInternal` 함수와 연관된 로직들을 AI 에게 학습시켜보았다.\n\n--- \n\n### 메인테이너의 설계 의도와 방향성 파악하기\n\n기존 로직을 AI와 함께 분석하며, 왜 현재 구조가 이런 방식으로 설계되었는지, 이 구조가 어떤 문제를 풀기 위해 존재하는지 메인테이너의 입장에서 고민해보았다.\n\n단순히 “어떤 부분이 효율적이고, 어떤 부분이 비효율적이다”라고 판단하는 것이 아니라, 이 방식이 왜 선택되었고, 어떤 조건에서 성능 문제가 생기는지를 파악하는 것이 중요했다.\n\n**Claude 4.0 모델** 을 아래처럼 활용해보았다.\n\n<div style=\"display: flex; gap: 10px;\">\n  <img src=\"/content/250625/3.png\" alt=\"이미지 3\" style=\"width: 60%\" />\n  <img src=\"/content/250625/4.png\" alt=\"이미지 4\" style=\"width: 40%\" />\n</div>\n\n--- \n\n### 이해되지 않는 부분은 질문 리스트로 정리해보기\n\n분석 도중 다음과 같은 의문이 생겼다.\n\n- “왜 전체 트리를 매번 순회하는가?”\n- “자식 노드를 가지는 경우에도 모든 경로를 전수조사해야 하는 구조인가?”\n- “이 방식은 현재 구조에서 최적의 선택일까, 아니면 단순한 구현상의 디폴트인가?”\n\n이러한 질문 리스트를 바탕으로, 더 효율적인 구조로 대체할 수 있을지 가설을 세우며 AI 를 활용해 더 깊이있게 `matchRoutesInternal` 을 탐구해보았다.\n\n---\n\n### 가설 검증해보기\n\n이후 나는 다음과 같은 가설을 세웠다.\n\n> **매번 트리를 순회하지 않고, Trie 기반의 정적 라우트 매칭 구조로 바꾼다면 성능을 개선할 수 있지 않을까?**\n\n이 아이디어를 바탕으로 RouteTrie 구조를 새로 작성하고, 기존의 matchRoutesInternal 로직을 대체해 성능을 개선하는 방안을 구현했다.\n\n또한 자체적으로 테스트 파일을 구성해 가설을 검증했고, 아래 개선사항을 확인했다. (내가 작성했던 테스트는 PR 올리는 과정에 삭제했는데, 메인테이너가 추가 테스트 파일을 작성해 PR 에 추가해줬다.)\n\n- A → B → A와 같이 이전 페이지로 빠르게 돌아오는 경우, A 페이지 데이터가 캐시에 유지\n- 동시 네비게이션 시 사용자가 링크를 빠르게 여러 번 클릭할 때 발생할 수 있는 데이터 손실을 방지\n- 페이지 데이터를 새로 고치는 도중 다른 페이지로 이동했다가 돌아올 때 캐시된 데이터가 유지\n\n---\n\n### 검증이 옳다면 실제 개선 PR을 위한 브랜치를 만들어보자.\n\n검증 결과 성능 병목이 실제로 존재했고, 내가 제안한 구조가 이를 개선할 수 있다는 확신이 들었다.\n이에 개선된 로직을 기반으로 PR을 올렸고, 메인테이너가 이를 받아들여 최종적으로 공식 반영되었다.\n\n---\n\n## 마무리하며\n\n이 글에서는 어떤 코드를 어떻게 수정했는지를 설명하려는 것이 아니다. 더 중요한 것은, 이런 흐름으로 오픈소스를 탐구하고 이해하는 방식이 나한테 많은 도움이 되었다는 것을 알려주고 싶었다.\n\n처음에는 단순한 의문에서 출발했지만, **핵심 로직을 직접 탐색하고, AI를 활용해 설계를 파악하며, 작은 가설을 세워 검증하고, 실제 기여까지 연결해보는 일련의 과정**을 거치면서 단순한 학습 이상의 깊이 있는 이해와 개발자로서의 성장을 경험할 수 있었다.\n\n이런 방식으로 지난 2개월 동안 여러 오픈소스 라이브러리들을 분석하고, 그 중 일부는 실제로 개선하며 기여의 보람도 느낄 수 있었다.\n\n- TanStack DB refetch 로직 개선 ([PR #122](https://github.com/TanStack/db/pull/122))\n- TanStack Store selector 의존성 개선 ([PR #198](https://github.com/TanStack/store/pull/198))\n\n그리고 요즘 제일 많이 탐구하고 있는 toss 의 오픈소스들\n\n![5.png](/content/250625/5.png)\n\n---\n\n오픈소스를 분석해보는 것은 엄청 어렵고, 거창한게 아니다.\n\n내가 사용하는 도구가 왜 이렇게 만들어졌는지에 대한 **‘왜’에서 출발해, 작은 질문과 개선 의지를 가지고 접근**해본다면 누구나 만들고 기여해볼 수 있다고 생각한다.\n\n---\n\n이 글을 작성한 이유는 혼자 공부하다 보니 너무 어렵고, 이게 적합한 개선인지 이 부분에 대해 다른 사람들은 어떻게 생각하는지 궁금해졌기 때문이다.  \n\n누군가와 함께 특정 라이브러리의 구조를 뜯어보고, 토론하고, 분석하며 함께 기여하는 과정을 만들 수 있다면 얼마나 좋을까?\n\n---\n\n![6.png](/content/250625/6.png)\n\n---\n\n**그래서 아래에 해당하면 연락한번 주셔도 좋겠습니다! 같이 공부하고 분석해보면 좋을것같다.**  [링크드인](https://www.linkedin.com/in/jiji-hoon96), jihoon7705@gmail.com 또는 댓글로 연락 주셔도 좋습니다!\n\n- 오픈소스에 관심 있지만 어디서 시작할지 막막한 분\n- 프론트엔드 직무에 밀접한 코어 라이브러리에 흥미 있는 분\n- 구조와 설계에 대한 분석을 좋아하는 분\n- AI를 활용한 오픈소스 학습법에 관심 있는 분\n\n\n```toc\n\n```",
      "html": "<p>사내에서 성능 병목을 겪거나, 라이브러리의 버전 관리를 하다 보면 자연스럽게 오픈소스의 코어 로직을 탐색하게 된다.\n불과 몇 달 전까지만 해도 오픈소스 코드를 읽는 것 자체가 벅찼지만, <strong>AI의 발전</strong> 덕분에 ~~(물론 내 실력이 향상된 것도 있지만)~~ 자체가 달라졌고, 지금은 훨씬 쉽게 탐구할 수 있게 되었다.</p>\n<p><img src=\"/content/250625/1.png\" alt=\"1.png\" loading=\"lazy\" decoding=\"async\"></p>\n<p>예전에는 내가 필요한 부분만 빠르게 훑고 넘어가는 일이 많았지만, 최근엔 코어 기능을 응용하거나 프로젝트에 직접 접목해야 하는 일이 잦아지면서 <strong>더 깊이 있는 이해와 분석이</strong> 필요해졌다.</p>\n<p>아마 이 글을 읽는 많은 분들이 단순한 관심을 넘어서, <strong>실질적인 오픈소스 기여를</strong> 목표로 하고 있으리라 생각한다. 그래서 이 글은 단순한 맞춤법 수정이나 사소한 버그 픽스가 아닌,  내가 어떤 방식으로 AI를 활용해 오픈소스의 핵심 로직을 탐구하고, <strong>구조적 이해를 바탕으로</strong> 한 <strong>의미 있는 기여를 위한 접근 방법에 초점을 맞추어 정리</strong>해보려 한다.</p>\n<hr>\n<h2 id=\"ai를-활용한-오픈소스-탐구\"><a class=\"anchor\" href=\"#ai를-활용한-오픈소스-탐구\">AI를 활용한 오픈소스 탐구</a></h2>\n<p><strong>“AI를 활용해 오픈소스를 공부한다”</strong> 고 하면 막연하게 느껴질 수 있다.</p>\n<p>실제로 오픈소스 코드베이스는 방대한 경우가 많아, 모든 내용을 AI에게 학습시키는 건 아직 불가능하다. (가벼운 용량의 라이브러리면 가능할 것 같지만..)</p>\n<p>그래서 나는 아래와 같은 계획을 세우고, 그에 맞춰 AI를 효율적으로 활용해왔다.(요즘 claude 4.0 모델을 사용하고있다.)</p>\n<pre><code>1. 관심 있는 라이브러리를 포크한다.\n\n2. 핵심 로직 한 부분을 선정하고, 관련 로직들을 탐색하며 구조를 파악한다.\n\n3. 명확한 구조를 보여주는 로직을 중심으로 AI에게 학습시킨다.\n\n4. AI와의 대화를 통해 메인테이너의 설계 의도와 방향성을 추정한다.\n\n5. 이해되지 않는 부분은 질문 리스트로 정리한다.\n\n6. 각 질문에 대해 가설을 세우고, AI에게 흐름 설명을 요청하며 검증한다.\n\n7. 이해한 내용이 타당하다면, 실제 개선 PR을 위한 브랜치를 만들어 기여를 시도한다.\n</code></pre>\n<p>이렇게 보면 이해가 되지 않는 부분이 많을 것 같아 가장 최근에 공부하고 기여해본 <strong>TanStack Route 라우팅 탐색 최적화 (<a href=\"https://github.com/TanStack/router/pull/4513\">PR #4513</a>)</strong> 을 가지고 이야기해보겠다.</p>\n<hr>\n<h3 id=\"관심-있는-라이브러리-선택해보자\"><a class=\"anchor\" href=\"#관심-있는-라이브러리-선택해보자\">관심 있는 라이브러리 선택해보자.</a></h3>\n<p>가장 먼저 관심 가지고 깊게 분석해볼 라이브러리를 선택하는 것이 첫 번째다. 나는 다음의 기준을 우선순위로 두었다.</p>\n<ul>\n<li>회사에서 실제로 사용 중인 라이브러리</li>\n<li>사내에서 사용하는 버전과 공식 최신 버전 간의 간극이 큰 라이브러리</li>\n<li>유사 기능을 가진 다른 라이브러리들과의 구조 비교가 가능한 라이브러리</li>\n</ul>\n<p>나는 최근 회사에서 <code>react-router</code>를 사용하고 있었는데, 앞으로 <code>tanstack-router</code>로 교체해보는 것이 더 나은 선택일 수 있을지 고민하게 되었다.\n계기는 우연히 본 Reddit 게시글이었다. (물론 새로운 라이브러리가 나올때마다 쉽게 바꾸고 대응할 수 없겠지만, 관심은 가져야한다고 생각한다.)</p>\n<ul>\n<li><a href=\"https://www.reddit.com/r/reactjs/comments/1iatblk/react_router_v7_has_to_be_a_psyop/\">React Router v7이 Remix의 구조적 영향을 크게 받았으며, 점점 Remix 중심의 방향으로 진화하고 있다는 내용.</a></li>\n<li><a href=\"https://www.reddit.com/r/reactjs/comments/1klp8cr/react_router_v7_or_tanstack_router/\">React Router v7과 TanStack Router의 차이점이 무엇인가요?</a></li>\n</ul>\n<p>이 내용이 궁금해져 react-router의 버전 히스토리를 살펴보았고, 그 대안으로 떠오른 tanstack-router가 눈에 들어왔다.\n보다 명확한 비교와 판단을 위해 tanstack/router 레포지토리를 포크하고 본격적인 분석을 시작했다.</p>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"md\" data-theme=\"github-dark github-light\"><code data-language=\"md\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">TanStack 라이브러리 성장 속도가 엄청 빠르다.</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">처음 tanstack/query 만 서버상태관리를 위해 사용했다.</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">그러다 정신차리고 보니, router, store, db, form 등 라이브러리들을 쏟아내고있다.</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\">모든 라이브러리를 알지 못해도 현재 사용하고있는 아래 라이브러리의 코어 로직은 탐구해봐야겠다고 생각했다.</span></span>\n<span data-line=\"\"> </span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> react-router</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> 클라이언트 상태관리 라이브러리(zustand, jotai, recoil)</span></span>\n<span data-line=\"\"><span style=\"--shiki-dark:#FFAB70;--shiki-light:#E36209\">-</span><span style=\"--shiki-dark:#E1E4E8;--shiki-light:#24292E\"> react-hook-form</span></span>\n<span data-line=\"\"> </span></code></pre></figure>\n<hr>\n<h3 id=\"핵심-로직-한-부분을-선정하고-공부해보자\"><a class=\"anchor\" href=\"#핵심-로직-한-부분을-선정하고-공부해보자\">핵심 로직 한 부분을 선정하고, 공부해보자.</a></h3>\n<p>처음부터 코어 로직들을 다 살펴보겠다는 목표를 가지고 탐구를 시작했다.</p>\n<p>하지만 코어 로직이 상당히 비대하고, 깊은 이해도를 가지기에는 많은 시간이 소비가 되어 원래의 목표를 달성하기 전에 절망에 빠져버렸다. 그래서 내가 중점으로 살펴볼 핵심 로직을 정하고 그 로직을 중심으로 연결된 로직들을 살펴보는 방식을 취했다.</p>\n<p>내가 tanstack-router를 살펴보려 했을 때 가장 먼저 궁금했던 것은 성능 병목과 구조적 효율성이었다. 특히 다음 세 가지가 주요 관찰 포인트였다.</p>\n<ul>\n<li>TanStack Router는 성능 측면에서 얼마나 최적화되어 있을까?</li>\n<li>기존 react-router와 비교했을 때, 제공하는 메서드나 API의 호환성이 충분할까?</li>\n<li>실무에서 마이그레이션을 진행한다면 비용이 얼마나 들까?</li>\n</ul>\n<p>이 중 가장 먼저 확인해야 할 것은 라우팅 트리 매칭 방식이었고, 이에 관련된 <strong><a href=\"https://github.com/TanStack/router/blob/640ac95fa7582753e5464b2950af8ad1f6e3179b/packages/router-core/src/router.ts#L1075\">matchRoutesInternal</a>을</strong> 집중적으로 탐색하게 되었다.</p>\n<hr>\n<h3 id=\"학습한-로직을-중심으로-ai에게-학습시킨다\"><a class=\"anchor\" href=\"#학습한-로직을-중심으로-ai에게-학습시킨다\">학습한 로직을 중심으로 AI에게 학습시킨다.</a></h3>\n<p>코드를 분석하다 보니 <code>matchRoutesInternal</code> 함수가 라우트 트리를 전부 순회하며 매칭하는 구조로 작성되어 있다는 점이 눈에 띄었다.</p>\n<p>메인 로직과 연관된 함수들을 보았다. <code>getMatchedRoutes</code> 함수를 통해 경로 매칭하고 내부에 파라미터 파싱 및 검증, 검색 파라미터 검증 로직들이 서로 연관되어있다.</p>\n<p>이 방식은 트리 깊이가 깊거나, 라우트 수가 많아질수록 성능 병목이 발생할 수 있는 구조라고 생각해보았다. 그래서 학습한 로직과 <code>matchRoutesInternal</code> 함수와 연관된 로직들을 AI 에게 학습시켜보았다.</p>\n<hr>\n<h3 id=\"메인테이너의-설계-의도와-방향성-파악하기\"><a class=\"anchor\" href=\"#메인테이너의-설계-의도와-방향성-파악하기\">메인테이너의 설계 의도와 방향성 파악하기</a></h3>\n<p>기존 로직을 AI와 함께 분석하며, 왜 현재 구조가 이런 방식으로 설계되었는지, 이 구조가 어떤 문제를 풀기 위해 존재하는지 메인테이너의 입장에서 고민해보았다.</p>\n<p>단순히 “어떤 부분이 효율적이고, 어떤 부분이 비효율적이다”라고 판단하는 것이 아니라, 이 방식이 왜 선택되었고, 어떤 조건에서 성능 문제가 생기는지를 파악하는 것이 중요했다.</p>\n<p><strong>Claude 4.0 모델</strong> 을 아래처럼 활용해보았다.</p>\n<hr>\n<h3 id=\"이해되지-않는-부분은-질문-리스트로-정리해보기\"><a class=\"anchor\" href=\"#이해되지-않는-부분은-질문-리스트로-정리해보기\">이해되지 않는 부분은 질문 리스트로 정리해보기</a></h3>\n<p>분석 도중 다음과 같은 의문이 생겼다.</p>\n<ul>\n<li>“왜 전체 트리를 매번 순회하는가?”</li>\n<li>“자식 노드를 가지는 경우에도 모든 경로를 전수조사해야 하는 구조인가?”</li>\n<li>“이 방식은 현재 구조에서 최적의 선택일까, 아니면 단순한 구현상의 디폴트인가?”</li>\n</ul>\n<p>이러한 질문 리스트를 바탕으로, 더 효율적인 구조로 대체할 수 있을지 가설을 세우며 AI 를 활용해 더 깊이있게 <code>matchRoutesInternal</code> 을 탐구해보았다.</p>\n<hr>\n<h3 id=\"가설-검증해보기\"><a class=\"anchor\" href=\"#가설-검증해보기\">가설 검증해보기</a></h3>\n<p>이후 나는 다음과 같은 가설을 세웠다.</p>\n<blockquote>\n<p><strong>매번 트리를 순회하지 않고, Trie 기반의 정적 라우트 매칭 구조로 바꾼다면 성능을 개선할 수 있지 않을까?</strong></p>\n</blockquote>\n<p>이 아이디어를 바탕으로 RouteTrie 구조를 새로 작성하고, 기존의 matchRoutesInternal 로직을 대체해 성능을 개선하는 방안을 구현했다.</p>\n<p>또한 자체적으로 테스트 파일을 구성해 가설을 검증했고, 아래 개선사항을 확인했다. (내가 작성했던 테스트는 PR 올리는 과정에 삭제했는데, 메인테이너가 추가 테스트 파일을 작성해 PR 에 추가해줬다.)</p>\n<ul>\n<li>A → B → A와 같이 이전 페이지로 빠르게 돌아오는 경우, A 페이지 데이터가 캐시에 유지</li>\n<li>동시 네비게이션 시 사용자가 링크를 빠르게 여러 번 클릭할 때 발생할 수 있는 데이터 손실을 방지</li>\n<li>페이지 데이터를 새로 고치는 도중 다른 페이지로 이동했다가 돌아올 때 캐시된 데이터가 유지</li>\n</ul>\n<hr>\n<h3 id=\"검증이-옳다면-실제-개선-pr을-위한-브랜치를-만들어보자\"><a class=\"anchor\" href=\"#검증이-옳다면-실제-개선-pr을-위한-브랜치를-만들어보자\">검증이 옳다면 실제 개선 PR을 위한 브랜치를 만들어보자.</a></h3>\n<p>검증 결과 성능 병목이 실제로 존재했고, 내가 제안한 구조가 이를 개선할 수 있다는 확신이 들었다.\n이에 개선된 로직을 기반으로 PR을 올렸고, 메인테이너가 이를 받아들여 최종적으로 공식 반영되었다.</p>\n<hr>\n<h2 id=\"마무리하며\"><a class=\"anchor\" href=\"#마무리하며\">마무리하며</a></h2>\n<p>이 글에서는 어떤 코드를 어떻게 수정했는지를 설명하려는 것이 아니다. 더 중요한 것은, 이런 흐름으로 오픈소스를 탐구하고 이해하는 방식이 나한테 많은 도움이 되었다는 것을 알려주고 싶었다.</p>\n<p>처음에는 단순한 의문에서 출발했지만, <strong>핵심 로직을 직접 탐색하고, AI를 활용해 설계를 파악하며, 작은 가설을 세워 검증하고, 실제 기여까지 연결해보는 일련의 과정</strong>을 거치면서 단순한 학습 이상의 깊이 있는 이해와 개발자로서의 성장을 경험할 수 있었다.</p>\n<p>이런 방식으로 지난 2개월 동안 여러 오픈소스 라이브러리들을 분석하고, 그 중 일부는 실제로 개선하며 기여의 보람도 느낄 수 있었다.</p>\n<ul>\n<li>TanStack DB refetch 로직 개선 (<a href=\"https://github.com/TanStack/db/pull/122\">PR #122</a>)</li>\n<li>TanStack Store selector 의존성 개선 (<a href=\"https://github.com/TanStack/store/pull/198\">PR #198</a>)</li>\n</ul>\n<p>그리고 요즘 제일 많이 탐구하고 있는 toss 의 오픈소스들</p>\n<p><img src=\"/content/250625/5.png\" alt=\"5.png\" loading=\"lazy\" decoding=\"async\"></p>\n<hr>\n<p>오픈소스를 분석해보는 것은 엄청 어렵고, 거창한게 아니다.</p>\n<p>내가 사용하는 도구가 왜 이렇게 만들어졌는지에 대한 <strong>‘왜’에서 출발해, 작은 질문과 개선 의지를 가지고 접근</strong>해본다면 누구나 만들고 기여해볼 수 있다고 생각한다.</p>\n<hr>\n<p>이 글을 작성한 이유는 혼자 공부하다 보니 너무 어렵고, 이게 적합한 개선인지 이 부분에 대해 다른 사람들은 어떻게 생각하는지 궁금해졌기 때문이다.</p>\n<p>누군가와 함께 특정 라이브러리의 구조를 뜯어보고, 토론하고, 분석하며 함께 기여하는 과정을 만들 수 있다면 얼마나 좋을까?</p>\n<hr>\n<p><img src=\"/content/250625/6.png\" alt=\"6.png\" loading=\"lazy\" decoding=\"async\"></p>\n<hr>\n<p><strong>그래서 아래에 해당하면 연락한번 주셔도 좋겠습니다! 같이 공부하고 분석해보면 좋을것같다.</strong>  <a href=\"https://www.linkedin.com/in/jiji-hoon96\">링크드인</a>, jihoon7705@gmail.com 또는 댓글로 연락 주셔도 좋습니다!</p>\n<ul>\n<li>오픈소스에 관심 있지만 어디서 시작할지 막막한 분</li>\n<li>프론트엔드 직무에 밀접한 코어 라이브러리에 흥미 있는 분</li>\n<li>구조와 설계에 대한 분석을 좋아하는 분</li>\n<li>AI를 활용한 오픈소스 학습법에 관심 있는 분</li>\n</ul>\n<figure data-rehype-pretty-code-figure=\"\"><pre tabindex=\"0\" data-language=\"toc\" data-theme=\"github-dark github-light\"><code data-language=\"toc\" data-theme=\"github-dark github-light\" style=\"display: grid;\"><span data-line=\"\"> </span></code></pre></figure>"
    },
    "_id": "250625/index.md",
    "_raw": {
      "sourceFilePath": "250625/index.md",
      "sourceFileName": "index.md",
      "sourceFileDir": "250625",
      "contentType": "markdown",
      "flattenedPath": "250625"
    },
    "type": "Post",
    "slug": "/250625",
    "categoryArray": [
      "프론트엔드",
      "TypeScript"
    ],
    "readingTime": "16 min read",
    "excerpt": "사내에서 성능 병목을 겪거나, 라이브러리의 버전 관리를 하다 보면 자연스럽게 오픈소스의 코어 로직을 탐색하게 된다. 불과 몇 달 전까지만 해도 오픈소스 코드를 읽는 것 자체가 벅찼지만, AI의 발전 덕분에 (물론 내 실력이 향상된 것도 있지만) 자체가 달라졌고, 지금은 훨씬 쉽게 탐구할 수 있게 되었다. 예전에는 내가 필요한 부분만 빠르게 훑고 넘어가는 일..."
  }
]