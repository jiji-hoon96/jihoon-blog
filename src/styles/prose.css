/* Prose styles for markdown content */
.prose {
  @apply text-light-black100 dark:text-dark-black100 font-normal;
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
}

/* Headings */
.prose h1 {
  @apply text-4xl font-extrabold mb-6 mt-12;
}

.prose h2 {
  @apply text-3xl font-extrabold mb-5 mt-10;
}

.prose h3 {
  @apply text-2xl font-extrabold mb-4 mt-8;
}

.prose h4 {
  @apply text-xl font-extrabold mb-4 mt-6;
}

.prose h5 {
  @apply text-lg font-extrabold mb-3 mt-5;
}

.prose h6 {
  @apply text-base font-extrabold mb-3 mt-5;
}

/* 헤딩 다음 첫 번째 요소에 추가 여백 */
.prose h1 + *,
.prose h2 + *,
.prose h3 + * {
  @apply mt-6;
}

/* Paragraphs */
.prose p {
  @apply mb-4 leading-7;
}

/* Links */
.prose a {
  @apply text-blue-600 dark:text-blue-400 underline hover:text-blue-700 dark:hover:text-blue-300 transition-colors;
}

/* Strong and emphasis */
.prose strong {
  @apply font-bold;
}

.prose em {
  @apply italic;
}

/* Lists */
.prose ul {
  @apply list-disc list-inside mb-4 space-y-2;
}

.prose ol {
  @apply list-decimal list-inside mb-4 space-y-2;
}

.prose li {
  @apply leading-7;
}

.prose li > ul,
.prose li > ol {
  @apply mt-2 ml-4;
}

/* Blockquotes */
.prose blockquote {
  @apply border-l-4 border-light-gray40 dark:border-dark-gray40 pl-4 py-2 my-4 italic text-light-gray80 dark:text-dark-gray80;
}

/* Code blocks */
.prose pre {
  @apply rounded-lg p-4 overflow-x-auto my-4 bg-light-gray10 dark:bg-dark-gray10;
}

.prose code {
  @apply rounded px-1.5 py-0.5 text-sm bg-light-gray10 dark:bg-dark-gray10 text-light-black100 dark:text-dark-black100;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* Tailwind Typography가 추가하는 백틱 제거 */
.prose code::before,
.prose code::after {
  content: none;
}

.prose pre code {
  @apply bg-transparent p-0;
}

/* rehype-pretty-code shiki theme support */
.prose pre code span {
  color: var(--shiki-light);
}

.dark .prose pre code span,
:root.dark .prose pre code span {
  color: var(--shiki-dark);
}

/* Code copy button */
.prose pre .copy-button {
  position: absolute;
  top: 6px;
  right: 6px;
  padding: 4px 6px;
  border-radius: 4px;
  background: transparent;
  border: none;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.2s, background-color 0.2s;
  color: var(--color-light-gray60);
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.5px;
}

.dark .prose pre .copy-button {
  color: var(--color-dark-gray60);
}

.prose pre:hover .copy-button {
  opacity: 1;
}

.prose pre .copy-button:hover {
  background: var(--color-light-gray20);
  color: var(--color-light-black100);
}

.dark .prose pre .copy-button:hover {
  background: var(--color-dark-gray20);
  color: var(--color-dark-black100);
}

/* Images */
.prose img {
  @apply mx-auto rounded-lg my-6 max-w-full;
  max-height: 560px;
}

/* Horizontal rule */
.prose hr {
  @apply border-t border-light-gray20 dark:border-dark-gray20 my-8;
}

/* Tables */
.prose table {
  @apply w-full border-collapse my-6;
}

.prose thead {
  @apply border-b-2 border-light-gray20 dark:border-dark-gray20;
}

.prose th {
  @apply p-3 text-left font-bold;
}

.prose td {
  @apply p-3 border-t border-light-gray20 dark:border-dark-gray20;
}

.prose tbody tr:hover {
  @apply bg-light-gray10 dark:bg-dark-gray10;
}

/* Inline code in headings */
.prose h1 code,
.prose h2 code,
.prose h3 code,
.prose h4 code,
.prose h5 code,
.prose h6 code {
  @apply text-inherit;
}

/* Autolink headers */
.prose .anchor {
  @apply no-underline text-inherit;
}

.prose .anchor:hover {
  @apply text-blue-600 dark:text-blue-400;
}

/* Video */
.prose video {
  @apply mx-auto rounded-lg my-6 max-w-full;
}

/* Figure and figcaption */
.prose figure {
  @apply my-6;
}

.prose figcaption {
  @apply text-center text-sm text-light-gray60 dark:text-dark-gray60 mt-2;
}

/* Details/Summary (펼치기/접기) */
.prose details {
  @apply my-4 rounded-lg border border-light-gray20 dark:border-dark-gray20 overflow-hidden;
}

.prose details summary {
  @apply px-4 py-3 cursor-pointer font-medium bg-light-gray10 dark:bg-dark-gray10 hover:bg-light-gray20 dark:hover:bg-dark-gray20 transition-colors;
  list-style: none;
}

.prose details summary::-webkit-details-marker {
  display: none;
}

.prose details summary::before {
  content: '▶';
  @apply inline-block mr-2 text-xs transition-transform;
}

.prose details[open] summary::before {
  transform: rotate(90deg);
}

.prose details > *:not(summary) {
  @apply px-4;
}

.prose details > *:last-child {
  @apply pb-4;
}
